#!/usr/bin/env node
/*!
 * Intelephense Licence
 * 
 * Copyright (c) 2019 - present Ben Robert Mewburn <ben@mewburn.id.au>
 * 
 * By installing this software you agree to be bound by the provisions 
 * of this agreement.
 * 
 * Ben Robert Mewburn (hereafter referred to as the Licensor) grants you 
 * a personal, non-transferable, non-exclusive licence to use the Intelephense 
 * software (hereafter referred to as the Software) on your devices in accordance 
 * with the terms of this agreement.
 * 
 * The Software, copyright, and other intellectual property rights of whatever 
 * nature in the Software, including any modifications made thereto are and shall 
 * remain the property of the Licensor.
 * 
 * You may use the Software as a standalone PHP language server with any 
 * Language Server Protocol capable IDE or text editor.
 * 
 * You are NOT permitted to:
 * 
 * * Edit, alter, modify, adapt, translate or otherwise change the whole or any 
 *   part of the Software. 
 * * Decompile, disassemble or reverse engineer the Software or attempt to do 
 *   any such things.
 * * Reproduce, copy, distribute, resell or otherwise use the whole or any part 
 *   of the Software for any commercial purpose.
 * * Disable, modify or hide notifications sent by the Software.
 * 
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * LICENSOR, AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR 
 * OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING 
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS 
 * IN THE SOFTWARE.
 * 
 */!function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=183)}([function(e,t){e.exports=require("path")},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(8),i=n(4),s=n(7),o=n(10);var a,c,u,l;!function(e){e.create=function(e,t){return{declared:e,documentedOrInferred:t}}}(a=t.DefinitionType||(t.DefinitionType={})),function(e){function t(e){if(!e)return!1;switch(e.kind){case 64:case 8:case 1:case 2:case 4:return!0;default:return!1}}e.isNamespacedSymbolKind=t,e.isLocallyScopedDefinitionKind=function(e){switch(e){case 32:case 2048:case 16:case 1024:case 128:case 256:return!0;default:return!1}},e.toLspSymbolKind=function(e){switch(e.kind){case 1:return s.SymbolKind.Class;case 8:case 1024:return s.SymbolKind.Constant;case 64:return s.SymbolKind.Function;case 2:return s.SymbolKind.Interface;case 32:return s.SymbolKind.Method;case 2048:return s.SymbolKind.Constructor;case 512:return s.SymbolKind.Namespace;case 16:return s.SymbolKind.Property;case 4:return s.SymbolKind.Module;case 256:case 128:return s.SymbolKind.Variable;case 4096:return s.SymbolKind.File;default:throw new Error("Invalid argument")}},e.toLspCompletionItemKind=function(e){switch(e.kind){case 1:return s.CompletionItemKind.Class;case 8:case 1024:return s.CompletionItemKind.Constant;case 64:return s.CompletionItemKind.Function;case 2:return s.CompletionItemKind.Interface;case 32:return s.CompletionItemKind.Method;case 2048:return s.CompletionItemKind.Constructor;case 512:return s.CompletionItemKind.Module;case 16:return s.CompletionItemKind.Property;case 4:return s.CompletionItemKind.Module;case 256:case 128:return s.CompletionItemKind.Variable;case 4096:return s.CompletionItemKind.File;default:throw new Error("Invalid argument")}},e.shortName=function(e){if(!e)return"";switch(e.kind){case 1:case 2:case 4:case 8:case 64:{if(!e.name)return"";const t=e.name.lastIndexOf("\\")+1;return e.name.slice(t)}default:return e.name}},e.namespace=function(e){if(t(e)){if(!e.name)return"";const t=e.name.lastIndexOf("\\");return t<0?"":e.name.slice(0,t)}return""}}(c=t.PhpSymbol||(t.PhpSymbol={})),function(e){const t=Math.pow(2,21),n=Math.pow(2,21)-1;function r(e,n,r){return((s=n)<0?i-s:s)*t+(e<<4)+function(e){switch(e){case 1:case 2:case 4:return 5;case 8:return 4;case 16:return 9;case 32:case 2048:return 8;case 64:return 3;case 128:case 256:return 6;case 512:return 2;case 1024:return 7;case 4096:return 1;default:return 0}}(r);var s}e.id=r,e.uriId=function(e){return(e&n)>>4},e.fqsenHash=function(e){return(r=(e-(e&n))/t)>i?i-r:r;var r},e.fromDefinition=function(e){return r(e.uriId,e.fqsenHash,e.kind)};const i=Math.pow(2,31)-1}(u=t.DefinitionId||(t.DefinitionId={})),function(e){const t=1432,n=79;function s(e){return e&&"$_"===e.name&&0!=(8388608&e.modifiers)||0!==(e&&2048&e.modifiers)}function l(e){return(6247&e.kind)>0}function h(e,t){if(!e)return"";if(e.scope){let n=t.find(e.scope);if(!n)return"";const r=h(n,t);return p(e.name,r||"",e.kind)}return p(e.name,"",e.kind)}function d(e,t,n){if(!e)return 0;switch(n){case 32:case 2048:return r.hash32(("::"+e+"()").toLowerCase(),t);case 1024:case 16:case 128:return r.hash32("::"+e,t);case 1:case 4:case 2:case 512:return r.hash32(e.toLowerCase());case 64:return r.hash32(e.toLowerCase()+"()");case 256:return t?r.hash32("::"+e,t):r.hash32(e);default:return r.hash32(e)}}function p(e,t,n){if(!e)return"";switch(n){case 32:case 2048:return(t+"::"+e+"()").toLowerCase();case 1024:case 16:return t.toLowerCase()+"::"+e;case 128:return t+"::"+e;case 1:case 4:case 2:case 512:return e.toLowerCase();case 64:return e.toLowerCase()+"()";case 256:return t?t+"::"+e:e;default:return e}}e.createAlias=function(t,i,s){if(!(t.kind&n))return t.name;const o=t.name.split("\\"),a=o[o.length-1];if(1===o.length)return"Global"+r.ucFirst(a);let c=!0,u="",l="",h="";for(let n=0,d=o.length-1;n<d&&c;++n)h=(u+=r.ucFirst(o[n]))+r.ucFirst(a),(c=void 0!==i.findUseSymbolByLocalName(e.nameJoin(s,h),t.kind))||(l=h);return l},e.normaliseParameters=function(e,t){if(e.length<1||t===e.length)return e;for(e=e.slice(0);e.length&&e.length>t&&0!=(8388608&e[e.length-1].modifiers);)e.pop();if(e.length===t)return e;const n=e.findIndex(s);if(n<0)return e;if(t<e.length)return e.splice(n),e;const r=Array(t-e.length).fill(e[n]);return e.splice(n,0,...r),e},e.nameJoin=function(e,t){return"\\"===e.slice(-1)&&(e=e.slice(0,-1)),"\\"===t.slice(0,1)&&(t=t.slice(1)),e+"\\"+t},e.typeAsTypeString=function(e){if(e.type)return i.TypeString.isEqualOrOverlaps(e.type.declared,i.TypeString.ARRAY_TYPE_STRING)&&e.type.documentedOrInferred&&i.TypeString.isArray(e.type.documentedOrInferred)?i.TypeString.union(e.type.declared,e.type.documentedOrInferred):e.type.declared||e.type.documentedOrInferred},e.setDeclaredType=function(e,t){e&&t&&(e.type?e.type.declared=t:e.type=a.create(t,void 0),i.TypeString.isEqualOrOverlaps(t,i.TypeString.NULL_TYPE_STRING)&&(e.modifiers|=32768))},e.setDocumentedType=function(e,t){e&&t&&(e.type?e.type.documentedOrInferred=t:e.type=a.create(void 0,t))},e.children=function(e){return e&&e.children?e.children:[]},e.isEqual=function(e,t){return e===t||e.kind===t.kind&&void e.kind},e.isUseVariable=function(e){return!!e&&256===e.kind&&(4096&e.modifiers)>0},e.isParameter=function(e){return!!e&&128===e.kind},e.isRequiredParameter=function(e){return!(!e||128!==e.kind||8390656&e.modifiers)},e.isFunction=function(e){return!!e&&64===e.kind},e.isAnonFunction=function(e){return!!e&&64===e.kind&&0!=(512&e.modifiers)},e.isConstant=function(e){return!!e&&8===e.kind},e.isClassLike=function(e){return!!e&&(7&e.kind)>0},e.isInterface=function(e){return!!e&&2===e.kind},e.hasModifiers=function(e,t){return!!e&&(e.modifiers&t)>0},e.isScope=l,e.isAbsoluteScope=function(e){return l(e)&&(64!==e.kind||!(4096&e.modifiers))},e.shortName=function(e){if(!e)return e;let t=e.lastIndexOf("\\")+1;return e.slice(t)},e.fqsenFromDefinition=h,e.fqsenHashFromDefinition=function(e,t){return r.hash32(h(e,t))},e.fqsenHash=d,e.fqsen=p,e.parsedValue=function(e){if(8!==e.kind&&1024!==e.kind||void 0===e.value||void 0===e.type)return;const t=e.type.documentedOrInferred;return i.TypeString.isEqual(t,i.TypeString.INT_TYPE_STRING)||i.TypeString.isEqual(t,i.TypeString.FLOAT_TYPE_STRING)?o.PHP.toNumber(e.value):i.TypeString.isEqual(t,i.TypeString.STRING_TYPE_STRING)?o.PHP.parseString(e.value,77):i.TypeString.isEqual(t,i.TypeString.BOOLEAN_TYPE_STRING)?"true"===e.value:void 0},e.namespace=function(e){if(!e)return"";let t=e.lastIndexOf("\\");return t<0?"":e.slice(0,t)},e.create=function(e,t,n,r){const i={kind:e,name:t||"",uriId:n,modifiers:0,fqsenHash:0};return!c.isLocallyScopedDefinitionKind(e)||!r||256===e&&o.PHP.isPredefinedVariable(t)?i.fqsenHash=d(t,0,e):(i.fqsenHash=d(t,u.fqsenHash(r),e),i.scope=r),i},e.findAssociated=function(e,t){if(e.associated)return e.associated.find(t)},e.filterAssociated=function(e,t){return e.associated?e.associated.filter(t):[]},e.isAssociated=function(e,t){if(!e||!e.associated)return!1;let n=t.toLowerCase();return r.find(e.associated,e=>n===e.name.toLowerCase())},e.isCaseSensitive=function(e){return(e&t)>0}}(l=t.Definition||(t.Definition={}));t.DefinitionCollection=class{constructor(){this._symbols=[],this._map={}}get length(){return this._symbols.length}has(e){let t=e.name;return l.isCaseSensitive(e.kind)||(t=t.toLowerCase()),(this._map[t]&e.kind)===e.kind}add(e){let t=e.name;l.isCaseSensitive(e.kind)||(t=t.toLowerCase()),void 0===this._map[t]?this._map[t]=e.kind:this._map[t]|=e.kind,this._symbols.push(e)}addMany(e){for(let t=0,n=e.length;t<n;++t)this.add(e[t])}toArray(){return this._symbols.slice(0)}};t.UniqueDefinitionSet=class{constructor(){this._map={},this._definitions=[]}add(e){this.has(e)||(this._definitions.push(e),this._map[e.name]|=e.kind)}has(e){return(this._map[e.name]&e.kind)===e.kind}toArray(){return this._definitions.slice(0)}},function(e){e.create=function(e,t,n){return{kind:e,name:t,uriId:n,modifiers:0}}}(t.Reference||(t.Reference={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(8);var i,s;t.Event=class{constructor(){this._subscribed=[]}subscribe(e){this._subscribed.push(e);let t=this._subscribed.length-1,n=this._subscribed;return()=>{n.splice(t,1)}}trigger(e){let t;for(let n=0;n<this._subscribed.length;++n)(t=this._subscribed[n])(e)}},function(e){e.create=function(e,t){return{uriHash:e,range:t}}}(t.PackedLocation||(t.PackedLocation={}));class o{constructor(e){this._spine=e.slice(0)}get spine(){return this._spine.slice(0)}get node(){return this._spine[this._spine.length-1]}traverse(e){return e.beforeTraverse&&e.beforeTraverse(this.node,this._spine.slice(0,-1)),this.visitNode(this.node,e,this._spine.slice(0,-1)),e}filter(e,t){let n=new a(e,t);return this.traverse(n),n.array}toArray(){let e=new u;return this.traverse(e),e.array}count(){let e=new l;return this.traverse(e),e.count}depth(){return this._spine.length-1}up(e){let t=Math.min(this._spine.length-1,e);return this._spine=this._spine.slice(0,this._spine.length-t),this.node}root(){return this._spine=[this._spine[0]],this.node}find(e){let t=new c(e);if(this.traverse(t),t.found)return this._spine=t.found,this.node}child(e){let t=this.node;if(t&&t.children)for(let n=0;n<t.children.length;++n)if(e(t.children[n]))return this._spine.push(t.children[n]),this.node}hasChild(e){let t=this.node,n=!1;if(!t.children)return n;for(let r=0,i=t.children.length;r<i&&!n;++r)n=e(t.children[r]);return n}nthChild(e){let t=this.node;if(!(!t||!t.children||e<0||e>t.children.length-1))return this._spine.push(t.children[e]),this.node}lastChild(){let e=this.node;if(e&&e.children&&!(e.children.length<1))return this._spine.push(e.children[e.children.length-1]),this.node}childCount(){let e=this.node;return e&&e.children?e.children.length:0}prevSibling(){if(this._spine.length<2)return;let e=this._spine[this._spine.length-2],t=e.children.indexOf(this.node);return t>0?(this._spine.pop(),this._spine.push(e.children[t-1]),this.node):void 0}nextSibling(){if(this._spine.length<2)return;let e=this._spine[this._spine.length-2],t=e.children.indexOf(this.node);return t<e.children.length-1?(this._spine.pop(),this._spine.push(e.children[t+1]),this.node):void 0}ancestor(e){for(let t=this._spine.length-2;t>=0;--t)if(e(this._spine[t]))return this._spine=this._spine.slice(0,t+1),this.node}hasAncestor(e){for(let t=this._spine.length-2;t>=0;--t)if(e(this._spine[t]))return!0;return!1}parent(){if(this._spine.length>1)return this._spine.pop(),this.node}hasParent(e){return this._spine.length>1&&e(this.node)}clone(){return new o(this._spine)}visitNode(e,t,n){let r=!0;if(t.preorder&&(r=t.preorder(e,n)),e.children&&r){n.push(e);for(let r=0,i=e.children.length;r<i;++r)this.visitNode(e.children[r],t,n);n.pop()}t.postorder&&t.postorder(e,n)}}t.TreeTraverser=o;class a{constructor(e,t){this.predicate=e,this.shouldDescendFn=t,this.predicate=e,this._array=[]}get array(){return this._array}preorder(e,t){return this.predicate(e)&&this._array.push(e),!this.shouldDescendFn||this.shouldDescendFn(e)}}class c{constructor(e){this.predicate=e,this.haltTraverse=!1}get found(){return this._found}preorder(e,t){return!this.haltTraverse&&(!this.predicate(e)||(this._found=t.slice(0),this._found.push(e),this.haltTraverse=!0,!1))}}t.Debounce=class{constructor(e,t){this.handler=e,this.wait=t,this.clear=()=>{clearTimeout(this._timer),this._timer=void 0,this._eventArgsArray=[]},this._eventArgsArray=[]}handle(e){this.clear(),void 0!==e&&this._eventArgsArray.push(e),this._timer=setTimeout(()=>{this.handler(this._eventArgsArray),this.clear()},this.wait)}flush(e){if(!this._timer)return e;const t=this._eventArgsArray;return this.clear(),this.handler(t)}};class u{constructor(){this._array=[]}get array(){return this._array}preorder(e,t){return this._array.push(e),!0}}t.ToArrayVisitor=u;class l{constructor(){this._count=0}get count(){return this._count}preorder(e,t){return++this._count,!0}}t.CountVisitor=l;class h{constructor(e){this._sortedArray=e}set sortedArray(e){this._sortedArray=e}find(e){let t=this.search(e);return t.isExactMatch?this._sortedArray[t.rank]:null}rank(e){return this.search(e).rank}range(e,t){let n=this.rank(e);return this._sortedArray.slice(n,this.search(t,n).rank)}search(e,t){let n,r=t||0,i=this._sortedArray.length-1,s=0,o=0;for(;;){if(r>i){n={rank:r,isExactMatch:!1};break}if(s=Math.floor((r+i)/2),(o=e(this._sortedArray[s]))<0)r=s+1;else{if(!(o>0)){n={rank:s,isExactMatch:!0};break}i=s-1}}return n}}t.BinarySearch=h,function(e){e.itemsAsArray=function(e){return Array.from(e.items.values())}}(i=t.DefinitionIndexNode||(t.DefinitionIndexNode={}));t.DefinitionIndex=class{constructor(){this.tree=new d((e,t)=>r.stringCompare(e.key,t.key))}serialise(){return this.tree.serialise()}deserialise(e){this.tree.deserialise(e)}add(e,t){const n={key:e,items:new Map([[t.id,t]])},r=this.tree.insert(n);if(r!==n){let e=r.items.get(t.id);(!e||e.score>t.score)&&r.items.set(t.id,t)}}remove(e,t){let n={key:e,items:new Map},r=e=>e.items.has(t.id)&&1===e.items.size;(n=this.tree.delete(n,r))&&!r(n)&&n.items.delete(t.id)}match(e){if(!e)return[];e=e.toLowerCase();let t,n=r.greaterThanText(e),s=t=>r.stringCompare(e,t.key);t=n?e=>r.stringCompare(n,e.key):e=>1;let o=[];for(let e of this.tree.rangeIterator(s,t))e&&Array.prototype.push.apply(o,i.itemsAsArray(e));return o}find(e){const t=this.tree.find({key:e.toLowerCase(),items:new Map});return t?i.itemsAsArray(t):[]}};t.SortedList=class{constructor(e,t){this.compareFn=e,this._items=t||[],this._search=new h(this._items)}get length(){return this._items.length}get items(){return this._items}add(e){let t=this._createCompareClosure(e,this.compareFn),n=this._search.search(t);if(n.isExactMatch)throw new Error(`Duplicate key ${JSON.stringify(e)}`);this._items.splice(n.rank,0,e)}remove(e){let t=this._search.search(e);if(t.isExactMatch)return this._items.splice(t.rank,1).shift()}find(e){return this._search.find(e)}_createCompareClosure(e,t){return n=>t(n,e)}},function(e){function t(e,t){return(1048575&e)<<11|2047&t}function n(e){return e>>>11}function r(e){return 2047&e}e.pack=t,e.incrementCharacter=function(e){let i=r(e)+1;return t(n(e),i)},e.line=n,e.character=r,e.fromLspPosition=function(e){return t(e.line,e.character)},e.toLspPosition=function(e){return{line:n(e),character:r(e)}},e.compare=function(e,t){return e-t}}(s=t.PackedPosition||(t.PackedPosition={})),function(e){e.create=function(e,t,n,r){return{start:s.pack(e,t),end:s.pack(n,r)}},e.toLspRange=function(e){return{start:s.toLspPosition(e.start),end:s.toLspPosition(e.end)}},e.fromLspRange=function(e){return{start:s.fromLspPosition(e.start),end:s.fromLspPosition(e.end)}},e.isInRange=function(e,t){return!(!e||!t)&&t>=e.start&&t<=e.end}}(t.PackedRange||(t.PackedRange={}));class d{constructor(e){this.comparator=e}delete(e,t){let n,r=this.root,i=[];for(;void 0!==r&&r.value;)if(i.push(r),(n=this.comparator(e,r.value))<0)r=r.left;else{if(!(n>0))break;r=r.right}if(!r)return;const s=r.value;if(t&&!t(s))return s;void 0!==r.left&&void 0!==r.right&&(i=this.inOrderSuccessor(i),r.value=i[i.length-1].value,r=i[i.length-1]);let o=r.left||r.right,a=i[i.length-2];return this.replaceChild(a,r,o),r.isBlack?o&&!o.isBlack?(o.isBlack=!0,s):(i.pop(),i.push({isBlack:!0}),a?(this.deleteRepair(i),s):s):s}deleteRepair(e){let t,n=e[e.length-1],r=e[e.length-2];if(r&&(t=r.left===n?r.right:r.left),r)return t&&!t.isBlack?(t.isBlack=!0,r.isBlack=!1,r.right===t?this.rotateLeft(e[e.length-3],r,t):this.rotateRight(e[e.length-3],r,t),e.splice(-2,0,t),void this.deleteRepair(e)):!(r.isBlack&&t&&t.isBlack)||t.left&&!t.left.isBlack||t.right&&!t.right.isBlack?r.isBlack||!t||!t.isBlack||t.left&&!t.left.isBlack||t.right&&!t.right.isBlack?t&&t.isBlack&&r.right===t&&t.left&&!t.left.isBlack&&(!t.right||t.right.isBlack)?(t.left.isBlack=!0,t.isBlack=!1,this.rotateRight(r,t,t.left),void this.deleteRepair(e)):t&&t.isBlack&&r.left===t&&t.right&&!t.right.isBlack&&(!t.left||t.left.isBlack)?(t.right.isBlack=!0,t.isBlack=!1,this.rotateLeft(r,t,t.right),void this.deleteRepair(e)):t&&t.isBlack&&(r.right===t&&t.right&&!t.right.isBlack||r.left===t&&t.left&&!t.left.isBlack)?(r.right===t?(this.rotateLeft(e[e.length-3],r,t),t.right&&(t.right.isBlack=!0)):(this.rotateRight(e[e.length-3],r,t),t.left&&(t.left.isBlack=!0)),t.isBlack=r.isBlack,void(r.isBlack=!0)):void 0:(r.isBlack=!0,void(t.isBlack=!1)):(t.isBlack=!1,e.pop(),void this.deleteRepair(e))}replaceChild(e,t,n){void 0===e?this.root=n:e.left===t?e.left=n:e.right=n}inOrderSuccessor(e){let t=e[e.length-1];if(!t.right)throw new Error("Invalid Argument");for(t=t.right,e.push(t);void 0!==t.left;)t=t.left,e.push(t);return e}insert(e){if(void 0===this.root)return this.root={isBlack:!0,value:e},e;let t,n=this.root,r=[];for(;;){if(r.push(n),!n.value)return n.value=e,e;if((t=this.comparator(e,n.value))<0){if(void 0===n.left){n.left={isBlack:!1,value:e},r.push(n.left);break}n=n.left}else if(t>0){if(void 0===n.right){n.right={isBlack:!1,value:e},r.push(n.right);break}n=n.right}else if(n.value)return n.value}return this.insertRepair(r),e}insertRepair(e){let t=e[e.length-1];if(1===e.length)return void(t.isBlack=!0);if(e[e.length-2].isBlack)return;let n=this.getUncle(e);if(n&&!n.isBlack){return e.pop(),e.pop().isBlack=!0,n.isBlack=!0,e[e.length-1].isBlack=!1,void this.insertRepair(e)}if(!n||n.isBlack){let n=e[e.length-2],r=e[e.length-3],i=e[e.length-4];if(n===r.left&&t===n.right){this.rotateLeft(r,n,t);let e=t;t=n,n=e}else if(n===r.right&&t===n.left){this.rotateRight(r,n,t);let e=t;t=n,n=e}t==n.left?this.rotateRight(i,r,n):this.rotateLeft(i,r,n),n.isBlack=!0,r.isBlack=!1}}rotateLeft(e,t,n){t.right=n.left,n.left=t,e?e.left===t?e.left=n:e.right=n:this.root=n}rotateRight(e,t,n){t.left=n.right,n.right=t,e?e.left===t?e.left=n:e.right=n:this.root=n}getUncle(e){let t=e[e.length-2],n=e[e.length-3];if(n)return n.left===t?n.right:n.left}find(e){let t,n=this.root;for(;void 0!==n&&n.value;)if((t=this.comparator(e,n.value))<0)n=n.left;else{if(!(t>0))break;n=n.right}return n?n.value:void 0}*serialise(){if(!this.root)return;let e,t=[this.root];for(;e=t.pop();)yield{isBlack:e.isBlack,value:e.value},void 0!==e.value&&(t.push(e.right||{isBlack:!0}),t.push(e.left||{isBlack:!0}))}deserialise(e){let t,n,r=[];for(let i of e)(t=r[r.length-1])?t.left?t.right||(t.right=i,r.pop(),t.left.value||(t.left=void 0),t.right&&!t.right.value&&(t.right=void 0)):t.left=i:n=i,i&&void 0!==i.value&&r.push(i);this.root=n}*rangeIterator(e,t){let n,r,i=[],s=this.root;if(s)for(;s||i.length>0;){for(;s;)i.push(s),s=(n=e(s.value))<=0?s.left:void 0;n=e((s=i.pop()).value),r=t(s.value),n<=0&&r>0&&(yield s.value),s=r>=0?s.right:void 0}}*inOrderIterator(){let e=[],t=this.root;if(t)for(;t||e.length>0;){for(;t;)e.push(t),t=t.left;t=e.pop(),yield t.value,t=t.right}}*preOrderIterator(){if(!this.root)return;let e,t=[this.root];for(;e=t.pop();)yield e.value,e.right&&t.push(e.right),e.left&&t.push(e.left)}}t.RedBlackTree=d},function(e,t,n){var r=n(14),i=n(362),s=n(363),o=n(364),a=[],c=n(16);var u,l,h=function(){};function d(e){i(e),e.gracefulify=d,e.FileReadStream=h,e.FileWriteStream=_,e.createReadStream=function(e,t){return new h(e,t)},e.createWriteStream=function(e,t){return new _(e,t)};var t=e.readFile;e.readFile=function(e,n,r){"function"==typeof n&&(r=n,n=null);return function e(n,r,i){return t(n,r,function(t){!t||"EMFILE"!==t.code&&"ENFILE"!==t.code?("function"==typeof i&&i.apply(this,arguments),f()):p([e,[n,r,i]])})}(e,n,r)};var n=e.writeFile;e.writeFile=function(e,t,r,i){"function"==typeof r&&(i=r,r=null);return function e(t,r,i,s){return n(t,r,i,function(n){!n||"EMFILE"!==n.code&&"ENFILE"!==n.code?("function"==typeof s&&s.apply(this,arguments),f()):p([e,[t,r,i,s]])})}(e,t,r,i)};var r=e.appendFile;r&&(e.appendFile=function(e,t,n,i){"function"==typeof n&&(i=n,n=null);return function e(t,n,i,s){return r(t,n,i,function(r){!r||"EMFILE"!==r.code&&"ENFILE"!==r.code?("function"==typeof s&&s.apply(this,arguments),f()):p([e,[t,n,i,s]])})}(e,t,n,i)});var o=e.readdir;function a(t){return o.apply(e,t)}if(e.readdir=function(e,t,n){var r=[e];"function"!=typeof t?r.push(t):n=t;return r.push(function(e,t){t&&t.sort&&t.sort(),!e||"EMFILE"!==e.code&&"ENFILE"!==e.code?("function"==typeof n&&n.apply(this,arguments),f()):p([a,[r]])}),a(r)},"v0.8"===process.version.substr(0,4)){var c=s(e);h=c.ReadStream,_=c.WriteStream}var u=e.ReadStream;u&&(h.prototype=Object.create(u.prototype),h.prototype.open=function(){var e=this;g(e.path,e.flags,e.mode,function(t,n){t?(e.autoClose&&e.destroy(),e.emit("error",t)):(e.fd=n,e.emit("open",n),e.read())})});var l=e.WriteStream;function h(e,t){return this instanceof h?(u.apply(this,arguments),this):h.apply(Object.create(h.prototype),arguments)}function _(e,t){return this instanceof _?(l.apply(this,arguments),this):_.apply(Object.create(_.prototype),arguments)}l&&(_.prototype=Object.create(l.prototype),_.prototype.open=function(){var e=this;g(e.path,e.flags,e.mode,function(t,n){t?(e.destroy(),e.emit("error",t)):(e.fd=n,e.emit("open",n))})}),e.ReadStream=h,e.WriteStream=_;var m=e.open;function g(e,t,n,r){return"function"==typeof n&&(r=n,n=null),function e(t,n,r,i){return m(t,n,r,function(s,o){!s||"EMFILE"!==s.code&&"ENFILE"!==s.code?("function"==typeof i&&i.apply(this,arguments),f()):p([e,[t,n,r,i]])})}(e,t,n,r)}return e.open=g,e}function p(e){h("ENQUEUE",e[0].name,e[1]),a.push(e)}function f(){var e=a.shift();e&&(h("RETRY",e[0].name,e[1]),e[0].apply(null,e[1]))}c.debuglog?h=c.debuglog("gfs4"):/\bgfs4\b/i.test(process.env.NODE_DEBUG||"")&&(h=function(){var e=c.format.apply(c,arguments);e="GFS4: "+e.split(/\n/).join("\nGFS4: "),console.error(e)}),/\bgfs4\b/i.test(process.env.NODE_DEBUG||"")&&process.on("exit",function(){h(a),n(33).equal(a.length,0)}),e.exports=d(o(r)),process.env.TEST_GRACEFUL_FS_GLOBAL_PATCH&&!r.__patched&&(e.exports=d(r),r.__patched=!0),e.exports.close=(u=r.close,function(e,t){return u.call(r,e,function(e){e||f(),"function"==typeof t&&t.apply(this,arguments)})}),e.exports.closeSync=(l=r.closeSync,function(e){var t=l.apply(r,arguments);return f(),t}),/\bgraceful-fs\b/.test(r.closeSync.toString())||(r.closeSync=e.exports.closeSync,r.close=e.exports.close)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(10),i=n(1),s=n(8);!function(e){const t={int:"int",string:"string",bool:"bool",float:"float",iterable:"iterable",true:"true",false:"false",null:"null",void:"void",object:"object",mixed:"mixed",callable:"callable",resource:"resource",self:"self",static:"static",$this:"$this",array:"array"};function n(e){switch(e){case"|":case"&":case"[]":return!1;default:return void 0===t[e]}}function o(e){return n(e.name)}function a(e,t){if(e){if("|"!==e.name&&"&"!==e.name||!e.parts)return t(e)?e:void 0;{let n;for(let r=0,i=e.parts.length;r<i;++r)n=l(n,a(e.parts[r],t),e.name);return n}}}function c(e){if(e)switch(e.name){case"[]":return e.parts?e.parts[0]:void 0;case"array":return e.parts?e.parts[1]:void 0;case"|":case"&":{if(!e.parts)return;let t;for(let n=0,r=e.parts.length;n<r;++n)t=l(t,c(e.parts[n]),e.name);return t}default:return}}function u(e,t){return l(e,t,"|")}function l(e,t,n){if(!e)return t;if(!t||g(e,t))return e;if(e.name!==n&&t.name!==n)return{name:n,parts:[e,t]};let r,i,s=e.name===n&&e.parts?e.parts.slice(0):[e],o=t.name===n&&t.parts?t.parts.slice(0):[t],a=s.slice(0);for(let e=0,t=o.length;e<t;++e){i=o[e],r=!1;for(let e=0,t=s.length;e<t&&!r;++e)r=g(i,s[e]);r||a.push(i)}return{name:n,parts:a}}function h(e){if(!e)return"";let t=function e(t){switch(t.name){case"|":case"&":return t.parts?"("+t.parts.map(t=>e(t)).join(t.name)+")":t.name;case"array":case"[]":return t.parts?1===t.parts.length?e(t.parts[0])+"[]":"array<"+t.parts.map(t=>e(t)).join(", ")+">":"array";default:return t.parts?t.name+"<"+t.parts.map(t=>e(t)).join(", ")+">":t.name}}(e);return")"===t[t.length-1]?t.slice(1,-1):t}function d(e,t){for(let n=0,r=t.length;n<r;++n)if(g(e,t[n]))return!0;return!1}function p(e){if(!e)return!1;switch(e.name){case"array":case"[]":return!0;case"|":case"&":if(!e.parts)return!1;for(let t,n=0,r=e.parts.length;n<r;++n)if(p(t=e.parts[n]))return!0;default:return!1}}function f(e,t){for(let n=0,r=e.length;n<r;++n)for(let r=0,i=t.length;r<i;++r)if(_(e[n],t[r]))return!0;return!1}function _(e,t){return!e&&!t||!(!e||!t)&&("|"===e.name||"&"===e.name?f(e.parts||[],"|"===t.name||"&"===t.name?t.parts||[]:[t]):"|"===t.name||"&"===t.name?f(t.parts||[],[e]):e.parts&&t.parts&&("[]"===e.name&&"array"===t.name||"[]"===t.name&&"array"===e.name)?_(e.parts[e.parts.length-1],t.parts[t.parts.length-1]):"[]"!==e.name&&"array"!==e.name&&"[]"!==t.name&&"array"!==t.name?e.name.toLowerCase()===t.name.toLowerCase():g(e,t))}function m(t,n){if(t){if(!n)return t;if(g(t,n))return e.MIXED_TYPE_STRING;if("|"===t.name&&t.parts){let r,i=[];r="|"===n.name&&n.parts?n.parts:[n];for(let e,n,s=0,o=t.parts.length;s<o;++s){e=t.parts[s],n=!1;for(let t=0,i=r.length;t<i&&!n;++t)g(e,r[t])&&(n=!0);n||i.push(e)}return i.length?{name:"|",parts:i}:e.MIXED_TYPE_STRING}if("&"===t.name&&t.parts){let r;r="|"===n.name&&n.parts?n.parts:[n];let i=!1;for(let e,n=0,s=t.parts.length;n<s&&!i;++n){e=t.parts[n];for(let t=0,n=r.length;t<n&&!i;++t)g(e,r[t])&&(i=!0)}return i?e.MIXED_TYPE_STRING:t}return t}}function g(e,t){if(e===t)return!0;if(!e||!t)return!1;if(e.name.toLowerCase()!==t.name.toLowerCase())return!1;if(!e.parts&&!t.parts)return!0;if(!e.parts||!t.parts||e.parts.length!==t.parts.length)return!1;switch(e.name){case"|":case"&":{let n=[];for(let r=0,i=e.parts.length;r<i;++r){if(n.length!==r)return!1;for(let s=0;s<i;++s)if(-1===n.indexOf(s)&&g(e.parts[r],t.parts[s])){n.push(s);break}}}break;default:for(let n=0,r=e.parts.length;n<r;++n)if(!g(e.parts[n],t.parts[n]))return!1}return!0}e.NULL_TYPE_STRING={name:"null"},e.BOOLEAN_TYPE_STRING={name:"bool"},e.STRING_TYPE_STRING={name:"string"},e.INT_TYPE_STRING={name:"int"},e.VOID_TYPE_STRING={name:"void"},e.FLOAT_TYPE_STRING={name:"float"},e.INT_OR_FLOAT_TYPE_STRING={name:"|",parts:[e.INT_TYPE_STRING,e.FLOAT_TYPE_STRING]},e.MIXED_TYPE_STRING={name:"mixed"},e.STATIC_TYPE_STRING={name:"static"},e.ARRAY_TYPE_STRING={name:"array"},e.OBJECT_TYPE_STRING={name:"object"},e.CALLABLE_TYPE_STRING={name:"callable"},e.CLOSURE_TYPE_STRING={name:"Closure"},e.ITERABLE_TYPE_STRING={name:"iterable"},e.GENERATOR_TYPE_STRING={name:"Generator"},e.MIXED_OR_NULL_TYPE_STRING={name:"|",parts:[e.MIXED_TYPE_STRING,e.NULL_TYPE_STRING]},e.STRING_OR_INT_TYPE_STRING={name:"|",parts:[e.STRING_TYPE_STRING,e.INT_TYPE_STRING]},e.THIS_TYPE_STRING={name:"$this"},e.STATIC_OR_THIS_TYPE_STRING={name:"|",parts:[e.THIS_TYPE_STRING,e.STATIC_TYPE_STRING]},e.INT_OR_FLOAT_OR_ARRAY_TYPE_STRING={name:"|",parts:[e.INT_TYPE_STRING,e.FLOAT_TYPE_STRING,e.ARRAY_TYPE_STRING]},e.NULL_OR_VOID_TYPE_STRING={name:"|",parts:[e.NULL_TYPE_STRING,e.VOID_TYPE_STRING]},e.RESOURCE_TYPE_STRING={name:"resource"},e.NUMERIC_TYPE_STRING={name:"|",parts:[e.INT_TYPE_STRING,e.FLOAT_TYPE_STRING,e.STRING_TYPE_STRING]},e.SCALAR_TYPE_STRING={name:"|",parts:[e.INT_TYPE_STRING,e.FLOAT_TYPE_STRING,e.STRING_TYPE_STRING,e.BOOLEAN_TYPE_STRING]},e.COUNTABLE_TYPE_STRING={name:"Countable"},e.ARRAY_OR_COUNTABLE_TYPE_STRING={name:"|",parts:[e.ARRAY_TYPE_STRING,e.COUNTABLE_TYPE_STRING]},e.isKeyword=function(e){return void 0!==t[e.toLowerCase()]},e.isNamedObject=o,e.genericTypeArgumentAtIndex=function e(t,n){if(t&&"[]"!==t.name&&t.parts){if("|"===t.name||"&"===t.name){let r;for(let i=0,s=t.parts.length;i<s;++i)r=l(r,e(t.parts[i],n),t.name);return r}return t.parts[n]}},e.reduce=a,e.namedObjects=function(e){return a(e,o)},e.objectNames=function(e){if(!e)return[];switch(e.name){case"|":case"&":{if(!e.parts)return[];let t=e.parts.slice(0),r=new Set;for(;e=t.shift();)n(e.name)?r.add(e.name):"|"!==e.name&&"&"!==e.name||Array.prototype.push.apply(t,e.parts);return Array.from(r)}case"[]":return[];default:return n(e.name)?[e.name]:[]}},e.elementOf=c,e.arrayOf=function(e){return e?{name:"[]",parts:[e]}:void 0},e.intersection=function(e,t){return l(e,t,"&")},e.union=u,e.unionMany=function(e){let t;for(let n=0,r=e.length;n<r;++n)t=u(t,e[n]);return t},e.toString=h,e.fromString=function(e){if(e)try{return function(e){let t,n,r=0,i=[{name:"",parts:[]}],s=0;for(;r<e.length;){switch(n=e[r]){case"|":case"&":if(t=e.slice(s,r).trim()){let e=i[i.length-1];if(!e||!e.parts)return;e.parts.push({name:t})}s=r+1,i[i.length-1].name=n;break;case"(":{s=r+1,i.push({name:"",parts:[]});let e=i[i.length-2];if(!e||!e.parts)return;e.parts.push(i[i.length-1]);break}case")":if(t=e.slice(s,r).trim()){let e=i[i.length-1];if(!e||!e.parts)return;e.parts.push({name:t})}s=r+1,i.pop();break;case"[":if("]"===e[r+1]){if(t=e.slice(s,r).trim()){let e=i[i.length-1];if(!e||!e.parts)return;e.parts.push({name:t})}s=r+2,++r;let n=i[i.length-1];if(!n||!n.parts)return;let o=n.parts.pop();if(!o)return;n.parts.push({name:"[]",parts:[o]})}break;case"<":if(t=e.slice(s,r).trim()){let e={name:t,parts:[]},n=i[i.length-1];if(!n||!n.parts)return;n.parts.push(e),i.push(e)}s=r+1;break;case">":if(t=e.slice(s,r).trim()){let e=i[i.length-1];if(!e||!e.parts)return;e.parts.push({name:t})}s=r+1,i.pop();break;case",":if(t=e.slice(s,r).trim()){let e=i[i.length-1];if(!e||!e.parts)return;e.parts.push({name:t})}s=r+1}++r}if(t=e.slice(s,r).trim()){let e=i[i.length-1];if(!e||!e.parts)return;e.parts.push({name:t})}let o=i.pop();return o&&!o.name?o.parts?o.parts.shift():void 0:o}(e)}catch(e){return}},e.objectNamesDeep=function(e){const t=[];if(!e)return t;let r=[e];for(;e=r.shift();)n(e.name)&&t.push(e.name),e.parts&&Array.prototype.push.apply(r,e.parts);return t},e.resolveThisOrStatic=function e(t,n){if(!t)return;if(!n)return t;if("$this"===t.name||"static"===t.name)return n;if(!t.parts)return t;let r=t.parts.map(t=>e(t,n)).filter(s.isNotUndefined);return"|"!==t.name&&"&"!==t.name||(r=function(e){let t,n=[];for(let r=0,i=e.length;r<i;++r)d(t=e[r],n)||n.push(t);return n}(r)),{name:t.name,parts:r}},e.isArray=p,e.isEqualOrOverlaps=_,e.toTypeDeclarationString=function(t,n,s){let o=!1;(2048&n.modifiers)>0&&!_(t,e.ARRAY_TYPE_STRING)&&p(t)&&(t=c(t)),(32768&n.modifiers)>0&&(o=!0,t=m(t,e.NULL_TYPE_STRING));let a=h(t);return s?a=i.Definition.shortName(a):r.PHP.isReservedName(a.toLowerCase())||(a="\\"+a),o&&(a="?"+a),a},e.difference=m,e.isEqual=g}(t.TypeString||(t.TypeString={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(169),i=n(169);t.makePatchingRequire=i.makePatchingRequire;var s=function(e){return!0},o=function(){function e(){this.version=n(447).version,this.subscribers={},this.contextPreservationFunction=function(e){return e},this.knownPatches={},this.currentlyPublishing=!1}return e.prototype.shouldPublish=function(e){var t=this.subscribers[e];return!!t&&t.some(function(e){var t=e.filter;return!t||t(!1)})},e.prototype.publish=function(e,t){if(!this.currentlyPublishing){var n=this.subscribers[e];if(n){var r={timestamp:Date.now(),data:t};this.currentlyPublishing=!0,n.forEach(function(e){var t=e.listener,n=e.filter;try{n&&n(!0)&&t(r)}catch(e){}}),this.currentlyPublishing=!1}}},e.prototype.subscribe=function(e,t,n){void 0===n&&(n=s),this.subscribers[e]||(this.subscribers[e]=[]),this.subscribers[e].push({listener:t,filter:n})},e.prototype.unsubscribe=function(e,t,n){void 0===n&&(n=s);var r=this.subscribers[e];if(r)for(var i=0;i<r.length;++i)if(r[i].listener===t&&r[i].filter===n)return r.splice(i,1),!0;return!1},e.prototype.reset=function(){var e=this;this.subscribers={},this.contextPreservationFunction=function(e){return e},Object.getOwnPropertyNames(this.knownPatches).forEach(function(t){return delete e.knownPatches[t]})},e.prototype.bindToContext=function(e){return this.contextPreservationFunction(e)},e.prototype.addContextPreservation=function(e){var t=this.contextPreservationFunction;this.contextPreservationFunction=function(n){return e(t(n))}},e.prototype.registerMonkeyPatch=function(e,t){this.knownPatches[e]||(this.knownPatches[e]=[]),this.knownPatches[e].push(t)},e.prototype.getPatchesObject=function(){return this.knownPatches},e}();global.diagnosticsSource||(global.diagnosticsSource=new o,n(170).prototype.require=r.makePatchingRequire(global.diagnosticsSource.getPatchesObject()));t.channel=global.diagnosticsSource},function(e,t,n){"use strict";var r=function(){function e(){}return e.info=function(t){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];e.enableDebug&&console.info(e.TAG+t,n)},e.warn=function(t){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];e.disableWarnings||console.warn(e.TAG+t,n)},e.enableDebug=!1,e.disableWarnings=!1,e.TAG="ApplicationInsights:",e}();e.exports=r},function(e,t,n){"use strict";var r,i,s,o,a,c,u,l,h,d,p,f,_,m,g,y,T,b,v,E;n.r(t),n.d(t,"Position",function(){return r}),n.d(t,"Range",function(){return i}),n.d(t,"Location",function(){return s}),n.d(t,"LocationLink",function(){return o}),n.d(t,"Color",function(){return a}),n.d(t,"ColorInformation",function(){return c}),n.d(t,"ColorPresentation",function(){return u}),n.d(t,"FoldingRangeKind",function(){return l}),n.d(t,"FoldingRange",function(){return h}),n.d(t,"DiagnosticRelatedInformation",function(){return d}),n.d(t,"DiagnosticSeverity",function(){return p}),n.d(t,"DiagnosticTag",function(){return f}),n.d(t,"Diagnostic",function(){return _}),n.d(t,"Command",function(){return m}),n.d(t,"TextEdit",function(){return g}),n.d(t,"TextDocumentEdit",function(){return y}),n.d(t,"CreateFile",function(){return T}),n.d(t,"RenameFile",function(){return b}),n.d(t,"DeleteFile",function(){return v}),n.d(t,"WorkspaceEdit",function(){return E}),n.d(t,"WorkspaceChange",function(){return H}),n.d(t,"TextDocumentIdentifier",function(){return S}),n.d(t,"VersionedTextDocumentIdentifier",function(){return k}),n.d(t,"TextDocumentItem",function(){return w}),n.d(t,"MarkupKind",function(){return N}),n.d(t,"MarkupContent",function(){return A}),n.d(t,"CompletionItemKind",function(){return x}),n.d(t,"InsertTextFormat",function(){return C}),n.d(t,"CompletionItem",function(){return R}),n.d(t,"CompletionList",function(){return I}),n.d(t,"MarkedString",function(){return O}),n.d(t,"Hover",function(){return D}),n.d(t,"ParameterInformation",function(){return P}),n.d(t,"SignatureInformation",function(){return L}),n.d(t,"DocumentHighlightKind",function(){return M}),n.d(t,"DocumentHighlight",function(){return U}),n.d(t,"SymbolKind",function(){return q}),n.d(t,"SymbolInformation",function(){return F}),n.d(t,"DocumentSymbol",function(){return W}),n.d(t,"CodeActionKind",function(){return j}),n.d(t,"CodeActionContext",function(){return G}),n.d(t,"CodeAction",function(){return V}),n.d(t,"CodeLens",function(){return K}),n.d(t,"FormattingOptions",function(){return $}),n.d(t,"DocumentLink",function(){return z}),n.d(t,"SelectionRange",function(){return Y}),n.d(t,"EOL",function(){return J}),n.d(t,"TextDocument",function(){return X}),n.d(t,"TextDocumentSaveReason",function(){return Q}),function(e){e.create=function(e,t){return{line:e,character:t}},e.is=function(e){var t=e;return Z.objectLiteral(t)&&Z.number(t.line)&&Z.number(t.character)}}(r||(r={})),function(e){e.create=function(e,t,n,i){if(Z.number(e)&&Z.number(t)&&Z.number(n)&&Z.number(i))return{start:r.create(e,t),end:r.create(n,i)};if(r.is(e)&&r.is(t))return{start:e,end:t};throw new Error("Range#create called with invalid arguments["+e+", "+t+", "+n+", "+i+"]")},e.is=function(e){var t=e;return Z.objectLiteral(t)&&r.is(t.start)&&r.is(t.end)}}(i||(i={})),function(e){e.create=function(e,t){return{uri:e,range:t}},e.is=function(e){var t=e;return Z.defined(t)&&i.is(t.range)&&(Z.string(t.uri)||Z.undefined(t.uri))}}(s||(s={})),function(e){e.create=function(e,t,n,r){return{targetUri:e,targetRange:t,targetSelectionRange:n,originSelectionRange:r}},e.is=function(e){var t=e;return Z.defined(t)&&i.is(t.targetRange)&&Z.string(t.targetUri)&&(i.is(t.targetSelectionRange)||Z.undefined(t.targetSelectionRange))&&(i.is(t.originSelectionRange)||Z.undefined(t.originSelectionRange))}}(o||(o={})),function(e){e.create=function(e,t,n,r){return{red:e,green:t,blue:n,alpha:r}},e.is=function(e){var t=e;return Z.number(t.red)&&Z.number(t.green)&&Z.number(t.blue)&&Z.number(t.alpha)}}(a||(a={})),function(e){e.create=function(e,t){return{range:e,color:t}},e.is=function(e){var t=e;return i.is(t.range)&&a.is(t.color)}}(c||(c={})),function(e){e.create=function(e,t,n){return{label:e,textEdit:t,additionalTextEdits:n}},e.is=function(e){var t=e;return Z.string(t.label)&&(Z.undefined(t.textEdit)||g.is(t))&&(Z.undefined(t.additionalTextEdits)||Z.typedArray(t.additionalTextEdits,g.is))}}(u||(u={})),function(e){e.Comment="comment",e.Imports="imports",e.Region="region"}(l||(l={})),function(e){e.create=function(e,t,n,r,i){var s={startLine:e,endLine:t};return Z.defined(n)&&(s.startCharacter=n),Z.defined(r)&&(s.endCharacter=r),Z.defined(i)&&(s.kind=i),s},e.is=function(e){var t=e;return Z.number(t.startLine)&&Z.number(t.startLine)&&(Z.undefined(t.startCharacter)||Z.number(t.startCharacter))&&(Z.undefined(t.endCharacter)||Z.number(t.endCharacter))&&(Z.undefined(t.kind)||Z.string(t.kind))}}(h||(h={})),function(e){e.create=function(e,t){return{location:e,message:t}},e.is=function(e){var t=e;return Z.defined(t)&&s.is(t.location)&&Z.string(t.message)}}(d||(d={})),function(e){e.Error=1,e.Warning=2,e.Information=3,e.Hint=4}(p||(p={})),function(e){e.Unnecessary=1}(f||(f={})),function(e){e.create=function(e,t,n,r,i,s){var o={range:e,message:t};return Z.defined(n)&&(o.severity=n),Z.defined(r)&&(o.code=r),Z.defined(i)&&(o.source=i),Z.defined(s)&&(o.relatedInformation=s),o},e.is=function(e){var t=e;return Z.defined(t)&&i.is(t.range)&&Z.string(t.message)&&(Z.number(t.severity)||Z.undefined(t.severity))&&(Z.number(t.code)||Z.string(t.code)||Z.undefined(t.code))&&(Z.string(t.source)||Z.undefined(t.source))&&(Z.undefined(t.relatedInformation)||Z.typedArray(t.relatedInformation,d.is))}}(_||(_={})),function(e){e.create=function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var i={title:e,command:t};return Z.defined(n)&&n.length>0&&(i.arguments=n),i},e.is=function(e){var t=e;return Z.defined(t)&&Z.string(t.title)&&Z.string(t.command)}}(m||(m={})),function(e){e.replace=function(e,t){return{range:e,newText:t}},e.insert=function(e,t){return{range:{start:e,end:e},newText:t}},e.del=function(e){return{range:e,newText:""}},e.is=function(e){var t=e;return Z.objectLiteral(t)&&Z.string(t.newText)&&i.is(t.range)}}(g||(g={})),function(e){e.create=function(e,t){return{textDocument:e,edits:t}},e.is=function(e){var t=e;return Z.defined(t)&&k.is(t.textDocument)&&Array.isArray(t.edits)}}(y||(y={})),function(e){e.create=function(e,t){var n={kind:"create",uri:e};return void 0===t||void 0===t.overwrite&&void 0===t.ignoreIfExists||(n.options=t),n},e.is=function(e){var t=e;return t&&"create"===t.kind&&Z.string(t.uri)&&(void 0===t.options||(void 0===t.options.overwrite||Z.boolean(t.options.overwrite))&&(void 0===t.options.ignoreIfExists||Z.boolean(t.options.ignoreIfExists)))}}(T||(T={})),function(e){e.create=function(e,t,n){var r={kind:"rename",oldUri:e,newUri:t};return void 0===n||void 0===n.overwrite&&void 0===n.ignoreIfExists||(r.options=n),r},e.is=function(e){var t=e;return t&&"rename"===t.kind&&Z.string(t.oldUri)&&Z.string(t.newUri)&&(void 0===t.options||(void 0===t.options.overwrite||Z.boolean(t.options.overwrite))&&(void 0===t.options.ignoreIfExists||Z.boolean(t.options.ignoreIfExists)))}}(b||(b={})),function(e){e.create=function(e,t){var n={kind:"delete",uri:e};return void 0===t||void 0===t.recursive&&void 0===t.ignoreIfNotExists||(n.options=t),n},e.is=function(e){var t=e;return t&&"delete"===t.kind&&Z.string(t.uri)&&(void 0===t.options||(void 0===t.options.recursive||Z.boolean(t.options.recursive))&&(void 0===t.options.ignoreIfNotExists||Z.boolean(t.options.ignoreIfNotExists)))}}(v||(v={})),function(e){e.is=function(e){var t=e;return t&&(void 0!==t.changes||void 0!==t.documentChanges)&&(void 0===t.documentChanges||t.documentChanges.every(function(e){return Z.string(e.kind)?T.is(e)||b.is(e)||v.is(e):y.is(e)}))}}(E||(E={}));var S,k,w,N,A,x,C,R,I,O,D,P,L,M,U,q,F,B=function(){function e(e){this.edits=e}return e.prototype.insert=function(e,t){this.edits.push(g.insert(e,t))},e.prototype.replace=function(e,t){this.edits.push(g.replace(e,t))},e.prototype.delete=function(e){this.edits.push(g.del(e))},e.prototype.add=function(e){this.edits.push(e)},e.prototype.all=function(){return this.edits},e.prototype.clear=function(){this.edits.splice(0,this.edits.length)},e}(),H=function(){function e(e){var t=this;this._textEditChanges=Object.create(null),e&&(this._workspaceEdit=e,e.documentChanges?e.documentChanges.forEach(function(e){if(y.is(e)){var n=new B(e.edits);t._textEditChanges[e.textDocument.uri]=n}}):e.changes&&Object.keys(e.changes).forEach(function(n){var r=new B(e.changes[n]);t._textEditChanges[n]=r}))}return Object.defineProperty(e.prototype,"edit",{get:function(){return this._workspaceEdit},enumerable:!0,configurable:!0}),e.prototype.getTextEditChange=function(e){if(k.is(e)){if(this._workspaceEdit||(this._workspaceEdit={documentChanges:[]}),!this._workspaceEdit.documentChanges)throw new Error("Workspace edit is not configured for document changes.");var t=e;if(!(r=this._textEditChanges[t.uri])){var n={textDocument:t,edits:i=[]};this._workspaceEdit.documentChanges.push(n),r=new B(i),this._textEditChanges[t.uri]=r}return r}if(this._workspaceEdit||(this._workspaceEdit={changes:Object.create(null)}),!this._workspaceEdit.changes)throw new Error("Workspace edit is not configured for normal text edit changes.");var r;if(!(r=this._textEditChanges[e])){var i=[];this._workspaceEdit.changes[e]=i,r=new B(i),this._textEditChanges[e]=r}return r},e.prototype.createFile=function(e,t){this.checkDocumentChanges(),this._workspaceEdit.documentChanges.push(T.create(e,t))},e.prototype.renameFile=function(e,t,n){this.checkDocumentChanges(),this._workspaceEdit.documentChanges.push(b.create(e,t,n))},e.prototype.deleteFile=function(e,t){this.checkDocumentChanges(),this._workspaceEdit.documentChanges.push(v.create(e,t))},e.prototype.checkDocumentChanges=function(){if(!this._workspaceEdit||!this._workspaceEdit.documentChanges)throw new Error("Workspace edit is not configured for document changes.")},e}();!function(e){e.create=function(e){return{uri:e}},e.is=function(e){var t=e;return Z.defined(t)&&Z.string(t.uri)}}(S||(S={})),function(e){e.create=function(e,t){return{uri:e,version:t}},e.is=function(e){var t=e;return Z.defined(t)&&Z.string(t.uri)&&(null===t.version||Z.number(t.version))}}(k||(k={})),function(e){e.create=function(e,t,n,r){return{uri:e,languageId:t,version:n,text:r}},e.is=function(e){var t=e;return Z.defined(t)&&Z.string(t.uri)&&Z.string(t.languageId)&&Z.number(t.version)&&Z.string(t.text)}}(w||(w={})),function(e){e.PlainText="plaintext",e.Markdown="markdown"}(N||(N={})),function(e){e.is=function(t){var n=t;return n===e.PlainText||n===e.Markdown}}(N||(N={})),function(e){e.is=function(e){var t=e;return Z.objectLiteral(e)&&N.is(t.kind)&&Z.string(t.value)}}(A||(A={})),function(e){e.Text=1,e.Method=2,e.Function=3,e.Constructor=4,e.Field=5,e.Variable=6,e.Class=7,e.Interface=8,e.Module=9,e.Property=10,e.Unit=11,e.Value=12,e.Enum=13,e.Keyword=14,e.Snippet=15,e.Color=16,e.File=17,e.Reference=18,e.Folder=19,e.EnumMember=20,e.Constant=21,e.Struct=22,e.Event=23,e.Operator=24,e.TypeParameter=25}(x||(x={})),function(e){e.PlainText=1,e.Snippet=2}(C||(C={})),function(e){e.create=function(e){return{label:e}}}(R||(R={})),function(e){e.create=function(e,t){return{items:e||[],isIncomplete:!!t}}}(I||(I={})),function(e){e.fromPlainText=function(e){return e.replace(/[\\`*_{}[\]()#+\-.!]/g,"\\$&")},e.is=function(e){var t=e;return Z.string(t)||Z.objectLiteral(t)&&Z.string(t.language)&&Z.string(t.value)}}(O||(O={})),function(e){e.is=function(e){var t=e;return!!t&&Z.objectLiteral(t)&&(A.is(t.contents)||O.is(t.contents)||Z.typedArray(t.contents,O.is))&&(void 0===e.range||i.is(e.range))}}(D||(D={})),function(e){e.create=function(e,t){return t?{label:e,documentation:t}:{label:e}}}(P||(P={})),function(e){e.create=function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var i={label:e};return Z.defined(t)&&(i.documentation=t),Z.defined(n)?i.parameters=n:i.parameters=[],i}}(L||(L={})),function(e){e.Text=1,e.Read=2,e.Write=3}(M||(M={})),function(e){e.create=function(e,t){var n={range:e};return Z.number(t)&&(n.kind=t),n}}(U||(U={})),function(e){e.File=1,e.Module=2,e.Namespace=3,e.Package=4,e.Class=5,e.Method=6,e.Property=7,e.Field=8,e.Constructor=9,e.Enum=10,e.Interface=11,e.Function=12,e.Variable=13,e.Constant=14,e.String=15,e.Number=16,e.Boolean=17,e.Array=18,e.Object=19,e.Key=20,e.Null=21,e.EnumMember=22,e.Struct=23,e.Event=24,e.Operator=25,e.TypeParameter=26}(q||(q={})),function(e){e.create=function(e,t,n,r,i){var s={name:e,kind:t,location:{uri:r,range:n}};return i&&(s.containerName=i),s}}(F||(F={}));var j,G,V,K,$,W=function(){return function(){}}();!function(e){e.create=function(e,t,n,r,i,s){var o={name:e,detail:t,kind:n,range:r,selectionRange:i};return void 0!==s&&(o.children=s),o},e.is=function(e){var t=e;return t&&Z.string(t.name)&&Z.number(t.kind)&&i.is(t.range)&&i.is(t.selectionRange)&&(void 0===t.detail||Z.string(t.detail))&&(void 0===t.deprecated||Z.boolean(t.deprecated))&&(void 0===t.children||Array.isArray(t.children))}}(W||(W={})),function(e){e.QuickFix="quickfix",e.Refactor="refactor",e.RefactorExtract="refactor.extract",e.RefactorInline="refactor.inline",e.RefactorRewrite="refactor.rewrite",e.Source="source",e.SourceOrganizeImports="source.organizeImports"}(j||(j={})),function(e){e.create=function(e,t){var n={diagnostics:e};return null!=t&&(n.only=t),n},e.is=function(e){var t=e;return Z.defined(t)&&Z.typedArray(t.diagnostics,_.is)&&(void 0===t.only||Z.typedArray(t.only,Z.string))}}(G||(G={})),function(e){e.create=function(e,t,n){var r={title:e};return m.is(t)?r.command=t:r.edit=t,void 0!==n&&(r.kind=n),r},e.is=function(e){var t=e;return t&&Z.string(t.title)&&(void 0===t.diagnostics||Z.typedArray(t.diagnostics,_.is))&&(void 0===t.kind||Z.string(t.kind))&&(void 0!==t.edit||void 0!==t.command)&&(void 0===t.command||m.is(t.command))&&(void 0===t.edit||E.is(t.edit))}}(V||(V={})),function(e){e.create=function(e,t){var n={range:e};return Z.defined(t)&&(n.data=t),n},e.is=function(e){var t=e;return Z.defined(t)&&i.is(t.range)&&(Z.undefined(t.command)||m.is(t.command))}}(K||(K={})),function(e){e.create=function(e,t){return{tabSize:e,insertSpaces:t}},e.is=function(e){var t=e;return Z.defined(t)&&Z.number(t.tabSize)&&Z.boolean(t.insertSpaces)}}($||($={}));var Y,z=function(){return function(){}}();!function(e){e.create=function(e,t,n){return{range:e,target:t,data:n}},e.is=function(e){var t=e;return Z.defined(t)&&i.is(t.range)&&(Z.undefined(t.target)||Z.string(t.target))}}(z||(z={})),function(e){e.create=function(e,t){return{range:e,parent:t}},e.is=function(t){var n=t;return void 0!==n&&i.is(n.range)&&(void 0===n.parent||e.is(n.parent))}}(Y||(Y={}));var X,Q,J=["\n","\r\n","\r"];!function(e){e.create=function(e,t,n,r){return new ee(e,t,n,r)},e.is=function(e){var t=e;return!!(Z.defined(t)&&Z.string(t.uri)&&(Z.undefined(t.languageId)||Z.string(t.languageId))&&Z.number(t.lineCount)&&Z.func(t.getText)&&Z.func(t.positionAt)&&Z.func(t.offsetAt))},e.applyEdits=function(e,t){for(var n=e.getText(),r=function e(t,n){if(t.length<=1)return t;var r=t.length/2|0,i=t.slice(0,r),s=t.slice(r);e(i,n),e(s,n);for(var o=0,a=0,c=0;o<i.length&&a<s.length;){var u=n(i[o],s[a]);t[c++]=u<=0?i[o++]:s[a++]}for(;o<i.length;)t[c++]=i[o++];for(;a<s.length;)t[c++]=s[a++];return t}(t,function(e,t){var n=e.range.start.line-t.range.start.line;return 0===n?e.range.start.character-t.range.start.character:n}),i=n.length,s=r.length-1;s>=0;s--){var o=r[s],a=e.offsetAt(o.range.start),c=e.offsetAt(o.range.end);if(!(c<=i))throw new Error("Overlapping edit");n=n.substring(0,a)+o.newText+n.substring(c,n.length),i=a}return n}}(X||(X={})),function(e){e.Manual=1,e.AfterDelay=2,e.FocusOut=3}(Q||(Q={}));var Z,ee=function(){function e(e,t,n,r){this._uri=e,this._languageId=t,this._version=n,this._content=r,this._lineOffsets=null}return Object.defineProperty(e.prototype,"uri",{get:function(){return this._uri},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"languageId",{get:function(){return this._languageId},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"version",{get:function(){return this._version},enumerable:!0,configurable:!0}),e.prototype.getText=function(e){if(e){var t=this.offsetAt(e.start),n=this.offsetAt(e.end);return this._content.substring(t,n)}return this._content},e.prototype.update=function(e,t){this._content=e.text,this._version=t,this._lineOffsets=null},e.prototype.getLineOffsets=function(){if(null===this._lineOffsets){for(var e=[],t=this._content,n=!0,r=0;r<t.length;r++){n&&(e.push(r),n=!1);var i=t.charAt(r);n="\r"===i||"\n"===i,"\r"===i&&r+1<t.length&&"\n"===t.charAt(r+1)&&r++}n&&t.length>0&&e.push(t.length),this._lineOffsets=e}return this._lineOffsets},e.prototype.positionAt=function(e){e=Math.max(Math.min(e,this._content.length),0);var t=this.getLineOffsets(),n=0,i=t.length;if(0===i)return r.create(0,e);for(;n<i;){var s=Math.floor((n+i)/2);t[s]>e?i=s:n=s+1}var o=n-1;return r.create(o,e-t[o])},e.prototype.offsetAt=function(e){var t=this.getLineOffsets();if(e.line>=t.length)return this._content.length;if(e.line<0)return 0;var n=t[e.line],r=e.line+1<t.length?t[e.line+1]:this._content.length;return Math.max(Math.min(n+e.character,r),n)},Object.defineProperty(e.prototype,"lineCount",{get:function(){return this.getLineOffsets().length},enumerable:!0,configurable:!0}),e}();!function(e){var t=Object.prototype.toString;e.defined=function(e){return void 0!==e},e.undefined=function(e){return void 0===e},e.boolean=function(e){return!0===e||!1===e},e.string=function(e){return"[object String]"===t.call(e)},e.number=function(e){return"[object Number]"===t.call(e)},e.func=function(e){return"[object Function]"===t.call(e)},e.objectLiteral=function(e){return null!==e&&"object"==typeof e},e.typedArray=function(e,t){return Array.isArray(e)&&e.every(t)}}(Z||(Z={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(7),i=n(13);function s(e,t){let n=t.start,r=t.end;return e.line<n.line||e.line===n.line&&e.character<n.character?-1:e.line>r.line||e.line===r.line&&e.character>r.character?1:0}function o(e,t){return e&&t&&e.character===t.character&&e.line===t.line}function a(e,t){return e&&t&&o(e.start,t.start)&&o(e.end,t.end)}t.top=function(e){return e.length?e[e.length-1]:null},t.isString=function(e){return"string"==typeof e||e instanceof String},t.isInRange=s,t.hasRangeOverlap=function(e,t){return 0===s(e.start,t)||0===s(e.end,t)||0===s(t.start,e)||0===s(t.end,e)||a(e,t)},t.positionEquality=o,t.rangeEquality=a,t.acronym=function(e){if(!e)return"";let t,n=e.toLowerCase(),r=0,i=e.length,s="_"!==n[0]&&"$"!==n[0]?n[0]:"";for(;r<i;)("$"===(t=e[r])||"_"===t)&&r+1<i&&"_"!==e[r+1]?s+=n[++r]:r>0&&t!==n[r]&&e[r-1]===n[r-1]&&(s+=n[r]),++r;return s},t.contSubstringMatch=function(e,t){let n=0,r=0,i=0,s=e.length;for(;i<s&&(r=t.indexOf(e[i],r))>-1;)n+=1/(r-i+1),++r,++i;return i===s?n/s:-1},t.ciStringContains=function(e,t){return!e||t.toLowerCase().indexOf(e.toLowerCase())>-1},t.ciStringMatch=function(e,t){return e.toLowerCase()===t.toLowerCase()};const c=Math.pow(2,31)-1;function u(e,t){if(!e)return 0;let n,r=t||0;for(let t=0,i=e.length;t<i;++t)r=(r<<5)-r+(n=e.charCodeAt(t)),r|=0;return r}t.unsignedHash32=function(e,t){let n=u(e,t);return n<0?Math.abs(n)+c:n},t.hash32=u,t.filter=function(e,t){let n,r=[];if(!e)return r;for(let i=0,s=e.length;i<s;++i)t(n=e[i])&&r.push(n);return r},t.find=function(e,t){if(!e)return;let n;for(let r=0,i=e.length;r<i;++r)if(t(n=e[r]))return n},t.cloneRange=function(e){return r.Range.create(e.start.line,e.start.character,e.end.line,e.end.character)};t.Iterator=class{constructor(e,t){this.items=e,this.filter=t,this.i=-1}next(){for(;++this.i<this.items.length&&this.filter&&!this.filter(this.items[this.i]););return this.i<this.items.length?this.items[this.i]:void 0}},t.ucFirst=function(e){return e?e[0].toUpperCase()+e.slice(1):""},t.lcFirst=function(e){return e?e[0].toLowerCase()+e.slice(1):""},t.arrayDifference=function(e,t){const n=new Set(t);return e.filter(e=>!n.has(e))},t.setUnion=function(e,t){if(e===t)return e;const n=new Set(e);for(let e of t.values())n.add(e);return n};const l=/^\s+$/;t.isWhitespace=function(e){return null!==e.match(l)},t.hasNewline=function(e){if(!e)return!1;let t;for(let n=0,r=e.length;n<r;++n)if("\n"===(t=e[n])||"\r"===t)return!0;return!1},t.newlineCount=function(e){if(!e)return 0;let t,n=0;for(let r=0,i=e.length;r<i;++r)"\r"===(t=e[r])?(++n,++r<i&&"\n"!==e[r]&&--r):"\n"===t&&++n;return n},t.setDeepObjectValue=function(e,t,n){const r=t.split("."),i=r.pop();let s;for(let t=0;t<r.length&&void 0!==e;++t)e=e[s=r[t]];e&&"object"==typeof e&&(e[i]=n)},t.getDeepObjectValue=function(e,t,n){const r=t.split(".");let i;for(let t=0;t<r.length&&void 0!==e;++t)e=e[i=r[t]];return void 0!==e?e:n},t.isWindows=function(){return"win32"===i.platform()},t.stringCompare=function(e,t){return e<t?-1:e>t?1:0},t.greaterThanText=function(e){let t=65535;for(;e.length>0&&65535===t;)t=e.charCodeAt(e.length-1),e=e.slice(0,-1);return(e||65535!==t)&&(e+=String.fromCodePoint(++t)),e},t.hrtimeCompare=function(e,t){let n=e[0]-t[0];return 0===n&&(n=e[1]-t[1]),n},t.isNotUndefined=function(e){return void 0!==e},t.withTimeout=function(e,t){return new Promise((n,r)=>{let i=setTimeout(()=>r(new Error(`Operation failed to complete in ${t}ms.`)));e.then(e=>{n(e)}).catch(e=>{r(e)}).finally(()=>{clearTimeout(i)})})}},function(e,t,n){"use strict";function r(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0});const i=n(37),s=n(186);t.RequestType=s.RequestType,t.RequestType0=s.RequestType0,t.RequestType1=s.RequestType1,t.RequestType2=s.RequestType2,t.RequestType3=s.RequestType3,t.RequestType4=s.RequestType4,t.RequestType5=s.RequestType5,t.RequestType6=s.RequestType6,t.RequestType7=s.RequestType7,t.RequestType8=s.RequestType8,t.RequestType9=s.RequestType9,t.ResponseError=s.ResponseError,t.ErrorCodes=s.ErrorCodes,t.NotificationType=s.NotificationType,t.NotificationType0=s.NotificationType0,t.NotificationType1=s.NotificationType1,t.NotificationType2=s.NotificationType2,t.NotificationType3=s.NotificationType3,t.NotificationType4=s.NotificationType4,t.NotificationType5=s.NotificationType5,t.NotificationType6=s.NotificationType6,t.NotificationType7=s.NotificationType7,t.NotificationType8=s.NotificationType8,t.NotificationType9=s.NotificationType9;const o=n(63);t.MessageReader=o.MessageReader,t.StreamMessageReader=o.StreamMessageReader,t.IPCMessageReader=o.IPCMessageReader,t.SocketMessageReader=o.SocketMessageReader;const a=n(64);t.MessageWriter=a.MessageWriter,t.StreamMessageWriter=a.StreamMessageWriter,t.IPCMessageWriter=a.IPCMessageWriter,t.SocketMessageWriter=a.SocketMessageWriter;const c=n(45);t.Disposable=c.Disposable,t.Event=c.Event,t.Emitter=c.Emitter;const u=n(187);t.CancellationTokenSource=u.CancellationTokenSource,t.CancellationToken=u.CancellationToken;const l=n(188);var h,d,p,f,_,m,g;r(n(189)),r(n(190)),function(e){e.type=new s.NotificationType("$/cancelRequest")}(h||(h={})),t.NullLogger=Object.freeze({error:()=>{},warn:()=>{},info:()=>{},log:()=>{}}),function(e){e[e.Off=0]="Off",e[e.Messages=1]="Messages",e[e.Verbose=2]="Verbose"}(d=t.Trace||(t.Trace={})),function(e){e.fromString=function(t){switch(t=t.toLowerCase()){case"off":return e.Off;case"messages":return e.Messages;case"verbose":return e.Verbose;default:return e.Off}},e.toString=function(t){switch(t){case e.Off:return"off";case e.Messages:return"messages";case e.Verbose:return"verbose";default:return"off"}}}(d=t.Trace||(t.Trace={})),function(e){e.Text="text",e.JSON="json"}(p=t.TraceFormat||(t.TraceFormat={})),function(e){e.fromString=function(t){return"json"===(t=t.toLowerCase())?e.JSON:e.Text}}(p=t.TraceFormat||(t.TraceFormat={})),function(e){e.type=new s.NotificationType("$/setTraceNotification")}(f=t.SetTraceNotification||(t.SetTraceNotification={})),function(e){e.type=new s.NotificationType("$/logTraceNotification")}(_=t.LogTraceNotification||(t.LogTraceNotification={})),function(e){e[e.Closed=1]="Closed",e[e.Disposed=2]="Disposed",e[e.AlreadyListening=3]="AlreadyListening"}(m=t.ConnectionErrors||(t.ConnectionErrors={}));class y extends Error{constructor(e,t){super(t),this.code=e,Object.setPrototypeOf(this,y.prototype)}}function T(e,t,n,r){let o=0,a=0,T=0;const b="2.0";let v,E,S=void 0,k=Object.create(null),w=void 0,N=Object.create(null),A=new l.LinkedMap,x=Object.create(null),C=Object.create(null),R=d.Off,I=p.Text,O=g.New,D=new c.Emitter,P=new c.Emitter,L=new c.Emitter,M=new c.Emitter;function U(e){return"req-"+e.toString()}function q(e,t){var n;s.isRequestMessage(t)?e.set(U(t.id),t):s.isResponseMessage(t)?e.set(null===(n=t.id)?"res-unknown-"+(++T).toString():"res-"+n.toString(),t):e.set("not-"+(++a).toString(),t)}function F(e){}function B(){return O===g.Listening}function H(){return O===g.Closed}function j(){return O===g.Disposed}function G(){O!==g.New&&O!==g.Listening||(O=g.Closed,P.fire(void 0))}function V(){v||0===A.size||(v=setImmediate(()=>{v=void 0,function(){if(0===A.size)return;let e=A.shift();try{s.isRequestMessage(e)?function(e){if(j())return;function n(n,r,i){let o={jsonrpc:b,id:e.id};n instanceof s.ResponseError?o.error=n.toJson():o.result=void 0===n?null:n,$(o,r,i),t.write(o)}function r(n,r,i){let s={jsonrpc:b,id:e.id,error:n.toJson()};$(s,r,i),t.write(s)}!function(e){if(R===d.Off||!E)return;if(I===p.Text){let t=void 0;R===d.Verbose&&e.params&&(t=`Params: ${JSON.stringify(e.params,null,4)}\n\n`),E.log(`Received request '${e.method} - (${e.id})'.`,t)}else W("receive-request",e)}(e);let o,a,c=k[e.method];c&&(o=c.type,a=c.handler);let l=Date.now();if(a||S){let c=new u.CancellationTokenSource,h=String(e.id);C[h]=c;try{let u,d=u=void 0===e.params||void 0!==o&&0===o.numberOfParams?a?a(c.token):S(e.method,c.token):i.array(e.params)&&(void 0===o||o.numberOfParams>1)?a?a(...e.params,c.token):S(e.method,...e.params,c.token):a?a(e.params,c.token):S(e.method,e.params,c.token);u?d.then?d.then(t=>{delete C[h],n(t,e.method,l)},t=>{delete C[h],t instanceof s.ResponseError?r(t,e.method,l):t&&i.string(t.message)?r(new s.ResponseError(s.ErrorCodes.InternalError,`Request ${e.method} failed with message: ${t.message}`),e.method,l):r(new s.ResponseError(s.ErrorCodes.InternalError,`Request ${e.method} failed unexpectedly without providing any details.`),e.method,l)}):(delete C[h],n(u,e.method,l)):(delete C[h],function(n,r,i){void 0===n&&(n=null);let s={jsonrpc:b,id:e.id,result:n};$(s,r,i),t.write(s)}(u,e.method,l))}catch(t){delete C[h],t instanceof s.ResponseError?n(t,e.method,l):t&&i.string(t.message)?r(new s.ResponseError(s.ErrorCodes.InternalError,`Request ${e.method} failed with message: ${t.message}`),e.method,l):r(new s.ResponseError(s.ErrorCodes.InternalError,`Request ${e.method} failed unexpectedly without providing any details.`),e.method,l)}}else r(new s.ResponseError(s.ErrorCodes.MethodNotFound,`Unhandled method ${e.method}`),e.method,l)}(e):s.isNotificationMessage(e)?function(e){if(j())return;let t,r=void 0;if(e.method===h.type.method)t=e=>{let t=e.id,n=C[String(t)];n&&n.cancel()};else{let n=N[e.method];n&&(t=n.handler,r=n.type)}if(t||w)try{!function(e){if(R===d.Off||!E||e.method===_.type.method)return;if(I===p.Text){let t=void 0;R===d.Verbose&&(t=e.params?`Params: ${JSON.stringify(e.params,null,4)}\n\n`:"No parameters provided.\n\n"),E.log(`Received notification '${e.method}'.`,t)}else W("receive-notification",e)}(e),void 0===e.params||void 0!==r&&0===r.numberOfParams?t?t():w(e.method):i.array(e.params)&&(void 0===r||r.numberOfParams>1)?t?t(...e.params):w(e.method,...e.params):t?t(e.params):w(e.method,e.params)}catch(t){t.message?n.error(`Notification handler '${e.method}' failed with message: ${t.message}`):n.error(`Notification handler '${e.method}' failed unexpectedly.`)}else L.fire(e)}(e):s.isResponseMessage(e)?function(e){if(j())return;if(null===e.id)e.error?n.error(`Received response message without id: Error is: \n${JSON.stringify(e.error,void 0,4)}`):n.error("Received response message without id. No further error information provided.");else{let t=String(e.id),r=x[t];if(function(e,t){if(R===d.Off||!E)return;if(I===p.Text){let n=void 0;if(R===d.Verbose&&(e.error&&e.error.data?n=`Error data: ${JSON.stringify(e.error.data,null,4)}\n\n`:e.result?n=`Result: ${JSON.stringify(e.result,null,4)}\n\n`:void 0===e.error&&(n="No result returned.\n\n")),t){let r=e.error?` Request failed: ${e.error.message} (${e.error.code}).`:"";E.log(`Received response '${t.method} - (${e.id})' in ${Date.now()-t.timerStart}ms.${r}`,n)}else E.log(`Received response ${e.id} without active response promise.`,n)}else W("receive-response",e)}(e,r),r){delete x[t];try{if(e.error){let t=e.error;r.reject(new s.ResponseError(t.code,t.message,t.data))}else{if(void 0===e.result)throw new Error("Should never happen.");r.resolve(e.result)}}catch(e){e.message?n.error(`Response handler '${r.method}' failed with message: ${e.message}`):n.error(`Response handler '${r.method}' failed unexpectedly.`)}}}}(e):function(e){if(!e)return void n.error("Received empty message.");n.error(`Received message which is neither a response nor a notification message:\n${JSON.stringify(e,null,4)}`);let t=e;if(i.string(t.id)||i.number(t.id)){let e=String(t.id),n=x[e];n&&n.reject(new Error("The received response has neither a result nor an error property."))}}(e)}finally{V()}}()}))}e.onClose(G),e.onError(function(e){D.fire([e,void 0,void 0])}),t.onClose(G),t.onError(function(e){D.fire(e)});let K=e=>{try{if(s.isNotificationMessage(e)&&e.method===h.type.method){let n=U(e.params.id),i=A.get(n);if(s.isRequestMessage(i)){let s=r&&r.cancelUndispatched?r.cancelUndispatched(i,F):void 0;if(s&&(void 0!==s.error||void 0!==s.result))return A.delete(n),s.id=i.id,$(s,e.method,Date.now()),void t.write(s)}}q(A,e)}finally{V()}};function $(e,t,n){if(R!==d.Off&&E)if(I===p.Text){let r=void 0;R===d.Verbose&&(e.error&&e.error.data?r=`Error data: ${JSON.stringify(e.error.data,null,4)}\n\n`:e.result?r=`Result: ${JSON.stringify(e.result,null,4)}\n\n`:void 0===e.error&&(r="No result returned.\n\n")),E.log(`Sending response '${t} - (${e.id})'. Processing request took ${Date.now()-n}ms`,r)}else W("send-response",e)}function W(e,t){if(!E||R===d.Off)return;const n={isLSPMessage:!0,type:e,message:t,timestamp:Date.now()};E.log(n)}function Y(){if(H())throw new y(m.Closed,"Connection is closed.");if(j())throw new y(m.Disposed,"Connection is disposed.")}function z(e){return void 0===e?null:e}function X(e,t){let n,r=e.numberOfParams;switch(r){case 0:n=null;break;case 1:n=z(t[0]);break;default:n=[];for(let e=0;e<t.length&&e<r;e++)n.push(z(t[e]));if(t.length<r)for(let e=t.length;e<r;e++)n.push(null)}return n}let Q={sendNotification:(e,...n)=>{let r,s;if(Y(),i.string(e))switch(r=e,n.length){case 0:s=null;break;case 1:s=n[0];break;default:s=n}else r=e.method,s=X(e,n);let o={jsonrpc:b,method:r,params:s};!function(e){if(R!==d.Off&&E)if(I===p.Text){let t=void 0;R===d.Verbose&&(t=e.params?`Params: ${JSON.stringify(e.params,null,4)}\n\n`:"No parameters provided.\n\n"),E.log(`Sending notification '${e.method}'.`,t)}else W("send-notification",e)}(o),t.write(o)},onNotification:(e,t)=>{Y(),i.func(e)?w=e:t&&(i.string(e)?N[e]={type:void 0,handler:t}:N[e.method]={type:e,handler:t})},sendRequest:(e,...n)=>{let r,a;Y(),function(){if(!B())throw new Error("Call listen() first.")}();let c=void 0;if(i.string(e))switch(r=e,n.length){case 0:a=null;break;case 1:u.CancellationToken.is(n[0])?(a=null,c=n[0]):a=z(n[0]);break;default:const t=n.length-1;u.CancellationToken.is(n[t])?(c=n[t],a=2===n.length?z(n[0]):n.slice(0,t).map(e=>z(e))):a=n.map(e=>z(e))}else{r=e.method,a=X(e,n);let t=e.numberOfParams;c=u.CancellationToken.is(n[t])?n[t]:void 0}let l=o++,f=new Promise((e,n)=>{let i={jsonrpc:b,id:l,method:r,params:a},o={method:r,timerStart:Date.now(),resolve:e,reject:n};!function(e){if(R!==d.Off&&E)if(I===p.Text){let t=void 0;R===d.Verbose&&e.params&&(t=`Params: ${JSON.stringify(e.params,null,4)}\n\n`),E.log(`Sending request '${e.method} - (${e.id})'.`,t)}else W("send-request",e)}(i);try{t.write(i)}catch(e){o.reject(new s.ResponseError(s.ErrorCodes.MessageWriteError,e.message?e.message:"Unknown reason")),o=null}o&&(x[String(l)]=o)});return c&&c.onCancellationRequested(()=>{Q.sendNotification(h.type,{id:l})}),f},onRequest:(e,t)=>{Y(),i.func(e)?S=e:t&&(i.string(e)?k[e]={type:void 0,handler:t}:k[e.method]={type:e,handler:t})},trace:(e,t,n)=>{let r=!1,s=p.Text;void 0!==n&&(i.boolean(n)?r=n:(r=n.sendNotification||!1,s=n.traceFormat||p.Text)),I=s,E=(R=e)===d.Off?void 0:t,!r||H()||j()||Q.sendNotification(f.type,{value:d.toString(e)})},onError:D.event,onClose:P.event,onUnhandledNotification:L.event,onDispose:M.event,dispose:()=>{if(j())return;O=g.Disposed,M.fire(void 0);let n=new Error("Connection got disposed.");Object.keys(x).forEach(e=>{x[e].reject(n)}),x=Object.create(null),C=Object.create(null),A=new l.LinkedMap,i.func(t.dispose)&&t.dispose(),i.func(e.dispose)&&e.dispose()},listen:()=>{Y(),function(){if(B())throw new y(m.AlreadyListening,"Connection is already listening")}(),O=g.Listening,e.listen(K)},inspect:()=>{console.log("inspect")}};return Q.onNotification(_.type,e=>{R!==d.Off&&E&&E.log(e.message,R===d.Verbose?e.verbose:void 0)}),Q}t.ConnectionError=y,function(e){e.is=function(e){let t=e;return t&&i.func(t.cancelUndispatched)}}(t.ConnectionStrategy||(t.ConnectionStrategy={})),function(e){e[e.New=1]="New",e[e.Listening=2]="Listening",e[e.Closed=3]="Closed",e[e.Disposed=4]="Disposed"}(g||(g={})),t.createMessageConnection=function(e,n,r,i){var s;return r||(r=t.NullLogger),T(void 0!==(s=e).listen&&void 0===s.read?e:new o.StreamMessageReader(e),function(e){return void 0!==e.write&&void 0===e.end}(n)?n:new a.StreamMessageWriter(n),r,i)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(0);!function(e){const t={int:"int",string:"string",bool:"bool",float:"float",iterable:"iterable",true:"true",false:"false",null:"null",void:"void",object:"object"},n={resource:"resource",mixed:"mixed",numeric:"numeric"},i={$GLOBALS:"$GLOBALS",$_SERVER:"$_SERVER",$_GET:"$_GET",$_POST:"$_POST",$_FILES:"$_FILES",$_REQUEST:"$_REQUEST",$_SESSION:"$_SESSION",$_ENV:"$_ENV",$_COOKIE:"$_COOKIE",$php_errormsg:"$php_errormsg",$HTTP_RAW_POST_DATA:"$HTTP_RAW_POST_DATA",$http_response_header:"$http_response_header",$argc:"$argc",$argv:"$argv",$this:"$this"},s={$GLOBALS:"array",$_SERVER:"array",$_GET:"array",$_POST:"array",$_FILES:"array",$_REQUEST:"array",$_SESSION:"array",$_ENV:"array",$_COOKIE:"array",$php_errormsg:"string",$HTTP_RAW_POST_DATA:"string",$http_response_header:"array",$argc:"int",$argv:"array"};function o(e){return void 0!==t[e]}function a(e){return"self"===e||"parent"===e||"static"===e}function c(e){const t=e.slice(0,1),n=e.slice(-1);return"'"!==t&&'"'!==t||(e=e.slice(1)),"'"!==n&&'"'!==n||(e=e.slice(0,-1)),e}function u(e,t){if(!e)return"";t&&(e=c(e));let n,r,i="";for(let t=0,s=e.length;t<s;++t){if("\\"===(n=e[t]))switch(r=e[t+1]){case"n":i+="\n",++t;continue;case"r":i+="\r",++t;continue;case"t":i+="\t",++t;continue;case"v":i+="\v",++t;continue;case"e":i+="",++t;continue;case"f":i+="\f",++t;continue;case"\\":i+="\\",++t;continue;case"$":i+="$",++t;continue;case'"':i+='"',++t;continue;case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":{l(e[t+2])&&(r+=e[t+2],l(e[t+3])&&(r+=e[t+3]));let n=255&(parseInt(r,8)||0);i+=String.fromCodePoint(n),t+=r.length;continue}case"x":if(h(e[t+2])){r=e[t+2],h(e[t+3])&&(r+=e[t+3]);let n=parseInt(r,16)||0;i+=String.fromCodePoint(n),t+=r.length+1;continue}break;case"u":if("{"===(r=e[t+2])){r="";let n=t+2;for(;++n<s&&"}"!==e[n];)r+=e[n];let o=parseInt(r,16)||0;i+=String.fromCodePoint(o),t+=r.length+3;continue}}i+=n}return i}function l(e){switch(e){case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":return!0;default:return!1}}function h(e){if(!e)return!1;const t=e.codePointAt(0);return void 0!==t&&(t>47&&t<58||t>64&&t<71||t>96&&t<103)}function d(e){return Number(e)}e.LANGUAGE_ID="php",e.isPredefinedVariable=function(e){return void 0!==i[e]},e.getPredefinedVariableType=function(e){return s[e]},e.isSuperGlobal=function(e){switch(e){case"$GLOBALS":case"$_SERVER":case"$_GET":case"$_POST":case"$_FILES":case"$_REQUEST":case"$_SESSION":case"$_ENV":case"$_COOKIE":return!0;default:return!1}},e.isReservedName=o,e.isSoftReservedName=function(e){return void 0!==n[e]},e.isRelativeName=a,e.isReservedNameOrRelativeName=function(e){return o(e)||a(e)},e.isReservedMethodName=function(e){return e&&"__"===e.slice(0,2)},e.resolveIncludePath=function(e,t,n,i){if(!e)return[];let s=[];const o="win32"===process.platform?r.win32:r,a=o.parse(e);if("win32"===process.platform&&("\\"===a.root||"/"===a.root)){let t=o.parse(process.cwd());e=o.join(t.root,e)}return a.dir||(s=i.map(t=>o.join(t,e))),o.isAbsolute(e)?s.push(o.normalize(e)):(s.push(o.join(n,e)),s.push(o.join(t,e))),s},e.dirname=function(e){let t=e[0]&&e[0].value?e[0].value.toString():"",n=t.replace(/\\/g,"/"),r=1,i=n.length;for(e[1]&&e[1].value&&(r=d(e[1].value)||1);r>0&&i>-1;)--r,i=n.lastIndexOf("/",i-1);return i===n.length||i<0?".":0===i?t[0]:t.slice(0,i)},e.parseString=function(e,t){switch(t){case 77:return'"'===(e||"").slice(0,1)?u(e,!0):function(e,t){if(!e)return"";t&&(e=c(e));let n,r,i="";for(let t=0,s=e.length;t<s;++t)"\\"!==(n=e[t])||"\\"!==(r=e[t+1])&&"'"!==r?i+=n:(i+=r,++t);return i}(e,!0);case 79:return u(e,!1);default:return e||""}},e.toNumber=d,e.isExpression=function(e){switch(e.kind){case 1001:case 1019:case 1170:case 1112:case 1065:case 1151:case 1016:case 1038:case 1014:case 1150:case 1095:case 1037:case 1035:case 1040:case 1009:case 1156:case 1057:case 1060:case 1062:case 1104:case 1126:case 1127:case 1128:case 1129:case 1138:case 1149:case 1102:case 1080:case 1131:case 1107:case 1024:case 1147:case 1145:case 1004:case 1152:case 1136:case 1079:case 1139:case 1041:case 1123:case 1092:case 1093:case 1141:case 1142:case 1051:case 1089:case 1057:case 77:case 81:case 78:case 76:case 70:case 71:case 75:case 73:case 72:case 69:case 74:case 79:return!0;default:return!1}}}(t.PHP||(t.PHP={}))},function(e,t,n){"use strict";t.fromCallback=function(e){return Object.defineProperty(function(){if("function"!=typeof arguments[arguments.length-1])return new Promise((t,n)=>{arguments[arguments.length]=(e,r)=>{if(e)return n(e);t(r)},arguments.length++,e.apply(this,arguments)});e.apply(this,arguments)},"name",{value:e.name})},t.fromPromise=function(e){return Object.defineProperty(function(){const t=arguments[arguments.length-1];if("function"!=typeof t)return e.apply(this,arguments);e.apply(this,arguments).then(e=>t(null,e),t)},"name",{value:e.name})}},function(e,t,n){"use strict";const r=(0,n(11).fromCallback)(n(366)),i=n(367);e.exports={mkdirs:r,mkdirsSync:i,mkdirp:r,mkdirpSync:i,ensureDir:r,ensureDirSync:i}},function(e,t){e.exports=require("os")},function(e,t){e.exports=require("fs")},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(2),i=n(7),s=n(20),o=n(10),a=n(8),c=n(4),u=n(49);t.ParseTree=class{constructor(e,t){this.root=e,this.doc=t,this.nodeMaps={}}get id(){return this.doc.id}get uri(){return this.doc.uri}find(e){return new r.TreeTraverser([this.root]).find(e)}traverse(e){return this.getTraverser().traverse(e)}getTraverser(){return new p([this.root],this.getNodeUtils(),this.nodeMaps)}findReferenceAtPosition(e){const t=this.doc.positionToOffset(e),n=this.getTraverser();n.seek(t);const i=r.PackedPosition.fromLspPosition(e);let s=n.reference();if(s||(n.seek(t-1),s=n.reference()),s)return Array.isArray(s)?(s=s.find(e=>e.range&&i>=e.range.start&&i<=e.range.end))?{reference:s,traverser:n}:void 0:{reference:s,traverser:n}}getNodeUtils(){return new h(this.doc)}documentLanguageRanges(){const e=new d(this.getNodeUtils());return this.traverse(e),e.ranges}};class l{constructor(){this.value=0}offset(e){if(!e)return 0;let t=-e.length,n=e;for(;n&&n!==this.last;)t+=n.length,n=n.previous;return this.last=e,n?this.value+=n.length+t:this.value=t}markOffset(e,t){this.last=e,this.value=t}}class h{constructor(e){this.doc=e,this.anonCounter=0,this.tokenOffsetCache=new l}get uriId(){return this.doc.id}get uri(){return this.doc.uri}get textLength(){return this.doc.text.length}nodePackedRange(e){const t=this.nodeRange(e);return t?r.PackedRange.fromLspRange(t):void 0}getPackedRange(e,t){return{start:r.PackedPosition.fromLspPosition(this.doc.offsetToPosition(e)),end:r.PackedPosition.fromLspPosition(this.doc.offsetToPosition(e+t))}}nodeLocation(e){const t=this.nodeRange(e);return t?i.Location.create(this.doc.uri,t):void 0}getLocation(e,t){const n=this.getRange(e,t);return n?i.Location.create(this.doc.uri,n):void 0}getRange(e,t){return{start:this.doc.offsetToPosition(e),end:this.doc.offsetToPosition(e+t)}}nodeRange(e){const t=this.nodeOffset(e);if(!(t<0))return{start:this.doc.offsetToPosition(t),end:this.doc.offsetToPosition(t+e.length)}}nodeRangeFromSpine(e){const t=h.nodeOffsetFromSpine(e);return{start:this.offsetToPosition(t),end:this.offsetToPosition(t+e[e.length-1].length)}}textSlice(e,t){return this.doc.text.slice(e,t)}nodeText(e){const t=this.nodeOffset(e);return t<0?"":this.doc.text.slice(t,t+e.length)}nodeTextFromSpine(e){const t=h.nodeOffsetFromSpine(e);return t<0?"":this.doc.text.slice(t,t+e[e.length-1].length)}rangeText(e){return this.doc.text.slice(this.positionToOffset(e.start),this.positionToOffset(e.end))}createSymbolName(e,t){let n=[t,this.uri,e.length.toString(),this.anonCounter.toString()].join("#"),r=a.unsignedHash32(n).toString(16);return++this.anonCounter,`#${t}#${r}`}positionToOffset(e){return this.doc.positionToOffset(e)}offsetToPosition(e){return this.doc.offsetToPosition(e)}nodeOffset(e){const t=h.firstToken(e);return t?this.tokenOffsetCache.offset(t):-1}clone(){return new h(this.doc)}markOffset(e,t){const n=h.firstToken(e);n&&this.tokenOffsetCache.markOffset(n,t)}getLeadingTrivia(e){let t=h.firstToken(e);if(!t)return[];let n=this.nodeOffset(t);return this.getTokenLeadingTrivia(t,n)}getTokenLeadingTrivia(e,t){let n;const r=[];if(!e)return r;for(;(e=e.previous)&&h.isTrivia(e);)t-=e.length,n=this.doc.text.slice(t,t+e.length),r.unshift({token:e,offset:t,range:i.Range.create(this.offsetToPosition(t),this.offsetToPosition(t+e.length)),text:n});return r}getLeadingTriviaFromSpine(e){let t=h.nodeOffsetFromSpine(e),n=h.firstToken(e[e.length-1]);return n?this.getTokenLeadingTrivia(n,t):[]}leadingDocumentComment(e){let t=h.firstToken(e);if(!t)return;let n=this.nodeOffset(t);for(;(t=t.previous)&&h.isTrivia(t);)n-=t.length;return t&&159===t.kind?{token:t,offset:n-=t.length,range:i.Range.create(this.offsetToPosition(n),this.offsetToPosition(n+t.length)),text:this.doc.text.slice(n,n+t.length)}:void 0}getDefinitionNodeIdentifierRange(e,t){let n;switch((t=t.slice(0)).push(e),e.kind){case 1028:case 1098:case 1161:case 1081:t.push(e.children[0]),n=e.children[0].children.find(e=>82===e.kind);break;case 1108:t.push(e.children[0]),n=e.children[0].children.find(e=>1090===e.kind);break;case 1133:case 1043:case 1026:n=e.children[0];break;case 1124:n=e.children.find(e=>83===e.kind);break;case 1080:t.push(e.children[2]),n=e.children[2].children[0];break;default:n=t.pop()}if(n&&1061!==n.kind)return t.push(n),this.nodeRangeFromSpine(t)}areSiblingsOnSameLine(e,t,n){if(!e||!t)return!1;let r=this.nodeRangeFromSpine([...n,e]),i=this.nodeRangeFromSpine([...n,t]);return r&&i&&r.start.line===i.start.line}}t.NodeUtils=h,function(e){function t(e){return e.kind>159}function n(e,t){if(!e||!e.children)return-1;for(let n=0,r=e.children.length;n<r;++n)if(e.children[n]===t)return n;return-1}function r(e){if(!e)return;if(s.isToken(e))return e;let t;for(let n=0,i=e.children.length;n<i;++n)if(t=r(e.children[n]))return t}function i(e){if(!e)return!1;switch(e.kind){case 1148:case 1028:case 1161:case 1098:case 1002:case 1004:case 1108:case 1081:return!0;default:return!1}}e.countNodesOfKind=function(e,t){let n=0;for(let r=0,i=e.length;r<i;++r)t.indexOf(e[r].kind)>-1&&++n;return n},e.previousNonTriviaToken=function(e){let n=r(e);if(n){for(;(n=n.previous)&&t(n););return n}},e.leadingTriviaLength=function(e){let n=r(e),i=0;if(!n)return i;for(;(n=n.previous)&&t(n);)i+=n.length;return i},e.isTrivia=t,e.childIndex=n,e.nodeOffsetFromSpine=function(t){let n,r,i=-1,s=0;for(;++i<t.length;)n=i-1>-1?t[i-1]:void 0,r=t[i],s+=e.childOffsetRelativeToParent(n,r);return s},e.childOffsetRelativeToParent=function(t,n){let r,i=0;if(!t||!t.children)return i+=e.leadingTriviaLength(n);let s=!1;for(let o=0,a=t.children.length;o<a&&(r=t.children[o],!s&&r.length&&(s=!0),o>0&&s&&r.length&&(i+=e.leadingTriviaLength(r)),r!==n);++o)i+=r.length;return i},e.firstToken=r,e.lastToken=function e(t){if(!t)return;if(s.isToken(t))return t;let n;for(let r=t.children.length-1;r>=0;--r)if(n=e(t.children[r]))return n},e.isTokenOfKind=function(e,t){return!!e&&t.indexOf(e.kind)>-1},e.isPhraseOfKind=function(e,t){return!!e&&t.indexOf(e.kind)>-1},e.findChild=function(e,t){if(!e||!e.children)return;let n;for(let r=0,i=e.children.length;r<i;++r)if(t(n=e.children[r]))return n},e.getSibling=function(e,t,r){return r+=n(t,e),t&&t.children?t.children[r]:void 0},e.filterChildren=function(e,t){let n,r=[];if(!e||!e.children)return r;for(let i=0,s=e.children.length;i<s;++i)t(n=e.children[i])&&r.push(n);return r},e.isNamePhrase=function(e){if(!e)return!1;switch(e.kind){case 1136:case 1139:case 1079:return!0;default:return!1}},e.isReferenceNode=function(e){if(!e)return!1;switch(e.kind){case 1116:case 1152:case 1106:case 1146:case 1090:case 1140:case 1092:case 1093:case 1141:case 1142:case 83:case 82:case 77:return!0;default:return!1}},e.isTypeDefinitionNode=function(e){if(!e)return!1;switch(e.kind){case 1028:case 1161:case 1098:case 1002:return!0;default:return!1}},e.isScopeNode=i,e.isDefinitionNode=function(e){if(!e)return!1;switch(e.kind){case 1115:case 1117:case 1120:case 1043:case 1026:case 1133:case 1124:case 1152:case 1080:case 83:return!0;default:return i(e)}},e.isLoopPhrase=function(e){if(!e)return!1;switch(e.kind){case 1073:case 1078:case 1175:case 1050:return!0;default:return!1}},e.isMemberDeclaration=function(e){if(!e)return!1;switch(e.kind){case 1025:case 1132:case 1108:return!0;default:return!1}},e.hasAnonymousFunctionUseVariable=function(e,t,n,r){if(1004!==e.kind)return!1;let i=new p([e],r,n);return i.nthChild(0),!!i.child(e=>1006===e.kind)&&void 0!==i.find(e=>{if(83!==e.kind||!n.nodeReferenceMap)return!1;let r=n.nodeReferenceMap.get(e);return!!r&&r.name===t})}}(h=t.NodeUtils||(t.NodeUtils={}));class d{constructor(e){this.nodeUtils=e,this._ranges=[]}get ranges(){if(this._phpOpenPosition&&this._lastToken){let e=this.nodeUtils.nodeRange(this._lastToken);e&&this._ranges.push({range:i.Range.create(this._phpOpenPosition,e.end),languageId:o.PHP.LANGUAGE_ID}),this._phpOpenPosition=void 0}return this._ranges}beforeTraverse(e,t){const n=this.nodeUtils.nodeRangeFromSpine([...t,e]);this._firstTokenPosition=n.start}preorder(e,t){switch(e.kind){case 80:{let t=this.nodeUtils.nodeRange(e);t&&this._ranges.push({range:t})}break;case 156:case 157:{let t=this.nodeUtils.nodeRange(e);t&&(this._phpOpenPosition=t.start)}break;case 158:{let t=this.nodeUtils.nodeRange(e),n=this._phpOpenPosition||this._firstTokenPosition;t&&n&&this._ranges.push({range:i.Range.create(n,t.end),languageId:o.PHP.LANGUAGE_ID}),this._phpOpenPosition=void 0}}return this._lastToken=e,!0}}class p extends r.TreeTraverser{constructor(e,t,n){super(e.slice(0)),this._nodeUtils=t,this.nodeMaps=n}get uri(){return this.nodeUtils.uri}get uriId(){return this.nodeUtils.uriId}get text(){return this._nodeUtils.nodeTextFromSpine(this._spine)}get range(){return this._nodeUtils.nodeRangeFromSpine(this._spine)}get leadingTrivia(){return this._nodeUtils.getLeadingTriviaFromSpine(this._spine.slice(0))}get nodeUtils(){return this._nodeUtils.clone()}get trailingTrivia(){const e=this.clone();return e.nextToken()?e.leadingTrivia:[]}get offset(){return h.nodeOffsetFromSpine(this._spine.slice(0))}hasEmbeddedLanguage(){return void 0!==this.getDocumentLanguageRanges().find(e=>e.languageId!==o.PHP.LANGUAGE_ID&&""!==this._nodeUtils.rangeText(e.range).trim())}getDocumentLanguageRanges(){const e=new d(this._nodeUtils.clone());return this.traverse(e).ranges}seek(e){if(e<0)return;const t=new m(e,this._nodeUtils);return new p([this._spine[0]],this._nodeUtils.clone(),{}).traverse(t),t.found?(this._spine=t.found,this.node):void 0}seekRange(e,t){const n=new _(e,t);if(new p([this._spine[0]],this._nodeUtils.clone(),{}).traverse(n),n.spine)return this._spine=n.spine,this.node}getDefinitions(e,t){if(!this.nodeMaps.nodeDefinitionMap||!this.nodeMaps.nodeDocBlockDefinitionMap)return[];const n=new g(this.nodeMaps.nodeDefinitionMap,this.nodeMaps.nodeDocBlockDefinitionMap,this._nodeUtils.clone(),e,t);return this.traverse(n).symbols}references(e,t){if(!this.nodeMaps.nodeReferenceMap||!this.nodeMaps.nodeDocBlockReferenceMap)return[];const n=new y(this.nodeMaps.nodeReferenceMap,this.nodeMaps.nodeDocBlockReferenceMap,this._nodeUtils.clone(),e,t);return this.traverse(n).references}fileReferences(){let e=this.clone(),t=this.nodeMaps,n=this.nodeUtils.clone(),i=this.range,s=i?r.PackedRange.fromLspRange(i):void 0,o=this.clone().reference(),a=o&&!Array.isArray(o)&&256===o.kind?o.name:void 0,c=e.scope(a),u=e.references(e=>4096===e.kind&&!!e.range&&!!s&&e.range.start<s.start,e=>!!a&&h.hasAnonymousFunctionUseVariable(e,a,t,n));if(1148!==c.kind){e.root();let t=e.references(e=>4096===e.kind&&!!e.range&&!!s&&e.range.start<s.start,e=>!1);Array.prototype.push.apply(u,t)}return u}get thisName(){const e=this.thisDefinition;if(e)return e.name;if(!this.nodeMaps.nodeReferenceMap||!this.nodeMaps.nodeDocBlockReferenceMap)return"";const t=new p([this._spine[0]],this._nodeUtils.clone(),this.nodeMaps);const n=new g(this.nodeMaps.nodeReferenceMap,this.nodeMaps.nodeDocBlockReferenceMap,this._nodeUtils.clone(),e=>256===e.kind&&"$this"===e.name,e=>!1),r=t.traverse(n).symbols.shift();return r&&c.TypeString.objectNames(r.type).shift()||""}get thisDefinition(){if(!this.nodeMaps.nodeDefinitionMap)return;let e=this.clone().ancestor(h.isTypeDefinitionNode);return e&&this.nodeMaps.nodeDefinitionMap.has(e)?this.nodeMaps.nodeDefinitionMap.get(e):void 0}get definition(){let e,t,n=this._spine.length;if(this.nodeMaps.nodeDefinitionMap){for(;--n>=0&&!e;)t=this._spine[n],h.isDefinitionNode(t)&&this.nodeMaps.nodeDefinitionMap.has(t)&&(e=this.nodeMaps.nodeDefinitionMap.get(t));return e}}getNameResolver(){if(!this.nodeMaps.nodeDefinitionMap)throw new Error("Invalid Operation");const e=new T(this.nodeMaps.nodeDefinitionMap,this.offset,new f),t=this.clone();return t.root(),t.traverse(e).nameResolver}reference(){let e,t,n=this._spine.length;if(159===this.node.kind){if(!this.nodeMaps.nodeDocBlockReferenceMap)return;return this.nodeMaps.nodeDocBlockReferenceMap.get(this.node)}if(this.nodeMaps.nodeReferenceMap){for(;--n>0&&!e;)t=this._spine[n],h.isReferenceNode(t)&&this.nodeMaps.nodeReferenceMap.has(t)&&(e=Object.assign({},this.nodeMaps.nodeReferenceMap.get(t),{range:r.PackedRange.fromLspRange(this._nodeUtils.nodeRangeFromSpine(this._spine.slice(0,n+1)))}),this._spine=this._spine.slice(0,n+1));return e}}clone(){return new p(this._spine.slice(0),this._nodeUtils.clone(),this.nodeMaps)}firstChildAfterOffset(e){const t=this.node;if(s.isToken(t))return;const n=t.children;let r,i,o=0;for(let t=0,s=n.length;t<s;++t)if(i=n[t],r?o+=r.length+h.leadingTriviaLength(i):o=h.nodeOffsetFromSpine(this._spine.slice(0)),r=i,o>e)return this._spine.push(i),this.node}nextToken(){let e,t,n,r=this._spine.slice(0);for(s.isToken(this.node)||(r=this._lastToken(r.slice(0))||r);(e=r.pop())&&(t=r[r.length-1]);)if(!((n=t.children.indexOf(e)+1)>t.children.length-1)&&(r.push(t.children[n]),this._firstToken(r)))return this._spine=r,this.node}prevToken(){let e,t,n,r=this._spine.slice(0);for(s.isToken(this.node)||(r=this._firstToken(r.slice(0))||r);(e=r.pop())&&(t=r[r.length-1]);)if(!((n=t.children.indexOf(e)-1)<0)&&(r.push(t.children[n]),this._lastToken(r)))return this._spine=r,this.node}_lastToken(e){let t=e[e.length-1];if(s.isToken(t))return e;for(let n=t.children.length-1;n>=0;--n){if(e.push(t.children[n]),this._lastToken(e))return e;e.pop()}}_firstToken(e){let t=e[e.length-1];if(s.isToken(t))return e;for(let n=0,r=t.children.length;n<r;++n){if(e.push(t.children[n]),this._firstToken(e))return e;e.pop()}}get isDeclarationName(){let e=this.clone(),t=e.node,n=e.parent();return!(!t||!n)&&((82===t.kind||83===t.kind)&&this._isDeclarationPhrase(n)||1090===n.kind&&this._isDeclarationPhrase(e.parent()))}scope(e){let t;e&&(t=t=>(t.nthChild(0),!!t.child(e=>1006===e.kind)&&void 0!==t.find(t=>83===t.kind&&this._nodeUtils.nodeText(t)===e)));let n=h.isScopeNode(this.node)?this.node:this.ancestor(h.isScopeNode);for(;n&&1004===n.kind&&t&&t(this.clone());)n=this.ancestor(h.isScopeNode);return this.node}_isDeclarationPhrase(e){if(!e)return!1;switch(e.kind){case 1030:case 1163:case 1100:case 1133:case 1043:case 1124:case 1083:case 1110:case 1026:return!0;default:return!1}}}t.ParseTreeTraverser=p;class f{constructor(){this._offset=-1,this.lastTriviaLength=-1}get offset(){return this.lastTriviaLength>0?this._offset+this.lastTriviaLength:this._offset}beforeTraverse(e,t){this._offset=h.nodeOffsetFromSpine([...t,e])-h.leadingTriviaLength(e)}preorder(e,t){return this.lastNode=e,this.lastTriviaLength<0&&e.length&&(this.lastTriviaLength=h.leadingTriviaLength(e)),!0}postorder(e,t){this.lastNode!==e||!e.length&&1!==e.kind||(this._offset+=this.lastTriviaLength+e.length,this.lastTriviaLength=-1)}}t.OffsetVisitor=f;class _{constructor(e,t){this.start=e,this.end=t,this.offsetVisitor=new f}get spine(){return this._spine}beforeTraverse(e,t){this.offsetVisitor.beforeTraverse(e,t)}preorder(e,t){this.offsetVisitor.preorder(e,t);let n=this.offsetVisitor.offset,r=n+e.length;return this.start>=n&&this.end<=r&&(this._spine=t.slice(0),this._spine.push(e),!0)}postorder(e,t){this.offsetVisitor.postorder(e,t)}}class m{constructor(e,t){this.offset=e,this.haltTraverse=!1,this.offsetVisitor=new f}get found(){return this._found}beforeTraverse(e,t){this.offsetVisitor.beforeTraverse(e,t)}preorder(e,t){this.offsetVisitor.preorder(e,t);let n=this.offsetVisitor.offset,r=n+e.length;return!this.haltTraverse&&(this.offset>=n&&this.offset<r?!s.isToken(e)||(this._found=t.slice(0),this._found.push(e),this.haltTraverse=!0,!1):this.offset<n?(this._found=t.slice(0),this.haltTraverse=!0,!1):!(this.offset>=r))}postorder(e,t){this.offsetVisitor.postorder(e,t)}}class g{constructor(e,t,n,r,i){this.nodeSymbolMap=e,this.nodeDocBlockSymbolMap=t,this.nodeUtils=n,this.filter=r,this.shouldDescend=i,this._symbols=[]}get symbols(){return this._symbols}beforeTraverse(e,t){this._firstNode=e;const n=new p([...t,e],this.nodeUtils,{});if(n.prevSibling(),159===n.node.kind){let e=this.nodeDocBlockSymbolMap.get(n.node)||[];this.filter&&(e=e.filter(this.filter)),Array.prototype.push.apply(this._symbols,e)}}preorder(e,t){if(h.isScopeNode(e))return this._firstNode===e||(!this.shouldDescend||this.shouldDescend(e));if(159===e.kind){const n=t[t.length-1],r=n.children.indexOf(e)+1,i=r<n.children.length?n.children[r]:void 0;if(!i||!h.isScopeNode(i)||this.shouldDescend&&this.shouldDescend(i)){let t=this.nodeDocBlockSymbolMap.get(e)||[];this.filter&&(t=t.filter(this.filter)),Array.prototype.push.apply(this._symbols,t)}}else if(this.nodeSymbolMap.has(e)){let n=this.nodeSymbolMap.get(e);!n||this.filter&&!this.filter(n)||(n.range||(n=Object.assign({},n,{range:r.PackedRange.fromLspRange(this.nodeUtils.nodeRangeFromSpine([...t,e]))})),this._symbols.push(n))}return!0}}t.SymbolsVisitor=g;class y{constructor(e,t,n,r,i){this.nodeReferenceMap=e,this.nodePhpDocReferenceMap=t,this.nodeUtils=n,this.filter=r,this.shouldDescend=i,this._references=[]}get references(){return this._references}beforeTraverse(e,t){this._firstNode=e;const n=new p([...t,e],this.nodeUtils,{});if(n.prevSibling(),159===n.node.kind){let e=this.nodePhpDocReferenceMap.get(n.node)||[];this.filter&&(e=e.filter(this.filter)),Array.prototype.push.apply(this._references,e)}}preorder(e,t){if(h.isScopeNode(e))return this._firstNode===e||(!this.shouldDescend||this.shouldDescend(e));if(159===e.kind){const n=t[t.length-1],r=n.children.indexOf(e)+1,i=r<n.children.length?n.children[r]:void 0;if(!i||!h.isScopeNode(i)||!this.shouldDescend||this.shouldDescend(i)){let t=this.nodePhpDocReferenceMap.get(e)||[];this.filter&&(t=t.filter(this.filter)),Array.prototype.push.apply(this._references,t)}}else if(h.isReferenceNode(e)){const n=this.nodeReferenceMap.get(e);if(n){const i=Object.assign({},n,{range:r.PackedRange.fromLspRange(this.nodeUtils.nodeRangeFromSpine([...t,e]))});this.filter&&!this.filter(i)||this._references.push(i)}}return!0}}t.ReferencesVisitor=y;t.ParseTreeStore=class{constructor(){this._parseTrees=new Map}parseTrees(){return this._parseTrees.values()}find(e){return this._parseTrees.get(e)}add(e){return this._parseTrees.set(e.uri,e),e}remove(e){const t=this._parseTrees.get(e);return this._parseTrees.delete(e),t}clear(){this._parseTrees=new Map}};class T{constructor(e,t,n){this.nodeDefinitionMap=e,this.stopAtOffset=t,this.offsetVisitor=n,this._halt=!1,this._nameResolver=new u.NameResolver}get nameResolver(){return this._nameResolver}beforeTraverse(e,t){this.offsetVisitor.beforeTraverse(e,t)}preorder(e,t){let n;if(this.offsetVisitor.preorder(e,t),this.offsetVisitor.offset>this.stopAtOffset||this._halt)return this._halt=!0,!1;switch(e.kind){case 1153:if(this.stopAtOffset>=this.offsetVisitor.offset+e.length&&1115!==t[t.length-1].kind)return!1;break;case 1115:(n=this.nodeDefinitionMap.get(e))&&(this._nameResolver.namespaceName=n.name);break;case 1028:case 1002:if(n=this.nodeDefinitionMap.get(e)){const e=n.associated?n.associated.find(e=>1===e.kind):void 0;this._nameResolver.pushClass(n.name,e?e.name:"")}break;case 1117:case 1120:(n=this.nodeDefinitionMap.get(e))&&this._nameResolver.rules.push(u.UseRule.fromDefinition(n))}return!0}postorder(e,t){if(this.offsetVisitor.postorder(e,t),!this._halt)switch(e.kind){case 1028:case 1002:this._nameResolver.popClass()}}}t.CreateNameResolverVisitor=T},function(e,t){e.exports=require("util")},function(e,t,n){"use strict";function r(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),r(n(477)),r(n(176)),r(n(492))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(1),i=n(4),s=n(8);class o{constructor(){this.isComplex=!0}get kind(){return this.definition.kind}set kind(e){}get name(){return this.definition.name}set name(e){}get modifiers(){return this.definition.modifiers}set modifiers(e){}get fqsenHash(){return this.definition.fqsenHash}set fqsenHash(e){}get uriId(){return this.definition.uriId}set uriId(e){}get range(){return this.definition.range}set range(e){}get type(){return this.definition.type}set type(e){}get children(){return this.definition.children||[]}set children(e){}get value(){return this.definition.value}set value(e){}get scope(){return this.definition.scope}set scope(e){}get associated(){return this.definition.associated}set associated(e){}static isComplexDefinition(e){return!0===e.isComplex}}t.ComplexDefinition=o;class a extends o{constructor(e){super(),this._definitions=e}get definition(){return this._definitions[0]}get definitions(){return this._definitions.slice(0)}}t.NameClashDefinition=a;class c extends o{constructor(e,t){super(),this.local=e,this.external=t}get definition(){return this.local}get kind(){return this.external?this.external.kind:1===this.local.kind?512:this.local.kind}static create(e,t){if(!e.associated||e.associated.length<1)return;let n=e.kind;1===n&&(n|=518);let r=t.find(e.associated[0].name,e=>(e.kind&n)>0);return r.length>1&&(r=r.filter(e=>512!==e.kind)),r.length>1?new c(e,new a(r)):r.length<1?new c(e,void 0):new c(e,r[0])}}var u;t.UseDefinition=c,function(e){e.fromDefinition=function(e,t){let n=t.getDefinitionScope(e);if(!n)return;const r=f.fromDefinition(n,t);return r?r.findMember(e.name,e.kind):void 0},e.getMemberKey=function(e){switch(e.kind){case 32:case 2048:return e.name.toLowerCase();case 1024:return"#"+e.name;case 16:return e.name;default:throw new Error("Invalid Argument")}}}(u=t.MemberDefinition||(t.MemberDefinition={}));class l extends o{constructor(e,t,n,r,i,s){super(),this.method=e,this.traitMethod=t,this.baseMethod=n,this.interfaceMethod=r,this.table=i,this.typeDefinition=s}get fqsen(){return r.Definition.fqsen(this.name,this.typeDefinition.name,32)}get definition(){let e=this.method||this.traitMethod||this.interfaceMethod||this.baseMethod;if(!e)throw new Error("Invalid Operation");return l.isMethodDefinition(e)?e.definition:e}get definitions(){const e=[];return this.method&&e.push(this.method),[this.traitMethod,this.baseMethod,this.interfaceMethod].forEach(t=>{t&&Array.prototype.push.apply(e,t.definitions)}),Array.from(new Set(e))}get modifiers(){if(void 0!==this.method&&void 0!==this.traitMethod){if((16384&this.method.modifiers)>0){const e=7,t=this.traitMethod.modifiers&e;return this.method.modifiers|this.traitMethod.modifiers^t}if((8192&this.method.modifiers)>0)return this.method.modifiers|this.traitMethod.modifiers}return this.definition.modifiers}get parameters(){let e;return this.method&&(e=this.table.definitionChildren(this.method).filter(r.Definition.isParameter).map(e=>new p([e]))),this.traitMethod&&(e=this.mergeParams(e,this.traitMethod)),this.baseMethod&&(e=this.mergeParams(e,this.baseMethod)),this.interfaceMethod&&(e=this.mergeParams(e,this.interfaceMethod)),e||[]}mergeParams(e,t){let n=t.parameters;if(!e)return n;for(let t=0,r=n.length;t<r;++t)e[t]?e[t].addParameter(n[t]):e[t]=new p([n[t]]);return e}get type(){let e=[this.method,this.traitMethod,this.baseMethod,this.interfaceMethod].find(e=>void 0!==e&&void 0!==e.type);return e?e.type:void 0}static isMethodDefinition(e){return 32===e.kind&&!0===e.isComplex}static fromDefinition(e,t){let n=t.getDefinitionScope(e);if(!n)return;const r=f.fromDefinition(n,t);return r?r.findMember(e.name,e.kind):void 0}}t.MethodDefinition=l;t.ParametersBuilder=class{constructor(e){this.table=e}addMethods(e,t,n,i){let s,o,a,c=[e,t,i,n],u=void 0;for(this.isTraitAdaptation(e)&&c.shift();!u&&c.length>0;)u=c.shift();if(!u||!u.children||u.children.length<1)return[];for(s=l.isMethodDefinition(u)?u.parameters.map(e=>new p([e])):this.table.definitionChildren(u).filter(r.Definition.isParameter).map(e=>new p([e]));c.length>0;)if((a=c.shift())&&a.children){o=a.parameters;for(let e=0;e<o.length&&e<s.length;++e)s[e].addParameter(o[e])}return s}isTraitAdaptation(e){return e&&(24576&e.modifiers)>0}};class h extends o{constructor(e,t,n){super(),this.property=e,this.traitProperty=t,this.baseClassProperty=n}get definition(){let e=this.property||this.traitProperty||this.baseClassProperty;if(!e)throw new Error("Invalid Operation");return h.isProperty(e)?e.definition:e}get definitions(){const e=[];return this.property&&e.push(this.property),[this.traitProperty,this.baseClassProperty].forEach(t=>{t&&Array.prototype.push.apply(e,t.definitions)}),Array.from(new Set(e))}get type(){let e=[this.property,this.traitProperty,this.baseClassProperty].find(e=>e&&void 0!==e.type);return e?e.type:void 0}static isProperty(e){return 16===e.kind&&o.isComplexDefinition(e)}}t.PropertyDefinition=h;class d extends o{constructor(e,t,n){super(),this.classConstant=e,this.interfaceConstant=t,this.baseClassConstant=n}get definition(){let e=this.classConstant||this.interfaceConstant||this.baseClassConstant;if(!e)throw new Error("Invalid Operation");return d.isClassConstant(e)?e.definition:e}get definitions(){const e=[];return this.classConstant&&e.push(this.classConstant),[this.interfaceConstant,this.baseClassConstant].forEach(t=>{t&&Array.prototype.push.apply(e,t.definitions)}),Array.from(new Set(e))}get type(){let e=[this.classConstant,this.interfaceConstant,this.baseClassConstant].find(e=>e&&void 0!==e.type);return e?e.type:void 0}static isClassConstant(e){return 1024===e.kind&&o.isComplexDefinition(e)}}t.ClassConstantDefinition=d;class p extends o{constructor(e){super(),this._definitions=e}get definition(){let e=this._definitions[0];return p.isParameter(e)?e.definition:e}get definitions(){return this._definitions.slice(0)}get type(){const e=this._definitions.find(e=>void 0!==e.type);return e?e.type:void 0}addParameter(e){this._definitions.push(e)}static isParameter(e){return 128===e.kind&&!0===e.isComplex}}t.ParameterDefinition=p;t.TypeFactory=class{constructor(e){this.definitionStore=e,this.map=new Map}fromName(e,t){const n=e.toLowerCase();if(this.map.has(n))return this.map.get(n);const r=f.fromName(e,this.definitionStore,t);return r&&this.map.set(n,r),r}fromDefinition(e){const t=this.getKey(e);if(this.map.has(t))return this.map.get(t);const n=f.fromDefinition(e,this.definitionStore);return n&&this.map.set(t,n),n}getKey(e){return e.uriId.toString()+"_"+e.name.toLowerCase()}};class f extends o{constructor(e,t,n,r,i){super(),this.definition=e,this.baseClass=t,this.traits=n,this.interfaces=r,this.table=i}isAssociated(e){const t=e.toLowerCase();return this.definition.associated&&void 0!==this.definition.associated.find(e=>e.name.toLowerCase()===t)||this.baseClass&&this.baseClass.isAssociated(e)||this.interfaces.reduce((t,n)=>t||n.isAssociated(e),!1)||this.traits.reduce((t,n)=>t||n.isAssociated(e),!1)}*getMembers(){const e=this.table.definitionChildren(this.definition);let t;const n=new Set;for(let r of e)t=u.getMemberKey(r),n.has(t)||(n.add(t),yield this.findMember(r.name,r.kind));for(let e of this.traits)for(let r of e.getMembers())t=u.getMemberKey(r),n.has(t)||(n.add(t),yield r);if(this.baseClass)for(let e of this.baseClass.getMembers())t=u.getMemberKey(e),n.has(t)||4&e.kind||(n.add(t),yield e);for(let e of this.interfaces)for(let r of e.getMembers())t=u.getMemberKey(r),n.has(t)||(n.add(t),yield r)}findMember(e,t){const n=r.Definition.fqsenHash(e,this.definition.fqsenHash,t),s=this.table.findByHashAndKind(n,t);let o,a,c,u;if(s&&32===t&&(8192&s.modifiers)>0&&s.associated&&s.associated.length>0&&this.traits.length){const n=s.associated[0],r=i.TypeString.toString(n.scope).toLowerCase(),a=this.traits.find(e=>e.name.toLowerCase()===r);a&&(o=a.findMember(e,t))}else if(s&&32===t&&(16384&s.modifiers)>0&&s.associated&&s.associated.length>0&&this.traits.length){const e=s.associated[0],n=i.TypeString.objectNames(e.scope).map(e=>e.toLowerCase()),r=1===n.length?n[0]:void 0;let a;for(let n=0;n<this.traits.length&&!o;++n)a=this.traits[n],r&&a.name.toLowerCase()!==r||(o=a.findMember(e.name,t))}else if(this.traits.length>0){let n;for(let r=0;r<this.traits.length&&!o;++r)o=(n=this.traits[r]).findMember(e,t)}if(!this.baseClass||s&&2048===s.kind||(a=this.baseClass.findMember(e,t))&&(4&a.modifiers)>0&&(a=void 0),!s||2048!==s.kind)for(let n=0;n<this.interfaces.length&&!c;++n)c=(u=this.interfaces[n]).findMember(e,t);switch(t){case 32:case 2048:if(!(s||o||a||c))return;return new l(s,o,a,c,this.table,this);case 16:if(!s&&!o&&!a)return;return new h(s,o,a);case 1024:if(!s&&!a&&!c)return;return new d(s,c,a);default:return}}static overridableMethodsFilterFn(e){return 32===e.kind&&l.isMethodDefinition(e)&&null==e.method&&void 0!==e.baseMethod}static unimplementedMethodFilterFn(e){return 32===e.kind&&l.isMethodDefinition(e)&&void 0===e.method&&(void 0!==e.baseMethod&&(16&e.baseMethod.modifiers)>0||void 0===e.baseMethod&&void 0!==e.interfaceMethod)}static fromDefinition(e,t,n){if(!e)return;const r=e.associated||[],i=[],s=[];let o,a,c;n||(n=new Set);for(let e=0;e<r.length;++e)1===(a=r[e]).kind?o=f.fromName(a.name,t,1,n):4===a.kind?(c=f.fromName(a.name,t,4,n))&&i.push(c):2===a.kind&&(c=f.fromName(a.name,t,2,n))&&s.push(c);let u=t.table(e.uriId);return u?new f(e,o,i,s,u):void 0}static fromName(e,t,n,r){if(!e)return;let i=r||new Set,o=n||7,a=t.find(e,e=>(e.kind&o)>0&&!i.has(e));if(a.forEach(e=>{i.add(e)}),a.length){if(1===a.length)return f.fromDefinition(a[0],t,r);{let e=a.map(e=>f.fromDefinition(e,t,r)).filter(s.isNotUndefined);return new _(e)}}}}t.TypeDefinition=f;class _ extends o{constructor(e){super(),this._types=e}get definition(){return this._types[0].definition}get definitions(){return this._types.map(e=>e.definition)}get baseClass(){const e=this._types.find(e=>void 0!==e.baseClass);return e?e.baseClass:void 0}get traits(){return this.mergeTypeDefinitions(this._types,e=>e.traits)}get interfaces(){return this.mergeTypeDefinitions(this._types,e=>e.interfaces)}*getMembers(){const e=new Set;let t;for(let n of this._types)for(let r of n.getMembers())t=u.getMemberKey(r),e.has(t)||(e.add(t),yield r)}isAssociated(e){return this._types.reduce((t,n)=>t||n.isAssociated(e),!1)}findMember(e,t){let n;for(let r of this._types)if(n=r.findMember(e,t))return n}mergeTypeDefinitions(e,t){const n=this._types.reduce((e,n)=>(Array.prototype.push.apply(e,t(n)),e),[]),r=new Map(n.map(e=>[e.name,e]));return Array.from(r.values())}}t.NameClashTypeDefinition=_},function(e,t,n){"use strict";var r=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},i=n(60),s=n(62),o=n(38),a=n(93),c=n(6),u=n(44),l=function(){function e(){}return e.getCookie=function(t,n){var r="";if(t&&t.length&&"string"==typeof n)for(var i=t+"=",s=n.split(";"),o=0;o<s.length;o++){n=s[o];if((n=e.trim(n))&&0===n.indexOf(i)){r=n.substring(i.length,s[o].length);break}}return r},e.trim=function(e){return"string"==typeof e?e.replace(/^\s+|\s+$/g,""):""},e.int32ArrayToBase64=function(e){var t=function(e,t){return String.fromCharCode(e>>t&255)},n=e.map(function(e){return t(e,24)+t(e,16)+t(e,8)+t(e,0)}).join(""),r=(Buffer.from?Buffer.from(n,"binary"):new Buffer(n,"binary")).toString("base64");return r.substr(0,r.indexOf("="))},e.random32=function(){return 4294967296*Math.random()|0},e.randomu32=function(){return e.random32()+2147483648},e.w3cTraceId=function(){for(var t,n=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"],r="",i=0;i<4;i++)r+=n[15&(t=e.random32())]+n[t>>4&15]+n[t>>8&15]+n[t>>12&15]+n[t>>16&15]+n[t>>20&15]+n[t>>24&15]+n[t>>28&15];var s=n[8+4*Math.random()|0];return r.substr(0,8)+r.substr(9,4)+"4"+r.substr(13,3)+s+r.substr(16,3)+r.substr(19,12)},e.isValidW3CId=function(e){return 32===e.length&&"00000000000000000000000000000000"!==e},e.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)},e.isError=function(e){return e instanceof Error},e.isPrimitive=function(e){var t=typeof e;return"string"===t||"number"===t||"boolean"===t},e.isDate=function(e){return"[object Date]"===Object.prototype.toString.call(e)},e.msToTimeSpan=function(e){(isNaN(e)||e<0)&&(e=0);var t=(e/1e3%60).toFixed(7).replace(/0{0,4}$/,""),n=""+Math.floor(e/6e4)%60,r=""+Math.floor(e/36e5)%24,i=Math.floor(e/864e5);return t=t.indexOf(".")<2?"0"+t:t,n=n.length<2?"0"+n:n,(i>0?i+".":"")+(r=r.length<2?"0"+r:r)+":"+n+":"+t},e.extractError=function(e){var t=e;return{message:e.message,code:t.code||t.id||""}},e.extractObject=function(t){return t instanceof Error?e.extractError(t):"function"==typeof t.toJSON?t.toJSON():t},e.validateStringMap=function(t){if("object"==typeof t){var n={};for(var r in t){var i="",s=t[r],o=typeof s;if(e.isPrimitive(s))i=s.toString();else if(null===s||"undefined"===o)i="";else{if("function"===o){c.info("key: "+r+" was function; will not serialize");continue}var a=e.isArray(s)?s:e.extractObject(s);try{i=e.isPrimitive(a)?a:JSON.stringify(a)}catch(e){i=s.constructor.name.toString()+" (Error: "+e.message+")",c.info("key: "+r+", could not be serialized")}}n[r]=i.substring(0,e.MAX_PROPERTY_LENGTH)}return n}c.info("Invalid properties dropped from payload")},e.canIncludeCorrelationHeader=function(e,t){var n=e&&e.config&&e.config.correlationHeaderExcludedDomains;if(!n||0==n.length||!t)return!0;for(var r=0;r<n.length;r++){if(new RegExp(n[r].replace(/\./g,".").replace(/\*/g,".*")).test(o.parse(t).hostname))return!1}return!0},e.getCorrelationContextTarget=function(e,t){var n=e.headers&&e.headers[u.requestContextHeader];if(n)for(var r=n.split(","),i=0;i<r.length;++i){var s=r[i].split("=");if(2==s.length&&s[0]==t)return s[1]}},e.makeRequest=function(t,n,a,u){n&&0===n.indexOf("//")&&(n="https:"+n);var l=o.parse(n),h=r({},a,{host:l.hostname,port:l.port,path:l.pathname}),d=void 0;if("https:"===l.protocol&&(d=t.proxyHttpsUrl||void 0),"http:"===l.protocol&&(d=t.proxyHttpUrl||void 0),d){0===d.indexOf("//")&&(d="http:"+d);var p=o.parse(d);"https:"===p.protocol?(c.info("Proxies that use HTTPS are not supported"),d=void 0):h=r({},h,{host:p.hostname,port:p.port||"80",path:n,headers:r({},h.headers,{Host:l.hostname})})}var f="https:"===l.protocol&&!d;return f&&void 0!==t.httpsAgent?h.agent=t.httpsAgent:f||void 0===t.httpAgent?f&&(h.agent=e.tlsRestrictedAgent):h.agent=t.httpAgent,f?s.request(h,u):i.request(h,u)},e.safeIncludeCorrelationHeader=function(t,n,r){var i;if("string"==typeof r)i=r;else if(r instanceof Array)i=r.join(",");else if(r&&"function"==typeof r.toString)try{i=r.toString()}catch(e){c.warn("Outgoing request-context header could not be read. Correlation of requests may be lost.",e,r)}i?e.addCorrelationIdHeaderFromString(t,n,i):n.setHeader(u.requestContextHeader,u.requestContextSourceKey+"="+t.config.correlationId)},e.addCorrelationIdHeaderFromString=function(e,t,n){var r=n.split(","),i=u.requestContextSourceKey+"=";r.some(function(e){return e.substring(0,i.length)===i})||t.setHeader(u.requestContextHeader,n+","+u.requestContextSourceKey+"="+e.config.correlationId)},e.MAX_PROPERTY_LENGTH=8192,e.tlsRestrictedAgent=new s.Agent({secureOptions:a.SSL_OP_NO_SSLv2|a.SSL_OP_NO_SSLv3|a.SSL_OP_NO_TLSv1|a.SSL_OP_NO_TLSv1_1}),e}();e.exports=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(67);t.Lexer=r.Lexer,t.tokenKindToString=r.tokenKindToString,t.isKeyword=r.isKeyword;var i=n(214);t.Parser=i.Parser,function(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}(n(113)),t.isToken=function(e){return e&&void 0===e.children},t.isPhrase=function(e){return e&&void 0!==e.children}},function(e,t,n){"use strict";class r{constructor(e){const t={},n=this._getOverriddenMethods(this,t);for(const r of Object.keys(n))"function"==typeof n[r]&&(t[r]=e[r],e[r]=n[r])}_getOverriddenMethods(){throw new Error("Not implemented")}}r.install=function(e,t,n){e.__mixins||(e.__mixins=[]);for(let n=0;n<e.__mixins.length;n++)if(e.__mixins[n].constructor===t)return e.__mixins[n];const r=new t(e,n);return e.__mixins.push(r),r},e.exports=r},function(e,t,n){try{var r=n(16);if("function"!=typeof r.inherits)throw"";e.exports=r.inherits}catch(t){e.exports=n(278)}},function(e,t){e.exports=require("stream")},function(e,t,n){"use strict";const r=n(11).fromPromise,i=n(152);e.exports={pathExists:r(function(e){return i.access(e).then(()=>!0).catch(()=>!1)}),pathExistsSync:i.existsSync}},function(e,t,n){"use strict";var r=function(){return function(){}}();e.exports=r},function(e,t,n){"use strict";const r=t.NAMESPACES={HTML:"http://www.w3.org/1999/xhtml",MATHML:"http://www.w3.org/1998/Math/MathML",SVG:"http://www.w3.org/2000/svg",XLINK:"http://www.w3.org/1999/xlink",XML:"http://www.w3.org/XML/1998/namespace",XMLNS:"http://www.w3.org/2000/xmlns/"};t.ATTRS={TYPE:"type",ACTION:"action",ENCODING:"encoding",PROMPT:"prompt",NAME:"name",COLOR:"color",FACE:"face",SIZE:"size"},t.DOCUMENT_MODE={NO_QUIRKS:"no-quirks",QUIRKS:"quirks",LIMITED_QUIRKS:"limited-quirks"};const i=t.TAG_NAMES={A:"a",ADDRESS:"address",ANNOTATION_XML:"annotation-xml",APPLET:"applet",AREA:"area",ARTICLE:"article",ASIDE:"aside",B:"b",BASE:"base",BASEFONT:"basefont",BGSOUND:"bgsound",BIG:"big",BLOCKQUOTE:"blockquote",BODY:"body",BR:"br",BUTTON:"button",CAPTION:"caption",CENTER:"center",CODE:"code",COL:"col",COLGROUP:"colgroup",DD:"dd",DESC:"desc",DETAILS:"details",DIALOG:"dialog",DIR:"dir",DIV:"div",DL:"dl",DT:"dt",EM:"em",EMBED:"embed",FIELDSET:"fieldset",FIGCAPTION:"figcaption",FIGURE:"figure",FONT:"font",FOOTER:"footer",FOREIGN_OBJECT:"foreignObject",FORM:"form",FRAME:"frame",FRAMESET:"frameset",H1:"h1",H2:"h2",H3:"h3",H4:"h4",H5:"h5",H6:"h6",HEAD:"head",HEADER:"header",HGROUP:"hgroup",HR:"hr",HTML:"html",I:"i",IMG:"img",IMAGE:"image",INPUT:"input",IFRAME:"iframe",KEYGEN:"keygen",LABEL:"label",LI:"li",LINK:"link",LISTING:"listing",MAIN:"main",MALIGNMARK:"malignmark",MARQUEE:"marquee",MATH:"math",MENU:"menu",META:"meta",MGLYPH:"mglyph",MI:"mi",MO:"mo",MN:"mn",MS:"ms",MTEXT:"mtext",NAV:"nav",NOBR:"nobr",NOFRAMES:"noframes",NOEMBED:"noembed",NOSCRIPT:"noscript",OBJECT:"object",OL:"ol",OPTGROUP:"optgroup",OPTION:"option",P:"p",PARAM:"param",PLAINTEXT:"plaintext",PRE:"pre",RB:"rb",RP:"rp",RT:"rt",RTC:"rtc",RUBY:"ruby",S:"s",SCRIPT:"script",SECTION:"section",SELECT:"select",SOURCE:"source",SMALL:"small",SPAN:"span",STRIKE:"strike",STRONG:"strong",STYLE:"style",SUB:"sub",SUMMARY:"summary",SUP:"sup",TABLE:"table",TBODY:"tbody",TEMPLATE:"template",TEXTAREA:"textarea",TFOOT:"tfoot",TD:"td",TH:"th",THEAD:"thead",TITLE:"title",TR:"tr",TRACK:"track",TT:"tt",U:"u",UL:"ul",SVG:"svg",VAR:"var",WBR:"wbr",XMP:"xmp"};t.SPECIAL_ELEMENTS={[r.HTML]:{[i.ADDRESS]:!0,[i.APPLET]:!0,[i.AREA]:!0,[i.ARTICLE]:!0,[i.ASIDE]:!0,[i.BASE]:!0,[i.BASEFONT]:!0,[i.BGSOUND]:!0,[i.BLOCKQUOTE]:!0,[i.BODY]:!0,[i.BR]:!0,[i.BUTTON]:!0,[i.CAPTION]:!0,[i.CENTER]:!0,[i.COL]:!0,[i.COLGROUP]:!0,[i.DD]:!0,[i.DETAILS]:!0,[i.DIR]:!0,[i.DIV]:!0,[i.DL]:!0,[i.DT]:!0,[i.EMBED]:!0,[i.FIELDSET]:!0,[i.FIGCAPTION]:!0,[i.FIGURE]:!0,[i.FOOTER]:!0,[i.FORM]:!0,[i.FRAME]:!0,[i.FRAMESET]:!0,[i.H1]:!0,[i.H2]:!0,[i.H3]:!0,[i.H4]:!0,[i.H5]:!0,[i.H6]:!0,[i.HEAD]:!0,[i.HEADER]:!0,[i.HGROUP]:!0,[i.HR]:!0,[i.HTML]:!0,[i.IFRAME]:!0,[i.IMG]:!0,[i.INPUT]:!0,[i.LI]:!0,[i.LINK]:!0,[i.LISTING]:!0,[i.MAIN]:!0,[i.MARQUEE]:!0,[i.MENU]:!0,[i.META]:!0,[i.NAV]:!0,[i.NOEMBED]:!0,[i.NOFRAMES]:!0,[i.NOSCRIPT]:!0,[i.OBJECT]:!0,[i.OL]:!0,[i.P]:!0,[i.PARAM]:!0,[i.PLAINTEXT]:!0,[i.PRE]:!0,[i.SCRIPT]:!0,[i.SECTION]:!0,[i.SELECT]:!0,[i.SOURCE]:!0,[i.STYLE]:!0,[i.SUMMARY]:!0,[i.TABLE]:!0,[i.TBODY]:!0,[i.TD]:!0,[i.TEMPLATE]:!0,[i.TEXTAREA]:!0,[i.TFOOT]:!0,[i.TH]:!0,[i.THEAD]:!0,[i.TITLE]:!0,[i.TR]:!0,[i.TRACK]:!0,[i.UL]:!0,[i.WBR]:!0,[i.XMP]:!0},[r.MATHML]:{[i.MI]:!0,[i.MO]:!0,[i.MN]:!0,[i.MS]:!0,[i.MTEXT]:!0,[i.ANNOTATION_XML]:!0},[r.SVG]:{[i.TITLE]:!0,[i.FOREIGN_OBJECT]:!0,[i.DESC]:!0}}},function(e,t,n){"use strict";var r=t;function i(e,t,n){for(var r=Object.keys(t),i=0;i<r.length;++i)void 0!==e[r[i]]&&n||(e[r[i]]=t[r[i]]);return e}function s(e){function t(e,n){if(!(this instanceof t))return new t(e,n);Object.defineProperty(this,"message",{get:function(){return e}}),Error.captureStackTrace?Error.captureStackTrace(this,t):Object.defineProperty(this,"stack",{value:(new Error).stack||""}),n&&i(this,n)}return(t.prototype=Object.create(Error.prototype)).constructor=t,Object.defineProperty(t.prototype,"name",{get:function(){return e}}),t.prototype.toString=function(){return this.name+": "+this.message},t}r.asPromise=n(348),r.base64=n(349),r.EventEmitter=n(350),r.float=n(351),r.inquire=n(352),r.utf8=n(353),r.pool=n(354),r.LongBits=n(355),r.global="undefined"!=typeof window&&window||"undefined"!=typeof global&&global||"undefined"!=typeof self&&self||this,r.emptyArray=Object.freeze?Object.freeze([]):[],r.emptyObject=Object.freeze?Object.freeze({}):{},r.isNode=Boolean(r.global.process&&r.global.process.versions&&r.global.process.versions.node),r.isInteger=Number.isInteger||function(e){return"number"==typeof e&&isFinite(e)&&Math.floor(e)===e},r.isString=function(e){return"string"==typeof e||e instanceof String},r.isObject=function(e){return e&&"object"==typeof e},r.isset=r.isSet=function(e,t){var n=e[t];return!(null==n||!e.hasOwnProperty(t))&&("object"!=typeof n||(Array.isArray(n)?n.length:Object.keys(n).length)>0)},r.Buffer=function(){try{var e=r.inquire("buffer").Buffer;return e.prototype.utf8Write?e:null}catch(e){return null}}(),r._Buffer_from=null,r._Buffer_allocUnsafe=null,r.newBuffer=function(e){return"number"==typeof e?r.Buffer?r._Buffer_allocUnsafe(e):new r.Array(e):r.Buffer?r._Buffer_from(e):"undefined"==typeof Uint8Array?e:new Uint8Array(e)},r.Array="undefined"!=typeof Uint8Array?Uint8Array:Array,r.Long=r.global.dcodeIO&&r.global.dcodeIO.Long||r.global.Long||r.inquire("long"),r.key2Re=/^true|false|0|1$/,r.key32Re=/^-?(?:0|[1-9][0-9]*)$/,r.key64Re=/^(?:[\\x00-\\xff]{8}|-?(?:0|[1-9][0-9]*))$/,r.longToHash=function(e){return e?r.LongBits.from(e).toHash():r.LongBits.zeroHash},r.longFromHash=function(e,t){var n=r.LongBits.fromHash(e);return r.Long?r.Long.fromBits(n.lo,n.hi,t):n.toNumber(Boolean(t))},r.merge=i,r.lcFirst=function(e){return e.charAt(0).toLowerCase()+e.substring(1)},r.newError=s,r.ProtocolError=s("ProtocolError"),r.oneOfGetter=function(e){for(var t={},n=0;n<e.length;++n)t[e[n]]=1;return function(){for(var e=Object.keys(this),n=e.length-1;n>-1;--n)if(1===t[e[n]]&&void 0!==this[e[n]]&&null!==this[e[n]])return e[n]}},r.oneOfSetter=function(e){return function(t){for(var n=0;n<e.length;++n)e[n]!==t&&delete this[e[n]]}},r.toJSONOptions={longs:String,enums:String,bytes:String,json:!0},r._configure=function(){var e=r.Buffer;e?(r._Buffer_from=e.from!==Uint8Array.from&&e.from||function(t,n){return new e(t,n)},r._Buffer_allocUnsafe=e.allocUnsafe||function(t){return new e(t)}):r._Buffer_from=r._Buffer_allocUnsafe=null}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(393);t.array=r;const i=n(394);t.errno=i;const s=n(395);t.fs=s;const o=n(396);t.path=o;const a=n(397);t.pattern=a;const c=n(411);t.stream=c},function(e,t){e.exports=function(e){return null!=e&&"object"==typeof e}},function(e,t){e.exports={Text:"text",Directive:"directive",Comment:"comment",Script:"script",Style:"style",Tag:"tag",CDATA:"cdata",Doctype:"doctype",isTag:function(e){return"tag"===e.type||"script"===e.type||"style"===e.type}}},function(e,t,n){"use strict";const r={};function i(e,t,n){n||(n=Error);class i extends n{constructor(e,n,r){super(function(e,n,r){return"string"==typeof t?t:t(e,n,r)}(e,n,r))}}i.prototype.name=n.name,i.prototype.code=e,r[e]=i}function s(e,t){if(Array.isArray(e)){const n=e.length;return e=e.map(e=>String(e)),n>2?`one of ${t} ${e.slice(0,n-1).join(", ")}, or `+e[n-1]:2===n?`one of ${t} ${e[0]} or ${e[1]}`:`of ${t} ${e[0]}`}return`of ${t} ${String(e)}`}i("ERR_INVALID_OPT_VALUE",function(e,t){return'The value "'+t+'" is invalid for option "'+e+'"'},TypeError),i("ERR_INVALID_ARG_TYPE",function(e,t,n){let r;var i,o;let a;if("string"==typeof t&&(i="not ",t.substr(!o||o<0?0:+o,i.length)===i)?(r="must not be",t=t.replace(/^not /,"")):r="must be",function(e,t,n){return(void 0===n||n>e.length)&&(n=e.length),e.substring(n-t.length,n)===t}(e," argument"))a=`The ${e} ${r} ${s(t,"type")}`;else{a=`The "${e}" ${function(e,t,n){return"number"!=typeof n&&(n=0),!(n+t.length>e.length)&&-1!==e.indexOf(t,n)}(e,".")?"property":"argument"} ${r} ${s(t,"type")}`}return a+=`. Received type ${typeof n}`},TypeError),i("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),i("ERR_METHOD_NOT_IMPLEMENTED",function(e){return"The "+e+" method is not implemented"}),i("ERR_STREAM_PREMATURE_CLOSE","Premature close"),i("ERR_STREAM_DESTROYED",function(e){return"Cannot call "+e+" after a stream was destroyed"}),i("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),i("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),i("ERR_STREAM_WRITE_AFTER_END","write after end"),i("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),i("ERR_UNKNOWN_ENCODING",function(e){return"Unknown encoding: "+e},TypeError),i("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),e.exports.codes=r},function(e,t,n){"use strict";var r=Object.keys||function(e){var t=[];for(var n in e)t.push(n);return t};e.exports=u;var i=n(137),s=n(141);n(22)(u,i);for(var o=r(s.prototype),a=0;a<o.length;a++){var c=o[a];u.prototype[c]||(u.prototype[c]=s.prototype[c])}function u(e){if(!(this instanceof u))return new u(e);i.call(this,e),s.call(this,e),this.allowHalfOpen=!0,e&&(!1===e.readable&&(this.readable=!1),!1===e.writable&&(this.writable=!1),!1===e.allowHalfOpen&&(this.allowHalfOpen=!1,this.once("end",l)))}function l(){this._writableState.ended||process.nextTick(h,this)}function h(e){e.end()}Object.defineProperty(u.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(u.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(u.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(u.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed&&this._writableState.destroyed)},set:function(e){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}})},function(e,t){e.exports=require("assert")},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(414),i=n(415),s=n(416);function o(e={}){return e instanceof s.default?e:new s.default(e)}t.Settings=s.default,t.stat=function(e,t,n){if("function"==typeof t)return r.read(e,o(),t);r.read(e,o(t),n)},t.statSync=function(e,t){const n=o(t);return i.read(e,n)}},function(e,t,n){"use strict";var r=n(19),i=n(6),s=function(){function e(){}return e.queryCorrelationId=function(t,n){var s=t.profileQueryEndpoint+"/api/profiles/"+t.instrumentationKey+"/appId";if(e.completedLookups.hasOwnProperty(s))n(e.completedLookups[s]);else if(e.pendingLookups[s])e.pendingLookups[s].push(n);else{e.pendingLookups[s]=[n];var o=function(){if(e.pendingLookups[s]){var n={method:"GET",disableAppInsightsAutoCollection:!0};i.info(e.TAG,n);var a=r.makeRequest(t,s,n,function(n){if(200===n.statusCode){var r="";n.setEncoding("utf-8"),n.on("data",function(e){r+=e}),n.on("end",function(){i.info(e.TAG,r);var t=e.correlationIdPrefix+r;e.completedLookups[s]=t,e.pendingLookups[s]&&e.pendingLookups[s].forEach(function(e){return e(t)}),delete e.pendingLookups[s]})}else n.statusCode>=400&&n.statusCode<500?(e.completedLookups[s]=void 0,delete e.pendingLookups[s]):setTimeout(o,t.correlationIdRetryIntervalMs)});a&&(a.on("error",function(t){i.warn(e.TAG,t)}),a.end())}};setTimeout(o,0)}},e.cancelCorrelationIdQuery=function(t,n){var r=t.profileQueryEndpoint+"/api/profiles/"+t.instrumentationKey+"/appId",i=e.pendingLookups[r];i&&(e.pendingLookups[r]=i.filter(function(e){return e!=n}),0==e.pendingLookups[r].length&&delete e.pendingLookups[r])},e.generateRequestId=function(t){if(t){"."!==(t="|"==t[0]?t:"|"+t)[t.length-1]&&(t+=".");var n=(e.currentRootId++).toString(16);return e.appendSuffix(t,n,"_")}return e.generateRootId()},e.getRootId=function(e){var t=e.indexOf(".");t<0&&(t=e.length);var n="|"===e[0]?1:0;return e.substring(n,t)},e.generateRootId=function(){return"|"+r.w3cTraceId()+"."},e.appendSuffix=function(t,n,i){if(t.length+n.length<e.requestIdMaxLength)return t+n+i;var s=e.requestIdMaxLength-9;if(t.length>s)for(;s>1;--s){var o=t[s-1];if("."===o||"_"===o)break}if(s<=1)return e.generateRootId();for(n=r.randomu32().toString(16);n.length<8;)n="0"+n;return t.substring(0,s)+n+"#"},e.TAG="CorrelationIdManager",e.correlationIdPrefix="cid-v1:",e.w3cEnabled=!1,e.pendingLookups={},e.completedLookups={},e.requestIdMaxLength=1024,e.currentRootId=r.randomu32(),e}();e.exports=s},function(e,t,n){"use strict";function r(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0});const i=n(9);t.ErrorCodes=i.ErrorCodes,t.ResponseError=i.ResponseError,t.CancellationToken=i.CancellationToken,t.CancellationTokenSource=i.CancellationTokenSource,t.Disposable=i.Disposable,t.Event=i.Event,t.Emitter=i.Emitter,t.Trace=i.Trace,t.TraceFormat=i.TraceFormat,t.SetTraceNotification=i.SetTraceNotification,t.LogTraceNotification=i.LogTraceNotification,t.RequestType=i.RequestType,t.RequestType0=i.RequestType0,t.NotificationType=i.NotificationType,t.NotificationType0=i.NotificationType0,t.MessageReader=i.MessageReader,t.MessageWriter=i.MessageWriter,t.ConnectionStrategy=i.ConnectionStrategy,t.StreamMessageReader=i.StreamMessageReader,t.StreamMessageWriter=i.StreamMessageWriter,t.IPCMessageReader=i.IPCMessageReader,t.IPCMessageWriter=i.IPCMessageWriter,t.createClientPipeTransport=i.createClientPipeTransport,t.createServerPipeTransport=i.createServerPipeTransport,t.generateRandomPipeName=i.generateRandomPipeName,t.createClientSocketTransport=i.createClientSocketTransport,t.createServerSocketTransport=i.createServerSocketTransport,r(n(7)),r(n(191));const s=n(201),o=n(202);!function(e){let t,n,r,i,a,c;!function(e){e.type=s.CallHierarchyRequest.type}(t=e.CallHierarchyRequest||(e.CallHierarchyRequest={})),function(e){e.CallsFrom=s.CallHierarchyDirection.CallsFrom,e.CallsTo=s.CallHierarchyDirection.CallsTo}(n=e.CallHierarchyDirection||(e.CallHierarchyDirection={})),function(e){e.type=o.ProgressStartNotification.type}(r=e.ProgressStartNotification||(e.ProgressStartNotification={})),function(e){e.type=o.ProgressReportNotification.type}(i=e.ProgressReportNotification||(e.ProgressReportNotification={})),function(e){e.type=o.ProgressDoneNotification.type}(a=e.ProgressDoneNotification||(e.ProgressDoneNotification={})),function(e){e.type=o.ProgressCancelNotification.type}(c=e.ProgressCancelNotification||(e.ProgressCancelNotification={}))}(t.Proposed||(t.Proposed={})),t.createProtocolConnection=function(e,t,n,r){return i.createMessageConnection(e,t,n,r)}},function(e,t,n){"use strict";function r(e){return"string"==typeof e||e instanceof String}function i(e){return Array.isArray(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.boolean=function(e){return!0===e||!1===e},t.string=r,t.number=function(e){return"number"==typeof e||e instanceof Number},t.error=function(e){return e instanceof Error},t.func=function(e){return"function"==typeof e},t.array=i,t.stringArray=function(e){return i(e)&&e.every(e=>r(e))}},function(e,t){e.exports=require("url")},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.error=function(t){e.writer&&t&&e.writer.error(t)},e.warn=function(t){e.writer&&t&&e.writer.warn(t)},e.info=function(t){e.writer&&t&&e.writer.info(t)}}(t.Log||(t.Log={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(4),i=n(1);t.Metadata=class{constructor(e,t){this.uriId=e,this.overrideMap=t}getOverrides(){return this.overrideMap.values()}addOverride(e){this.overrideMap.set(e.fqsenHash,e)}getOverride(e){this.overrideMap.get(e)}static isMetadataNamespace(e){return e&&"phpstorm_meta"===e.toLowerCase()}};class s{constructor(e){this.typeAndValueDelegate=e,this.metadata=new Map,this.overrides=new Map}get metadataEntries(){return this.metadata.values()}clear(){this.metadata=new Map,this.overrides=new Map}addMetadata(e){this.metadata.has(e.uriId)&&this.remove(e.uriId),this.metadata.set(e.uriId,e);for(let t of e.getOverrides())this.overrides.set(t.fqsenHash,t)}remove(e){const t=this.metadata.get(e);if(t){for(let e of t.getOverrides())this.overrides.delete(e.fqsenHash);return t}}hasOverrideType(e){return this.overrides.has(e)}getOverrideType(e,t){const n=this.overrides.get(e);if(!n)return;const i=t[n.overrideMethod.argIndex||0];if(i){if(1===n.overrideMethod.kind)return n.overrideMethod.useElementType?r.TypeString.elementOf(i.type):i.type;if(2===n.overrideMethod.kind&&void 0!==i.value){const e=i.value.toString(),t=e.toLowerCase(),s=e=>{if(8192===e.key.kind)return!e.key.name||e.key.name.toLowerCase()===t;if(8===e.key.kind||1024===e.key.kind){const n=this.typeAndValueDelegate(e.key);return n&&void 0!==n.value&&n.value.toString().toLowerCase()===t}return!1},o=n.overrideMethod.mapItems.find(s);if(!o)return;return r.TypeString.fromString(o.value.replace("@",e))}}}static create(e){return new s(t=>{if(1024===t.kind){const n=i.Definition.fqsenHash(t.name,i.Definition.fqsenHash(r.TypeString.toString(t.scope),0,1),1024),s=e.find(t.name,e=>1024===e.kind&&void 0!==e.value&&e.fqsenHash===n).shift();return s?{type:i.Definition.typeAsTypeString(s),value:i.Definition.parsedValue(s),uriIdSet:new Set([s.uriId])}:void 0}if(8===t.kind){const n=e.find(t.name,e=>8===e.kind&&void 0!==e.value).shift();return n?{type:i.Definition.typeAsTypeString(n),value:i.Definition.parsedValue(n),uriIdSet:new Set([n.uriId])}:void 0}})}}t.MetadataStore=s,function(e){const t="phpstorm_meta\\override",n="phpstorm_meta\\type",s="phpstorm_meta\\elementtype",o="phpstorm_meta\\map";function a(e,t,n){let s,o,a=e.children[0],c=e.children[2];if(a&&1012===a.kind&&c&&1013===c.kind&&(a=a.children[0],c=c.children[c.children.length-1],a&&c)){switch(a.kind){case 77:s=i.Reference.create(8192,t.nodeText(a).slice(1,-1),t.uriId);break;case 1041:s=i.Reference.create(8,u(a.children[0],t,n),t.uriId);break;case 1024:{const e=u(a.children[0],t,n),o=t.nodeText(a.children[2]);e&&o&&("class"===o.toLowerCase()?s=i.Reference.create(8192,e,t.uriId):(s=i.Reference.create(1024,o,t.uriId)).scope=r.TypeString.fromString(e))}}if(s){switch(c.kind){case 77:o=t.nodeText(c).slice(1,-1);break;case 1024:o=u(c.children[0],t,n),"class"!==t.nodeText(c.children[2])&&(o=void 0)}return o?{key:s,value:o}:void 0}}}function c(e,t){if(!e||81!==e.kind)return;const n=Number(t.nodeText(e));return NaN!==n?n:void 0}function u(e,t,n,r){let i=t.nodeText(e.children[e.children.length-1]);if(!i)return"";switch(e.kind){case 1079:return i;case 1139:return n.resolveRelative(i);case 1136:return n.resolveNotFullyQualified(i,r);default:return""}}e.isOverrideFunction=function(e){return e.toLowerCase()===t},e.visitOverrideFunctionCall=function(e,t,r){let l=e.children[2];if(1008!==l.kind)return;const h=l.children[0],d=l.children[2];if(!h||!d)return;let p;switch(h.kind){case 1145:p=function(e,t,n){const r=u(e.children[0],t,n),s=t.nodeText(e.children[2]);if(!r||!s)return;const o=i.Definition.fqsenHash(s,i.Definition.fqsenHash(r,0,1),32),a=e.children[4];let c;if(a&&1008!==a.kind){const e=a.children[0];e&&81===e.kind&&(c=Number(t.nodeText(e))||void 0)}return{uriId:t.uriId,fqsenHash:o,argIndex:c,overrideMethod:{kind:0}}}(h,t,r);break;case 1080:p=function(e,t,n){const r=u(e.children[0],t,n,64);if(!r)return;const s=e.children[2];let o;if(s&&1008===s.kind){const e=s.children[0];e&&81===e.kind&&NaN===(o=Number(t.nodeText(e)))&&(o=void 0)}return{uriId:t.uriId,fqsenHash:i.Definition.fqsenHash(r,0,64),argIndex:o,overrideMethod:{kind:0}}}(h,t,r);break;case 1123:{const e=function(e,t,n){return 1034!==e.kind?"":u(e.children[0],t,n)}(h.children[1],t,r);e&&(p={uriId:t.uriId,fqsenHash:i.Definition.fqsenHash(e,0,1),argIndex:void 0,overrideMethod:{kind:0}})}}if(!p)return;if(1080!==d.kind)return;const f=u(d.children[0],t,r);if(l=d.children[2],!f||!l||1008!==l.kind)return;let _;switch(f.toLowerCase()){case n:{const e=c(l.children[0],t);void 0!==e&&(_={kind:1,argIndex:e})}break;case s:{const e=c(l.children[0],t);void 0!==e&&(_={kind:1,argIndex:e,useElementType:!0})}break;case o:_=function(e,t,n){if(!e||1009!==e.kind)return;const r=e.children[1];if(!r||1011!==r.kind)return;let i,s;const o=[];for(let e=0,c=r.children.length;e<c;++e)1010===(i=r.children[e]).kind&&(s=a(i,t,n))&&o.push(s);return 0!==o.length?{kind:2,mapItems:o}:void 0}(l.children[0],t,r)}return _?(p.overrideMethod=_,p):void 0}}(t.MetadataTransformer||(t.MetadataTransformer={}))},function(e,t,n){var r=n(76),i=n(251),s=n(252),o="[object Null]",a="[object Undefined]",c=r?r.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?a:o:c&&c in Object(e)?i(e):s(e)}},function(e,t){e.exports=require("buffer")},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(6),i=n(101),s=function(){function e(){}return e.getCurrentContext=function(){if(!e.enabled)return null;var t=e.session.get(e.CONTEXT_NAME);return void 0===t?null:t},e.generateContextObject=function(e,t,n,r,i,s){return t=t||e,this.enabled?{operation:{name:n,id:e,parentId:t,traceparent:i,tracestate:s},customProperties:new o(r)}:null},e.runWithContext=function(t,n){return e.enabled?e.session.bind(n,((r={})[e.CONTEXT_NAME]=t,r))():n();var r},e.wrapEmitter=function(t){e.enabled&&e.session.bindEmitter(t)},e.wrapCallback=function(t){return e.enabled?e.session.bind(t):t},e.enable=function(t){this.enabled||(this.isNodeVersionCompatible()?(e.hasEverEnabled||(this.forceClsHooked=t,this.hasEverEnabled=!0,void 0===this.cls&&(!0===e.forceClsHooked||void 0===e.forceClsHooked&&e.shouldUseClsHooked()?this.cls=n(459):this.cls=n(470)),e.session=this.cls.createNamespace("AI-CLS-Session"),i.registerContextPreservation(function(t){return e.session.bind(t)})),this.enabled=!0):this.enabled=!1)},e.disable=function(){this.enabled=!1},e.reset=function(){e.hasEverEnabled&&(e.session=null,e.session=this.cls.createNamespace("AI-CLS-Session"))},e.isNodeVersionCompatible=function(){var e=process.versions.node.split(".");return parseInt(e[0])>3||parseInt(e[0])>2&&parseInt(e[1])>2},e.shouldUseClsHooked=function(){var e=process.versions.node.split(".");return parseInt(e[0])>8||parseInt(e[0])>=8&&parseInt(e[1])>=2},e.canUseClsHooked=function(){var e=process.versions.node.split("."),t=parseInt(e[0])>8||parseInt(e[0])>=8&&parseInt(e[1])>=0,n=parseInt(e[0])<8||parseInt(e[0])<=8&&parseInt(e[1])<2,r=parseInt(e[0])>4||parseInt(e[0])>=4&&parseInt(e[1])>=7;return!(t&&n)&&r},e.enabled=!1,e.hasEverEnabled=!1,e.forceClsHooked=void 0,e.CONTEXT_NAME="ApplicationInsights-Context",e}();t.CorrelationContextManager=s;var o=function(){function e(e){this.props=[],this.addHeaderData(e)}return e.prototype.addHeaderData=function(e){var t=e?e.split(", "):[];this.props=t.map(function(e){var t=e.split("=");return{key:t[0],value:t[1]}}).concat(this.props)},e.prototype.serializeToHeader=function(){return this.props.map(function(e){return e.key+"="+e.value}).join(", ")},e.prototype.getProperty=function(e){for(var t=0;t<this.props.length;++t){var n=this.props[t];if(n.key===e)return n.value}},e.prototype.setProperty=function(t,n){if(e.bannedCharacters.test(t)||e.bannedCharacters.test(n))r.warn("Correlation context property keys and values must not contain ',' or '='. setProperty was called with key: "+t+" and value: "+n);else{for(var i=0;i<this.props.length;++i){var s=this.props[i];if(s.key===t)return void(s.value=n)}this.props.push({key:t,value:n})}},e.bannedCharacters=/[,=]/,e}()},function(e,t,n){"use strict";e.exports={requestContextHeader:"request-context",requestContextSourceKey:"appId",requestContextTargetKey:"appId",requestIdHeader:"request-id",parentIdHeader:"x-ms-request-id",rootIdHeader:"x-ms-request-root-id",correlationContextHeader:"correlation-context",traceparentHeader:"traceparent",traceStateHeader:"tracestate"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.create=function(e){return{dispose:e}}}(t.Disposable||(t.Disposable={})),function(e){const t={dispose(){}};e.None=function(){return t}}(t.Event||(t.Event={}));class r{add(e,t=null,n){this._callbacks||(this._callbacks=[],this._contexts=[]),this._callbacks.push(e),this._contexts.push(t),Array.isArray(n)&&n.push({dispose:()=>this.remove(e,t)})}remove(e,t=null){if(this._callbacks){for(var n=!1,r=0,i=this._callbacks.length;r<i;r++)if(this._callbacks[r]===e){if(this._contexts[r]===t)return this._callbacks.splice(r,1),void this._contexts.splice(r,1);n=!0}if(n)throw new Error("When adding a listener with a context, you should remove it with the same context")}}invoke(...e){if(!this._callbacks)return[];for(var t=[],n=this._callbacks.slice(0),r=this._contexts.slice(0),i=0,s=n.length;i<s;i++)try{t.push(n[i].apply(r[i],e))}catch(e){console.error(e)}return t}isEmpty(){return!this._callbacks||0===this._callbacks.length}dispose(){this._callbacks=void 0,this._contexts=void 0}}class i{constructor(e){this._options=e}get event(){return this._event||(this._event=(e,t,n)=>{let s;return this._callbacks||(this._callbacks=new r),this._options&&this._options.onFirstListenerAdd&&this._callbacks.isEmpty()&&this._options.onFirstListenerAdd(this),this._callbacks.add(e,t),s={dispose:()=>{this._callbacks.remove(e,t),s.dispose=i._noop,this._options&&this._options.onLastListenerRemove&&this._callbacks.isEmpty()&&this._options.onLastListenerRemove(this)}},Array.isArray(n)&&n.push(s),s}),this._event}fire(e){this._callbacks&&this._callbacks.invoke.call(this._callbacks,e)}dispose(){this._callbacks&&(this._callbacks.dispose(),this._callbacks=void 0)}}i._noop=function(){},t.Emitter=i},function(e,t){e.exports=require("crypto")},function(e,t){e.exports=require("child_process")},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(2);!function(e){e.fromDefinition=function(e){let t=0;return(65536&e.modifiers)>0&&(t|=1),(131072&e.modifiers)>0&&(t|=2),t}}(t.DocumentFlagFactory||(t.DocumentFlagFactory={}));class i{constructor(e,t,n=0,r){this._uri=e,this._text=t,this.version=n,this.text=t,this._flags=r||0}get uri(){return this._uri}get text(){return this._text}get flags(){return this._flags}set text(e){this._text=e,this._lineOffsets=this._textLineOffsets(e,0),this._search=new r.BinarySearch(this._lineOffsets)}get lineOffsets(){return this._lineOffsets.slice(0)}textToLeftOfOffset(e,t){const n=Math.max(e-t,0);return this._text.slice(n,e)}lineText(e){const t=this.offsetLine(e);return this._text.slice(this._lineOffsets[t],e)}wordToLeftOfOffset(e,t){const n=this.offsetLine(e);let r=this._text.slice(this._lineOffsets[n],e).match(t||i.WORD_REGEX);return r?r[0]:""}applyChanges(e){let t;for(let n=0,r=e.length;n<r;++n)(t=e[n]).range?this.applyChange(t.range.start,t.range.end,t.text):this.text=t.text}applyChange(e,t,n){let r=this.positionToOffset(e),i=this.positionToOffset(t);this._text=this._text.slice(0,r)+n+this._text.slice(i);let s=this._lineOffsets.slice(0,e.line+1),o=n.length-(i-r);Array.prototype.push.apply(s,this._textLineOffsets(n,r).slice(1));let a=this._lineOffsets.slice(t.line+1);for(let e=0,t=a.length;e<t;++e)s.push(a[e]+o);this._lineOffsets=s,this._search.sortedArray=this._lineOffsets}textToRightOfOffset(e,t){return this._text.substr(e,t)}offsetToPosition(e){const t=this.offsetLine(e);return{line:t,character:e-this._lineOffsets[t]}}positionToOffset(e){const t=this.lineOffset(e.line)+e.character;return Math.max(0,Math.min(t,this._text.length))}lineOffset(e){return e<=0||this._lineOffsets.length<1?0:e>this._lineOffsets.length-1?this._lineOffsets[this._lineOffsets.length-1]:this._lineOffsets[e]}offsetLine(e){let t=this._search.search(t=>t-e);return t.isExactMatch?t.rank:Math.max(t.rank-1,0)}getRangeText(e){let t=this.positionToOffset(e.start),n=this.positionToOffset(e.end);return this._text.slice(t,n)}_textLineOffsets(e,t){let n=0;const r=e.length;let i=!0;const s=[];let o;for(;n<r;)o=e[n],i&&(s.push(n+t),i=!1),"\r"!==o?("\n"===o&&(i=!0),++n):(++n<r&&"\n"===e[n]&&++n,i=!0);return i&&s.push(n+t),s}}i.WORD_REGEX=/(?:\$|[a-zA-Z_\x80-\uffff])[\\a-zA-Z0-9_\x80-\uffff]*$/,t.Document=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(1),i=n(10);!function(e){e.fromDefinition=function(e){return{kind:e.kind,name:r.Definition.shortName(e.name),fqn:e.associated&&e.associated.length>0?e.associated[0].name:""}}}(t.UseRule||(t.UseRule={}));t.NameResolver=class{constructor(){this.namespaceName="",this.rules=[],this._classStack=[]}get className(){return this._classStack.length?this._classStack[this._classStack.length-1].className:""}get baseClassName(){return this._classStack.length?this._classStack[this._classStack.length-1].baseClassName:""}pushClass(e,t){this._classStack.push({className:e,baseClassName:t})}popClass(){this._classStack.pop()}resolveRelative(e){return this.concatNamespaceName(this.namespaceName,e)}resolveNotFullyQualified(e,t){if(!e)return"";let n=e.toLowerCase();if(i.PHP.isReservedName(n))return n;switch(n){case"self":return this.className;case"static":case"$this":return n;case"parent":return this.baseClassName}let r=e.indexOf("\\");return 0===r?e.slice(1):r<0?this._resolveUnqualified(e,t||1):this._resolveQualified(e,r)}concatNamespaceName(e,t){return t&&e?e+"\\"+t:t}match(e,t){const n=e.indexOf("\\"),r=n>-1?e.slice(0,n):e;return this.matchUnqualified(r,t)}matchUnqualified(e,t){let n;2566&t&&(t=1),8!==t&&(e=e.toLowerCase());for(let r=0,i=this.rules.length;r<i;++r)if((n=this.rules[r]).name&&n.kind===t&&(8===t&&e===n.name||8!==t&&e===n.name.toLowerCase()))return n}_resolveQualified(e,t){const n=this.matchUnqualified(e.slice(0,t),1);return n?n.fqn+e.slice(t):this.resolveRelative(e)}_resolveUnqualified(e,t){const n=this.matchUnqualified(e,t);return n?n.fqn:this.resolveRelative(e)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.info=function(t){e.connection&&e.connection.console.info(t)},e.warn=function(t){e.connection&&e.connection.console.warn(t)},e.error=function(t){e.connection&&e.connection.console.error(t)}}(t.Log||(t.Log={}))},function(e,t,n){"use strict";n.r(t),n.d(t,"setUriThrowOnMissingScheme",function(){return h}),n.d(t,"URI",function(){return m});var r,i,s=(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});if("object"==typeof process)i="win32"===process.platform;else if("object"==typeof navigator){var o=navigator.userAgent;i=o.indexOf("Windows")>=0}var a=/^\w[\w\d+.-]*$/,c=/^\//,u=/^\/\//,l=!0;function h(e){var t=l;return l=e,t}var d,p="",f="/",_=/^(([^:\/?#]+?):)?(\/\/([^\/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/,m=function(){function e(e,t,n,r,i,s){void 0===s&&(s=!1),"object"==typeof e?(this.scheme=e.scheme||p,this.authority=e.authority||p,this.path=e.path||p,this.query=e.query||p,this.fragment=e.fragment||p):(this.scheme=function(e,t){return t||l?e||p:(e||(e="file"),e)}(e,s),this.authority=t||p,this.path=function(e,t){switch(e){case"https":case"http":case"file":t?t[0]!==f&&(t=f+t):t=f}return t}(this.scheme,n||p),this.query=r||p,this.fragment=i||p,function(e,t){if(!e.scheme&&(t||l))throw new Error('[UriError]: Scheme is missing: {scheme: "", authority: "'+e.authority+'", path: "'+e.path+'", query: "'+e.query+'", fragment: "'+e.fragment+'"}');if(e.scheme&&!a.test(e.scheme))throw new Error("[UriError]: Scheme contains illegal characters.");if(e.path)if(e.authority){if(!c.test(e.path))throw new Error('[UriError]: If a URI contains an authority component, then the path component must either be empty or begin with a slash ("/") character')}else if(u.test(e.path))throw new Error('[UriError]: If a URI does not contain an authority component, then the path cannot begin with two slash characters ("//")')}(this,s))}return e.isUri=function(t){return t instanceof e||!!t&&("string"==typeof t.authority&&"string"==typeof t.fragment&&"string"==typeof t.path&&"string"==typeof t.query&&"string"==typeof t.scheme&&"function"==typeof t.fsPath&&"function"==typeof t.with&&"function"==typeof t.toString)},Object.defineProperty(e.prototype,"fsPath",{get:function(){return E(this)},enumerable:!0,configurable:!0}),e.prototype.with=function(e){if(!e)return this;var t=e.scheme,n=e.authority,r=e.path,i=e.query,s=e.fragment;return void 0===t?t=this.scheme:null===t&&(t=p),void 0===n?n=this.authority:null===n&&(n=p),void 0===r?r=this.path:null===r&&(r=p),void 0===i?i=this.query:null===i&&(i=p),void 0===s?s=this.fragment:null===s&&(s=p),t===this.scheme&&n===this.authority&&r===this.path&&i===this.query&&s===this.fragment?this:new y(t,n,r,i,s)},e.parse=function(e,t){void 0===t&&(t=!1);var n=_.exec(e);return n?new y(n[2]||p,decodeURIComponent(n[4]||p),decodeURIComponent(n[5]||p),decodeURIComponent(n[7]||p),decodeURIComponent(n[9]||p),t):new y(p,p,p,p,p)},e.file=function(e){var t=p;if(i&&(e=e.replace(/\\/g,f)),e[0]===f&&e[1]===f){var n=e.indexOf(f,2);-1===n?(t=e.substring(2),e=f):(t=e.substring(2,n),e=e.substring(n)||f)}return new y("file",t,e,p,p)},e.from=function(e){return new y(e.scheme,e.authority,e.path,e.query,e.fragment)},e.prototype.toString=function(e){return void 0===e&&(e=!1),S(this,e)},e.prototype.toJSON=function(){return this},e.revive=function(t){if(t){if(t instanceof e)return t;var n=new y(t);return n._formatted=t.external,n._fsPath=t._sep===g?t.fsPath:null,n}return t},e}(),g=i?1:void 0,y=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._formatted=null,t._fsPath=null,t}return s(t,e),Object.defineProperty(t.prototype,"fsPath",{get:function(){return this._fsPath||(this._fsPath=E(this)),this._fsPath},enumerable:!0,configurable:!0}),t.prototype.toString=function(e){return void 0===e&&(e=!1),e?S(this,!0):(this._formatted||(this._formatted=S(this,!1)),this._formatted)},t.prototype.toJSON=function(){var e={$mid:1};return this._fsPath&&(e.fsPath=this._fsPath,e._sep=g),this._formatted&&(e.external=this._formatted),this.path&&(e.path=this.path),this.scheme&&(e.scheme=this.scheme),this.authority&&(e.authority=this.authority),this.query&&(e.query=this.query),this.fragment&&(e.fragment=this.fragment),e},t}(m),T=((d={})[58]="%3A",d[47]="%2F",d[63]="%3F",d[35]="%23",d[91]="%5B",d[93]="%5D",d[64]="%40",d[33]="%21",d[36]="%24",d[38]="%26",d[39]="%27",d[40]="%28",d[41]="%29",d[42]="%2A",d[43]="%2B",d[44]="%2C",d[59]="%3B",d[61]="%3D",d[32]="%20",d);function b(e,t){for(var n=void 0,r=-1,i=0;i<e.length;i++){var s=e.charCodeAt(i);if(s>=97&&s<=122||s>=65&&s<=90||s>=48&&s<=57||45===s||46===s||95===s||126===s||t&&47===s)-1!==r&&(n+=encodeURIComponent(e.substring(r,i)),r=-1),void 0!==n&&(n+=e.charAt(i));else{void 0===n&&(n=e.substr(0,i));var o=T[s];void 0!==o?(-1!==r&&(n+=encodeURIComponent(e.substring(r,i)),r=-1),n+=o):-1===r&&(r=i)}}return-1!==r&&(n+=encodeURIComponent(e.substring(r))),void 0!==n?n:e}function v(e){for(var t=void 0,n=0;n<e.length;n++){var r=e.charCodeAt(n);35===r||63===r?(void 0===t&&(t=e.substr(0,n)),t+=T[r]):void 0!==t&&(t+=e[n])}return void 0!==t?t:e}function E(e){var t;return t=e.authority&&e.path.length>1&&"file"===e.scheme?"//"+e.authority+e.path:47===e.path.charCodeAt(0)&&(e.path.charCodeAt(1)>=65&&e.path.charCodeAt(1)<=90||e.path.charCodeAt(1)>=97&&e.path.charCodeAt(1)<=122)&&58===e.path.charCodeAt(2)?e.path[1].toLowerCase()+e.path.substr(2):e.path,i&&(t=t.replace(/\//g,"\\")),t}function S(e,t){var n=t?v:b,r="",i=e.scheme,s=e.authority,o=e.path,a=e.query,c=e.fragment;if(i&&(r+=i,r+=":"),(s||"file"===i)&&(r+=f,r+=f),s){var u=s.indexOf("@");if(-1!==u){var l=s.substr(0,u);s=s.substr(u+1),-1===(u=l.indexOf(":"))?r+=n(l,!1):(r+=n(l.substr(0,u),!1),r+=":",r+=n(l.substr(u+1),!1)),r+="@"}-1===(u=(s=s.toLowerCase()).indexOf(":"))?r+=n(s,!1):(r+=n(s.substr(0,u),!1),r+=s.substr(u))}if(o){if(o.length>=3&&47===o.charCodeAt(0)&&58===o.charCodeAt(2))(h=o.charCodeAt(1))>=65&&h<=90&&(o="/"+String.fromCharCode(h+32)+":"+o.substr(3));else if(o.length>=2&&58===o.charCodeAt(1)){var h;(h=o.charCodeAt(0))>=65&&h<=90&&(o=String.fromCharCode(h+32)+":"+o.substr(2))}r+=n(o,!0)}return a&&(r+="?",r+=n(a,!1)),c&&(r+="#",r+=t?c:b(c,!1)),r}},function(e,t,n){"use strict";const r=n(228),i=n(70),s=n(229),o=n(71),a=i.CODE_POINTS,c=i.CODE_POINT_SEQUENCES,u={128:8364,130:8218,131:402,132:8222,133:8230,134:8224,135:8225,136:710,137:8240,138:352,139:8249,140:338,142:381,145:8216,146:8217,147:8220,148:8221,149:8226,150:8211,151:8212,152:732,153:8482,154:353,155:8250,156:339,158:382,159:376},l=1,h=2,d=4,p=l|h|d,f="DATA_STATE",_="RCDATA_STATE",m="RAWTEXT_STATE",g="SCRIPT_DATA_STATE",y="PLAINTEXT_STATE",T="TAG_OPEN_STATE",b="END_TAG_OPEN_STATE",v="TAG_NAME_STATE",E="RCDATA_LESS_THAN_SIGN_STATE",S="RCDATA_END_TAG_OPEN_STATE",k="RCDATA_END_TAG_NAME_STATE",w="RAWTEXT_LESS_THAN_SIGN_STATE",N="RAWTEXT_END_TAG_OPEN_STATE",A="RAWTEXT_END_TAG_NAME_STATE",x="SCRIPT_DATA_LESS_THAN_SIGN_STATE",C="SCRIPT_DATA_END_TAG_OPEN_STATE",R="SCRIPT_DATA_END_TAG_NAME_STATE",I="SCRIPT_DATA_ESCAPE_START_STATE",O="SCRIPT_DATA_ESCAPE_START_DASH_STATE",D="SCRIPT_DATA_ESCAPED_STATE",P="SCRIPT_DATA_ESCAPED_DASH_STATE",L="SCRIPT_DATA_ESCAPED_DASH_DASH_STATE",M="SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN_STATE",U="SCRIPT_DATA_ESCAPED_END_TAG_OPEN_STATE",q="SCRIPT_DATA_ESCAPED_END_TAG_NAME_STATE",F="SCRIPT_DATA_DOUBLE_ESCAPE_START_STATE",B="SCRIPT_DATA_DOUBLE_ESCAPED_STATE",H="SCRIPT_DATA_DOUBLE_ESCAPED_DASH_STATE",j="SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH_STATE",G="SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN_STATE",V="SCRIPT_DATA_DOUBLE_ESCAPE_END_STATE",K="BEFORE_ATTRIBUTE_NAME_STATE",$="ATTRIBUTE_NAME_STATE",W="AFTER_ATTRIBUTE_NAME_STATE",Y="BEFORE_ATTRIBUTE_VALUE_STATE",z="ATTRIBUTE_VALUE_DOUBLE_QUOTED_STATE",X="ATTRIBUTE_VALUE_SINGLE_QUOTED_STATE",Q="ATTRIBUTE_VALUE_UNQUOTED_STATE",J="AFTER_ATTRIBUTE_VALUE_QUOTED_STATE",Z="SELF_CLOSING_START_TAG_STATE",ee="BOGUS_COMMENT_STATE",te="MARKUP_DECLARATION_OPEN_STATE",ne="COMMENT_START_STATE",re="COMMENT_START_DASH_STATE",ie="COMMENT_STATE",se="COMMENT_LESS_THAN_SIGN_STATE",oe="COMMENT_LESS_THAN_SIGN_BANG_STATE",ae="COMMENT_LESS_THAN_SIGN_BANG_DASH_STATE",ce="COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH_STATE",ue="COMMENT_END_DASH_STATE",le="COMMENT_END_STATE",he="COMMENT_END_BANG_STATE",de="DOCTYPE_STATE",pe="BEFORE_DOCTYPE_NAME_STATE",fe="DOCTYPE_NAME_STATE",_e="AFTER_DOCTYPE_NAME_STATE",me="AFTER_DOCTYPE_PUBLIC_KEYWORD_STATE",ge="BEFORE_DOCTYPE_PUBLIC_IDENTIFIER_STATE",ye="DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED_STATE",Te="DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED_STATE",be="AFTER_DOCTYPE_PUBLIC_IDENTIFIER_STATE",ve="BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS_STATE",Ee="AFTER_DOCTYPE_SYSTEM_KEYWORD_STATE",Se="BEFORE_DOCTYPE_SYSTEM_IDENTIFIER_STATE",ke="DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED_STATE",we="DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED_STATE",Ne="AFTER_DOCTYPE_SYSTEM_IDENTIFIER_STATE",Ae="BOGUS_DOCTYPE_STATE",xe="CDATA_SECTION_STATE",Ce="CDATA_SECTION_BRACKET_STATE",Re="CDATA_SECTION_END_STATE",Ie="CHARACTER_REFERENCE_STATE",Oe="NAMED_CHARACTER_REFERENCE_STATE",De="AMBIGUOS_AMPERSAND_STATE",Pe="NUMERIC_CHARACTER_REFERENCE_STATE",Le="HEXADEMICAL_CHARACTER_REFERENCE_START_STATE",Me="DECIMAL_CHARACTER_REFERENCE_START_STATE",Ue="HEXADEMICAL_CHARACTER_REFERENCE_STATE",qe="DECIMAL_CHARACTER_REFERENCE_STATE",Fe="NUMERIC_CHARACTER_REFERENCE_END_STATE";function Be(e){return e===a.SPACE||e===a.LINE_FEED||e===a.TABULATION||e===a.FORM_FEED}function He(e){return e>=a.DIGIT_0&&e<=a.DIGIT_9}function je(e){return e>=a.LATIN_CAPITAL_A&&e<=a.LATIN_CAPITAL_Z}function Ge(e){return e>=a.LATIN_SMALL_A&&e<=a.LATIN_SMALL_Z}function Ve(e){return Ge(e)||je(e)}function Ke(e){return Ve(e)||He(e)}function $e(e){return e>=a.LATIN_CAPITAL_A&&e<=a.LATIN_CAPITAL_F}function We(e){return e>=a.LATIN_SMALL_A&&e<=a.LATIN_SMALL_F}function Ye(e){return e+32}function ze(e){return e<=65535?String.fromCharCode(e):(e-=65536,String.fromCharCode(e>>>10&1023|55296)+String.fromCharCode(56320|1023&e))}function Xe(e){return String.fromCharCode(Ye(e))}function Qe(e,t){const n=s[++e];let r=++e,i=r+n-1;for(;r<=i;){const e=r+i>>>1,o=s[e];if(o<t)r=e+1;else{if(!(o>t))return s[e+n];i=e-1}}return-1}class Je{constructor(){this.preprocessor=new r,this.tokenQueue=[],this.allowCDATA=!1,this.state=f,this.returnState="",this.charRefCode=-1,this.tempBuff=[],this.lastStartTagName="",this.consumedAfterSnapshot=-1,this.active=!1,this.currentCharacterToken=null,this.currentToken=null,this.currentAttr=null}_err(){}_errOnNextCodePoint(e){this._consume(),this._err(e),this._unconsume()}getNextToken(){for(;!this.tokenQueue.length&&this.active;){this.consumedAfterSnapshot=0;const e=this._consume();this._ensureHibernation()||this[this.state](e)}return this.tokenQueue.shift()}write(e,t){this.active=!0,this.preprocessor.write(e,t)}insertHtmlAtCurrentPos(e){this.active=!0,this.preprocessor.insertHtmlAtCurrentPos(e)}_ensureHibernation(){if(this.preprocessor.endOfChunkHit){for(;this.consumedAfterSnapshot>0;this.consumedAfterSnapshot--)this.preprocessor.retreat();return this.active=!1,this.tokenQueue.push({type:Je.HIBERNATION_TOKEN}),!0}return!1}_consume(){return this.consumedAfterSnapshot++,this.preprocessor.advance()}_unconsume(){this.consumedAfterSnapshot--,this.preprocessor.retreat()}_reconsumeInState(e){this.state=e,this._unconsume()}_consumeSequenceIfMatch(e,t,n){let r=0,i=!0;const s=e.length;let o=0,c=t,u=void 0;for(;o<s;o++){if(o>0&&(c=this._consume(),r++),c===a.EOF){i=!1;break}if(c!==(u=e[o])&&(n||c!==Ye(u))){i=!1;break}}if(!i)for(;r--;)this._unconsume();return i}_isTempBufferEqualToScriptString(){if(this.tempBuff.length!==c.SCRIPT_STRING.length)return!1;for(let e=0;e<this.tempBuff.length;e++)if(this.tempBuff[e]!==c.SCRIPT_STRING[e])return!1;return!0}_createStartTagToken(){this.currentToken={type:Je.START_TAG_TOKEN,tagName:"",selfClosing:!1,ackSelfClosing:!1,attrs:[]}}_createEndTagToken(){this.currentToken={type:Je.END_TAG_TOKEN,tagName:"",selfClosing:!1,attrs:[]}}_createCommentToken(){this.currentToken={type:Je.COMMENT_TOKEN,data:""}}_createDoctypeToken(e){this.currentToken={type:Je.DOCTYPE_TOKEN,name:e,forceQuirks:!1,publicId:null,systemId:null}}_createCharacterToken(e,t){this.currentCharacterToken={type:e,chars:t}}_createEOFToken(){this.currentToken={type:Je.EOF_TOKEN}}_createAttr(e){this.currentAttr={name:e,value:""}}_leaveAttrName(e){null===Je.getTokenAttr(this.currentToken,this.currentAttr.name)?this.currentToken.attrs.push(this.currentAttr):this._err(o.duplicateAttribute),this.state=e}_leaveAttrValue(e){this.state=e}_emitCurrentToken(){this._emitCurrentCharacterToken();const e=this.currentToken;this.currentToken=null,e.type===Je.START_TAG_TOKEN?this.lastStartTagName=e.tagName:e.type===Je.END_TAG_TOKEN&&(e.attrs.length>0&&this._err(o.endTagWithAttributes),e.selfClosing&&this._err(o.endTagWithTrailingSolidus)),this.tokenQueue.push(e)}_emitCurrentCharacterToken(){this.currentCharacterToken&&(this.tokenQueue.push(this.currentCharacterToken),this.currentCharacterToken=null)}_emitEOFToken(){this._createEOFToken(),this._emitCurrentToken()}_appendCharToCurrentCharacterToken(e,t){this.currentCharacterToken&&this.currentCharacterToken.type!==e&&this._emitCurrentCharacterToken(),this.currentCharacterToken?this.currentCharacterToken.chars+=t:this._createCharacterToken(e,t)}_emitCodePoint(e){let t=Je.CHARACTER_TOKEN;Be(e)?t=Je.WHITESPACE_CHARACTER_TOKEN:e===a.NULL&&(t=Je.NULL_CHARACTER_TOKEN),this._appendCharToCurrentCharacterToken(t,ze(e))}_emitSeveralCodePoints(e){for(let t=0;t<e.length;t++)this._emitCodePoint(e[t])}_emitChars(e){this._appendCharToCurrentCharacterToken(Je.CHARACTER_TOKEN,e)}_matchNamedCharacterReference(e){let t=null,n=1,r=Qe(0,e);for(this.tempBuff.push(e);r>-1;){const e=s[r],i=e<p;i&&e&l&&(t=e&h?[s[++r],s[++r]]:[s[++r]],n=0);const o=this._consume();if(this.tempBuff.push(o),n++,o===a.EOF)break;r=i?e&d?Qe(r,o):-1:o===e?++r:-1}for(;n--;)this.tempBuff.pop(),this._unconsume();return t}_isCharacterReferenceInAttribute(){return this.returnState===z||this.returnState===X||this.returnState===Q}_isCharacterReferenceAttributeQuirk(e){if(!e&&this._isCharacterReferenceInAttribute()){const e=this._consume();return this._unconsume(),e===a.EQUALS_SIGN||Ke(e)}return!1}_flushCodePointsConsumedAsCharacterReference(){if(this._isCharacterReferenceInAttribute())for(let e=0;e<this.tempBuff.length;e++)this.currentAttr.value+=ze(this.tempBuff[e]);else this._emitSeveralCodePoints(this.tempBuff);this.tempBuff=[]}[f](e){this.preprocessor.dropParsedChunk(),e===a.LESS_THAN_SIGN?this.state=T:e===a.AMPERSAND?(this.returnState=f,this.state=Ie):e===a.NULL?(this._err(o.unexpectedNullCharacter),this._emitCodePoint(e)):e===a.EOF?this._emitEOFToken():this._emitCodePoint(e)}[_](e){this.preprocessor.dropParsedChunk(),e===a.AMPERSAND?(this.returnState=_,this.state=Ie):e===a.LESS_THAN_SIGN?this.state=E:e===a.NULL?(this._err(o.unexpectedNullCharacter),this._emitChars(i.REPLACEMENT_CHARACTER)):e===a.EOF?this._emitEOFToken():this._emitCodePoint(e)}[m](e){this.preprocessor.dropParsedChunk(),e===a.LESS_THAN_SIGN?this.state=w:e===a.NULL?(this._err(o.unexpectedNullCharacter),this._emitChars(i.REPLACEMENT_CHARACTER)):e===a.EOF?this._emitEOFToken():this._emitCodePoint(e)}[g](e){this.preprocessor.dropParsedChunk(),e===a.LESS_THAN_SIGN?this.state=x:e===a.NULL?(this._err(o.unexpectedNullCharacter),this._emitChars(i.REPLACEMENT_CHARACTER)):e===a.EOF?this._emitEOFToken():this._emitCodePoint(e)}[y](e){this.preprocessor.dropParsedChunk(),e===a.NULL?(this._err(o.unexpectedNullCharacter),this._emitChars(i.REPLACEMENT_CHARACTER)):e===a.EOF?this._emitEOFToken():this._emitCodePoint(e)}[T](e){e===a.EXCLAMATION_MARK?this.state=te:e===a.SOLIDUS?this.state=b:Ve(e)?(this._createStartTagToken(),this._reconsumeInState(v)):e===a.QUESTION_MARK?(this._err(o.unexpectedQuestionMarkInsteadOfTagName),this._createCommentToken(),this._reconsumeInState(ee)):e===a.EOF?(this._err(o.eofBeforeTagName),this._emitChars("<"),this._emitEOFToken()):(this._err(o.invalidFirstCharacterOfTagName),this._emitChars("<"),this._reconsumeInState(f))}[b](e){Ve(e)?(this._createEndTagToken(),this._reconsumeInState(v)):e===a.GREATER_THAN_SIGN?(this._err(o.missingEndTagName),this.state=f):e===a.EOF?(this._err(o.eofBeforeTagName),this._emitChars("</"),this._emitEOFToken()):(this._err(o.invalidFirstCharacterOfTagName),this._createCommentToken(),this._reconsumeInState(ee))}[v](e){Be(e)?this.state=K:e===a.SOLIDUS?this.state=Z:e===a.GREATER_THAN_SIGN?(this.state=f,this._emitCurrentToken()):je(e)?this.currentToken.tagName+=Xe(e):e===a.NULL?(this._err(o.unexpectedNullCharacter),this.currentToken.tagName+=i.REPLACEMENT_CHARACTER):e===a.EOF?(this._err(o.eofInTag),this._emitEOFToken()):this.currentToken.tagName+=ze(e)}[E](e){e===a.SOLIDUS?(this.tempBuff=[],this.state=S):(this._emitChars("<"),this._reconsumeInState(_))}[S](e){Ve(e)?(this._createEndTagToken(),this._reconsumeInState(k)):(this._emitChars("</"),this._reconsumeInState(_))}[k](e){if(je(e))this.currentToken.tagName+=Xe(e),this.tempBuff.push(e);else if(Ge(e))this.currentToken.tagName+=ze(e),this.tempBuff.push(e);else{if(this.lastStartTagName===this.currentToken.tagName){if(Be(e))return void(this.state=K);if(e===a.SOLIDUS)return void(this.state=Z);if(e===a.GREATER_THAN_SIGN)return this.state=f,void this._emitCurrentToken()}this._emitChars("</"),this._emitSeveralCodePoints(this.tempBuff),this._reconsumeInState(_)}}[w](e){e===a.SOLIDUS?(this.tempBuff=[],this.state=N):(this._emitChars("<"),this._reconsumeInState(m))}[N](e){Ve(e)?(this._createEndTagToken(),this._reconsumeInState(A)):(this._emitChars("</"),this._reconsumeInState(m))}[A](e){if(je(e))this.currentToken.tagName+=Xe(e),this.tempBuff.push(e);else if(Ge(e))this.currentToken.tagName+=ze(e),this.tempBuff.push(e);else{if(this.lastStartTagName===this.currentToken.tagName){if(Be(e))return void(this.state=K);if(e===a.SOLIDUS)return void(this.state=Z);if(e===a.GREATER_THAN_SIGN)return this._emitCurrentToken(),void(this.state=f)}this._emitChars("</"),this._emitSeveralCodePoints(this.tempBuff),this._reconsumeInState(m)}}[x](e){e===a.SOLIDUS?(this.tempBuff=[],this.state=C):e===a.EXCLAMATION_MARK?(this.state=I,this._emitChars("<!")):(this._emitChars("<"),this._reconsumeInState(g))}[C](e){Ve(e)?(this._createEndTagToken(),this._reconsumeInState(R)):(this._emitChars("</"),this._reconsumeInState(g))}[R](e){if(je(e))this.currentToken.tagName+=Xe(e),this.tempBuff.push(e);else if(Ge(e))this.currentToken.tagName+=ze(e),this.tempBuff.push(e);else{if(this.lastStartTagName===this.currentToken.tagName){if(Be(e))return void(this.state=K);if(e===a.SOLIDUS)return void(this.state=Z);if(e===a.GREATER_THAN_SIGN)return this._emitCurrentToken(),void(this.state=f)}this._emitChars("</"),this._emitSeveralCodePoints(this.tempBuff),this._reconsumeInState(g)}}[I](e){e===a.HYPHEN_MINUS?(this.state=O,this._emitChars("-")):this._reconsumeInState(g)}[O](e){e===a.HYPHEN_MINUS?(this.state=L,this._emitChars("-")):this._reconsumeInState(g)}[D](e){e===a.HYPHEN_MINUS?(this.state=P,this._emitChars("-")):e===a.LESS_THAN_SIGN?this.state=M:e===a.NULL?(this._err(o.unexpectedNullCharacter),this._emitChars(i.REPLACEMENT_CHARACTER)):e===a.EOF?(this._err(o.eofInScriptHtmlCommentLikeText),this._emitEOFToken()):this._emitCodePoint(e)}[P](e){e===a.HYPHEN_MINUS?(this.state=L,this._emitChars("-")):e===a.LESS_THAN_SIGN?this.state=M:e===a.NULL?(this._err(o.unexpectedNullCharacter),this.state=D,this._emitChars(i.REPLACEMENT_CHARACTER)):e===a.EOF?(this._err(o.eofInScriptHtmlCommentLikeText),this._emitEOFToken()):(this.state=D,this._emitCodePoint(e))}[L](e){e===a.HYPHEN_MINUS?this._emitChars("-"):e===a.LESS_THAN_SIGN?this.state=M:e===a.GREATER_THAN_SIGN?(this.state=g,this._emitChars(">")):e===a.NULL?(this._err(o.unexpectedNullCharacter),this.state=D,this._emitChars(i.REPLACEMENT_CHARACTER)):e===a.EOF?(this._err(o.eofInScriptHtmlCommentLikeText),this._emitEOFToken()):(this.state=D,this._emitCodePoint(e))}[M](e){e===a.SOLIDUS?(this.tempBuff=[],this.state=U):Ve(e)?(this.tempBuff=[],this._emitChars("<"),this._reconsumeInState(F)):(this._emitChars("<"),this._reconsumeInState(D))}[U](e){Ve(e)?(this._createEndTagToken(),this._reconsumeInState(q)):(this._emitChars("</"),this._reconsumeInState(D))}[q](e){if(je(e))this.currentToken.tagName+=Xe(e),this.tempBuff.push(e);else if(Ge(e))this.currentToken.tagName+=ze(e),this.tempBuff.push(e);else{if(this.lastStartTagName===this.currentToken.tagName){if(Be(e))return void(this.state=K);if(e===a.SOLIDUS)return void(this.state=Z);if(e===a.GREATER_THAN_SIGN)return this._emitCurrentToken(),void(this.state=f)}this._emitChars("</"),this._emitSeveralCodePoints(this.tempBuff),this._reconsumeInState(D)}}[F](e){Be(e)||e===a.SOLIDUS||e===a.GREATER_THAN_SIGN?(this.state=this._isTempBufferEqualToScriptString()?B:D,this._emitCodePoint(e)):je(e)?(this.tempBuff.push(Ye(e)),this._emitCodePoint(e)):Ge(e)?(this.tempBuff.push(e),this._emitCodePoint(e)):this._reconsumeInState(D)}[B](e){e===a.HYPHEN_MINUS?(this.state=H,this._emitChars("-")):e===a.LESS_THAN_SIGN?(this.state=G,this._emitChars("<")):e===a.NULL?(this._err(o.unexpectedNullCharacter),this._emitChars(i.REPLACEMENT_CHARACTER)):e===a.EOF?(this._err(o.eofInScriptHtmlCommentLikeText),this._emitEOFToken()):this._emitCodePoint(e)}[H](e){e===a.HYPHEN_MINUS?(this.state=j,this._emitChars("-")):e===a.LESS_THAN_SIGN?(this.state=G,this._emitChars("<")):e===a.NULL?(this._err(o.unexpectedNullCharacter),this.state=B,this._emitChars(i.REPLACEMENT_CHARACTER)):e===a.EOF?(this._err(o.eofInScriptHtmlCommentLikeText),this._emitEOFToken()):(this.state=B,this._emitCodePoint(e))}[j](e){e===a.HYPHEN_MINUS?this._emitChars("-"):e===a.LESS_THAN_SIGN?(this.state=G,this._emitChars("<")):e===a.GREATER_THAN_SIGN?(this.state=g,this._emitChars(">")):e===a.NULL?(this._err(o.unexpectedNullCharacter),this.state=B,this._emitChars(i.REPLACEMENT_CHARACTER)):e===a.EOF?(this._err(o.eofInScriptHtmlCommentLikeText),this._emitEOFToken()):(this.state=B,this._emitCodePoint(e))}[G](e){e===a.SOLIDUS?(this.tempBuff=[],this.state=V,this._emitChars("/")):this._reconsumeInState(B)}[V](e){Be(e)||e===a.SOLIDUS||e===a.GREATER_THAN_SIGN?(this.state=this._isTempBufferEqualToScriptString()?D:B,this._emitCodePoint(e)):je(e)?(this.tempBuff.push(Ye(e)),this._emitCodePoint(e)):Ge(e)?(this.tempBuff.push(e),this._emitCodePoint(e)):this._reconsumeInState(B)}[K](e){Be(e)||(e===a.SOLIDUS||e===a.GREATER_THAN_SIGN||e===a.EOF?this._reconsumeInState(W):e===a.EQUALS_SIGN?(this._err(o.unexpectedEqualsSignBeforeAttributeName),this._createAttr("="),this.state=$):(this._createAttr(""),this._reconsumeInState($)))}[$](e){Be(e)||e===a.SOLIDUS||e===a.GREATER_THAN_SIGN||e===a.EOF?(this._leaveAttrName(W),this._unconsume()):e===a.EQUALS_SIGN?this._leaveAttrName(Y):je(e)?this.currentAttr.name+=Xe(e):e===a.QUOTATION_MARK||e===a.APOSTROPHE||e===a.LESS_THAN_SIGN?(this._err(o.unexpectedCharacterInAttributeName),this.currentAttr.name+=ze(e)):e===a.NULL?(this._err(o.unexpectedNullCharacter),this.currentAttr.name+=i.REPLACEMENT_CHARACTER):this.currentAttr.name+=ze(e)}[W](e){Be(e)||(e===a.SOLIDUS?this.state=Z:e===a.EQUALS_SIGN?this.state=Y:e===a.GREATER_THAN_SIGN?(this.state=f,this._emitCurrentToken()):e===a.EOF?(this._err(o.eofInTag),this._emitEOFToken()):(this._createAttr(""),this._reconsumeInState($)))}[Y](e){Be(e)||(e===a.QUOTATION_MARK?this.state=z:e===a.APOSTROPHE?this.state=X:e===a.GREATER_THAN_SIGN?(this._err(o.missingAttributeValue),this.state=f,this._emitCurrentToken()):this._reconsumeInState(Q))}[z](e){e===a.QUOTATION_MARK?this.state=J:e===a.AMPERSAND?(this.returnState=z,this.state=Ie):e===a.NULL?(this._err(o.unexpectedNullCharacter),this.currentAttr.value+=i.REPLACEMENT_CHARACTER):e===a.EOF?(this._err(o.eofInTag),this._emitEOFToken()):this.currentAttr.value+=ze(e)}[X](e){e===a.APOSTROPHE?this.state=J:e===a.AMPERSAND?(this.returnState=X,this.state=Ie):e===a.NULL?(this._err(o.unexpectedNullCharacter),this.currentAttr.value+=i.REPLACEMENT_CHARACTER):e===a.EOF?(this._err(o.eofInTag),this._emitEOFToken()):this.currentAttr.value+=ze(e)}[Q](e){Be(e)?this._leaveAttrValue(K):e===a.AMPERSAND?(this.returnState=Q,this.state=Ie):e===a.GREATER_THAN_SIGN?(this._leaveAttrValue(f),this._emitCurrentToken()):e===a.NULL?(this._err(o.unexpectedNullCharacter),this.currentAttr.value+=i.REPLACEMENT_CHARACTER):e===a.QUOTATION_MARK||e===a.APOSTROPHE||e===a.LESS_THAN_SIGN||e===a.EQUALS_SIGN||e===a.GRAVE_ACCENT?(this._err(o.unexpectedCharacterInUnquotedAttributeValue),this.currentAttr.value+=ze(e)):e===a.EOF?(this._err(o.eofInTag),this._emitEOFToken()):this.currentAttr.value+=ze(e)}[J](e){Be(e)?this._leaveAttrValue(K):e===a.SOLIDUS?this._leaveAttrValue(Z):e===a.GREATER_THAN_SIGN?(this._leaveAttrValue(f),this._emitCurrentToken()):e===a.EOF?(this._err(o.eofInTag),this._emitEOFToken()):(this._err(o.missingWhitespaceBetweenAttributes),this._reconsumeInState(K))}[Z](e){e===a.GREATER_THAN_SIGN?(this.currentToken.selfClosing=!0,this.state=f,this._emitCurrentToken()):e===a.EOF?(this._err(o.eofInTag),this._emitEOFToken()):(this._err(o.unexpectedSolidusInTag),this._reconsumeInState(K))}[ee](e){e===a.GREATER_THAN_SIGN?(this.state=f,this._emitCurrentToken()):e===a.EOF?(this._emitCurrentToken(),this._emitEOFToken()):e===a.NULL?(this._err(o.unexpectedNullCharacter),this.currentToken.data+=i.REPLACEMENT_CHARACTER):this.currentToken.data+=ze(e)}[te](e){this._consumeSequenceIfMatch(c.DASH_DASH_STRING,e,!0)?(this._createCommentToken(),this.state=ne):this._consumeSequenceIfMatch(c.DOCTYPE_STRING,e,!1)?this.state=de:this._consumeSequenceIfMatch(c.CDATA_START_STRING,e,!0)?this.allowCDATA?this.state=xe:(this._err(o.cdataInHtmlContent),this._createCommentToken(),this.currentToken.data="[CDATA[",this.state=ee):this._ensureHibernation()||(this._err(o.incorrectlyOpenedComment),this._createCommentToken(),this._reconsumeInState(ee))}[ne](e){e===a.HYPHEN_MINUS?this.state=re:e===a.GREATER_THAN_SIGN?(this._err(o.abruptClosingOfEmptyComment),this.state=f,this._emitCurrentToken()):this._reconsumeInState(ie)}[re](e){e===a.HYPHEN_MINUS?this.state=le:e===a.GREATER_THAN_SIGN?(this._err(o.abruptClosingOfEmptyComment),this.state=f,this._emitCurrentToken()):e===a.EOF?(this._err(o.eofInComment),this._emitCurrentToken(),this._emitEOFToken()):(this.currentToken.data+="-",this._reconsumeInState(ie))}[ie](e){e===a.HYPHEN_MINUS?this.state=ue:e===a.LESS_THAN_SIGN?(this.currentToken.data+="<",this.state=se):e===a.NULL?(this._err(o.unexpectedNullCharacter),this.currentToken.data+=i.REPLACEMENT_CHARACTER):e===a.EOF?(this._err(o.eofInComment),this._emitCurrentToken(),this._emitEOFToken()):this.currentToken.data+=ze(e)}[se](e){e===a.EXCLAMATION_MARK?(this.currentToken.data+="!",this.state=oe):e===a.LESS_THAN_SIGN?this.currentToken.data+="!":this._reconsumeInState(ie)}[oe](e){e===a.HYPHEN_MINUS?this.state=ae:this._reconsumeInState(ie)}[ae](e){e===a.HYPHEN_MINUS?this.state=ce:this._reconsumeInState(ue)}[ce](e){e!==a.GREATER_THAN_SIGN&&e!==a.EOF&&this._err(o.nestedComment),this._reconsumeInState(le)}[ue](e){e===a.HYPHEN_MINUS?this.state=le:e===a.EOF?(this._err(o.eofInComment),this._emitCurrentToken(),this._emitEOFToken()):(this.currentToken.data+="-",this._reconsumeInState(ie))}[le](e){e===a.GREATER_THAN_SIGN?(this.state=f,this._emitCurrentToken()):e===a.EXCLAMATION_MARK?this.state=he:e===a.HYPHEN_MINUS?this.currentToken.data+="-":e===a.EOF?(this._err(o.eofInComment),this._emitCurrentToken(),this._emitEOFToken()):(this.currentToken.data+="--",this._reconsumeInState(ie))}[he](e){e===a.HYPHEN_MINUS?(this.currentToken.data+="--!",this.state=ue):e===a.GREATER_THAN_SIGN?(this._err(o.incorrectlyClosedComment),this.state=f,this._emitCurrentToken()):e===a.EOF?(this._err(o.eofInComment),this._emitCurrentToken(),this._emitEOFToken()):(this.currentToken.data+="--!",this._reconsumeInState(ie))}[de](e){Be(e)?this.state=pe:e===a.GREATER_THAN_SIGN?this._reconsumeInState(pe):e===a.EOF?(this._err(o.eofInDoctype),this._createDoctypeToken(null),this.currentToken.forceQuirks=!0,this._emitCurrentToken(),this._emitEOFToken()):(this._err(o.missingWhitespaceBeforeDoctypeName),this._reconsumeInState(pe))}[pe](e){Be(e)||(je(e)?(this._createDoctypeToken(Xe(e)),this.state=fe):e===a.NULL?(this._err(o.unexpectedNullCharacter),this._createDoctypeToken(i.REPLACEMENT_CHARACTER),this.state=fe):e===a.GREATER_THAN_SIGN?(this._err(o.missingDoctypeName),this._createDoctypeToken(null),this.currentToken.forceQuirks=!0,this._emitCurrentToken(),this.state=f):e===a.EOF?(this._err(o.eofInDoctype),this._createDoctypeToken(null),this.currentToken.forceQuirks=!0,this._emitCurrentToken(),this._emitEOFToken()):(this._createDoctypeToken(ze(e)),this.state=fe))}[fe](e){Be(e)?this.state=_e:e===a.GREATER_THAN_SIGN?(this.state=f,this._emitCurrentToken()):je(e)?this.currentToken.name+=Xe(e):e===a.NULL?(this._err(o.unexpectedNullCharacter),this.currentToken.name+=i.REPLACEMENT_CHARACTER):e===a.EOF?(this._err(o.eofInDoctype),this.currentToken.forceQuirks=!0,this._emitCurrentToken(),this._emitEOFToken()):this.currentToken.name+=ze(e)}[_e](e){Be(e)||(e===a.GREATER_THAN_SIGN?(this.state=f,this._emitCurrentToken()):e===a.EOF?(this._err(o.eofInDoctype),this.currentToken.forceQuirks=!0,this._emitCurrentToken(),this._emitEOFToken()):this._consumeSequenceIfMatch(c.PUBLIC_STRING,e,!1)?this.state=me:this._consumeSequenceIfMatch(c.SYSTEM_STRING,e,!1)?this.state=Ee:this._ensureHibernation()||(this._err(o.invalidCharacterSequenceAfterDoctypeName),this.currentToken.forceQuirks=!0,this._reconsumeInState(Ae)))}[me](e){Be(e)?this.state=ge:e===a.QUOTATION_MARK?(this._err(o.missingWhitespaceAfterDoctypePublicKeyword),this.currentToken.publicId="",this.state=ye):e===a.APOSTROPHE?(this._err(o.missingWhitespaceAfterDoctypePublicKeyword),this.currentToken.publicId="",this.state=Te):e===a.GREATER_THAN_SIGN?(this._err(o.missingDoctypePublicIdentifier),this.currentToken.forceQuirks=!0,this.state=f,this._emitCurrentToken()):e===a.EOF?(this._err(o.eofInDoctype),this.currentToken.forceQuirks=!0,this._emitCurrentToken(),this._emitEOFToken()):(this._err(o.missingQuoteBeforeDoctypePublicIdentifier),this.currentToken.forceQuirks=!0,this._reconsumeInState(Ae))}[ge](e){Be(e)||(e===a.QUOTATION_MARK?(this.currentToken.publicId="",this.state=ye):e===a.APOSTROPHE?(this.currentToken.publicId="",this.state=Te):e===a.GREATER_THAN_SIGN?(this._err(o.missingDoctypePublicIdentifier),this.currentToken.forceQuirks=!0,this.state=f,this._emitCurrentToken()):e===a.EOF?(this._err(o.eofInDoctype),this.currentToken.forceQuirks=!0,this._emitCurrentToken(),this._emitEOFToken()):(this._err(o.missingQuoteBeforeDoctypePublicIdentifier),this.currentToken.forceQuirks=!0,this._reconsumeInState(Ae)))}[ye](e){e===a.QUOTATION_MARK?this.state=be:e===a.NULL?(this._err(o.unexpectedNullCharacter),this.currentToken.publicId+=i.REPLACEMENT_CHARACTER):e===a.GREATER_THAN_SIGN?(this._err(o.abruptDoctypePublicIdentifier),this.currentToken.forceQuirks=!0,this._emitCurrentToken(),this.state=f):e===a.EOF?(this._err(o.eofInDoctype),this.currentToken.forceQuirks=!0,this._emitCurrentToken(),this._emitEOFToken()):this.currentToken.publicId+=ze(e)}[Te](e){e===a.APOSTROPHE?this.state=be:e===a.NULL?(this._err(o.unexpectedNullCharacter),this.currentToken.publicId+=i.REPLACEMENT_CHARACTER):e===a.GREATER_THAN_SIGN?(this._err(o.abruptDoctypePublicIdentifier),this.currentToken.forceQuirks=!0,this._emitCurrentToken(),this.state=f):e===a.EOF?(this._err(o.eofInDoctype),this.currentToken.forceQuirks=!0,this._emitCurrentToken(),this._emitEOFToken()):this.currentToken.publicId+=ze(e)}[be](e){Be(e)?this.state=ve:e===a.GREATER_THAN_SIGN?(this.state=f,this._emitCurrentToken()):e===a.QUOTATION_MARK?(this._err(o.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers),this.currentToken.systemId="",this.state=ke):e===a.APOSTROPHE?(this._err(o.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers),this.currentToken.systemId="",this.state=we):e===a.EOF?(this._err(o.eofInDoctype),this.currentToken.forceQuirks=!0,this._emitCurrentToken(),this._emitEOFToken()):(this._err(o.missingQuoteBeforeDoctypeSystemIdentifier),this.currentToken.forceQuirks=!0,this._reconsumeInState(Ae))}[ve](e){Be(e)||(e===a.GREATER_THAN_SIGN?(this._emitCurrentToken(),this.state=f):e===a.QUOTATION_MARK?(this.currentToken.systemId="",this.state=ke):e===a.APOSTROPHE?(this.currentToken.systemId="",this.state=we):e===a.EOF?(this._err(o.eofInDoctype),this.currentToken.forceQuirks=!0,this._emitCurrentToken(),this._emitEOFToken()):(this._err(o.missingQuoteBeforeDoctypeSystemIdentifier),this.currentToken.forceQuirks=!0,this._reconsumeInState(Ae)))}[Ee](e){Be(e)?this.state=Se:e===a.QUOTATION_MARK?(this._err(o.missingWhitespaceAfterDoctypeSystemKeyword),this.currentToken.systemId="",this.state=ke):e===a.APOSTROPHE?(this._err(o.missingWhitespaceAfterDoctypeSystemKeyword),this.currentToken.systemId="",this.state=we):e===a.GREATER_THAN_SIGN?(this._err(o.missingDoctypeSystemIdentifier),this.currentToken.forceQuirks=!0,this.state=f,this._emitCurrentToken()):e===a.EOF?(this._err(o.eofInDoctype),this.currentToken.forceQuirks=!0,this._emitCurrentToken(),this._emitEOFToken()):(this._err(o.missingQuoteBeforeDoctypeSystemIdentifier),this.currentToken.forceQuirks=!0,this._reconsumeInState(Ae))}[Se](e){Be(e)||(e===a.QUOTATION_MARK?(this.currentToken.systemId="",this.state=ke):e===a.APOSTROPHE?(this.currentToken.systemId="",this.state=we):e===a.GREATER_THAN_SIGN?(this._err(o.missingDoctypeSystemIdentifier),this.currentToken.forceQuirks=!0,this.state=f,this._emitCurrentToken()):e===a.EOF?(this._err(o.eofInDoctype),this.currentToken.forceQuirks=!0,this._emitCurrentToken(),this._emitEOFToken()):(this._err(o.missingQuoteBeforeDoctypeSystemIdentifier),this.currentToken.forceQuirks=!0,this._reconsumeInState(Ae)))}[ke](e){e===a.QUOTATION_MARK?this.state=Ne:e===a.NULL?(this._err(o.unexpectedNullCharacter),this.currentToken.systemId+=i.REPLACEMENT_CHARACTER):e===a.GREATER_THAN_SIGN?(this._err(o.abruptDoctypeSystemIdentifier),this.currentToken.forceQuirks=!0,this._emitCurrentToken(),this.state=f):e===a.EOF?(this._err(o.eofInDoctype),this.currentToken.forceQuirks=!0,this._emitCurrentToken(),this._emitEOFToken()):this.currentToken.systemId+=ze(e)}[we](e){e===a.APOSTROPHE?this.state=Ne:e===a.NULL?(this._err(o.unexpectedNullCharacter),this.currentToken.systemId+=i.REPLACEMENT_CHARACTER):e===a.GREATER_THAN_SIGN?(this._err(o.abruptDoctypeSystemIdentifier),this.currentToken.forceQuirks=!0,this._emitCurrentToken(),this.state=f):e===a.EOF?(this._err(o.eofInDoctype),this.currentToken.forceQuirks=!0,this._emitCurrentToken(),this._emitEOFToken()):this.currentToken.systemId+=ze(e)}[Ne](e){Be(e)||(e===a.GREATER_THAN_SIGN?(this._emitCurrentToken(),this.state=f):e===a.EOF?(this._err(o.eofInDoctype),this.currentToken.forceQuirks=!0,this._emitCurrentToken(),this._emitEOFToken()):(this._err(o.unexpectedCharacterAfterDoctypeSystemIdentifier),this._reconsumeInState(Ae)))}[Ae](e){e===a.GREATER_THAN_SIGN?(this._emitCurrentToken(),this.state=f):e===a.NULL?this._err(o.unexpectedNullCharacter):e===a.EOF&&(this._emitCurrentToken(),this._emitEOFToken())}[xe](e){e===a.RIGHT_SQUARE_BRACKET?this.state=Ce:e===a.EOF?(this._err(o.eofInCdata),this._emitEOFToken()):this._emitCodePoint(e)}[Ce](e){e===a.RIGHT_SQUARE_BRACKET?this.state=Re:(this._emitChars("]"),this._reconsumeInState(xe))}[Re](e){e===a.GREATER_THAN_SIGN?this.state=f:e===a.RIGHT_SQUARE_BRACKET?this._emitChars("]"):(this._emitChars("]]"),this._reconsumeInState(xe))}[Ie](e){this.tempBuff=[a.AMPERSAND],e===a.NUMBER_SIGN?(this.tempBuff.push(e),this.state=Pe):Ke(e)?this._reconsumeInState(Oe):(this._flushCodePointsConsumedAsCharacterReference(),this._reconsumeInState(this.returnState))}[Oe](e){const t=this._matchNamedCharacterReference(e);if(this._ensureHibernation())this.tempBuff=[a.AMPERSAND];else if(t){const e=this.tempBuff[this.tempBuff.length-1]===a.SEMICOLON;this._isCharacterReferenceAttributeQuirk(e)||(e||this._errOnNextCodePoint(o.missingSemicolonAfterCharacterReference),this.tempBuff=t),this._flushCodePointsConsumedAsCharacterReference(),this.state=this.returnState}else this._flushCodePointsConsumedAsCharacterReference(),this.state=De}[De](e){Ke(e)?this._isCharacterReferenceInAttribute()?this.currentAttr.value+=ze(e):this._emitCodePoint(e):(e===a.SEMICOLON&&this._err(o.unknownNamedCharacterReference),this._reconsumeInState(this.returnState))}[Pe](e){this.charRefCode=0,e===a.LATIN_SMALL_X||e===a.LATIN_CAPITAL_X?(this.tempBuff.push(e),this.state=Le):this._reconsumeInState(Me)}[Le](e){!function(e){return He(e)||$e(e)||We(e)}(e)?(this._err(o.absenceOfDigitsInNumericCharacterReference),this._flushCodePointsConsumedAsCharacterReference(),this._reconsumeInState(this.returnState)):this._reconsumeInState(Ue)}[Me](e){He(e)?this._reconsumeInState(qe):(this._err(o.absenceOfDigitsInNumericCharacterReference),this._flushCodePointsConsumedAsCharacterReference(),this._reconsumeInState(this.returnState))}[Ue](e){$e(e)?this.charRefCode=16*this.charRefCode+e-55:We(e)?this.charRefCode=16*this.charRefCode+e-87:He(e)?this.charRefCode=16*this.charRefCode+e-48:e===a.SEMICOLON?this.state=Fe:(this._err(o.missingSemicolonAfterCharacterReference),this._reconsumeInState(Fe))}[qe](e){He(e)?this.charRefCode=10*this.charRefCode+e-48:e===a.SEMICOLON?this.state=Fe:(this._err(o.missingSemicolonAfterCharacterReference),this._reconsumeInState(Fe))}[Fe](){if(this.charRefCode===a.NULL)this._err(o.nullCharacterReference),this.charRefCode=a.REPLACEMENT_CHARACTER;else if(this.charRefCode>1114111)this._err(o.characterReferenceOutsideUnicodeRange),this.charRefCode=a.REPLACEMENT_CHARACTER;else if(i.isSurrogate(this.charRefCode))this._err(o.surrogateCharacterReference),this.charRefCode=a.REPLACEMENT_CHARACTER;else if(i.isUndefinedCodePoint(this.charRefCode))this._err(o.noncharacterCharacterReference);else if(i.isControlCodePoint(this.charRefCode)||this.charRefCode===a.CARRIAGE_RETURN){this._err(o.controlCharacterReference);const e=u[this.charRefCode];e&&(this.charRefCode=e)}this.tempBuff=[this.charRefCode],this._flushCodePointsConsumedAsCharacterReference(),this._reconsumeInState(this.returnState)}}Je.CHARACTER_TOKEN="CHARACTER_TOKEN",Je.NULL_CHARACTER_TOKEN="NULL_CHARACTER_TOKEN",Je.WHITESPACE_CHARACTER_TOKEN="WHITESPACE_CHARACTER_TOKEN",Je.START_TAG_TOKEN="START_TAG_TOKEN",Je.END_TAG_TOKEN="END_TAG_TOKEN",Je.COMMENT_TOKEN="COMMENT_TOKEN",Je.DOCTYPE_TOKEN="DOCTYPE_TOKEN",Je.EOF_TOKEN="EOF_TOKEN",Je.HIBERNATION_TOKEN="HIBERNATION_TOKEN",Je.MODE={DATA:f,RCDATA:_,RAWTEXT:m,SCRIPT_DATA:g,PLAINTEXT:y},Je.getTokenAttr=function(e,t){for(let n=e.attrs.length-1;n>=0;n--)if(e.attrs[n].name===t)return e.attrs[n].value;return null},e.exports=Je},function(e,t,n){var r=n(76),i=n(82),s=n(79),o=n(81),a=1/0,c=r?r.prototype:void 0,u=c?c.toString:void 0;e.exports=function e(t){if("string"==typeof t)return t;if(s(t))return i(t,e)+"";if(o(t))return u?u.call(t):"";var n=t+"";return"0"==n&&1/t==-a?"-0":n}},function(e,t,n){var r=n(129),i=n(133);function s(t,n){return delete e.exports[t],e.exports[t]=n,n}e.exports={Parser:r,Tokenizer:n(130),ElementType:n(30),DomHandler:i,get FeedHandler(){return s("FeedHandler",n(280))},get Stream(){return s("Stream",n(291))},get WritableStream(){return s("WritableStream",n(136))},get ProxyHandler(){return s("ProxyHandler",n(301))},get DomUtils(){return s("DomUtils",n(135))},get CollectingHandler(){return s("CollectingHandler",n(302))},DefaultHandler:i,get RssHandler(){return s("RssHandler",this.FeedHandler)},parseDOM:function(e,t){var n=new i(t);return new r(n,t).end(e),n.dom},parseFeed:function(t,n){var i=new e.exports.FeedHandler(n);return new r(i,n).end(t),i.dom},createDomStream:function(e,t,n){var s=new i(e,t,n);return new r(s,t)},EVENTS:{attribute:2,cdatastart:0,cdataend:0,text:1,processinginstruction:2,comment:1,commentend:0,closetag:1,opentag:2,opentagname:1,error:1,end:0}}},function(e,t){e.exports=require("events")},function(e,t){e.exports=function(e){return e}},function(e,t,n){"use strict";const r=n(3),i=n(0),s=10,o=5,a=0,c=process.versions.node.split("."),u=Number.parseInt(c[0],10),l=Number.parseInt(c[1],10),h=Number.parseInt(c[2],10);function d(){if(u>s)return!0;if(u===s){if(l>o)return!0;if(l===o&&h>=a)return!0}return!1}function p(e,t){const n=i.resolve(e).split(i.sep).filter(e=>e),r=i.resolve(t).split(i.sep).filter(e=>e);return n.reduce((e,t,n)=>e&&r[n]===t,!0)}function f(e,t,n){return`Cannot ${n} '${e}' to a subdirectory of itself, '${t}'.`}e.exports={checkPaths:function(e,t,n,i){!function(e,t,n){d()?r.stat(e,{bigint:!0},(e,i)=>{if(e)return n(e);r.stat(t,{bigint:!0},(e,t)=>e?"ENOENT"===e.code?n(null,{srcStat:i,destStat:null}):n(e):n(null,{srcStat:i,destStat:t}))}):r.stat(e,(e,i)=>{if(e)return n(e);r.stat(t,(e,t)=>e?"ENOENT"===e.code?n(null,{srcStat:i,destStat:null}):n(e):n(null,{srcStat:i,destStat:t}))})}(e,t,(r,s)=>{if(r)return i(r);const{srcStat:o,destStat:a}=s;return a&&a.ino&&a.dev&&a.ino===o.ino&&a.dev===o.dev?i(new Error("Source and destination must not be the same.")):o.isDirectory()&&p(e,t)?i(new Error(f(e,t,n))):i(null,{srcStat:o,destStat:a})})},checkPathsSync:function(e,t,n){const{srcStat:i,destStat:s}=function(e,t){let n,i;n=d()?r.statSync(e,{bigint:!0}):r.statSync(e);try{i=d()?r.statSync(t,{bigint:!0}):r.statSync(t)}catch(e){if("ENOENT"===e.code)return{srcStat:n,destStat:null};throw e}return{srcStat:n,destStat:i}}(e,t);if(s&&s.ino&&s.dev&&s.ino===i.ino&&s.dev===i.dev)throw new Error("Source and destination must not be the same.");if(i.isDirectory()&&p(e,t))throw new Error(f(e,t,n));return{srcStat:i,destStat:s}},checkParentPaths:function e(t,n,s,o,a){const c=i.resolve(i.dirname(t)),u=i.resolve(i.dirname(s));if(u===c||u===i.parse(u).root)return a();d()?r.stat(u,{bigint:!0},(r,i)=>r?"ENOENT"===r.code?a():a(r):i.ino&&i.dev&&i.ino===n.ino&&i.dev===n.dev?a(new Error(f(t,s,o))):e(t,n,u,o,a)):r.stat(u,(r,i)=>r?"ENOENT"===r.code?a():a(r):i.ino&&i.dev&&i.ino===n.ino&&i.dev===n.dev?a(new Error(f(t,s,o))):e(t,n,u,o,a))},checkParentPathsSync:function e(t,n,s,o){const a=i.resolve(i.dirname(t)),c=i.resolve(i.dirname(s));if(c===a||c===i.parse(c).root)return;let u;try{u=d()?r.statSync(c,{bigint:!0}):r.statSync(c)}catch(e){if("ENOENT"===e.code)return;throw e}if(u.ino&&u.dev&&u.ino===n.ino&&u.dev===n.dev)throw new Error(f(t,s,o));return e(t,n,c,o)},isSrcSubdir:p}},function(e,t,n){"use strict";const r=n(11).fromCallback,i=n(371);e.exports={remove:r(i),removeSync:i.sync}},function(e,t,n){"use strict";const r=n(0),i={DOT_LITERAL:"\\.",PLUS_LITERAL:"\\+",QMARK_LITERAL:"\\?",SLASH_LITERAL:"\\/",ONE_CHAR:"(?=.)",QMARK:"[^/]",END_ANCHOR:"(?:\\/|$)",DOTS_SLASH:"\\.{1,2}(?:\\/|$)",NO_DOT:"(?!\\.)",NO_DOTS:"(?!(?:^|\\/)\\.{1,2}(?:\\/|$))",NO_DOT_SLASH:"(?!\\.{0,1}(?:\\/|$))",NO_DOTS_SLASH:"(?!\\.{1,2}(?:\\/|$))",QMARK_NO_DOT:"[^.\\/]",STAR:"[^/]*?",START_ANCHOR:"(?:^|\\/)"},s={...i,SLASH_LITERAL:"[\\\\/]",QMARK:"[^\\\\/]",STAR:"[^\\\\/]*?",DOTS_SLASH:"\\.{1,2}(?:[\\\\/]|$)",NO_DOT:"(?!\\.)",NO_DOTS:"(?!(?:^|[\\\\/])\\.{1,2}(?:[\\\\/]|$))",NO_DOT_SLASH:"(?!\\.{0,1}(?:[\\\\/]|$))",NO_DOTS_SLASH:"(?!\\.{1,2}(?:[\\\\/]|$))",QMARK_NO_DOT:"[^.\\\\/]",START_ANCHOR:"(?:^|[\\\\/])",END_ANCHOR:"(?:[\\\\/]|$)"};e.exports={MAX_LENGTH:65536,POSIX_REGEX_SOURCE:{alnum:"a-zA-Z0-9",alpha:"a-zA-Z",ascii:"\\x00-\\x7F",blank:" \\t",cntrl:"\\x00-\\x1F\\x7F",digit:"0-9",graph:"\\x21-\\x7E",lower:"a-z",print:"\\x20-\\x7E ",punct:"\\-!\"#$%&'()\\*+,./:;<=>?@[\\]^_`{|}~",space:" \\t\\r\\n\\v\\f",upper:"A-Z",word:"A-Za-z0-9_",xdigit:"A-Fa-f0-9"},REGEX_BACKSLASH:/\\(?![*+?^${}(|)[\]])/g,REGEX_NON_SPECIAL_CHAR:/^[^@![\].,$*+?^{}()|\\\/]+/,REGEX_SPECIAL_CHARS:/[-*+?.^${}(|)[\]]/,REGEX_SPECIAL_CHARS_BACKREF:/(\\?)((\W)(\3*))/g,REGEX_SPECIAL_CHARS_GLOBAL:/([-*+?.^${}(|)[\]])/g,REPLACEMENTS:{"***":"*","**/**":"**","**/**/**":"**"},CHAR_0:48,CHAR_9:57,CHAR_UPPERCASE_A:65,CHAR_LOWERCASE_A:97,CHAR_UPPERCASE_Z:90,CHAR_LOWERCASE_Z:122,CHAR_LEFT_PARENTHESES:40,CHAR_RIGHT_PARENTHESES:41,CHAR_ASTERISK:42,CHAR_AMPERSAND:38,CHAR_AT:64,CHAR_BACKWARD_SLASH:92,CHAR_CARRIAGE_RETURN:13,CHAR_CIRCUMFLEX_ACCENT:94,CHAR_COLON:58,CHAR_COMMA:44,CHAR_DOT:46,CHAR_DOUBLE_QUOTE:34,CHAR_EQUAL:61,CHAR_EXCLAMATION_MARK:33,CHAR_FORM_FEED:12,CHAR_FORWARD_SLASH:47,CHAR_GRAVE_ACCENT:96,CHAR_HASH:35,CHAR_HYPHEN_MINUS:45,CHAR_LEFT_ANGLE_BRACKET:60,CHAR_LEFT_CURLY_BRACE:123,CHAR_LEFT_SQUARE_BRACKET:91,CHAR_LINE_FEED:10,CHAR_NO_BREAK_SPACE:160,CHAR_PERCENT:37,CHAR_PLUS:43,CHAR_QUESTION_MARK:63,CHAR_RIGHT_ANGLE_BRACKET:62,CHAR_RIGHT_CURLY_BRACE:125,CHAR_RIGHT_SQUARE_BRACKET:93,CHAR_SEMICOLON:59,CHAR_SINGLE_QUOTE:39,CHAR_SPACE:32,CHAR_TAB:9,CHAR_UNDERSCORE:95,CHAR_VERTICAL_LINE:124,CHAR_ZERO_WIDTH_NOBREAK_SPACE:65279,SEP:r.sep,extglobChars:e=>({"!":{type:"negate",open:"(?:(?!(?:",close:`))${e.STAR})`},"?":{type:"qmark",open:"(?:",close:")?"},"+":{type:"plus",open:"(?:",close:")+"},"*":{type:"star",open:"(?:",close:")*"},"@":{type:"at",open:"(?:",close:")"}}),globChars:e=>!0===e?s:i}},function(e,t){e.exports=require("http")},function(e,t,n){"use strict";var r=n(60),i=n(62),s=n(6),o=n(19),a=n(44),c=n(497),u=n(43),l=n(35),h=n(181),d=n(101),p=function(){function e(t){if(e.INSTANCE)throw new Error("Client request tracking should be configured from the applicationInsights object");e.INSTANCE=this,this._client=t}return e.prototype.enable=function(e){this._isEnabled=e,this._isEnabled&&!this._isInitialized&&this._initialize(),d.IsInitialized&&(n(498).enable(e,this._client),n(499).enable(e,this._client),n(500).enable(e,this._client),n(501).enable(e,this._client))},e.prototype.isInitialized=function(){return this._isInitialized},e.prototype._initialize=function(){var t=this;this._isInitialized=!0;r.get;var n=r.request,s=i.request,o=function(n,r){var i=!r[e.disableCollectionRequestOption]&&!n[e.alreadyAutoCollectedFlag];n[e.alreadyAutoCollectedFlag]=!0,n&&r&&i&&(u.CorrelationContextManager.wrapEmitter(n),e.trackRequest(t._client,{options:r,request:n}))};r.request=function(e){for(var t=[],i=1;i<arguments.length;i++)t[i-1]=arguments[i];var s=n.call.apply(n,[r,e].concat(t));return o(s,e),s},i.request=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r=s.call.apply(s,[i,e].concat(t));return o(r,e),r},r.get=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var i,s=(i=r.request).call.apply(i,[r,e].concat(t));return s.end(),s},i.get=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r,s=(r=i.request).call.apply(r,[i,e].concat(t));return s.end(),s}},e.trackRequest=function(t,n){if(n.options&&n.request&&t){var r,i,d=new c(n.options,n.request),p=u.CorrelationContextManager.getCurrentContext();if(p&&p.operation&&p.operation.traceparent&&h.isValidTraceId(p.operation.traceparent.traceId))p.operation.traceparent.updateSpanId(),r=p.operation.traceparent.getBackCompatRequestId();else if(l.w3cEnabled){i=(_=new h).toString(),r=_.getBackCompatRequestId()}else r=p&&p.operation&&p.operation.parentId+e.requestNumber+++".";if(o.canIncludeCorrelationHeader(t,d.getUrl())&&n.request.getHeader&&n.request.setHeader&&t.config&&t.config.correlationId){var f=n.request.getHeader(a.requestContextHeader);if(o.safeIncludeCorrelationHeader(t,n.request,f),p&&p.operation)try{if(n.request.setHeader(a.requestIdHeader,r),n.request.setHeader(a.parentIdHeader,p.operation.id),n.request.setHeader(a.rootIdHeader,r),i||p.operation.traceparent)n.request.setHeader(a.traceparentHeader,i||p.operation.traceparent.toString());else if(l.w3cEnabled){var _=(new h).toString();n.request.setHeader(a.traceparentHeader,_)}if(p.operation.tracestate){var m=p.operation.tracestate.toString();m&&n.request.setHeader(a.traceStateHeader,m)}var g=p.customProperties.serializeToHeader();g&&n.request.setHeader(a.correlationContextHeader,g)}catch(e){s.warn("Correlation headers could not be set. Correlation of requests may be lost.",e)}}n.request.on&&(n.request.on("response",function(e){d.onResponse(e);var i=d.getDependencyTelemetry(n,r);i.contextObjects=i.contextObjects||{},i.contextObjects["http.RequestOptions"]=n.options,i.contextObjects["http.ClientRequest"]=n.request,i.contextObjects["http.ClientResponse"]=e,t.trackDependency(i)}),n.request.on("error",function(e){d.onError(e);var i=d.getDependencyTelemetry(n,r);i.contextObjects=i.contextObjects||{},i.contextObjects["http.RequestOptions"]=n.options,i.contextObjects["http.ClientRequest"]=n.request,i.contextObjects.Error=e,t.trackDependency(i)}))}else s.info("AutoCollectHttpDependencies.trackRequest was called with invalid parameters: ",!n.options,!n.request,!t)},e.prototype.dispose=function(){e.INSTANCE=null,this.enable(!1),this._isInitialized=!1},e.disableCollectionRequestOption="disableAppInsightsAutoCollection",e.requestNumber=1,e.alreadyAutoCollectedFlag="_appInsightsAutoCollected",e}();e.exports=p},function(e,t){e.exports=require("https")},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(45),i=n(37);let s=8192,o=Buffer.from("\r","ascii")[0],a=Buffer.from("\n","ascii")[0],c="\r\n";class u{constructor(e="utf8"){this.encoding=e,this.index=0,this.buffer=Buffer.allocUnsafe(s)}append(e){var t=e;if("string"==typeof e){var n=e,r=Buffer.byteLength(n,this.encoding);(t=Buffer.allocUnsafe(r)).write(n,0,r,this.encoding)}if(this.buffer.length-this.index>=t.length)t.copy(this.buffer,this.index,0,t.length);else{var i=(Math.ceil((this.index+t.length)/s)+1)*s;0===this.index?(this.buffer=Buffer.allocUnsafe(i),t.copy(this.buffer,0,0,t.length)):this.buffer=Buffer.concat([this.buffer.slice(0,this.index),t],i)}this.index+=t.length}tryReadHeaders(){let e=void 0,t=0;for(;t+3<this.index&&(this.buffer[t]!==o||this.buffer[t+1]!==a||this.buffer[t+2]!==o||this.buffer[t+3]!==a);)t++;if(t+3>=this.index)return e;e=Object.create(null),this.buffer.toString("ascii",0,t).split(c).forEach(t=>{let n=t.indexOf(":");if(-1===n)throw new Error("Message header must separate key and value using :");let r=t.substr(0,n),i=t.substr(n+1).trim();e[r]=i});let n=t+4;return this.buffer=this.buffer.slice(n),this.index=this.index-n,e}tryReadContent(e){if(this.index<e)return null;let t=this.buffer.toString(this.encoding,0,e),n=e;return this.buffer.copy(this.buffer,0,n),this.index=this.index-n,t}get numberOfBytes(){return this.index}}!function(e){e.is=function(e){let t=e;return t&&i.func(t.listen)&&i.func(t.dispose)&&i.func(t.onError)&&i.func(t.onClose)&&i.func(t.onPartialMessage)}}(t.MessageReader||(t.MessageReader={}));class l{constructor(){this.errorEmitter=new r.Emitter,this.closeEmitter=new r.Emitter,this.partialMessageEmitter=new r.Emitter}dispose(){this.errorEmitter.dispose(),this.closeEmitter.dispose()}get onError(){return this.errorEmitter.event}fireError(e){this.errorEmitter.fire(this.asError(e))}get onClose(){return this.closeEmitter.event}fireClose(){this.closeEmitter.fire(void 0)}get onPartialMessage(){return this.partialMessageEmitter.event}firePartialMessage(e){this.partialMessageEmitter.fire(e)}asError(e){return e instanceof Error?e:new Error(`Reader received error. Reason: ${i.string(e.message)?e.message:"unknown"}`)}}t.AbstractMessageReader=l;class h extends l{constructor(e,t="utf8"){super(),this.readable=e,this.buffer=new u(t),this._partialMessageTimeout=1e4}set partialMessageTimeout(e){this._partialMessageTimeout=e}get partialMessageTimeout(){return this._partialMessageTimeout}listen(e){this.nextMessageLength=-1,this.messageToken=0,this.partialMessageTimer=void 0,this.callback=e,this.readable.on("data",e=>{this.onData(e)}),this.readable.on("error",e=>this.fireError(e)),this.readable.on("close",()=>this.fireClose())}onData(e){for(this.buffer.append(e);;){if(-1===this.nextMessageLength){let e=this.buffer.tryReadHeaders();if(!e)return;let t=e["Content-Length"];if(!t)throw new Error("Header must provide a Content-Length property.");let n=parseInt(t);if(isNaN(n))throw new Error("Content-Length value must be a number.");this.nextMessageLength=n}var t=this.buffer.tryReadContent(this.nextMessageLength);if(null===t)return void this.setPartialMessageTimer();this.clearPartialMessageTimer(),this.nextMessageLength=-1,this.messageToken++;var n=JSON.parse(t);this.callback(n)}}clearPartialMessageTimer(){this.partialMessageTimer&&(clearTimeout(this.partialMessageTimer),this.partialMessageTimer=void 0)}setPartialMessageTimer(){this.clearPartialMessageTimer(),this._partialMessageTimeout<=0||(this.partialMessageTimer=setTimeout((e,t)=>{this.partialMessageTimer=void 0,e===this.messageToken&&(this.firePartialMessage({messageToken:e,waitingTime:t}),this.setPartialMessageTimer())},this._partialMessageTimeout,this.messageToken,this._partialMessageTimeout))}}t.StreamMessageReader=h;t.IPCMessageReader=class extends l{constructor(e){super(),this.process=e;let t=this.process;t.on("error",e=>this.fireError(e)),t.on("close",()=>this.fireClose())}listen(e){this.process.on("message",e)}};t.SocketMessageReader=class extends h{constructor(e,t="utf-8"){super(e,t)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(45),i=n(37);let s="Content-Length: ",o="\r\n";!function(e){e.is=function(e){let t=e;return t&&i.func(t.dispose)&&i.func(t.onClose)&&i.func(t.onError)&&i.func(t.write)}}(t.MessageWriter||(t.MessageWriter={}));class a{constructor(){this.errorEmitter=new r.Emitter,this.closeEmitter=new r.Emitter}dispose(){this.errorEmitter.dispose(),this.closeEmitter.dispose()}get onError(){return this.errorEmitter.event}fireError(e,t,n){this.errorEmitter.fire([this.asError(e),t,n])}get onClose(){return this.closeEmitter.event}fireClose(){this.closeEmitter.fire(void 0)}asError(e){return e instanceof Error?e:new Error(`Writer received error. Reason: ${i.string(e.message)?e.message:"unknown"}`)}}t.AbstractMessageWriter=a;t.StreamMessageWriter=class extends a{constructor(e,t="utf8"){super(),this.writable=e,this.encoding=t,this.errorCount=0,this.writable.on("error",e=>this.fireError(e)),this.writable.on("close",()=>this.fireClose())}write(e){let t=JSON.stringify(e),n=Buffer.byteLength(t,this.encoding),r=[s,n.toString(),o,o];try{this.writable.write(r.join(""),"ascii"),this.writable.write(t,this.encoding),this.errorCount=0}catch(t){this.errorCount++,this.fireError(t,e,this.errorCount)}}};t.IPCMessageWriter=class extends a{constructor(e){super(),this.process=e,this.errorCount=0,this.queue=[],this.sending=!1;let t=this.process;t.on("error",e=>this.fireError(e)),t.on("close",()=>this.fireClose)}write(e){this.sending||0!==this.queue.length?this.queue.push(e):this.doWriteMessage(e)}doWriteMessage(e){try{this.process.send&&(this.sending=!0,this.process.send(e,void 0,void 0,t=>{this.sending=!1,t?(this.errorCount++,this.fireError(t,e,this.errorCount)):this.errorCount=0,this.queue.length>0&&this.doWriteMessage(this.queue.shift())}))}catch(t){this.errorCount++,this.fireError(t,e,this.errorCount)}}};t.SocketMessageWriter=class extends a{constructor(e,t="utf8"){super(),this.socket=e,this.queue=[],this.sending=!1,this.encoding=t,this.errorCount=0,this.socket.on("error",e=>this.fireError(e)),this.socket.on("close",()=>this.fireClose())}dispose(){super.dispose(),this.socket.destroy()}write(e){this.sending||0!==this.queue.length?this.queue.push(e):this.doWriteMessage(e)}doWriteMessage(e){let t=JSON.stringify(e),n=Buffer.byteLength(t,this.encoding),r=[s,n.toString(),o,o];try{this.sending=!0,this.socket.write(r.join(""),"ascii",n=>{n&&this.handleError(n,e);try{this.socket.write(t,this.encoding,t=>{this.sending=!1,t?this.handleError(t,e):this.errorCount=0,this.queue.length>0&&this.doWriteMessage(this.queue.shift())})}catch(n){this.handleError(n,e)}})}catch(t){this.handleError(t,e)}}handleError(e,t){this.errorCount++,this.fireError(e,t,this.errorCount)}}},function(e,t){e.exports=require("net")},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(1),i=n(2),s=n(4),o=n(18),a=n(10);t.DefinitionTable=class{constructor(e,t){this.id=e,this.map=t}get definitions(){return this.map.values()}definitionScope(e){return e.scope?this.find(e.scope):void 0}definitionChildren(e){if(!e.children)return[];let t,n=[];for(let r=0,i=e.children.length;r<i;++r)(t=this.find(e.children[r]))&&n.push(t);return n}find(e){return this.map.get(e)}findByHashAndKind(e,t){return this.map.get(r.DefinitionId.id(this.id,e,t))}has(e){return this.map.has(e)}add(e){this.map.set(r.DefinitionId.fromDefinition(e),e)}};var c,u;t.DefinitionStore=class{constructor(e,t){this.definitionTableMap=e,this.definitionIndex=t}table(e){return this.definitionTableMap.get(e)}get tables(){return this.definitionTableMap.values()}add(e){this.remove(e.id);const t=e.id;let n,i,s,o;this.definitionTableMap.set(t,e);for(let t of e.definitions)if(this.shouldIndexDefinition(t)){n=u.fromDefinition(t),s=r.Definition.shortName(t.name).toLowerCase(),o=t.name.toLowerCase();for(let e=0,t=n.length;e<t;++e)i=n[e],this.definitionIndex.add(s.slice(c.offset(i.score)),i);s===o&&512!==t.kind||this.definitionIndex.add(o,u.create(t,0,u.isVendorOrStub(t)))}return e}remove(e){const t=this.definitionTableMap.get(e);if(!t)return;let n,i,s,o;for(let e of t.definitions)if(this.shouldIndexDefinition(e)){n=u.fromDefinition(e),s=r.Definition.shortName(e.name).toLowerCase(),o=e.name.toLowerCase();for(let e=0,t=n.length;e<t;++e)i=n[e],this.definitionIndex.remove(s.slice(c.offset(i.score)),i);s===o&&512!==e.kind||this.definitionIndex.remove(o,u.create(e,0,u.isVendorOrStub(e)))}return this.definitionTableMap.delete(e),t}getDefinitionChildren(e){const t=this.table(e.uriId);return t?t.definitionChildren(e):[]}getDefinitionScope(e){const t=this.table(e.uriId);if(t)return t.definitionScope(e)}clear(){this.definitionTableMap=new Map,this.definitionIndex=new i.DefinitionIndex}findDefinitionById(e){const t=this.table(r.DefinitionId.uriId(e));if(t)return t.find(e)}find(e,t){if(!e)return[];let n,r,i=e.toLowerCase(),s=this.definitionIndex.find(e),o=new Set;for(let a=0,c=s.length;a<c;++a)r=s[a],!(n=this.findDefinitionById(r.id))||t&&!t(n)||!((264&n.kind)>0&&n.name===e)&&(264&n.kind||n.name.toLowerCase()!==i)||o.add(n);return Array.from(o)}*match(e,t){if(!e)return;const n=this.definitionIndex.match(e).sort((e,t)=>e.score-t.score),r=new Set;let i,s;for(let e=0,o=n.length;e<o;++e)s=n[e],!(i=this.findDefinitionById(s.id))||t&&!t(i)||r.has(i)||(r.add(i),yield i)}shouldIndexDefinition(e){return!(4224&e.kind||16781312&e.modifiers||256===e.kind&&(e.scope||!(2097152&e.modifiers))||!(e.name.length>0))}findByReference(e,t){if(!e)return[];let n,r;switch(e.kind){case 1:case 2:case 4:r=e=>(7&e.kind)>0,n=this.find(e.name,r);break;case 64:case 8:r=t=>t.kind===e.kind,(n=this.find(e.name,r)).length<1&&e.unresolvedName&&(n=this.find(e.unresolvedName,r));break;case 32:e.scope&&(n=this.findMembers(e.scope,e.name,e.kind));break;case 16:{let t="$"===e.name.slice(0,1)?e.name:"$"+e.name;e.scope&&(n=this.findMembers(e.scope,t,e.kind));break}case 1024:e.scope&&(n=this.findMembers(e.scope,e.name,e.kind));break;case 256:case 128:return this.findVariableDefinitionByReference(e,t);case 2048:{let t=s.TypeString.fromString(e.name);t&&(n=this.findMembers(t,"__construct",e.kind))}}return n||[]}findVariableDefinitionByReference(e,t){if(a.PHP.isSuperGlobal(e.name))return this.find(e.name,e=>256===e.kind&&(4194304&e.modifiers)>0);if("$this"===e.name)return[];let n,r=this.table(e.uriId),s=[];if(r)for(let t of r.definitions){const n=r.definitionScope(t);if(128!==t.kind&&256!==t.kind||t.name!==e.name||n&&!(n.range&&e.range&&i.PackedRange.isInRange(n.range,e.range.start))||(0!=(4096&t.modifiers)?s.push(t):s=[t]),t.range&&e.range&&t.range.start>e.range.start)break}let o=[];for(let e=0,r=s.length;e<r;++e){if(256===(n=s[e]).kind&&(0!=(16777216&n.modifiers)&&n.scope||!n.scope&&!(2097152&n.modifiers))){let e=this.find(n.name,e=>!(256!==e.kind||e.scope||0==(2097152&e.modifiers)||16781312&e.modifiers));if(t){let n=e.filter(e=>t.indexOf(e.uriId)>-1);n.length>0&&(e=n)}Array.prototype.push.apply(o,e)}0!=(2097152&n.modifiers)&&o.push(n)}return o.length>0?o:s}findMembers(e,t,n){let r,i,a=s.TypeString.objectNames(e),c=[];for(let e=0;e<a.length;++e)(r=o.TypeDefinition.fromName(a[e],this))&&(i=r.findMember(t,n))&&c.push(i);return c}},function(e){const t=255;e.offset=function(e){return e>>1&t},e.isImportant=function(e){return 1==(1&e)},e.pack=function(e,n){return(e&t)<<1|(n?1:0)}}(c=t.IndexedDefinitionScore||(t.IndexedDefinitionScore={})),function(e){function t(e,t,n){return{id:r.DefinitionId.fromDefinition(e),score:c.pack(t,n)}}function n(e){return 0!=(196608&e.modifiers)}function i(e){if(!e.name)return[];if(512===e.kind)return[];let t,n=r.Definition.shortName(e.name),i=n.toLowerCase(),s=[0],o=0,a=n.length;for(;o<a;)("$"===(t=n[o])||"_"===t)&&o+1<a&&"_"!==n[o+1]?(++o,s.push(o)):o>0&&t!==i[o]&&n[o-1]===i[o-1]&&s.push(o),++o;return s}e.create=t,e.fromDefinition=function(e){const r=[],s=i(e),o=n(e);for(let n=0,i=s.length;n<i;++n)r.push(t(e,s[n],o));return r},e.isVendorOrStub=n,e.nameOffsets=i}(u=t.IndexedDefinitionIdentifier||(t.IndexedDefinitionIdentifier={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){var t;function n(e){let t=e.charCodeAt(0);return t>64&&t<91||t>96&&t<123||95===t||t>127}function r(e){let t=e.charCodeAt(0);return t>47&&t<58||t>64&&t<91||t>96&&t<123||95===t||t>127}function i(e){return" "===e||"\n"===e||"\r"===e||"\t"===e}function s(e){let t=e.position,i=e.input.length,s=e.position+1;if(!(s>=i)){if("{"===e.input[s])return e.position+=2,e.modeStack.push(9),{kind:130,length:2,previous:e.previousToken};if(n(e.input[s])){for(;++s<i&&r(e.input[s]););if(s<i&&"["===e.input[s])return e.modeStack.push(8),e.position=s,{kind:83,length:e.position-t,previous:e.previousToken};if(s<i&&"-"===e.input[s]){let r=s+1;if(r<i&&">"===e.input[r]&&++r<i&&n(e.input[r]))return e.modeStack.push(2),e.position=s,{kind:83,length:e.position-t,previous:e.previousToken}}return e.position=s,{kind:83,length:e.position-t,previous:e.previousToken}}}}function o(e,t){++e.position;let r,i=e.position,s=e.input.length;for(;i<s;){switch(r=e.input[i++]){case'"':return e.position=i,{kind:77,length:e.position-t,previous:e.previousToken};case"$":if(i<s&&(n(e.input[i])||"{"===e.input[i]))break;continue;case"{":if(i<s&&"$"===e.input[i])break;continue;case"\\":i<s&&++i;default:continue}--i;break}return e.doubleQuoteScannedLength=i,e.modeStack.pop(),e.modeStack.push(3),{kind:96,length:e.position-t,previous:e.previousToken}}function a(e,t){let n,r=e.input.length;for(++e.position;e.position<r;){if(n=e.input[e.position],++e.position,"'"===n)return{kind:77,length:e.position-t,previous:e.previousToken};"\\"===n&&e.position<r&&++e.position}return{kind:79,length:e.position-t,previous:e.previousToken}}e.setInput=function(e,n,r,i){t={position:i&&i>0?i:0,input:e,modeStack:r||[0],doubleQuoteScannedLength:-1,heredocLabel:void 0,heredocEndNewLineLength:0,heredocEndIndent:0,previousToken:void 0,nodeProblemMap:n}},e.lex=function e(){if(t.position>=t.input.length)return t.previousToken={kind:1,length:0,previous:t.previousToken};let c;switch(t.modeStack[t.modeStack.length-1]){case 0:c=function(e){let t=e.input.length,n=e.input[e.position],r=e.position;if("<"===n&&e.position+1<t&&"?"===e.input[e.position+1]){let n=156;"<?php"===e.input.substr(e.position,5).toLowerCase()&&e.position+5<t&&i(e.input[e.position+5])?e.position+=5:e.position+2<t&&"="===e.input[e.position+2]?(n=157,e.position+=3):e.position+=2;let s={kind:n,length:e.position-r,previous:e.previousToken};return e.modeStack.pop(),e.modeStack.push(1),s}for(;++e.position<t&&!("<"===(n=e.input[e.position])&&e.position+1<t&&"?"===e.input[e.position+1]););return{kind:80,length:e.position-r,previous:e.previousToken}}(t);break;case 1:c=function(e){let t=e.input[e.position],s=e.position,c=e.input.length;switch(t){case" ":case"\t":case"\n":case"\r":for(;++e.position<c&&i(e.input[e.position]););return{kind:163,length:e.position-s,previous:e.previousToken};case"-":return function(e){if(e.position,++e.position<e.input.length)switch(e.input[e.position]){case">":return++e.position,e.modeStack.push(2),{kind:114,length:2,previous:e.previousToken};case"-":return++e.position,{kind:128,length:2,previous:e.previousToken};case"=":return++e.position,{kind:143,length:2,previous:e.previousToken}}return{kind:142,length:1,previous:e.previousToken}}(e);case":":return++e.position<c&&":"===e.input[e.position]?(++e.position,{kind:132,length:2,previous:e.previousToken}):{kind:86,length:1,previous:e.previousToken};case".":return function(e){let t=e.position;if(++e.position<e.input.length){let n=e.input[e.position];if("="===n)return++e.position,{kind:126,length:2,previous:e.previousToken};if("."===n&&e.position+1<e.input.length&&"."===e.input[e.position+1])return e.position+=2,{kind:133,length:3,previous:e.previousToken};if(n>="0"&&n<="9")return d(e,t,!0)}return{kind:125,length:1,previous:e.previousToken}}(e);case"=":return function(e){if(e.position,++e.position<e.input.length)switch(e.input[e.position]){case"=":return++e.position<e.input.length&&"="===e.input[e.position]?(++e.position,{kind:137,length:3,previous:e.previousToken}):{kind:135,length:2,previous:e.previousToken};case">":return++e.position,{kind:131,length:2,previous:e.previousToken}}return{kind:84,length:1,previous:e.previousToken}}(e);case"+":return function(e){if(e.position,++e.position<e.input.length)switch(e.input[e.position]){case"=":return++e.position,{kind:111,length:2,previous:e.previousToken};case"+":return++e.position,{kind:134,length:2,previous:e.previousToken}}return{kind:110,length:1,previous:e.previousToken}}(e);case"!":return function(e){return e.position,++e.position<e.input.length&&"="===e.input[e.position]?++e.position<e.input.length&&"="===e.input[e.position]?(++e.position,{kind:139,length:3,previous:e.previousToken}):{kind:138,length:2,previous:e.previousToken}:{kind:88,length:1,previous:e.previousToken}}(e);case"<":return function(e){let t=e.position;if(++e.position<e.input.length)switch(e.input[e.position]){case">":return++e.position,{kind:138,length:2,previous:e.previousToken};case"<":if(++e.position,e.position<e.input.length){if("="===e.input[e.position])return++e.position,{kind:106,length:3,previous:e.previousToken};if("<"===e.input[e.position]){e.position-=2;let n=u(e,t);if(n)return n;e.position+=2}}return{kind:105,length:2,previous:e.previousToken};case"=":return++e.position,e.position<e.input.length&&">"===e.input[e.position]?(++e.position,{kind:141,length:3,previous:e.previousToken}):{kind:140,length:2,previous:e.previousToken}}return{kind:98,length:1,previous:e.previousToken}}(e);case">":return function(e){if(e.position,++e.position<e.input.length)switch(e.input[e.position]){case">":return++e.position,e.position<e.input.length&&"="===e.input[e.position]?(++e.position,{kind:108,length:3,previous:e.previousToken}):{kind:107,length:2,previous:e.previousToken};case"=":return++e.position,{kind:136,length:2,previous:e.previousToken}}return{kind:99,length:1,previous:e.previousToken}}(e);case"*":return function(e){if(e.position,++e.position<e.input.length)switch(e.input[e.position]){case"*":return++e.position,e.position<e.input.length&&"="===e.input[e.position]?(++e.position,{kind:113,length:3,previous:e.previousToken}):{kind:112,length:2,previous:e.previousToken};case"=":return++e.position,{kind:145,length:2,previous:e.previousToken}}return{kind:100,length:1,previous:e.previousToken}}(e);case"/":return function(e){let t=e.position;if(++e.position,e.position<e.input.length)switch(e.input[e.position]){case"=":return++e.position,{kind:129,length:2,previous:e.previousToken};case"*":return++e.position,function(e){let t=161,n=e.position-2,r=e.input.length;for(e.position<r&&"*"===e.input[e.position]&&e.position+1<r&&"/"!==e.input[e.position+1]&&(++e.position,t=162);e.position<r;){if("*"===e.input[e.position]&&e.position+1<r&&"/"===e.input[e.position+1]){e.position+=2;break}++e.position}return{kind:t,length:e.position-n,previous:e.previousToken}}(e);case"/":return++e.position,p(e,t)}return{kind:90,length:1,previous:e.previousToken}}(e);case"%":return++e.position<c&&"="===e.input[e.position]?(++e.position,{kind:144,length:2,previous:e.previousToken}):{kind:91,length:1,previous:e.previousToken};case"&":return function(e){if(e.position,++e.position,e.position<e.input.length)switch(e.input[e.position]){case"=":return++e.position,{kind:103,length:2,previous:e.previousToken};case"&":return++e.position,{kind:101,length:2,previous:e.previousToken}}return{kind:102,length:1,previous:e.previousToken}}(e);case"|":return function(e){if(e.position,++e.position,e.position<e.input.length)switch(e.input[e.position]){case"=":return++e.position,{kind:109,length:2,previous:e.previousToken};case"|":return++e.position,{kind:123,length:2,previous:e.previousToken}}return{kind:122,length:1,previous:e.previousToken}}(e);case"^":return++e.position<c&&"="===e.input[e.position]?(++e.position,{kind:104,length:2,previous:e.previousToken}):{kind:124,length:1,previous:e.previousToken};case";":return++e.position,{kind:87,length:1,previous:e.previousToken};case",":return++e.position,{kind:92,length:1,previous:e.previousToken};case"[":return++e.position,{kind:116,length:1,previous:e.previousToken};case"]":return++e.position,{kind:119,length:1,previous:e.previousToken};case"(":return function(e){let t=e.position,n=t,r=e.input.length;for(++n;n<r&&(" "===e.input[n]||"\t"===e.input[n]);)++n;let i=n;for(;n<r&&(e.input[n]>="A"&&e.input<="Z"||e.input[n]>="a"&&e.input<="z");)++n;let s=n;for(;n<r&&(" "===e.input[n]||"\t"===e.input[n]);)++n;if(n<r&&")"===e.input[n]){let r=e.input.slice(i,s).toLowerCase(),o=0;switch(r){case"int":case"integer":o=151;break;case"real":case"float":case"double":o=152;break;case"string":case"binary":o=149;break;case"array":o=155;break;case"object":o=150;break;case"bool":case"boolean":o=147;break;case"unset":o=148}if(o>0)return e.position=n+1,{kind:o,length:e.position-t,previous:e.previousToken}}return++e.position,{kind:117,length:1,previous:e.previousToken}}(e);case")":return++e.position,{kind:120,length:1,previous:e.previousToken};case"~":return++e.position,{kind:85,length:1,previous:e.previousToken};case"?":return function(e){let t=e.input.length,n=e.position;if(++e.position,e.position<t){if("?"===e.input[e.position])return++e.position,{kind:121,length:2,previous:e.previousToken};if(">"===e.input[e.position])return++e.position,e.modeStack.pop(),e.modeStack.push(0),{kind:158,length:e.position-n,previous:e.previousToken}}return{kind:95,length:1,previous:e.previousToken}}(e);case"@":return++e.position,{kind:93,length:1,previous:e.previousToken};case"$":return function(e){let t=e.position,i=e.position,s=e.input.length;if(++i<s&&n(e.input[i])){for(;++i<s&&r(e.input[i]););return e.position=i,{kind:83,length:e.position-t,previous:e.previousToken}}return++e.position,{kind:89,length:1,previous:e.previousToken}}(e);case"#":return++e.position,p(e,s);case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":return function(e){let t=e.position,n=e.input.length,r=e.position;if("0"===e.input[e.position]&&++r<n){if("b"===e.input[r]&&++r<n&&("0"===e.input[r]||"1"===e.input[r])){for(;++r<n&&("0"===e.input[r]||"1"===e.input[r]););return e.position=r,{kind:81,length:e.position-t,previous:e.previousToken}}if(r=e.position+1,"x"===e.input[r]&&++r<n&&h(e.input[r])){for(;++r<n&&h(e.input[r]););return e.position=r,{kind:81,length:e.position-t,previous:e.previousToken}}}for(;++e.position<n&&e.input[e.position]>="0"&&e.input[e.position]<="9";);return"."===e.input[e.position]?(++e.position,d(e,t,!0)):"e"===e.input[e.position]||"E"===e.input[e.position]?d(e,t,!1):{kind:81,length:e.position-t,previous:e.previousToken}}(e);case"{":return++e.position,e.modeStack.push(1),{kind:115,length:1,previous:e.previousToken};case"}":return++e.position,e.modeStack.length>1&&e.modeStack.pop(),{kind:118,length:1,previous:e.previousToken};case"`":return++e.position,e.modeStack.pop(),e.modeStack.push(7),{kind:94,length:1,previous:e.previousToken};case"\\":return++e.position,{kind:146,length:1,previous:e.previousToken};case"'":return a(e,s);case'"':return o(e,s);case"b":return function(e){let t,n=e.position;if(++e.position,e.position<e.input.length)switch(e.input[e.position]){case"'":return a(e,n);case'"':return o(e,n);case"<":if(t=u(e,n))return t;default:return--e.position,l(e)}return--e.position,l(e)}(e);default:return n(t)?l(e):(++e.position,{kind:0,length:1,previous:e.previousToken})}}(t);break;case 2:c=function(e){let t=e.position,s=e.input[e.position],o=e.input.length;switch(s){case" ":case"\t":case"\n":case"\r":for(;++e.position<o&&i(e.input[e.position]););return{kind:163,length:e.position-t,previous:e.previousToken};default:if(n(s)){for(;++e.position<o&&r(e.input[e.position]););return e.modeStack.pop(),{kind:82,length:e.position-t,previous:e.previousToken}}return"-"===s&&e.position+1<o&&">"===e.input[e.position+1]?(e.position+=2,{kind:114,length:2,previous:e.previousToken}):void e.modeStack.pop()}}(t);break;case 3:c=function(e){let t,r=e.input.length,i=e.input[e.position];switch(e.position,i){case"$":if(t=s(e))return t;break;case"{":if(e.position+1<r&&"$"===e.input[e.position+1])return e.modeStack.push(1),++e.position,{kind:127,length:1,previous:e.previousToken};break;case'"':return e.modeStack.pop(),e.modeStack.push(1),++e.position,{kind:96,length:1,previous:e.previousToken}}return function(e){let t=e.position;if(e.doubleQuoteScannedLength>0)e.position=e.doubleQuoteScannedLength,e.doubleQuoteScannedLength=-1;else{let t,r=e.position,i=e.input.length;for(++r,"\\"===e.input[e.position]&&r+1<i&&++r;r<i;){switch(t=e.input[r++]){case'"':break;case"$":if(r<i&&(n(e.input[r])||"{"==e.input[r]))break;continue;case"{":if(r<i&&"$"===e.input[r])break;continue;case"\\":r<i&&++r;default:continue}--r;break}e.position=r}return{kind:79,length:e.position-t,previous:e.previousToken}}(e)}(t);break;case 4:c=function(e){let t,r=e.position,i=r,s=e.input.length,o=e.heredocLabel?e.heredocLabel.length:0;for(;i<s;){switch(t=e.input[i++]){case"\r":i<s&&"\n"===e.input[i]&&++i;case"\n":{let t=i;for(;t<s&&(" "===e.input[t]||"\t"===e.input[t]);)++t;if(e.heredocEndIndent=t-i,t<s&&e.heredocLabel===e.input.substr(t,o)){if(t+o<s&&n(e.input[t+o]))continue;"\r"===e.input[i-2]&&"\n"===e.input[i-1]?(i-=2,e.heredocEndNewLineLength=2):(--i,e.heredocEndNewLineLength=1),e.modeStack.pop(),e.modeStack.push(6);break}}default:continue}break}return e.position=i,{kind:79,length:e.position-r,previous:e.previousToken}}(t);break;case 5:c=function(e){let t,r=e.input.length,i=e.input[e.position];switch(e.position,i){case"$":if(t=s(e))return t;break;case"{":if(e.position+1<r&&"$"===e.input[e.position+1])return e.modeStack.push(1),++e.position,{kind:127,length:1,previous:e.previousToken}}return function(e){let t,r=e.position,i=r,s=e.input.length,o=e.heredocLabel?e.heredocLabel.length:0;for(;i<s;){switch(t=e.input[i++]){case"\r":i<s&&"\n"===e.input[i]&&++i;case"\n":{let t=i;for(;t<s&&(" "===e.input[t]||"\t"===e.input[t]);)++t;if(e.heredocEndIndent=t-i,t<s&&e.heredocLabel===e.input.substr(t,o)){if(t+o<s&&n(e.input[t+o]))continue;"\r"===e.input[i-2]&&"\n"===e.input[i-1]?(i-=2,e.heredocEndNewLineLength=2):(--i,e.heredocEndNewLineLength=1),e.position=i,e.modeStack.pop(),e.modeStack.push(6);let a=e.position-r;return a>0?{kind:79,length:e.position-r,previous:e.previousToken}:void 0}}continue;case"$":if(i<s&&(n(e.input[i])||"{"===e.input[i]))break;continue;case"{":if(i<s&&"$"===e.input[i])break;continue;case"\\":i<s&&"\n"!==e.input[i]&&"\r"!==e.input[i]&&++i;default:continue}--i;break}return e.position=i,{kind:79,length:e.position-r,previous:e.previousToken}}(e)}(t);break;case 6:c=function(e){let t=e.position;return e.position+=e.heredocEndNewLineLength+e.heredocEndIndent,e.heredocLabel&&(e.position+=e.heredocLabel.length),e.heredocLabel=void 0,e.heredocEndIndent=0,e.heredocEndNewLineLength=0,e.modeStack.pop(),e.modeStack.push(1),{kind:154,length:e.position-t,previous:e.previousToken}}(t);break;case 7:c=function(e){let t,r=e.input.length,i=e.input[e.position];switch(e.position,i){case"$":if(t=s(e))return t;break;case"{":if(e.position+1<r&&"$"===e.input[e.position+1])return e.modeStack.push(1),++e.position,{kind:127,length:1,previous:e.previousToken};break;case"`":return e.modeStack.pop(),e.modeStack.push(1),++e.position,{kind:94,length:1,previous:e.previousToken}}return function(e){let t,r=e.position,i=r,s=e.input.length;for("\\"===e.input[r]&&r<s&&++r;r<s;){switch(t=e.input[r++]){case"`":break;case"$":if(r<s&&(n(e.input[r])||"{"===e.input[r]))break;continue;case"{":if(r<s&&"$"===e.input[r])break;continue;case"\\":r<s&&++r;default:continue}--r;break}return e.position=r,{kind:79,length:e.position-i,previous:e.previousToken}}(e)}(t);break;case 8:c=function(e){let t=e.position,i=e.input[e.position],s=e.input.length;switch(e.input[e.position]){case"$":if(e.position+1<s&&n(e.input[e.position+1])){for(++e.position;++e.position<s&&r(e.input[e.position]););return{kind:83,length:e.position-t,previous:e.previousToken}}break;case"[":return++e.position,{kind:116,length:1,previous:e.previousToken};case"]":return e.modeStack.pop(),++e.position,{kind:119,length:1,previous:e.previousToken};case"-":return++e.position,{kind:142,length:1,previous:e.previousToken};default:if(i>="0"&&i<="9")return function(e){let t=e.position,n=e.input[e.position],r=e.input.length;if("0"===n){let n=e.position+1;if(n<r&&"b"===e.input[n]&&++n<r&&("1"===e.input[n]||"0"===e.input[n])){for(;++n<r&&("1"===e.input[n]||"0"===e.input[n]););return e.position=n,{kind:81,length:e.position-t,previous:e.previousToken}}if(n<r&&"x"===e.input[n]&&++n<r&&h(e.input[n])){for(;++n<r&&h(e.input[n]););return e.position=n,{kind:81,length:e.position-t,previous:e.previousToken}}}for(;++e.position<r&&e.input[e.position]>="0"&&e.input[e.position]<="9";);return{kind:81,length:e.position-t,previous:e.previousToken}}(e);if(n(i)){for(;++e.position<s&&r(e.input[e.position]););return{kind:82,length:e.position-t,previous:e.previousToken}}}return e.modeStack.pop(),++e.position,{kind:0,length:1,previous:e.previousToken}}(t);break;case 9:c=function(e){let t=e.position,i=e.input.length;if(n(e.input[e.position])){let n=e.position;for(;++n<i&&r(e.input[n]););if(n<i&&("["===e.input[n]||"}"===e.input[n]))return e.modeStack.pop(),e.modeStack.push(1),e.position=n,{kind:83,length:e.position-t,previous:e.previousToken}}return e.modeStack.pop(),void e.modeStack.push(1)}(t);break;default:throw new Error("Unknown LexerMode")}return c||(c=e()),t.previousToken=c};const c=/^;?(?:\r\n|\n|\r)/;function u(e,t){let i,s,o,a=e.input.length,u=e.position;for(let t=u+3;u<t;++u)if(u>=a||"<"!==e.input[u])return;for(;u<a&&(" "===e.input[u]||"\t"===e.input[u]);)++u;if(u<a&&("'"===e.input[u]||'"'===e.input[u])&&(o=e.input[u],++u),i=u,!(u<a&&n(e.input[u])))return;for(;++u<a&&r(e.input[u]););if(s=u,o){if(!(u<a&&e.input[u]===o))return;++u}if(u<a)if("\r"===e.input[u])++u,"\n"===e.input[u]&&++u;else{if("\n"!==e.input[u])return;++u}e.position=u,e.heredocLabel=e.input.slice(i,s);let l={kind:153,length:e.position-t,previous:e.previousToken};return e.modeStack.pop(),"'"===o?e.modeStack.push(4):e.modeStack.push(5),e.input.substr(e.position,e.heredocLabel.length)===e.heredocLabel&&e.input.substr(e.position+e.heredocLabel.length,3).search(c)>=0&&(e.modeStack.pop(),e.modeStack.push(6)),l}function l(e){let t=e.input.length,n=e.position;for(;++e.position<t&&r(e.input[e.position]););let s=e.input.slice(n,e.position),o=0;if("_"===s[0]){switch(s){case"__CLASS__":o=76;break;case"__TRAIT__":o=75;break;case"__FUNCTION__":o=72;break;case"__METHOD__":o=73;break;case"__LINE__":o=71;break;case"__FILE__":o=70;break;case"__DIR__":o=69;break;case"__NAMESPACE__":o=74}if(o>0)return{kind:o,length:e.position-n,previous:e.previousToken}}switch(s=s.toLowerCase()){case"exit":case"die":o=27;break;case"function":o=33;break;case"const":o=11;break;case"return":o=57;break;case"yield":return function(e,t){let n=e.input.length,r=e.position;if(r<n&&i(e.input[r])){for(;++r<n&&i(e.input[r]););if("from"===e.input.substr(r,4).toLowerCase())return e.position=r+4,{kind:68,length:e.position-t,previous:e.previousToken}}return{kind:67,length:e.position-t,previous:e.previousToken}}(e,n);case"try":o=62;break;case"catch":o=8;break;case"finally":o=30;break;case"throw":o=60;break;case"if":o=37;break;case"elseif":o=18;break;case"endif":o=23;break;case"else":{let n=e.position;for(;n<t&&i(e.input[n]);)++n;"if"===e.input.substr(n,2).toLowerCase()?(e.position=n+2,o=18):o=17}break;case"while":o=66;break;case"endwhile":o=25;break;case"do":o=15;break;case"for":o=31;break;case"endfor":o=21;break;case"foreach":o=32;break;case"endforeach":o=22;break;case"declare":o=13;break;case"enddeclare":o=20;break;case"instanceof":o=41;break;case"as":o=4;break;case"switch":o=59;break;case"endswitch":o=24;break;case"case":o=7;break;case"default":o=14;break;case"break":o=5;break;case"continue":o=12;break;case"goto":o=35;break;case"echo":o=16;break;case"print":o=51;break;case"class":o=9;break;case"interface":o=43;break;case"trait":o=61;break;case"extends":o=28;break;case"implements":o=38;break;case"new":o=50;break;case"clone":o=10;break;case"var":o=65;break;case"eval":o=26;break;case"include_once":o=40;break;case"include":o=39;break;case"require_once":o=56;break;case"require":o=55;break;case"namespace":o=49;break;case"use":o=64;break;case"insteadof":o=42;break;case"global":o=34;break;case"isset":o=44;break;case"empty":o=19;break;case"__halt_compiler":o=36;break;case"static":o=58;break;case"abstract":o=2;break;case"final":o=29;break;case"private":o=52;break;case"protected":o=54;break;case"public":o=53;break;case"unset":o=63;break;case"list":o=45;break;case"array":o=3;break;case"callable":o=6;break;case"or":o=47;break;case"and":o=46;break;case"xor":o=48}return o||(o=82),{kind:o,length:e.position-n,previous:e.previousToken}}function h(e){return e>="0"&&e<="9"||e>="a"&&e<="f"||e>="A"&&e<="F"}function d(e,t,n){let r=e.input.length;for(;e.position<r&&e.input[e.position]>="0"&&e.input[e.position]<="9";)++e.position;if(e.position<r&&("e"===e.input[e.position]||"E"===e.input[e.position])){let n=e.position+1;if(n<r&&("+"===e.input[n]||"-"===e.input[n])&&++n,n<r&&e.input[n]>="0"&&e.input[n]<="9"){for(;++n<r&&e.input[n]>="0"&&e.input[n]<="9";);return e.position=n,{kind:78,length:e.position-t,previous:e.previousToken}}}return{kind:n?78:81,length:e.position-t,previous:e.previousToken}}function p(e,t){let n,r=e.input.length;for(;e.position<r;)if(n=e.input[e.position],++e.position,"\n"===n||"\r"===n||"?"===n&&e.position<r&&">"===e.input[e.position]){--e.position;break}return{kind:160,length:e.position-t,previous:e.previousToken}}}(t.Lexer||(t.Lexer={})),t.isKeyword=function(e){return e>=2&&e<=68},t.tokenKindToString=function(e){switch(e){case 0:return"Unknown";case 1:return"EndOfFile";case 2:return"abstract";case 3:return"array";case 4:return"as";case 5:return"break";case 6:return"callable";case 7:return"case";case 8:return"catch";case 9:return"class";case 76:return"__CLASS__";case 10:return"clone";case 11:return"const";case 12:return"continue";case 13:return"declare";case 14:return"default";case 15:return"do";case 16:return"echo";case 17:return"else";case 18:return"elseif";case 19:return"empty";case 20:return"enddeclare";case 21:return"endfor";case 22:return"endforeach";case 23:return"endif";case 24:return"endswitch";case 25:return"endwhile";case 154:return"EndHeredoc";case 26:return"eval";case 27:return"exit";case 28:return"extends";case 29:return"final";case 30:return"finally";case 31:return"for";case 32:return"foreach";case 33:return"function";case 34:return"global";case 35:return"goto";case 36:return"__halt_compiler";case 37:return"if";case 38:return"implements";case 39:return"include";case 40:return"include_once";case 41:return"instanceof";case 42:return"insteadof";case 43:return"interface";case 44:return"isset";case 45:return"list";case 46:return"and";case 47:return"or";case 48:return"xor";case 49:return"namespace";case 50:return"new";case 51:return"print";case 52:return"private";case 53:return"public";case 54:return"protected";case 55:return"require";case 56:return"require_once";case 57:return"return";case 58:return"static";case 59:return"switch";case 60:return"throw";case 61:return"trait";case 62:return"try";case 63:return"unset";case 64:return"use";case 65:return"var";case 66:return"while";case 67:return"yield";case 68:return"yield from";case 69:return"__DIR__";case 70:return"__FILE__";case 71:return"__LINE__";case 72:return"__FUNCTION__";case 73:return"__METHOD__";case 74:return"__NAMESPACE__";case 75:return"__TRAIT__";case 77:return"StringLiteral";case 78:return"FloatingLiteral";case 79:return"EncapsulatedAndWhitespace";case 80:return"Text";case 81:return"IntegerLiteral";case 82:return"Name";case 83:return"VariableName";case 84:return"=";case 85:return"~";case 86:return":";case 87:return";";case 88:return"!";case 89:return"$";case 90:return"/";case 91:return"%";case 92:return",";case 93:return"@";case 94:return"`";case 95:return"?";case 96:return'"';case 97:return"'";case 98:return"<";case 99:return">";case 100:return"*";case 101:return"&&";case 102:return"&";case 103:return"&=";case 104:return"^=";case 105:return"<<";case 106:return"<<=";case 107:return">>";case 108:return">>=";case 109:return"|=";case 110:return"+";case 111:return"+=";case 112:return"**";case 113:return"**=";case 114:return"->";case 115:return"{";case 116:return"[";case 117:return"(";case 118:return"}";case 119:return"]";case 120:return")";case 121:return"??";case 122:return"|";case 123:return"||";case 124:return"^";case 125:return".";case 126:return".=";case 127:return"{";case 128:return"--";case 129:return"/=";case 130:return"${";case 131:return"=>";case 132:return"::";case 133:return"...";case 134:return"++";case 135:return"==";case 136:return">=";case 137:return"===";case 138:return"!=";case 139:return"!==";case 140:return"<=";case 141:return"<=>";case 142:return"-";case 143:return"-=";case 144:return"%=";case 145:return"*=";case 146:return"\\";case 147:return"(bool)";case 148:return"(unset)";case 149:return"(string)";case 150:return"(object)";case 151:return"(int)";case 152:return"(float)";case 153:return"StartHeredoc";case 155:return"(array)";case 156:return"<?php";case 157:return"<?=";case 158:return"?>";case 160:return"Comment";case 161:return"InlineComment";case 162:return"DocumentComment";case 163:return"Whitespace";case 159:return"VisibleDocumentComment";default:throw new Error("Invalid Argument")}}},function(e,t,n){var r,i;i=function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){"use strict";var r=n(1).Beautifier,i=n(5).Options;e.exports=function(e,t){return new r(e,t).beautify()},e.exports.defaultOptions=function(){return new i}},function(e,t,n){"use strict";var r=n(2).Output,i=n(3).Token,s=n(4),o=n(5).Options,a=n(7).Tokenizer,c=n(7).line_starters,u=n(7).positionable_operators,l=n(7).TOKEN;function h(e,t){return-1!==t.indexOf(e)}function d(e,t){return e&&e.type===l.RESERVED&&e.text===t}function p(e,t){return e&&e.type===l.RESERVED&&h(e.text,t)}var f=["case","return","do","if","throw","else","await","break","continue","async"],_=function(e){for(var t={},n=0;n<e.length;n++)t[e[n].replace(/-/g,"_")]=e[n];return t}(["before-newline","after-newline","preserve-newline"]),m=[_.before_newline,_.preserve_newline],g={BlockStatement:"BlockStatement",Statement:"Statement",ObjectLiteral:"ObjectLiteral",ArrayLiteral:"ArrayLiteral",ForInitializer:"ForInitializer",Conditional:"Conditional",Expression:"Expression"};function y(e,t){t.multiline_frame||t.mode===g.ForInitializer||t.mode===g.Conditional||e.remove_indent(t.start_line_index)}function T(e){return e===g.ArrayLiteral}function b(e){return h(e,[g.Expression,g.ForInitializer,g.Conditional])}function v(e,t){t=t||{},this._source_text=e||"",this._output=null,this._tokens=null,this._last_last_text=null,this._flags=null,this._previous_flags=null,this._flag_store=null,this._options=new o(t)}v.prototype.create_flags=function(e,t){var n=0;return e&&(n=e.indentation_level,!this._output.just_added_newline()&&e.line_indent_level>n&&(n=e.line_indent_level)),{mode:t,parent:e,last_token:e?e.last_token:new i(l.START_BLOCK,""),last_word:e?e.last_word:"",declaration_statement:!1,declaration_assignment:!1,multiline_frame:!1,inline_frame:!1,if_block:!1,else_block:!1,do_block:!1,do_while:!1,import_block:!1,in_case_statement:!1,in_case:!1,case_body:!1,indentation_level:n,alignment:0,line_indent_level:e?e.line_indent_level:n,start_line_index:this._output.get_line_number(),ternary_depth:0}},v.prototype._reset=function(e){var t=e.match(/^[\t ]*/)[0];this._last_last_text="",this._output=new r(this._options,t),this._output.raw=this._options.test_output_raw,this._flag_store=[],this.set_mode(g.BlockStatement);var n=new a(e,this._options);return this._tokens=n.tokenize(),e},v.prototype.beautify=function(){if(this._options.disabled)return this._source_text;var e=this._reset(this._source_text),t=this._options.eol;"auto"===this._options.eol&&(t="\n",e&&s.lineBreak.test(e||"")&&(t=e.match(s.lineBreak)[0]));for(var n=this._tokens.next();n;)this.handle_token(n),this._last_last_text=this._flags.last_token.text,this._flags.last_token=n,n=this._tokens.next();return this._output.get_code(t)},v.prototype.handle_token=function(e,t){e.type===l.START_EXPR?this.handle_start_expr(e):e.type===l.END_EXPR?this.handle_end_expr(e):e.type===l.START_BLOCK?this.handle_start_block(e):e.type===l.END_BLOCK?this.handle_end_block(e):e.type===l.WORD?this.handle_word(e):e.type===l.RESERVED?this.handle_word(e):e.type===l.SEMICOLON?this.handle_semicolon(e):e.type===l.STRING?this.handle_string(e):e.type===l.EQUALS?this.handle_equals(e):e.type===l.OPERATOR?this.handle_operator(e):e.type===l.COMMA?this.handle_comma(e):e.type===l.BLOCK_COMMENT?this.handle_block_comment(e,t):e.type===l.COMMENT?this.handle_comment(e,t):e.type===l.DOT?this.handle_dot(e):e.type===l.EOF?this.handle_eof(e):(e.type,l.UNKNOWN,this.handle_unknown(e,t))},v.prototype.handle_whitespace_and_comments=function(e,t){var n=e.newlines,r=this._options.keep_array_indentation&&T(this._flags.mode);if(e.comments_before)for(var i=e.comments_before.next();i;)this.handle_whitespace_and_comments(i,t),this.handle_token(i,t),i=e.comments_before.next();if(r)for(var s=0;s<n;s+=1)this.print_newline(s>0,t);else if(this._options.max_preserve_newlines&&n>this._options.max_preserve_newlines&&(n=this._options.max_preserve_newlines),this._options.preserve_newlines&&n>1){this.print_newline(!1,t);for(var o=1;o<n;o+=1)this.print_newline(!0,t)}};var E=["async","break","continue","return","throw","yield"];v.prototype.allow_wrap_or_preserved_newline=function(e,t){if(t=void 0!==t&&t,!this._output.just_added_newline()){var n=this._options.preserve_newlines&&e.newlines||t;if(h(this._flags.last_token.text,u)||h(e.text,u)){var r=h(this._flags.last_token.text,u)&&h(this._options.operator_position,m)||h(e.text,u);n=n&&r}if(n)this.print_newline(!1,!0);else if(this._options.wrap_line_length){if(p(this._flags.last_token,E))return;this._output.set_wrap_point()}}},v.prototype.print_newline=function(e,t){if(!t&&";"!==this._flags.last_token.text&&","!==this._flags.last_token.text&&"="!==this._flags.last_token.text&&(this._flags.last_token.type!==l.OPERATOR||"--"===this._flags.last_token.text||"++"===this._flags.last_token.text))for(var n=this._tokens.peek();!(this._flags.mode!==g.Statement||this._flags.if_block&&d(n,"else")||this._flags.do_block);)this.restore_mode();this._output.add_new_line(e)&&(this._flags.multiline_frame=!0)},v.prototype.print_token_line_indentation=function(e){this._output.just_added_newline()&&(this._options.keep_array_indentation&&e.newlines&&("["===e.text||T(this._flags.mode))?(this._output.current_line.set_indent(-1),this._output.current_line.push(e.whitespace_before),this._output.space_before_token=!1):this._output.set_indent(this._flags.indentation_level,this._flags.alignment)&&(this._flags.line_indent_level=this._flags.indentation_level))},v.prototype.print_token=function(e){if(this._output.raw)this._output.add_raw_token(e);else{if(this._options.comma_first&&e.previous&&e.previous.type===l.COMMA&&this._output.just_added_newline()&&","===this._output.previous_line.last()){var t=this._output.previous_line.pop();this._output.previous_line.is_empty()&&(this._output.previous_line.push(t),this._output.trim(!0),this._output.current_line.pop(),this._output.trim()),this.print_token_line_indentation(e),this._output.add_token(","),this._output.space_before_token=!0}this.print_token_line_indentation(e),this._output.non_breaking_space=!0,this._output.add_token(e.text),this._output.previous_token_wrapped&&(this._flags.multiline_frame=!0)}},v.prototype.indent=function(){this._flags.indentation_level+=1,this._output.set_indent(this._flags.indentation_level,this._flags.alignment)},v.prototype.deindent=function(){this._flags.indentation_level>0&&(!this._flags.parent||this._flags.indentation_level>this._flags.parent.indentation_level)&&(this._flags.indentation_level-=1,this._output.set_indent(this._flags.indentation_level,this._flags.alignment))},v.prototype.set_mode=function(e){this._flags?(this._flag_store.push(this._flags),this._previous_flags=this._flags):this._previous_flags=this.create_flags(null,e),this._flags=this.create_flags(this._previous_flags,e),this._output.set_indent(this._flags.indentation_level,this._flags.alignment)},v.prototype.restore_mode=function(){this._flag_store.length>0&&(this._previous_flags=this._flags,this._flags=this._flag_store.pop(),this._previous_flags.mode===g.Statement&&y(this._output,this._previous_flags),this._output.set_indent(this._flags.indentation_level,this._flags.alignment))},v.prototype.start_of_object_property=function(){return this._flags.parent.mode===g.ObjectLiteral&&this._flags.mode===g.Statement&&(":"===this._flags.last_token.text&&0===this._flags.ternary_depth||p(this._flags.last_token,["get","set"]))},v.prototype.start_of_statement=function(e){var t=!1;return!!(t=(t=(t=(t=(t=(t=(t=t||p(this._flags.last_token,["var","let","const"])&&e.type===l.WORD)||d(this._flags.last_token,"do"))||!(this._flags.parent.mode===g.ObjectLiteral&&this._flags.mode===g.Statement)&&p(this._flags.last_token,E)&&!e.newlines)||d(this._flags.last_token,"else")&&!(d(e,"if")&&!e.comments_before))||this._flags.last_token.type===l.END_EXPR&&(this._previous_flags.mode===g.ForInitializer||this._previous_flags.mode===g.Conditional))||this._flags.last_token.type===l.WORD&&this._flags.mode===g.BlockStatement&&!this._flags.in_case&&!("--"===e.text||"++"===e.text)&&"function"!==this._last_last_text&&e.type!==l.WORD&&e.type!==l.RESERVED)||this._flags.mode===g.ObjectLiteral&&(":"===this._flags.last_token.text&&0===this._flags.ternary_depth||p(this._flags.last_token,["get","set"])))&&(this.set_mode(g.Statement),this.indent(),this.handle_whitespace_and_comments(e,!0),this.start_of_object_property()||this.allow_wrap_or_preserved_newline(e,p(e,["do","for","if","while"])),!0)},v.prototype.handle_start_expr=function(e){this.start_of_statement(e)||this.handle_whitespace_and_comments(e);var t=g.Expression;if("["===e.text){if(this._flags.last_token.type===l.WORD||")"===this._flags.last_token.text)return p(this._flags.last_token,c)&&(this._output.space_before_token=!0),this.print_token(e),this.set_mode(t),this.indent(),void(this._options.space_in_paren&&(this._output.space_before_token=!0));t=g.ArrayLiteral,T(this._flags.mode)&&("["!==this._flags.last_token.text&&(","!==this._flags.last_token.text||"]"!==this._last_last_text&&"}"!==this._last_last_text)||this._options.keep_array_indentation||this.print_newline()),h(this._flags.last_token.type,[l.START_EXPR,l.END_EXPR,l.WORD,l.OPERATOR])||(this._output.space_before_token=!0)}else{if(this._flags.last_token.type===l.RESERVED)"for"===this._flags.last_token.text?(this._output.space_before_token=this._options.space_before_conditional,t=g.ForInitializer):h(this._flags.last_token.text,["if","while"])?(this._output.space_before_token=this._options.space_before_conditional,t=g.Conditional):h(this._flags.last_word,["await","async"])?this._output.space_before_token=!0:"import"===this._flags.last_token.text&&""===e.whitespace_before?this._output.space_before_token=!1:(h(this._flags.last_token.text,c)||"catch"===this._flags.last_token.text)&&(this._output.space_before_token=!0);else if(this._flags.last_token.type===l.EQUALS||this._flags.last_token.type===l.OPERATOR)this.start_of_object_property()||this.allow_wrap_or_preserved_newline(e);else if(this._flags.last_token.type===l.WORD){this._output.space_before_token=!1;var n=this._tokens.peek(-3);if(this._options.space_after_named_function&&n){var r=this._tokens.peek(-4);p(n,["async","function"])||"*"===n.text&&p(r,["async","function"])?this._output.space_before_token=!0:this._flags.mode===g.ObjectLiteral&&("{"!==n.text&&","!==n.text&&("*"!==n.text||"{"!==r.text&&","!==r.text)||(this._output.space_before_token=!0))}}else this.allow_wrap_or_preserved_newline(e);(this._flags.last_token.type===l.RESERVED&&("function"===this._flags.last_word||"typeof"===this._flags.last_word)||"*"===this._flags.last_token.text&&(h(this._last_last_text,["function","yield"])||this._flags.mode===g.ObjectLiteral&&h(this._last_last_text,["{",","])))&&(this._output.space_before_token=this._options.space_after_anon_function)}";"===this._flags.last_token.text||this._flags.last_token.type===l.START_BLOCK?this.print_newline():this._flags.last_token.type!==l.END_EXPR&&this._flags.last_token.type!==l.START_EXPR&&this._flags.last_token.type!==l.END_BLOCK&&"."!==this._flags.last_token.text&&this._flags.last_token.type!==l.COMMA||this.allow_wrap_or_preserved_newline(e,e.newlines),this.print_token(e),this.set_mode(t),this._options.space_in_paren&&(this._output.space_before_token=!0),this.indent()},v.prototype.handle_end_expr=function(e){for(;this._flags.mode===g.Statement;)this.restore_mode();this.handle_whitespace_and_comments(e),this._flags.multiline_frame&&this.allow_wrap_or_preserved_newline(e,"]"===e.text&&T(this._flags.mode)&&!this._options.keep_array_indentation),this._options.space_in_paren&&(this._flags.last_token.type!==l.START_EXPR||this._options.space_in_empty_paren?this._output.space_before_token=!0:(this._output.trim(),this._output.space_before_token=!1)),this.deindent(),this.print_token(e),this.restore_mode(),y(this._output,this._previous_flags),this._flags.do_while&&this._previous_flags.mode===g.Conditional&&(this._previous_flags.mode=g.Expression,this._flags.do_block=!1,this._flags.do_while=!1)},v.prototype.handle_start_block=function(e){this.handle_whitespace_and_comments(e);var t=this._tokens.peek(),n=this._tokens.peek(1);"switch"===this._flags.last_word&&this._flags.last_token.type===l.END_EXPR?(this.set_mode(g.BlockStatement),this._flags.in_case_statement=!0):this._flags.case_body?this.set_mode(g.BlockStatement):n&&(h(n.text,[":",","])&&h(t.type,[l.STRING,l.WORD,l.RESERVED])||h(t.text,["get","set","..."])&&h(n.type,[l.WORD,l.RESERVED]))?h(this._last_last_text,["class","interface"])?this.set_mode(g.BlockStatement):this.set_mode(g.ObjectLiteral):this._flags.last_token.type===l.OPERATOR&&"=>"===this._flags.last_token.text?this.set_mode(g.BlockStatement):h(this._flags.last_token.type,[l.EQUALS,l.START_EXPR,l.COMMA,l.OPERATOR])||p(this._flags.last_token,["return","throw","import","default"])?this.set_mode(g.ObjectLiteral):this.set_mode(g.BlockStatement);var r=!t.comments_before&&"}"===t.text,i=r&&"function"===this._flags.last_word&&this._flags.last_token.type===l.END_EXPR;if(this._options.brace_preserve_inline){var s=0,o=null;this._flags.inline_frame=!0;do{if(s+=1,(o=this._tokens.peek(s-1)).newlines){this._flags.inline_frame=!1;break}}while(o.type!==l.EOF&&(o.type!==l.END_BLOCK||o.opened!==e))}("expand"===this._options.brace_style||"none"===this._options.brace_style&&e.newlines)&&!this._flags.inline_frame?this._flags.last_token.type!==l.OPERATOR&&(i||this._flags.last_token.type===l.EQUALS||p(this._flags.last_token,f)&&"else"!==this._flags.last_token.text)?this._output.space_before_token=!0:this.print_newline(!1,!0):(!T(this._previous_flags.mode)||this._flags.last_token.type!==l.START_EXPR&&this._flags.last_token.type!==l.COMMA||((this._flags.last_token.type===l.COMMA||this._options.space_in_paren)&&(this._output.space_before_token=!0),(this._flags.last_token.type===l.COMMA||this._flags.last_token.type===l.START_EXPR&&this._flags.inline_frame)&&(this.allow_wrap_or_preserved_newline(e),this._previous_flags.multiline_frame=this._previous_flags.multiline_frame||this._flags.multiline_frame,this._flags.multiline_frame=!1)),this._flags.last_token.type!==l.OPERATOR&&this._flags.last_token.type!==l.START_EXPR&&(this._flags.last_token.type!==l.START_BLOCK||this._flags.inline_frame?this._output.space_before_token=!0:this.print_newline())),this.print_token(e),this.indent(),r||this._options.brace_preserve_inline&&this._flags.inline_frame||this.print_newline()},v.prototype.handle_end_block=function(e){for(this.handle_whitespace_and_comments(e);this._flags.mode===g.Statement;)this.restore_mode();var t=this._flags.last_token.type===l.START_BLOCK;this._flags.inline_frame&&!t?this._output.space_before_token=!0:"expand"===this._options.brace_style?t||this.print_newline():t||(T(this._flags.mode)&&this._options.keep_array_indentation?(this._options.keep_array_indentation=!1,this.print_newline(),this._options.keep_array_indentation=!0):this.print_newline()),this.restore_mode(),this.print_token(e)},v.prototype.handle_word=function(e){if(e.type===l.RESERVED)if(h(e.text,["set","get"])&&this._flags.mode!==g.ObjectLiteral)e.type=l.WORD;else if("import"===e.text&&"("===this._tokens.peek().text)e.type=l.WORD;else if(h(e.text,["as","from"])&&!this._flags.import_block)e.type=l.WORD;else if(this._flags.mode===g.ObjectLiteral){":"===this._tokens.peek().text&&(e.type=l.WORD)}if(this.start_of_statement(e)?p(this._flags.last_token,["var","let","const"])&&e.type===l.WORD&&(this._flags.declaration_statement=!0):!e.newlines||b(this._flags.mode)||this._flags.last_token.type===l.OPERATOR&&"--"!==this._flags.last_token.text&&"++"!==this._flags.last_token.text||this._flags.last_token.type===l.EQUALS||!this._options.preserve_newlines&&p(this._flags.last_token,["var","let","const","set","get"])?this.handle_whitespace_and_comments(e):(this.handle_whitespace_and_comments(e),this.print_newline()),this._flags.do_block&&!this._flags.do_while){if(d(e,"while"))return this._output.space_before_token=!0,this.print_token(e),this._output.space_before_token=!0,void(this._flags.do_while=!0);this.print_newline(),this._flags.do_block=!1}if(this._flags.if_block)if(!this._flags.else_block&&d(e,"else"))this._flags.else_block=!0;else{for(;this._flags.mode===g.Statement;)this.restore_mode();this._flags.if_block=!1,this._flags.else_block=!1}if(this._flags.in_case_statement&&p(e,["case","default"]))return this.print_newline(),this._flags.last_token.type!==l.END_BLOCK&&(this._flags.case_body||this._options.jslint_happy)&&this.deindent(),this._flags.case_body=!1,this.print_token(e),void(this._flags.in_case=!0);if(this._flags.last_token.type!==l.COMMA&&this._flags.last_token.type!==l.START_EXPR&&this._flags.last_token.type!==l.EQUALS&&this._flags.last_token.type!==l.OPERATOR||this.start_of_object_property()||this.allow_wrap_or_preserved_newline(e),d(e,"function"))return(h(this._flags.last_token.text,["}",";"])||this._output.just_added_newline()&&!h(this._flags.last_token.text,["(","[","{",":","=",","])&&this._flags.last_token.type!==l.OPERATOR)&&(this._output.just_added_blankline()||e.comments_before||(this.print_newline(),this.print_newline(!0))),this._flags.last_token.type===l.RESERVED||this._flags.last_token.type===l.WORD?p(this._flags.last_token,["get","set","new","export"])||p(this._flags.last_token,E)?this._output.space_before_token=!0:d(this._flags.last_token,"default")&&"export"===this._last_last_text?this._output.space_before_token=!0:"declare"===this._flags.last_token.text?this._output.space_before_token=!0:this.print_newline():this._flags.last_token.type===l.OPERATOR||"="===this._flags.last_token.text?this._output.space_before_token=!0:(this._flags.multiline_frame||!b(this._flags.mode)&&!T(this._flags.mode))&&this.print_newline(),this.print_token(e),void(this._flags.last_word=e.text);var t="NONE";(this._flags.last_token.type===l.END_BLOCK?this._previous_flags.inline_frame?t="SPACE":p(e,["else","catch","finally","from"])?"expand"===this._options.brace_style||"end-expand"===this._options.brace_style||"none"===this._options.brace_style&&e.newlines?t="NEWLINE":(t="SPACE",this._output.space_before_token=!0):t="NEWLINE":this._flags.last_token.type===l.SEMICOLON&&this._flags.mode===g.BlockStatement?t="NEWLINE":this._flags.last_token.type===l.SEMICOLON&&b(this._flags.mode)?t="SPACE":this._flags.last_token.type===l.STRING?t="NEWLINE":this._flags.last_token.type===l.RESERVED||this._flags.last_token.type===l.WORD||"*"===this._flags.last_token.text&&(h(this._last_last_text,["function","yield"])||this._flags.mode===g.ObjectLiteral&&h(this._last_last_text,["{",","]))?t="SPACE":this._flags.last_token.type===l.START_BLOCK?t=this._flags.inline_frame?"SPACE":"NEWLINE":this._flags.last_token.type===l.END_EXPR&&(this._output.space_before_token=!0,t="NEWLINE"),p(e,c)&&")"!==this._flags.last_token.text&&(t=this._flags.inline_frame||"else"===this._flags.last_token.text||"export"===this._flags.last_token.text?"SPACE":"NEWLINE"),p(e,["else","catch","finally"]))?(this._flags.last_token.type!==l.END_BLOCK||this._previous_flags.mode!==g.BlockStatement||"expand"===this._options.brace_style||"end-expand"===this._options.brace_style||"none"===this._options.brace_style&&e.newlines)&&!this._flags.inline_frame?this.print_newline():(this._output.trim(!0),"}"!==this._output.current_line.last()&&this.print_newline(),this._output.space_before_token=!0):"NEWLINE"===t?p(this._flags.last_token,f)?this._output.space_before_token=!0:"declare"===this._flags.last_token.text&&p(e,["var","let","const"])?this._output.space_before_token=!0:this._flags.last_token.type!==l.END_EXPR?this._flags.last_token.type===l.START_EXPR&&p(e,["var","let","const"])||":"===this._flags.last_token.text||(d(e,"if")&&d(e.previous,"else")?this._output.space_before_token=!0:this.print_newline()):p(e,c)&&")"!==this._flags.last_token.text&&this.print_newline():this._flags.multiline_frame&&T(this._flags.mode)&&","===this._flags.last_token.text&&"}"===this._last_last_text?this.print_newline():"SPACE"===t&&(this._output.space_before_token=!0);!e.previous||e.previous.type!==l.WORD&&e.previous.type!==l.RESERVED||(this._output.space_before_token=!0),this.print_token(e),this._flags.last_word=e.text,e.type===l.RESERVED&&("do"===e.text?this._flags.do_block=!0:"if"===e.text?this._flags.if_block=!0:"import"===e.text?this._flags.import_block=!0:this._flags.import_block&&d(e,"from")&&(this._flags.import_block=!1))},v.prototype.handle_semicolon=function(e){this.start_of_statement(e)?this._output.space_before_token=!1:this.handle_whitespace_and_comments(e);for(var t=this._tokens.peek();!(this._flags.mode!==g.Statement||this._flags.if_block&&d(t,"else")||this._flags.do_block);)this.restore_mode();this._flags.import_block&&(this._flags.import_block=!1),this.print_token(e)},v.prototype.handle_string=function(e){this.start_of_statement(e)?this._output.space_before_token=!0:(this.handle_whitespace_and_comments(e),this._flags.last_token.type===l.RESERVED||this._flags.last_token.type===l.WORD||this._flags.inline_frame?this._output.space_before_token=!0:this._flags.last_token.type===l.COMMA||this._flags.last_token.type===l.START_EXPR||this._flags.last_token.type===l.EQUALS||this._flags.last_token.type===l.OPERATOR?this.start_of_object_property()||this.allow_wrap_or_preserved_newline(e):this.print_newline()),this.print_token(e)},v.prototype.handle_equals=function(e){this.start_of_statement(e)||this.handle_whitespace_and_comments(e),this._flags.declaration_statement&&(this._flags.declaration_assignment=!0),this._output.space_before_token=!0,this.print_token(e),this._output.space_before_token=!0},v.prototype.handle_comma=function(e){this.handle_whitespace_and_comments(e,!0),this.print_token(e),this._output.space_before_token=!0,this._flags.declaration_statement?(b(this._flags.parent.mode)&&(this._flags.declaration_assignment=!1),this._flags.declaration_assignment?(this._flags.declaration_assignment=!1,this.print_newline(!1,!0)):this._options.comma_first&&this.allow_wrap_or_preserved_newline(e)):this._flags.mode===g.ObjectLiteral||this._flags.mode===g.Statement&&this._flags.parent.mode===g.ObjectLiteral?(this._flags.mode===g.Statement&&this.restore_mode(),this._flags.inline_frame||this.print_newline()):this._options.comma_first&&this.allow_wrap_or_preserved_newline(e)},v.prototype.handle_operator=function(e){var t="*"===e.text&&(p(this._flags.last_token,["function","yield"])||h(this._flags.last_token.type,[l.START_BLOCK,l.COMMA,l.END_BLOCK,l.SEMICOLON])),n=h(e.text,["-","+"])&&(h(this._flags.last_token.type,[l.START_BLOCK,l.START_EXPR,l.EQUALS,l.OPERATOR])||h(this._flags.last_token.text,c)||","===this._flags.last_token.text);if(this.start_of_statement(e));else{var r=!t;this.handle_whitespace_and_comments(e,r)}if(p(this._flags.last_token,f))return this._output.space_before_token=!0,void this.print_token(e);if("*"!==e.text||this._flags.last_token.type!==l.DOT)if("::"!==e.text){if(this._flags.last_token.type===l.OPERATOR&&h(this._options.operator_position,m)&&this.allow_wrap_or_preserved_newline(e),":"===e.text&&this._flags.in_case)return this.print_token(e),this._flags.in_case=!1,this._flags.case_body=!0,void(this._tokens.peek().type!==l.START_BLOCK?(this.indent(),this.print_newline()):this._output.space_before_token=!0);var i=!0,s=!0,o=!1;if(":"===e.text?0===this._flags.ternary_depth?i=!1:(this._flags.ternary_depth-=1,o=!0):"?"===e.text&&(this._flags.ternary_depth+=1),!n&&!t&&this._options.preserve_newlines&&h(e.text,u)){var a=":"===e.text,d=a&&o,y=a&&!o;switch(this._options.operator_position){case _.before_newline:return this._output.space_before_token=!y,this.print_token(e),a&&!d||this.allow_wrap_or_preserved_newline(e),void(this._output.space_before_token=!0);case _.after_newline:return this._output.space_before_token=!0,!a||d?this._tokens.peek().newlines?this.print_newline(!1,!0):this.allow_wrap_or_preserved_newline(e):this._output.space_before_token=!1,this.print_token(e),void(this._output.space_before_token=!0);case _.preserve_newline:return y||this.allow_wrap_or_preserved_newline(e),i=!(this._output.just_added_newline()||y),this._output.space_before_token=i,this.print_token(e),void(this._output.space_before_token=!0)}}if(t){this.allow_wrap_or_preserved_newline(e),i=!1;var T=this._tokens.peek();s=T&&h(T.type,[l.WORD,l.RESERVED])}else"..."===e.text?(this.allow_wrap_or_preserved_newline(e),i=this._flags.last_token.type===l.START_BLOCK,s=!1):(h(e.text,["--","++","!","~"])||n)&&(this._flags.last_token.type!==l.COMMA&&this._flags.last_token.type!==l.START_EXPR||this.allow_wrap_or_preserved_newline(e),i=!1,s=!1,!e.newlines||"--"!==e.text&&"++"!==e.text||this.print_newline(!1,!0),";"===this._flags.last_token.text&&b(this._flags.mode)&&(i=!0),this._flags.last_token.type===l.RESERVED?i=!0:this._flags.last_token.type===l.END_EXPR?i=!("]"===this._flags.last_token.text&&("--"===e.text||"++"===e.text)):this._flags.last_token.type===l.OPERATOR&&(i=h(e.text,["--","-","++","+"])&&h(this._flags.last_token.text,["--","-","++","+"]),h(e.text,["+","-"])&&h(this._flags.last_token.text,["--","++"])&&(s=!0)),(this._flags.mode!==g.BlockStatement||this._flags.inline_frame)&&this._flags.mode!==g.Statement||"{"!==this._flags.last_token.text&&";"!==this._flags.last_token.text||this.print_newline());this._output.space_before_token=this._output.space_before_token||i,this.print_token(e),this._output.space_before_token=s}else this.print_token(e);else this.print_token(e)},v.prototype.handle_block_comment=function(e,t){return this._output.raw?(this._output.add_raw_token(e),void(e.directives&&"end"===e.directives.preserve&&(this._output.raw=this._options.test_output_raw))):e.directives?(this.print_newline(!1,t),this.print_token(e),"start"===e.directives.preserve&&(this._output.raw=!0),void this.print_newline(!1,!0)):s.newline.test(e.text)||e.newlines?void this.print_block_commment(e,t):(this._output.space_before_token=!0,this.print_token(e),void(this._output.space_before_token=!0))},v.prototype.print_block_commment=function(e,t){var n,r=function(e){for(var t=[],n=(e=e.replace(s.allLineBreaks,"\n")).indexOf("\n");-1!==n;)t.push(e.substring(0,n)),n=(e=e.substring(n+1)).indexOf("\n");return e.length&&t.push(e),t}(e.text),i=!1,o=!1,a=e.whitespace_before,c=a.length;if(this.print_newline(!1,t),this.print_token_line_indentation(e),this._output.add_token(r[0]),this.print_newline(!1,t),r.length>1){for(i=function(e,t){for(var n=0;n<e.length;n++)if(e[n].trim().charAt(0)!==t)return!1;return!0}(r=r.slice(1),"*"),o=function(e,t){for(var n,r=0,i=e.length;r<i;r++)if((n=e[r])&&0!==n.indexOf(t))return!1;return!0}(r,a),i&&(this._flags.alignment=1),n=0;n<r.length;n++)i?(this.print_token_line_indentation(e),this._output.add_token(r[n].replace(/^\s+/g,""))):o&&r[n]?(this.print_token_line_indentation(e),this._output.add_token(r[n].substring(c))):(this._output.current_line.set_indent(-1),this._output.add_token(r[n])),this.print_newline(!1,t);this._flags.alignment=0}},v.prototype.handle_comment=function(e,t){e.newlines?this.print_newline(!1,t):this._output.trim(!0),this._output.space_before_token=!0,this.print_token(e),this.print_newline(!1,t)},v.prototype.handle_dot=function(e){this.start_of_statement(e)||this.handle_whitespace_and_comments(e,!0),p(this._flags.last_token,f)?this._output.space_before_token=!1:this.allow_wrap_or_preserved_newline(e,")"===this._flags.last_token.text&&this._options.break_chained_methods),this._options.unindent_chained_methods&&this._output.just_added_newline()&&this.deindent(),this.print_token(e)},v.prototype.handle_unknown=function(e,t){this.print_token(e),"\n"===e.text[e.text.length-1]&&this.print_newline(!1,t)},v.prototype.handle_eof=function(e){for(;this._flags.mode===g.Statement;)this.restore_mode();this.handle_whitespace_and_comments(e)},e.exports.Beautifier=v},function(e,t,n){"use strict";function r(e){this.__parent=e,this.__character_count=0,this.__indent_count=-1,this.__alignment_count=0,this.__wrap_point_index=0,this.__wrap_point_character_count=0,this.__wrap_point_indent_count=-1,this.__wrap_point_alignment_count=0,this.__items=[]}function i(e,t){this.__cache=[""],this.__indent_size=e.indent_size,this.__indent_string=e.indent_char,e.indent_with_tabs||(this.__indent_string=new Array(e.indent_size+1).join(e.indent_char)),t=t||"",e.indent_level>0&&(t=new Array(e.indent_level+1).join(this.__indent_string)),this.__base_string=t,this.__base_string_length=t.length}function s(e,t){this.__indent_cache=new i(e,t),this.raw=!1,this._end_with_newline=e.end_with_newline,this.indent_size=e.indent_size,this.wrap_line_length=e.wrap_line_length,this.indent_empty_lines=e.indent_empty_lines,this.__lines=[],this.previous_line=null,this.current_line=null,this.next_line=new r(this),this.space_before_token=!1,this.non_breaking_space=!1,this.previous_token_wrapped=!1,this.__add_outputline()}r.prototype.clone_empty=function(){var e=new r(this.__parent);return e.set_indent(this.__indent_count,this.__alignment_count),e},r.prototype.item=function(e){return e<0?this.__items[this.__items.length+e]:this.__items[e]},r.prototype.has_match=function(e){for(var t=this.__items.length-1;t>=0;t--)if(this.__items[t].match(e))return!0;return!1},r.prototype.set_indent=function(e,t){this.is_empty()&&(this.__indent_count=e||0,this.__alignment_count=t||0,this.__character_count=this.__parent.get_indent_size(this.__indent_count,this.__alignment_count))},r.prototype._set_wrap_point=function(){this.__parent.wrap_line_length&&(this.__wrap_point_index=this.__items.length,this.__wrap_point_character_count=this.__character_count,this.__wrap_point_indent_count=this.__parent.next_line.__indent_count,this.__wrap_point_alignment_count=this.__parent.next_line.__alignment_count)},r.prototype._should_wrap=function(){return this.__wrap_point_index&&this.__character_count>this.__parent.wrap_line_length&&this.__wrap_point_character_count>this.__parent.next_line.__character_count},r.prototype._allow_wrap=function(){if(this._should_wrap()){this.__parent.add_new_line();var e=this.__parent.current_line;return e.set_indent(this.__wrap_point_indent_count,this.__wrap_point_alignment_count),e.__items=this.__items.slice(this.__wrap_point_index),this.__items=this.__items.slice(0,this.__wrap_point_index),e.__character_count+=this.__character_count-this.__wrap_point_character_count,this.__character_count=this.__wrap_point_character_count," "===e.__items[0]&&(e.__items.splice(0,1),e.__character_count-=1),!0}return!1},r.prototype.is_empty=function(){return 0===this.__items.length},r.prototype.last=function(){return this.is_empty()?null:this.__items[this.__items.length-1]},r.prototype.push=function(e){this.__items.push(e);var t=e.lastIndexOf("\n");-1!==t?this.__character_count=e.length-t:this.__character_count+=e.length},r.prototype.pop=function(){var e=null;return this.is_empty()||(e=this.__items.pop(),this.__character_count-=e.length),e},r.prototype._remove_indent=function(){this.__indent_count>0&&(this.__indent_count-=1,this.__character_count-=this.__parent.indent_size)},r.prototype._remove_wrap_indent=function(){this.__wrap_point_indent_count>0&&(this.__wrap_point_indent_count-=1)},r.prototype.trim=function(){for(;" "===this.last();)this.__items.pop(),this.__character_count-=1},r.prototype.toString=function(){var e="";return this.is_empty()?this.__parent.indent_empty_lines&&(e=this.__parent.get_indent_string(this.__indent_count)):(e=this.__parent.get_indent_string(this.__indent_count,this.__alignment_count),e+=this.__items.join("")),e},i.prototype.get_indent_size=function(e,t){var n=this.__base_string_length;return t=t||0,e<0&&(n=0),n+=e*this.__indent_size,n+=t},i.prototype.get_indent_string=function(e,t){var n=this.__base_string;return t=t||0,e<0&&(e=0,n=""),t+=e*this.__indent_size,this.__ensure_cache(t),n+=this.__cache[t]},i.prototype.__ensure_cache=function(e){for(;e>=this.__cache.length;)this.__add_column()},i.prototype.__add_column=function(){var e=this.__cache.length,t=0,n="";this.__indent_size&&e>=this.__indent_size&&(e-=(t=Math.floor(e/this.__indent_size))*this.__indent_size,n=new Array(t+1).join(this.__indent_string)),e&&(n+=new Array(e+1).join(" ")),this.__cache.push(n)},s.prototype.__add_outputline=function(){this.previous_line=this.current_line,this.current_line=this.next_line.clone_empty(),this.__lines.push(this.current_line)},s.prototype.get_line_number=function(){return this.__lines.length},s.prototype.get_indent_string=function(e,t){return this.__indent_cache.get_indent_string(e,t)},s.prototype.get_indent_size=function(e,t){return this.__indent_cache.get_indent_size(e,t)},s.prototype.is_empty=function(){return!this.previous_line&&this.current_line.is_empty()},s.prototype.add_new_line=function(e){return!(this.is_empty()||!e&&this.just_added_newline())&&(this.raw||this.__add_outputline(),!0)},s.prototype.get_code=function(e){this.trim(!0);var t=this.current_line.pop();t&&("\n"===t[t.length-1]&&(t=t.replace(/\n+$/g,"")),this.current_line.push(t)),this._end_with_newline&&this.__add_outputline();var n=this.__lines.join("\n");return"\n"!==e&&(n=n.replace(/[\n]/g,e)),n},s.prototype.set_wrap_point=function(){this.current_line._set_wrap_point()},s.prototype.set_indent=function(e,t){return e=e||0,t=t||0,this.next_line.set_indent(e,t),this.__lines.length>1?(this.current_line.set_indent(e,t),!0):(this.current_line.set_indent(),!1)},s.prototype.add_raw_token=function(e){for(var t=0;t<e.newlines;t++)this.__add_outputline();this.current_line.set_indent(-1),this.current_line.push(e.whitespace_before),this.current_line.push(e.text),this.space_before_token=!1,this.non_breaking_space=!1,this.previous_token_wrapped=!1},s.prototype.add_token=function(e){this.__add_space_before_token(),this.current_line.push(e),this.space_before_token=!1,this.non_breaking_space=!1,this.previous_token_wrapped=this.current_line._allow_wrap()},s.prototype.__add_space_before_token=function(){this.space_before_token&&!this.just_added_newline()&&(this.non_breaking_space||this.set_wrap_point(),this.current_line.push(" "))},s.prototype.remove_indent=function(e){for(var t=this.__lines.length;e<t;)this.__lines[e]._remove_indent(),e++;this.current_line._remove_wrap_indent()},s.prototype.trim=function(e){for(e=void 0!==e&&e,this.current_line.trim();e&&this.__lines.length>1&&this.current_line.is_empty();)this.__lines.pop(),this.current_line=this.__lines[this.__lines.length-1],this.current_line.trim();this.previous_line=this.__lines.length>1?this.__lines[this.__lines.length-2]:null},s.prototype.just_added_newline=function(){return this.current_line.is_empty()},s.prototype.just_added_blankline=function(){return this.is_empty()||this.current_line.is_empty()&&this.previous_line.is_empty()},s.prototype.ensure_empty_line_above=function(e,t){for(var n=this.__lines.length-2;n>=0;){var i=this.__lines[n];if(i.is_empty())break;if(0!==i.item(0).indexOf(e)&&i.item(-1)!==t){this.__lines.splice(n+1,0,new r(this)),this.previous_line=this.__lines[this.__lines.length-2];break}n--}},e.exports.Output=s},function(e,t,n){"use strict";e.exports.Token=function(e,t,n,r){this.type=e,this.text=t,this.comments_before=null,this.newlines=n||0,this.whitespace_before=r||"",this.parent=null,this.next=null,this.previous=null,this.opened=null,this.closed=null,this.directives=null}},function(e,t,n){"use strict";var r="\\xaa\\xb5\\xba\\xc0-\\xd6\\xd8-\\xf6\\xf8-\\u02c1\\u02c6-\\u02d1\\u02e0-\\u02e4\\u02ec\\u02ee\\u0370-\\u0374\\u0376\\u0377\\u037a-\\u037d\\u0386\\u0388-\\u038a\\u038c\\u038e-\\u03a1\\u03a3-\\u03f5\\u03f7-\\u0481\\u048a-\\u0527\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u05d0-\\u05ea\\u05f0-\\u05f2\\u0620-\\u064a\\u066e\\u066f\\u0671-\\u06d3\\u06d5\\u06e5\\u06e6\\u06ee\\u06ef\\u06fa-\\u06fc\\u06ff\\u0710\\u0712-\\u072f\\u074d-\\u07a5\\u07b1\\u07ca-\\u07ea\\u07f4\\u07f5\\u07fa\\u0800-\\u0815\\u081a\\u0824\\u0828\\u0840-\\u0858\\u08a0\\u08a2-\\u08ac\\u0904-\\u0939\\u093d\\u0950\\u0958-\\u0961\\u0971-\\u0977\\u0979-\\u097f\\u0985-\\u098c\\u098f\\u0990\\u0993-\\u09a8\\u09aa-\\u09b0\\u09b2\\u09b6-\\u09b9\\u09bd\\u09ce\\u09dc\\u09dd\\u09df-\\u09e1\\u09f0\\u09f1\\u0a05-\\u0a0a\\u0a0f\\u0a10\\u0a13-\\u0a28\\u0a2a-\\u0a30\\u0a32\\u0a33\\u0a35\\u0a36\\u0a38\\u0a39\\u0a59-\\u0a5c\\u0a5e\\u0a72-\\u0a74\\u0a85-\\u0a8d\\u0a8f-\\u0a91\\u0a93-\\u0aa8\\u0aaa-\\u0ab0\\u0ab2\\u0ab3\\u0ab5-\\u0ab9\\u0abd\\u0ad0\\u0ae0\\u0ae1\\u0b05-\\u0b0c\\u0b0f\\u0b10\\u0b13-\\u0b28\\u0b2a-\\u0b30\\u0b32\\u0b33\\u0b35-\\u0b39\\u0b3d\\u0b5c\\u0b5d\\u0b5f-\\u0b61\\u0b71\\u0b83\\u0b85-\\u0b8a\\u0b8e-\\u0b90\\u0b92-\\u0b95\\u0b99\\u0b9a\\u0b9c\\u0b9e\\u0b9f\\u0ba3\\u0ba4\\u0ba8-\\u0baa\\u0bae-\\u0bb9\\u0bd0\\u0c05-\\u0c0c\\u0c0e-\\u0c10\\u0c12-\\u0c28\\u0c2a-\\u0c33\\u0c35-\\u0c39\\u0c3d\\u0c58\\u0c59\\u0c60\\u0c61\\u0c85-\\u0c8c\\u0c8e-\\u0c90\\u0c92-\\u0ca8\\u0caa-\\u0cb3\\u0cb5-\\u0cb9\\u0cbd\\u0cde\\u0ce0\\u0ce1\\u0cf1\\u0cf2\\u0d05-\\u0d0c\\u0d0e-\\u0d10\\u0d12-\\u0d3a\\u0d3d\\u0d4e\\u0d60\\u0d61\\u0d7a-\\u0d7f\\u0d85-\\u0d96\\u0d9a-\\u0db1\\u0db3-\\u0dbb\\u0dbd\\u0dc0-\\u0dc6\\u0e01-\\u0e30\\u0e32\\u0e33\\u0e40-\\u0e46\\u0e81\\u0e82\\u0e84\\u0e87\\u0e88\\u0e8a\\u0e8d\\u0e94-\\u0e97\\u0e99-\\u0e9f\\u0ea1-\\u0ea3\\u0ea5\\u0ea7\\u0eaa\\u0eab\\u0ead-\\u0eb0\\u0eb2\\u0eb3\\u0ebd\\u0ec0-\\u0ec4\\u0ec6\\u0edc-\\u0edf\\u0f00\\u0f40-\\u0f47\\u0f49-\\u0f6c\\u0f88-\\u0f8c\\u1000-\\u102a\\u103f\\u1050-\\u1055\\u105a-\\u105d\\u1061\\u1065\\u1066\\u106e-\\u1070\\u1075-\\u1081\\u108e\\u10a0-\\u10c5\\u10c7\\u10cd\\u10d0-\\u10fa\\u10fc-\\u1248\\u124a-\\u124d\\u1250-\\u1256\\u1258\\u125a-\\u125d\\u1260-\\u1288\\u128a-\\u128d\\u1290-\\u12b0\\u12b2-\\u12b5\\u12b8-\\u12be\\u12c0\\u12c2-\\u12c5\\u12c8-\\u12d6\\u12d8-\\u1310\\u1312-\\u1315\\u1318-\\u135a\\u1380-\\u138f\\u13a0-\\u13f4\\u1401-\\u166c\\u166f-\\u167f\\u1681-\\u169a\\u16a0-\\u16ea\\u16ee-\\u16f0\\u1700-\\u170c\\u170e-\\u1711\\u1720-\\u1731\\u1740-\\u1751\\u1760-\\u176c\\u176e-\\u1770\\u1780-\\u17b3\\u17d7\\u17dc\\u1820-\\u1877\\u1880-\\u18a8\\u18aa\\u18b0-\\u18f5\\u1900-\\u191c\\u1950-\\u196d\\u1970-\\u1974\\u1980-\\u19ab\\u19c1-\\u19c7\\u1a00-\\u1a16\\u1a20-\\u1a54\\u1aa7\\u1b05-\\u1b33\\u1b45-\\u1b4b\\u1b83-\\u1ba0\\u1bae\\u1baf\\u1bba-\\u1be5\\u1c00-\\u1c23\\u1c4d-\\u1c4f\\u1c5a-\\u1c7d\\u1ce9-\\u1cec\\u1cee-\\u1cf1\\u1cf5\\u1cf6\\u1d00-\\u1dbf\\u1e00-\\u1f15\\u1f18-\\u1f1d\\u1f20-\\u1f45\\u1f48-\\u1f4d\\u1f50-\\u1f57\\u1f59\\u1f5b\\u1f5d\\u1f5f-\\u1f7d\\u1f80-\\u1fb4\\u1fb6-\\u1fbc\\u1fbe\\u1fc2-\\u1fc4\\u1fc6-\\u1fcc\\u1fd0-\\u1fd3\\u1fd6-\\u1fdb\\u1fe0-\\u1fec\\u1ff2-\\u1ff4\\u1ff6-\\u1ffc\\u2071\\u207f\\u2090-\\u209c\\u2102\\u2107\\u210a-\\u2113\\u2115\\u2119-\\u211d\\u2124\\u2126\\u2128\\u212a-\\u212d\\u212f-\\u2139\\u213c-\\u213f\\u2145-\\u2149\\u214e\\u2160-\\u2188\\u2c00-\\u2c2e\\u2c30-\\u2c5e\\u2c60-\\u2ce4\\u2ceb-\\u2cee\\u2cf2\\u2cf3\\u2d00-\\u2d25\\u2d27\\u2d2d\\u2d30-\\u2d67\\u2d6f\\u2d80-\\u2d96\\u2da0-\\u2da6\\u2da8-\\u2dae\\u2db0-\\u2db6\\u2db8-\\u2dbe\\u2dc0-\\u2dc6\\u2dc8-\\u2dce\\u2dd0-\\u2dd6\\u2dd8-\\u2dde\\u2e2f\\u3005-\\u3007\\u3021-\\u3029\\u3031-\\u3035\\u3038-\\u303c\\u3041-\\u3096\\u309d-\\u309f\\u30a1-\\u30fa\\u30fc-\\u30ff\\u3105-\\u312d\\u3131-\\u318e\\u31a0-\\u31ba\\u31f0-\\u31ff\\u3400-\\u4db5\\u4e00-\\u9fcc\\ua000-\\ua48c\\ua4d0-\\ua4fd\\ua500-\\ua60c\\ua610-\\ua61f\\ua62a\\ua62b\\ua640-\\ua66e\\ua67f-\\ua697\\ua6a0-\\ua6ef\\ua717-\\ua71f\\ua722-\\ua788\\ua78b-\\ua78e\\ua790-\\ua793\\ua7a0-\\ua7aa\\ua7f8-\\ua801\\ua803-\\ua805\\ua807-\\ua80a\\ua80c-\\ua822\\ua840-\\ua873\\ua882-\\ua8b3\\ua8f2-\\ua8f7\\ua8fb\\ua90a-\\ua925\\ua930-\\ua946\\ua960-\\ua97c\\ua984-\\ua9b2\\ua9cf\\uaa00-\\uaa28\\uaa40-\\uaa42\\uaa44-\\uaa4b\\uaa60-\\uaa76\\uaa7a\\uaa80-\\uaaaf\\uaab1\\uaab5\\uaab6\\uaab9-\\uaabd\\uaac0\\uaac2\\uaadb-\\uaadd\\uaae0-\\uaaea\\uaaf2-\\uaaf4\\uab01-\\uab06\\uab09-\\uab0e\\uab11-\\uab16\\uab20-\\uab26\\uab28-\\uab2e\\uabc0-\\uabe2\\uac00-\\ud7a3\\ud7b0-\\ud7c6\\ud7cb-\\ud7fb\\uf900-\\ufa6d\\ufa70-\\ufad9\\ufb00-\\ufb06\\ufb13-\\ufb17\\ufb1d\\ufb1f-\\ufb28\\ufb2a-\\ufb36\\ufb38-\\ufb3c\\ufb3e\\ufb40\\ufb41\\ufb43\\ufb44\\ufb46-\\ufbb1\\ufbd3-\\ufd3d\\ufd50-\\ufd8f\\ufd92-\\ufdc7\\ufdf0-\\ufdfb\\ufe70-\\ufe74\\ufe76-\\ufefc\\uff21-\\uff3a\\uff41-\\uff5a\\uff66-\\uffbe\\uffc2-\\uffc7\\uffca-\\uffcf\\uffd2-\\uffd7\\uffda-\\uffdc",i="\\u0300-\\u036f\\u0483-\\u0487\\u0591-\\u05bd\\u05bf\\u05c1\\u05c2\\u05c4\\u05c5\\u05c7\\u0610-\\u061a\\u0620-\\u0649\\u0672-\\u06d3\\u06e7-\\u06e8\\u06fb-\\u06fc\\u0730-\\u074a\\u0800-\\u0814\\u081b-\\u0823\\u0825-\\u0827\\u0829-\\u082d\\u0840-\\u0857\\u08e4-\\u08fe\\u0900-\\u0903\\u093a-\\u093c\\u093e-\\u094f\\u0951-\\u0957\\u0962-\\u0963\\u0966-\\u096f\\u0981-\\u0983\\u09bc\\u09be-\\u09c4\\u09c7\\u09c8\\u09d7\\u09df-\\u09e0\\u0a01-\\u0a03\\u0a3c\\u0a3e-\\u0a42\\u0a47\\u0a48\\u0a4b-\\u0a4d\\u0a51\\u0a66-\\u0a71\\u0a75\\u0a81-\\u0a83\\u0abc\\u0abe-\\u0ac5\\u0ac7-\\u0ac9\\u0acb-\\u0acd\\u0ae2-\\u0ae3\\u0ae6-\\u0aef\\u0b01-\\u0b03\\u0b3c\\u0b3e-\\u0b44\\u0b47\\u0b48\\u0b4b-\\u0b4d\\u0b56\\u0b57\\u0b5f-\\u0b60\\u0b66-\\u0b6f\\u0b82\\u0bbe-\\u0bc2\\u0bc6-\\u0bc8\\u0bca-\\u0bcd\\u0bd7\\u0be6-\\u0bef\\u0c01-\\u0c03\\u0c46-\\u0c48\\u0c4a-\\u0c4d\\u0c55\\u0c56\\u0c62-\\u0c63\\u0c66-\\u0c6f\\u0c82\\u0c83\\u0cbc\\u0cbe-\\u0cc4\\u0cc6-\\u0cc8\\u0cca-\\u0ccd\\u0cd5\\u0cd6\\u0ce2-\\u0ce3\\u0ce6-\\u0cef\\u0d02\\u0d03\\u0d46-\\u0d48\\u0d57\\u0d62-\\u0d63\\u0d66-\\u0d6f\\u0d82\\u0d83\\u0dca\\u0dcf-\\u0dd4\\u0dd6\\u0dd8-\\u0ddf\\u0df2\\u0df3\\u0e34-\\u0e3a\\u0e40-\\u0e45\\u0e50-\\u0e59\\u0eb4-\\u0eb9\\u0ec8-\\u0ecd\\u0ed0-\\u0ed9\\u0f18\\u0f19\\u0f20-\\u0f29\\u0f35\\u0f37\\u0f39\\u0f41-\\u0f47\\u0f71-\\u0f84\\u0f86-\\u0f87\\u0f8d-\\u0f97\\u0f99-\\u0fbc\\u0fc6\\u1000-\\u1029\\u1040-\\u1049\\u1067-\\u106d\\u1071-\\u1074\\u1082-\\u108d\\u108f-\\u109d\\u135d-\\u135f\\u170e-\\u1710\\u1720-\\u1730\\u1740-\\u1750\\u1772\\u1773\\u1780-\\u17b2\\u17dd\\u17e0-\\u17e9\\u180b-\\u180d\\u1810-\\u1819\\u1920-\\u192b\\u1930-\\u193b\\u1951-\\u196d\\u19b0-\\u19c0\\u19c8-\\u19c9\\u19d0-\\u19d9\\u1a00-\\u1a15\\u1a20-\\u1a53\\u1a60-\\u1a7c\\u1a7f-\\u1a89\\u1a90-\\u1a99\\u1b46-\\u1b4b\\u1b50-\\u1b59\\u1b6b-\\u1b73\\u1bb0-\\u1bb9\\u1be6-\\u1bf3\\u1c00-\\u1c22\\u1c40-\\u1c49\\u1c5b-\\u1c7d\\u1cd0-\\u1cd2\\u1d00-\\u1dbe\\u1e01-\\u1f15\\u200c\\u200d\\u203f\\u2040\\u2054\\u20d0-\\u20dc\\u20e1\\u20e5-\\u20f0\\u2d81-\\u2d96\\u2de0-\\u2dff\\u3021-\\u3028\\u3099\\u309a\\ua640-\\ua66d\\ua674-\\ua67d\\ua69f\\ua6f0-\\ua6f1\\ua7f8-\\ua800\\ua806\\ua80b\\ua823-\\ua827\\ua880-\\ua881\\ua8b4-\\ua8c4\\ua8d0-\\ua8d9\\ua8f3-\\ua8f7\\ua900-\\ua909\\ua926-\\ua92d\\ua930-\\ua945\\ua980-\\ua983\\ua9b3-\\ua9c0\\uaa00-\\uaa27\\uaa40-\\uaa41\\uaa4c-\\uaa4d\\uaa50-\\uaa59\\uaa7b\\uaae0-\\uaae9\\uaaf2-\\uaaf3\\uabc0-\\uabe1\\uabec\\uabed\\uabf0-\\uabf9\\ufb20-\\ufb28\\ufe00-\\ufe0f\\ufe20-\\ufe26\\ufe33\\ufe34\\ufe4d-\\ufe4f\\uff10-\\uff19\\uff3f",s="(?:\\\\u[0-9a-fA-F]{4}|[\\x24\\x40\\x41-\\x5a\\x5f\\x61-\\x7a"+r+"])";t.identifier=new RegExp(s+"(?:\\\\u[0-9a-fA-F]{4}|[\\x24\\x30-\\x39\\x41-\\x5a\\x5f\\x61-\\x7a\\xaa\\xb5\\xba\\xc0-\\xd6\\xd8-\\xf6\\xf8-\\u02c1\\u02c6-\\u02d1\\u02e0-\\u02e4\\u02ec\\u02ee\\u0370-\\u0374\\u0376\\u0377\\u037a-\\u037d\\u0386\\u0388-\\u038a\\u038c\\u038e-\\u03a1\\u03a3-\\u03f5\\u03f7-\\u0481\\u048a-\\u0527\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u05d0-\\u05ea\\u05f0-\\u05f2\\u0620-\\u064a\\u066e\\u066f\\u0671-\\u06d3\\u06d5\\u06e5\\u06e6\\u06ee\\u06ef\\u06fa-\\u06fc\\u06ff\\u0710\\u0712-\\u072f\\u074d-\\u07a5\\u07b1\\u07ca-\\u07ea\\u07f4\\u07f5\\u07fa\\u0800-\\u0815\\u081a\\u0824\\u0828\\u0840-\\u0858\\u08a0\\u08a2-\\u08ac\\u0904-\\u0939\\u093d\\u0950\\u0958-\\u0961\\u0971-\\u0977\\u0979-\\u097f\\u0985-\\u098c\\u098f\\u0990\\u0993-\\u09a8\\u09aa-\\u09b0\\u09b2\\u09b6-\\u09b9\\u09bd\\u09ce\\u09dc\\u09dd\\u09df-\\u09e1\\u09f0\\u09f1\\u0a05-\\u0a0a\\u0a0f\\u0a10\\u0a13-\\u0a28\\u0a2a-\\u0a30\\u0a32\\u0a33\\u0a35\\u0a36\\u0a38\\u0a39\\u0a59-\\u0a5c\\u0a5e\\u0a72-\\u0a74\\u0a85-\\u0a8d\\u0a8f-\\u0a91\\u0a93-\\u0aa8\\u0aaa-\\u0ab0\\u0ab2\\u0ab3\\u0ab5-\\u0ab9\\u0abd\\u0ad0\\u0ae0\\u0ae1\\u0b05-\\u0b0c\\u0b0f\\u0b10\\u0b13-\\u0b28\\u0b2a-\\u0b30\\u0b32\\u0b33\\u0b35-\\u0b39\\u0b3d\\u0b5c\\u0b5d\\u0b5f-\\u0b61\\u0b71\\u0b83\\u0b85-\\u0b8a\\u0b8e-\\u0b90\\u0b92-\\u0b95\\u0b99\\u0b9a\\u0b9c\\u0b9e\\u0b9f\\u0ba3\\u0ba4\\u0ba8-\\u0baa\\u0bae-\\u0bb9\\u0bd0\\u0c05-\\u0c0c\\u0c0e-\\u0c10\\u0c12-\\u0c28\\u0c2a-\\u0c33\\u0c35-\\u0c39\\u0c3d\\u0c58\\u0c59\\u0c60\\u0c61\\u0c85-\\u0c8c\\u0c8e-\\u0c90\\u0c92-\\u0ca8\\u0caa-\\u0cb3\\u0cb5-\\u0cb9\\u0cbd\\u0cde\\u0ce0\\u0ce1\\u0cf1\\u0cf2\\u0d05-\\u0d0c\\u0d0e-\\u0d10\\u0d12-\\u0d3a\\u0d3d\\u0d4e\\u0d60\\u0d61\\u0d7a-\\u0d7f\\u0d85-\\u0d96\\u0d9a-\\u0db1\\u0db3-\\u0dbb\\u0dbd\\u0dc0-\\u0dc6\\u0e01-\\u0e30\\u0e32\\u0e33\\u0e40-\\u0e46\\u0e81\\u0e82\\u0e84\\u0e87\\u0e88\\u0e8a\\u0e8d\\u0e94-\\u0e97\\u0e99-\\u0e9f\\u0ea1-\\u0ea3\\u0ea5\\u0ea7\\u0eaa\\u0eab\\u0ead-\\u0eb0\\u0eb2\\u0eb3\\u0ebd\\u0ec0-\\u0ec4\\u0ec6\\u0edc-\\u0edf\\u0f00\\u0f40-\\u0f47\\u0f49-\\u0f6c\\u0f88-\\u0f8c\\u1000-\\u102a\\u103f\\u1050-\\u1055\\u105a-\\u105d\\u1061\\u1065\\u1066\\u106e-\\u1070\\u1075-\\u1081\\u108e\\u10a0-\\u10c5\\u10c7\\u10cd\\u10d0-\\u10fa\\u10fc-\\u1248\\u124a-\\u124d\\u1250-\\u1256\\u1258\\u125a-\\u125d\\u1260-\\u1288\\u128a-\\u128d\\u1290-\\u12b0\\u12b2-\\u12b5\\u12b8-\\u12be\\u12c0\\u12c2-\\u12c5\\u12c8-\\u12d6\\u12d8-\\u1310\\u1312-\\u1315\\u1318-\\u135a\\u1380-\\u138f\\u13a0-\\u13f4\\u1401-\\u166c\\u166f-\\u167f\\u1681-\\u169a\\u16a0-\\u16ea\\u16ee-\\u16f0\\u1700-\\u170c\\u170e-\\u1711\\u1720-\\u1731\\u1740-\\u1751\\u1760-\\u176c\\u176e-\\u1770\\u1780-\\u17b3\\u17d7\\u17dc\\u1820-\\u1877\\u1880-\\u18a8\\u18aa\\u18b0-\\u18f5\\u1900-\\u191c\\u1950-\\u196d\\u1970-\\u1974\\u1980-\\u19ab\\u19c1-\\u19c7\\u1a00-\\u1a16\\u1a20-\\u1a54\\u1aa7\\u1b05-\\u1b33\\u1b45-\\u1b4b\\u1b83-\\u1ba0\\u1bae\\u1baf\\u1bba-\\u1be5\\u1c00-\\u1c23\\u1c4d-\\u1c4f\\u1c5a-\\u1c7d\\u1ce9-\\u1cec\\u1cee-\\u1cf1\\u1cf5\\u1cf6\\u1d00-\\u1dbf\\u1e00-\\u1f15\\u1f18-\\u1f1d\\u1f20-\\u1f45\\u1f48-\\u1f4d\\u1f50-\\u1f57\\u1f59\\u1f5b\\u1f5d\\u1f5f-\\u1f7d\\u1f80-\\u1fb4\\u1fb6-\\u1fbc\\u1fbe\\u1fc2-\\u1fc4\\u1fc6-\\u1fcc\\u1fd0-\\u1fd3\\u1fd6-\\u1fdb\\u1fe0-\\u1fec\\u1ff2-\\u1ff4\\u1ff6-\\u1ffc\\u2071\\u207f\\u2090-\\u209c\\u2102\\u2107\\u210a-\\u2113\\u2115\\u2119-\\u211d\\u2124\\u2126\\u2128\\u212a-\\u212d\\u212f-\\u2139\\u213c-\\u213f\\u2145-\\u2149\\u214e\\u2160-\\u2188\\u2c00-\\u2c2e\\u2c30-\\u2c5e\\u2c60-\\u2ce4\\u2ceb-\\u2cee\\u2cf2\\u2cf3\\u2d00-\\u2d25\\u2d27\\u2d2d\\u2d30-\\u2d67\\u2d6f\\u2d80-\\u2d96\\u2da0-\\u2da6\\u2da8-\\u2dae\\u2db0-\\u2db6\\u2db8-\\u2dbe\\u2dc0-\\u2dc6\\u2dc8-\\u2dce\\u2dd0-\\u2dd6\\u2dd8-\\u2dde\\u2e2f\\u3005-\\u3007\\u3021-\\u3029\\u3031-\\u3035\\u3038-\\u303c\\u3041-\\u3096\\u309d-\\u309f\\u30a1-\\u30fa\\u30fc-\\u30ff\\u3105-\\u312d\\u3131-\\u318e\\u31a0-\\u31ba\\u31f0-\\u31ff\\u3400-\\u4db5\\u4e00-\\u9fcc\\ua000-\\ua48c\\ua4d0-\\ua4fd\\ua500-\\ua60c\\ua610-\\ua61f\\ua62a\\ua62b\\ua640-\\ua66e\\ua67f-\\ua697\\ua6a0-\\ua6ef\\ua717-\\ua71f\\ua722-\\ua788\\ua78b-\\ua78e\\ua790-\\ua793\\ua7a0-\\ua7aa\\ua7f8-\\ua801\\ua803-\\ua805\\ua807-\\ua80a\\ua80c-\\ua822\\ua840-\\ua873\\ua882-\\ua8b3\\ua8f2-\\ua8f7\\ua8fb\\ua90a-\\ua925\\ua930-\\ua946\\ua960-\\ua97c\\ua984-\\ua9b2\\ua9cf\\uaa00-\\uaa28\\uaa40-\\uaa42\\uaa44-\\uaa4b\\uaa60-\\uaa76\\uaa7a\\uaa80-\\uaaaf\\uaab1\\uaab5\\uaab6\\uaab9-\\uaabd\\uaac0\\uaac2\\uaadb-\\uaadd\\uaae0-\\uaaea\\uaaf2-\\uaaf4\\uab01-\\uab06\\uab09-\\uab0e\\uab11-\\uab16\\uab20-\\uab26\\uab28-\\uab2e\\uabc0-\\uabe2\\uac00-\\ud7a3\\ud7b0-\\ud7c6\\ud7cb-\\ud7fb\\uf900-\\ufa6d\\ufa70-\\ufad9\\ufb00-\\ufb06\\ufb13-\\ufb17\\ufb1d\\ufb1f-\\ufb28\\ufb2a-\\ufb36\\ufb38-\\ufb3c\\ufb3e\\ufb40\\ufb41\\ufb43\\ufb44\\ufb46-\\ufbb1\\ufbd3-\\ufd3d\\ufd50-\\ufd8f\\ufd92-\\ufdc7\\ufdf0-\\ufdfb\\ufe70-\\ufe74\\ufe76-\\ufefc\\uff21-\\uff3a\\uff41-\\uff5a\\uff66-\\uffbe\\uffc2-\\uffc7\\uffca-\\uffcf\\uffd2-\\uffd7\\uffda-\\uffdc\\u0300-\\u036f\\u0483-\\u0487\\u0591-\\u05bd\\u05bf\\u05c1\\u05c2\\u05c4\\u05c5\\u05c7\\u0610-\\u061a\\u0620-\\u0649\\u0672-\\u06d3\\u06e7-\\u06e8\\u06fb-\\u06fc\\u0730-\\u074a\\u0800-\\u0814\\u081b-\\u0823\\u0825-\\u0827\\u0829-\\u082d\\u0840-\\u0857\\u08e4-\\u08fe\\u0900-\\u0903\\u093a-\\u093c\\u093e-\\u094f\\u0951-\\u0957\\u0962-\\u0963\\u0966-\\u096f\\u0981-\\u0983\\u09bc\\u09be-\\u09c4\\u09c7\\u09c8\\u09d7\\u09df-\\u09e0\\u0a01-\\u0a03\\u0a3c\\u0a3e-\\u0a42\\u0a47\\u0a48\\u0a4b-\\u0a4d\\u0a51\\u0a66-\\u0a71\\u0a75\\u0a81-\\u0a83\\u0abc\\u0abe-\\u0ac5\\u0ac7-\\u0ac9\\u0acb-\\u0acd\\u0ae2-\\u0ae3\\u0ae6-\\u0aef\\u0b01-\\u0b03\\u0b3c\\u0b3e-\\u0b44\\u0b47\\u0b48\\u0b4b-\\u0b4d\\u0b56\\u0b57\\u0b5f-\\u0b60\\u0b66-\\u0b6f\\u0b82\\u0bbe-\\u0bc2\\u0bc6-\\u0bc8\\u0bca-\\u0bcd\\u0bd7\\u0be6-\\u0bef\\u0c01-\\u0c03\\u0c46-\\u0c48\\u0c4a-\\u0c4d\\u0c55\\u0c56\\u0c62-\\u0c63\\u0c66-\\u0c6f\\u0c82\\u0c83\\u0cbc\\u0cbe-\\u0cc4\\u0cc6-\\u0cc8\\u0cca-\\u0ccd\\u0cd5\\u0cd6\\u0ce2-\\u0ce3\\u0ce6-\\u0cef\\u0d02\\u0d03\\u0d46-\\u0d48\\u0d57\\u0d62-\\u0d63\\u0d66-\\u0d6f\\u0d82\\u0d83\\u0dca\\u0dcf-\\u0dd4\\u0dd6\\u0dd8-\\u0ddf\\u0df2\\u0df3\\u0e34-\\u0e3a\\u0e40-\\u0e45\\u0e50-\\u0e59\\u0eb4-\\u0eb9\\u0ec8-\\u0ecd\\u0ed0-\\u0ed9\\u0f18\\u0f19\\u0f20-\\u0f29\\u0f35\\u0f37\\u0f39\\u0f41-\\u0f47\\u0f71-\\u0f84\\u0f86-\\u0f87\\u0f8d-\\u0f97\\u0f99-\\u0fbc\\u0fc6\\u1000-\\u1029\\u1040-\\u1049\\u1067-\\u106d\\u1071-\\u1074\\u1082-\\u108d\\u108f-\\u109d\\u135d-\\u135f\\u170e-\\u1710\\u1720-\\u1730\\u1740-\\u1750\\u1772\\u1773\\u1780-\\u17b2\\u17dd\\u17e0-\\u17e9\\u180b-\\u180d\\u1810-\\u1819\\u1920-\\u192b\\u1930-\\u193b\\u1951-\\u196d\\u19b0-\\u19c0\\u19c8-\\u19c9\\u19d0-\\u19d9\\u1a00-\\u1a15\\u1a20-\\u1a53\\u1a60-\\u1a7c\\u1a7f-\\u1a89\\u1a90-\\u1a99\\u1b46-\\u1b4b\\u1b50-\\u1b59\\u1b6b-\\u1b73\\u1bb0-\\u1bb9\\u1be6-\\u1bf3\\u1c00-\\u1c22\\u1c40-\\u1c49\\u1c5b-\\u1c7d\\u1cd0-\\u1cd2\\u1d00-\\u1dbe\\u1e01-\\u1f15\\u200c\\u200d\\u203f\\u2040\\u2054\\u20d0-\\u20dc\\u20e1\\u20e5-\\u20f0\\u2d81-\\u2d96\\u2de0-\\u2dff\\u3021-\\u3028\\u3099\\u309a\\ua640-\\ua66d\\ua674-\\ua67d\\ua69f\\ua6f0-\\ua6f1\\ua7f8-\\ua800\\ua806\\ua80b\\ua823-\\ua827\\ua880-\\ua881\\ua8b4-\\ua8c4\\ua8d0-\\ua8d9\\ua8f3-\\ua8f7\\ua900-\\ua909\\ua926-\\ua92d\\ua930-\\ua945\\ua980-\\ua983\\ua9b3-\\ua9c0\\uaa00-\\uaa27\\uaa40-\\uaa41\\uaa4c-\\uaa4d\\uaa50-\\uaa59\\uaa7b\\uaae0-\\uaae9\\uaaf2-\\uaaf3\\uabc0-\\uabe1\\uabec\\uabed\\uabf0-\\uabf9\\ufb20-\\ufb28\\ufe00-\\ufe0f\\ufe20-\\ufe26\\ufe33\\ufe34\\ufe4d-\\ufe4f\\uff10-\\uff19\\uff3f])*","g"),t.identifierStart=new RegExp(s),t.identifierMatch=new RegExp("(?:\\\\u[0-9a-fA-F]{4}|[\\x24\\x30-\\x39\\x41-\\x5a\\x5f\\x61-\\x7a"+r+i+"])+");t.newline=/[\n\r\u2028\u2029]/,t.lineBreak=new RegExp("\r\n|"+t.newline.source),t.allLineBreaks=new RegExp(t.lineBreak.source,"g")},function(e,t,n){"use strict";var r=n(6).Options,i=["before-newline","after-newline","preserve-newline"];function s(e){r.call(this,e,"js");var t=this.raw_options.brace_style||null;"expand-strict"===t?this.raw_options.brace_style="expand":"collapse-preserve-inline"===t?this.raw_options.brace_style="collapse,preserve-inline":void 0!==this.raw_options.braces_on_own_line&&(this.raw_options.brace_style=this.raw_options.braces_on_own_line?"expand":"collapse");var n=this._get_selection_list("brace_style",["collapse","expand","end-expand","none","preserve-inline"]);this.brace_preserve_inline=!1,this.brace_style="collapse";for(var s=0;s<n.length;s++)"preserve-inline"===n[s]?this.brace_preserve_inline=!0:this.brace_style=n[s];this.unindent_chained_methods=this._get_boolean("unindent_chained_methods"),this.break_chained_methods=this._get_boolean("break_chained_methods"),this.space_in_paren=this._get_boolean("space_in_paren"),this.space_in_empty_paren=this._get_boolean("space_in_empty_paren"),this.jslint_happy=this._get_boolean("jslint_happy"),this.space_after_anon_function=this._get_boolean("space_after_anon_function"),this.space_after_named_function=this._get_boolean("space_after_named_function"),this.keep_array_indentation=this._get_boolean("keep_array_indentation"),this.space_before_conditional=this._get_boolean("space_before_conditional",!0),this.unescape_strings=this._get_boolean("unescape_strings"),this.e4x=this._get_boolean("e4x"),this.comma_first=this._get_boolean("comma_first"),this.operator_position=this._get_selection("operator_position",i),this.test_output_raw=this._get_boolean("test_output_raw"),this.jslint_happy&&(this.space_after_anon_function=!0)}s.prototype=new r,e.exports.Options=s},function(e,t,n){"use strict";function r(e,t){this.raw_options=i(e,t),this.disabled=this._get_boolean("disabled"),this.eol=this._get_characters("eol","auto"),this.end_with_newline=this._get_boolean("end_with_newline"),this.indent_size=this._get_number("indent_size",4),this.indent_char=this._get_characters("indent_char"," "),this.indent_level=this._get_number("indent_level"),this.preserve_newlines=this._get_boolean("preserve_newlines",!0),this.max_preserve_newlines=this._get_number("max_preserve_newlines",32786),this.preserve_newlines||(this.max_preserve_newlines=0),this.indent_with_tabs=this._get_boolean("indent_with_tabs","\t"===this.indent_char),this.indent_with_tabs&&(this.indent_char="\t",1===this.indent_size&&(this.indent_size=4)),this.wrap_line_length=this._get_number("wrap_line_length",this._get_number("max_char")),this.indent_empty_lines=this._get_boolean("indent_empty_lines"),this.templating=this._get_selection_list("templating",["auto","none","django","erb","handlebars","php"],["auto"])}function i(e,t){var n,r={};for(n in e=s(e))n!==t&&(r[n]=e[n]);if(t&&e[t])for(n in e[t])r[n]=e[t][n];return r}function s(e){var t,n={};for(t in e){n[t.replace(/-/g,"_")]=e[t]}return n}r.prototype._get_array=function(e,t){var n=this.raw_options[e],r=t||[];return"object"==typeof n?null!==n&&"function"==typeof n.concat&&(r=n.concat()):"string"==typeof n&&(r=n.split(/[^a-zA-Z0-9_\/\-]+/)),r},r.prototype._get_boolean=function(e,t){var n=this.raw_options[e];return void 0===n?!!t:!!n},r.prototype._get_characters=function(e,t){var n=this.raw_options[e],r=t||"";return"string"==typeof n&&(r=n.replace(/\\r/,"\r").replace(/\\n/,"\n").replace(/\\t/,"\t")),r},r.prototype._get_number=function(e,t){var n=this.raw_options[e];t=parseInt(t,10),isNaN(t)&&(t=0);var r=parseInt(n,10);return isNaN(r)&&(r=t),r},r.prototype._get_selection=function(e,t,n){var r=this._get_selection_list(e,t,n);if(1!==r.length)throw new Error("Invalid Option Value: The option '"+e+"' can only be one of the following values:\n"+t+"\nYou passed in: '"+this.raw_options[e]+"'");return r[0]},r.prototype._get_selection_list=function(e,t,n){if(!t||0===t.length)throw new Error("Selection list cannot be empty.");if(n=n||[t[0]],!this._is_valid_selection(n,t))throw new Error("Invalid Default Value!");var r=this._get_array(e,n);if(!this._is_valid_selection(r,t))throw new Error("Invalid Option Value: The option '"+e+"' can contain only the following values:\n"+t+"\nYou passed in: '"+this.raw_options[e]+"'");return r},r.prototype._is_valid_selection=function(e,t){return e.length&&t.length&&!e.some(function(e){return-1===t.indexOf(e)})},e.exports.Options=r,e.exports.normalizeOpts=s,e.exports.mergeOpts=i},function(e,t,n){"use strict";var r=n(8).InputScanner,i=n(9).Tokenizer,s=n(9).TOKEN,o=n(13).Directives,a=n(4),c=n(12).Pattern,u=n(14).TemplatablePattern;function l(e,t){return-1!==t.indexOf(e)}var h={START_EXPR:"TK_START_EXPR",END_EXPR:"TK_END_EXPR",START_BLOCK:"TK_START_BLOCK",END_BLOCK:"TK_END_BLOCK",WORD:"TK_WORD",RESERVED:"TK_RESERVED",SEMICOLON:"TK_SEMICOLON",STRING:"TK_STRING",EQUALS:"TK_EQUALS",OPERATOR:"TK_OPERATOR",COMMA:"TK_COMMA",BLOCK_COMMENT:"TK_BLOCK_COMMENT",COMMENT:"TK_COMMENT",DOT:"TK_DOT",UNKNOWN:"TK_UNKNOWN",START:s.START,RAW:s.RAW,EOF:s.EOF},d=new o(/\/\*/,/\*\//),p=/0[xX][0123456789abcdefABCDEF]*|0[oO][01234567]*|0[bB][01]*|\d+n|(?:\.\d+|\d+\.?\d*)(?:[eE][+-]?\d+)?/,f=/[0-9]/,_=/[^\d\.]/,m=">>> === !== << && >= ** != == <= >> || < / - + > : & % ? ^ | *".split(" "),g=">>>= ... >>= <<= === >>> !== **= => ^= :: /= << <= == && -= >= >> != -- += ** || ++ %= &= *= |= = ! ? > < : / ^ - + * & % ~ |";g=(g=g.replace(/[-[\]{}()*+?.,\\^$|#]/g,"\\$&")).replace(/ /g,"|");var y,T=new RegExp(g),b="continue,try,throw,return,var,let,const,if,switch,case,default,for,while,break,function,import,export".split(","),v=b.concat(["do","in","of","else","get","set","new","catch","finally","typeof","yield","async","await","from","as"]),E=new RegExp("^(?:"+v.join("|")+")$"),S=function(e,t){i.call(this,e,t),this._patterns.whitespace=this._patterns.whitespace.matching(/\u00A0\u1680\u180e\u2000-\u200a\u202f\u205f\u3000\ufeff/.source,/\u2028\u2029/.source);var n=new c(this._input),r=new u(this._input).read_options(this._options);this.__patterns={template:r,identifier:r.starting_with(a.identifier).matching(a.identifierMatch),number:n.matching(p),punct:n.matching(T),comment:n.starting_with(/\/\//).until(/[\n\r\u2028\u2029]/),block_comment:n.starting_with(/\/\*/).until_after(/\*\//),html_comment_start:n.matching(/<!--/),html_comment_end:n.matching(/-->/),include:n.starting_with(/#include/).until_after(a.lineBreak),shebang:n.starting_with(/#!/).until_after(a.lineBreak),xml:n.matching(/[\s\S]*?<(\/?)([-a-zA-Z:0-9_.]+|{[\s\S]+?}|!\[CDATA\[[\s\S]*?\]\])(\s+{[\s\S]+?}|\s+[-a-zA-Z:0-9_.]+|\s+[-a-zA-Z:0-9_.]+\s*=\s*('[^']*'|"[^"]*"|{[\s\S]+?}))*\s*(\/?)\s*>/),single_quote:r.until(/['\\\n\r\u2028\u2029]/),double_quote:r.until(/["\\\n\r\u2028\u2029]/),template_text:r.until(/[`\\$]/),template_expression:r.until(/[`}\\]/)}};(S.prototype=new i)._is_comment=function(e){return e.type===h.COMMENT||e.type===h.BLOCK_COMMENT||e.type===h.UNKNOWN},S.prototype._is_opening=function(e){return e.type===h.START_BLOCK||e.type===h.START_EXPR},S.prototype._is_closing=function(e,t){return(e.type===h.END_BLOCK||e.type===h.END_EXPR)&&t&&("]"===e.text&&"["===t.text||")"===e.text&&"("===t.text||"}"===e.text&&"{"===t.text)},S.prototype._reset=function(){y=!1},S.prototype._get_next_token=function(e,t){var n=null;this._readWhitespace();var r=this._input.peek();return null===r?this._create_token(h.EOF,""):n=(n=(n=(n=(n=(n=(n=(n=(n=n||this._read_string(r))||this._read_word(e))||this._read_singles(r))||this._read_comment(r))||this._read_regexp(r,e))||this._read_xml(r,e))||this._read_non_javascript(r))||this._read_punctuation())||this._create_token(h.UNKNOWN,this._input.next())},S.prototype._read_word=function(e){var t;return""!==(t=this.__patterns.identifier.read())?(t=t.replace(a.allLineBreaks,"\n"),e.type!==h.DOT&&(e.type!==h.RESERVED||"set"!==e.text&&"get"!==e.text)&&E.test(t)?"in"===t||"of"===t?this._create_token(h.OPERATOR,t):this._create_token(h.RESERVED,t):this._create_token(h.WORD,t)):""!==(t=this.__patterns.number.read())?this._create_token(h.WORD,t):void 0},S.prototype._read_singles=function(e){var t=null;return"("===e||"["===e?t=this._create_token(h.START_EXPR,e):")"===e||"]"===e?t=this._create_token(h.END_EXPR,e):"{"===e?t=this._create_token(h.START_BLOCK,e):"}"===e?t=this._create_token(h.END_BLOCK,e):";"===e?t=this._create_token(h.SEMICOLON,e):"."===e&&_.test(this._input.peek(1))?t=this._create_token(h.DOT,e):","===e&&(t=this._create_token(h.COMMA,e)),t&&this._input.next(),t},S.prototype._read_punctuation=function(){var e=this.__patterns.punct.read();if(""!==e)return"="===e?this._create_token(h.EQUALS,e):this._create_token(h.OPERATOR,e)},S.prototype._read_non_javascript=function(e){var t="";if("#"===e){if(this._is_first_token()&&(t=this.__patterns.shebang.read()))return this._create_token(h.UNKNOWN,t.trim()+"\n");if(t=this.__patterns.include.read())return this._create_token(h.UNKNOWN,t.trim()+"\n");e=this._input.next();var n="#";if(this._input.hasNext()&&this._input.testChar(f)){do{n+=e=this._input.next()}while(this._input.hasNext()&&"#"!==e&&"="!==e);return"#"===e||("["===this._input.peek()&&"]"===this._input.peek(1)?(n+="[]",this._input.next(),this._input.next()):"{"===this._input.peek()&&"}"===this._input.peek(1)&&(n+="{}",this._input.next(),this._input.next())),this._create_token(h.WORD,n)}this._input.back()}else if("<"===e&&this._is_first_token()){if(t=this.__patterns.html_comment_start.read()){for(;this._input.hasNext()&&!this._input.testChar(a.newline);)t+=this._input.next();return y=!0,this._create_token(h.COMMENT,t)}}else if(y&&"-"===e&&(t=this.__patterns.html_comment_end.read()))return y=!1,this._create_token(h.COMMENT,t);return null},S.prototype._read_comment=function(e){var t=null;if("/"===e){var n="";if("*"===this._input.peek(1)){n=this.__patterns.block_comment.read();var r=d.get_directives(n);r&&"start"===r.ignore&&(n+=d.readIgnored(this._input)),n=n.replace(a.allLineBreaks,"\n"),(t=this._create_token(h.BLOCK_COMMENT,n)).directives=r}else"/"===this._input.peek(1)&&(n=this.__patterns.comment.read(),t=this._create_token(h.COMMENT,n))}return t},S.prototype._read_string=function(e){if("`"===e||"'"===e||'"'===e){var t=this._input.next();return this.has_char_escapes=!1,t+="`"===e?this._read_string_recursive("`",!0,"${"):this._read_string_recursive(e),this.has_char_escapes&&this._options.unescape_strings&&(t=function(e){var t="",n=0,i=new r(e),s=null;for(;i.hasNext();)if((s=i.match(/([\s]|[^\\]|\\\\)+/g))&&(t+=s[0]),"\\"===i.peek()){if(i.next(),"x"===i.peek())s=i.match(/x([0-9A-Fa-f]{2})/g);else{if("u"!==i.peek()){t+="\\",i.hasNext()&&(t+=i.next());continue}s=i.match(/u([0-9A-Fa-f]{4})/g)}if(!s)return e;if((n=parseInt(s[1],16))>126&&n<=255&&0===s[0].indexOf("x"))return e;if(n>=0&&n<32){t+="\\"+s[0];continue}t+=34===n||39===n||92===n?"\\"+String.fromCharCode(n):String.fromCharCode(n)}return t}(t)),this._input.peek()===e&&(t+=this._input.next()),t=t.replace(a.allLineBreaks,"\n"),this._create_token(h.STRING,t)}return null},S.prototype._allow_regexp_or_xml=function(e){return e.type===h.RESERVED&&l(e.text,["return","case","throw","else","do","typeof","yield"])||e.type===h.END_EXPR&&")"===e.text&&e.opened.previous.type===h.RESERVED&&l(e.opened.previous.text,["if","while","for"])||l(e.type,[h.COMMENT,h.START_EXPR,h.START_BLOCK,h.START,h.END_BLOCK,h.OPERATOR,h.EQUALS,h.EOF,h.SEMICOLON,h.COMMA])},S.prototype._read_regexp=function(e,t){if("/"===e&&this._allow_regexp_or_xml(t)){for(var n=this._input.next(),r=!1,i=!1;this._input.hasNext()&&(r||i||this._input.peek()!==e)&&!this._input.testChar(a.newline);)n+=this._input.peek(),r?r=!1:(r="\\"===this._input.peek(),"["===this._input.peek()?i=!0:"]"===this._input.peek()&&(i=!1)),this._input.next();return this._input.peek()===e&&(n+=this._input.next(),n+=this._input.read(a.identifier)),this._create_token(h.STRING,n)}return null},S.prototype._read_xml=function(e,t){if(this._options.e4x&&"<"===e&&this._allow_regexp_or_xml(t)){var n="",r=this.__patterns.xml.read_match();if(r){for(var i=r[2].replace(/^{\s+/,"{").replace(/\s+}$/,"}"),s=0===i.indexOf("{"),o=0;r;){var c=!!r[1],u=r[2];if(!(!!r[r.length-1]||"![CDATA["===u.slice(0,8))&&(u===i||s&&u.replace(/^{\s+/,"{").replace(/\s+}$/,"}"))&&(c?--o:++o),n+=r[0],o<=0)break;r=this.__patterns.xml.read_match()}return r||(n+=this._input.match(/[\s\S]*/g)[0]),n=n.replace(a.allLineBreaks,"\n"),this._create_token(h.STRING,n)}}return null},S.prototype._read_string_recursive=function(e,t,n){var r,i;"'"===e?i=this.__patterns.single_quote:'"'===e?i=this.__patterns.double_quote:"`"===e?i=this.__patterns.template_text:"}"===e&&(i=this.__patterns.template_expression);for(var s=i.read(),o="";this._input.hasNext();){if((o=this._input.next())===e||!t&&a.newline.test(o)){this._input.back();break}"\\"===o&&this._input.hasNext()?("x"===(r=this._input.peek())||"u"===r?this.has_char_escapes=!0:"\r"===r&&"\n"===this._input.peek(1)&&this._input.next(),o+=this._input.next()):n&&("${"===n&&"$"===o&&"{"===this._input.peek()&&(o+=this._input.next()),n===o&&(o+="`"===e?this._read_string_recursive("}",t,"`"):this._read_string_recursive("`",t,"${"),this._input.hasNext()&&(o+=this._input.next()))),s+=o+=i.read()}return s},e.exports.Tokenizer=S,e.exports.TOKEN=h,e.exports.positionable_operators=m.slice(),e.exports.line_starters=b.slice()},function(e,t,n){"use strict";var r=RegExp.prototype.hasOwnProperty("sticky");function i(e){this.__input=e||"",this.__input_length=this.__input.length,this.__position=0}i.prototype.restart=function(){this.__position=0},i.prototype.back=function(){this.__position>0&&(this.__position-=1)},i.prototype.hasNext=function(){return this.__position<this.__input_length},i.prototype.next=function(){var e=null;return this.hasNext()&&(e=this.__input.charAt(this.__position),this.__position+=1),e},i.prototype.peek=function(e){var t=null;return e=e||0,(e+=this.__position)>=0&&e<this.__input_length&&(t=this.__input.charAt(e)),t},i.prototype.__match=function(e,t){e.lastIndex=t;var n=e.exec(this.__input);return!n||r&&e.sticky||n.index!==t&&(n=null),n},i.prototype.test=function(e,t){return t=t||0,(t+=this.__position)>=0&&t<this.__input_length&&!!this.__match(e,t)},i.prototype.testChar=function(e,t){var n=this.peek(t);return e.lastIndex=0,null!==n&&e.test(n)},i.prototype.match=function(e){var t=this.__match(e,this.__position);return t?this.__position+=t[0].length:t=null,t},i.prototype.read=function(e,t,n){var r,i="";return e&&(r=this.match(e))&&(i+=r[0]),!t||!r&&e||(i+=this.readUntil(t,n)),i},i.prototype.readUntil=function(e,t){var n,r=this.__position;e.lastIndex=this.__position;var i=e.exec(this.__input);return i?(r=i.index,t&&(r+=i[0].length)):r=this.__input_length,n=this.__input.substring(this.__position,r),this.__position=r,n},i.prototype.readUntilAfter=function(e){return this.readUntil(e,!0)},i.prototype.get_regexp=function(e,t){var n=null,i="g";return t&&r&&(i="y"),"string"==typeof e&&""!==e?n=new RegExp(e,i):e&&(n=new RegExp(e.source,i)),n},i.prototype.get_literal_regexp=function(e){return RegExp(e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&"))},i.prototype.peekUntilAfter=function(e){var t=this.__position,n=this.readUntilAfter(e);return this.__position=t,n},i.prototype.lookBack=function(e){var t=this.__position-1;return t>=e.length&&this.__input.substring(t-e.length,t).toLowerCase()===e},e.exports.InputScanner=i},function(e,t,n){"use strict";var r=n(8).InputScanner,i=n(3).Token,s=n(10).TokenStream,o=n(11).WhitespacePattern,a={START:"TK_START",RAW:"TK_RAW",EOF:"TK_EOF"},c=function(e,t){this._input=new r(e),this._options=t||{},this.__tokens=null,this._patterns={},this._patterns.whitespace=new o(this._input)};c.prototype.tokenize=function(){var e;this._input.restart(),this.__tokens=new s,this._reset();for(var t=new i(a.START,""),n=null,r=[],o=new s;t.type!==a.EOF;){for(e=this._get_next_token(t,n);this._is_comment(e);)o.add(e),e=this._get_next_token(t,n);o.isEmpty()||(e.comments_before=o,o=new s),e.parent=n,this._is_opening(e)?(r.push(n),n=e):n&&this._is_closing(e,n)&&(e.opened=n,n.closed=e,n=r.pop(),e.parent=n),e.previous=t,t.next=e,this.__tokens.add(e),t=e}return this.__tokens},c.prototype._is_first_token=function(){return this.__tokens.isEmpty()},c.prototype._reset=function(){},c.prototype._get_next_token=function(e,t){this._readWhitespace();var n=this._input.read(/.+/g);return n?this._create_token(a.RAW,n):this._create_token(a.EOF,"")},c.prototype._is_comment=function(e){return!1},c.prototype._is_opening=function(e){return!1},c.prototype._is_closing=function(e,t){return!1},c.prototype._create_token=function(e,t){return new i(e,t,this._patterns.whitespace.newline_count,this._patterns.whitespace.whitespace_before_token)},c.prototype._readWhitespace=function(){return this._patterns.whitespace.read()},e.exports.Tokenizer=c,e.exports.TOKEN=a},function(e,t,n){"use strict";function r(e){this.__tokens=[],this.__tokens_length=this.__tokens.length,this.__position=0,this.__parent_token=e}r.prototype.restart=function(){this.__position=0},r.prototype.isEmpty=function(){return 0===this.__tokens_length},r.prototype.hasNext=function(){return this.__position<this.__tokens_length},r.prototype.next=function(){var e=null;return this.hasNext()&&(e=this.__tokens[this.__position],this.__position+=1),e},r.prototype.peek=function(e){var t=null;return e=e||0,(e+=this.__position)>=0&&e<this.__tokens_length&&(t=this.__tokens[e]),t},r.prototype.add=function(e){this.__parent_token&&(e.parent=this.__parent_token),this.__tokens.push(e),this.__tokens_length+=1},e.exports.TokenStream=r},function(e,t,n){"use strict";var r=n(12).Pattern;function i(e,t){r.call(this,e,t),t?this._line_regexp=this._input.get_regexp(t._line_regexp):this.__set_whitespace_patterns("",""),this.newline_count=0,this.whitespace_before_token=""}i.prototype=new r,i.prototype.__set_whitespace_patterns=function(e,t){e+="\\t ",t+="\\n\\r",this._match_pattern=this._input.get_regexp("["+e+t+"]+",!0),this._newline_regexp=this._input.get_regexp("\\r\\n|["+t+"]")},i.prototype.read=function(){this.newline_count=0,this.whitespace_before_token="";var e=this._input.read(this._match_pattern);if(" "===e)this.whitespace_before_token=" ";else if(e){var t=this.__split(this._newline_regexp,e);this.newline_count=t.length-1,this.whitespace_before_token=t[this.newline_count]}return e},i.prototype.matching=function(e,t){var n=this._create();return n.__set_whitespace_patterns(e,t),n._update(),n},i.prototype._create=function(){return new i(this._input,this)},i.prototype.__split=function(e,t){e.lastIndex=0;for(var n=0,r=[],i=e.exec(t);i;)r.push(t.substring(n,i.index)),n=i.index+i[0].length,i=e.exec(t);return n<t.length?r.push(t.substring(n,t.length)):r.push(""),r},e.exports.WhitespacePattern=i},function(e,t,n){"use strict";function r(e,t){this._input=e,this._starting_pattern=null,this._match_pattern=null,this._until_pattern=null,this._until_after=!1,t&&(this._starting_pattern=this._input.get_regexp(t._starting_pattern,!0),this._match_pattern=this._input.get_regexp(t._match_pattern,!0),this._until_pattern=this._input.get_regexp(t._until_pattern),this._until_after=t._until_after)}r.prototype.read=function(){var e=this._input.read(this._starting_pattern);return this._starting_pattern&&!e||(e+=this._input.read(this._match_pattern,this._until_pattern,this._until_after)),e},r.prototype.read_match=function(){return this._input.match(this._match_pattern)},r.prototype.until_after=function(e){var t=this._create();return t._until_after=!0,t._until_pattern=this._input.get_regexp(e),t._update(),t},r.prototype.until=function(e){var t=this._create();return t._until_after=!1,t._until_pattern=this._input.get_regexp(e),t._update(),t},r.prototype.starting_with=function(e){var t=this._create();return t._starting_pattern=this._input.get_regexp(e,!0),t._update(),t},r.prototype.matching=function(e){var t=this._create();return t._match_pattern=this._input.get_regexp(e,!0),t._update(),t},r.prototype._create=function(){return new r(this._input,this)},r.prototype._update=function(){},e.exports.Pattern=r},function(e,t,n){"use strict";function r(e,t){e="string"==typeof e?e:e.source,t="string"==typeof t?t:t.source,this.__directives_block_pattern=new RegExp(e+/ beautify( \w+[:]\w+)+ /.source+t,"g"),this.__directive_pattern=/ (\w+)[:](\w+)/g,this.__directives_end_ignore_pattern=new RegExp(e+/\sbeautify\signore:end\s/.source+t,"g")}r.prototype.get_directives=function(e){if(!e.match(this.__directives_block_pattern))return null;var t={};this.__directive_pattern.lastIndex=0;for(var n=this.__directive_pattern.exec(e);n;)t[n[1]]=n[2],n=this.__directive_pattern.exec(e);return t},r.prototype.readIgnored=function(e){return e.readUntilAfter(this.__directives_end_ignore_pattern)},e.exports.Directives=r},function(e,t,n){"use strict";var r=n(12).Pattern,i={django:!1,erb:!1,handlebars:!1,php:!1};function s(e,t){r.call(this,e,t),this.__template_pattern=null,this._disabled=Object.assign({},i),this._excluded=Object.assign({},i),t&&(this.__template_pattern=this._input.get_regexp(t.__template_pattern),this._excluded=Object.assign(this._excluded,t._excluded),this._disabled=Object.assign(this._disabled,t._disabled));var n=new r(e);this.__patterns={handlebars_comment:n.starting_with(/{{!--/).until_after(/--}}/),handlebars:n.starting_with(/{{/).until_after(/}}/),php:n.starting_with(/<\?(?:[=]|php)/).until_after(/\?>/),erb:n.starting_with(/<%[^%]/).until_after(/[^%]%>/),django:n.starting_with(/{%/).until_after(/%}/),django_value:n.starting_with(/{{/).until_after(/}}/),django_comment:n.starting_with(/{#/).until_after(/#}/)}}s.prototype=new r,s.prototype._create=function(){return new s(this._input,this)},s.prototype._update=function(){this.__set_templated_pattern()},s.prototype.disable=function(e){var t=this._create();return t._disabled[e]=!0,t._update(),t},s.prototype.read_options=function(e){var t=this._create();for(var n in i)t._disabled[n]=-1===e.templating.indexOf(n);return t._update(),t},s.prototype.exclude=function(e){var t=this._create();return t._excluded[e]=!0,t._update(),t},s.prototype.read=function(){var e="";e=this._match_pattern?this._input.read(this._starting_pattern):this._input.read(this._starting_pattern,this.__template_pattern);for(var t=this._read_template();t;)this._match_pattern?t+=this._input.read(this._match_pattern):t+=this._input.readUntil(this.__template_pattern),e+=t,t=this._read_template();return this._until_after&&(e+=this._input.readUntilAfter(this._until_pattern)),e},s.prototype.__set_templated_pattern=function(){var e=[];this._disabled.php||e.push(this.__patterns.php._starting_pattern.source),this._disabled.handlebars||e.push(this.__patterns.handlebars._starting_pattern.source),this._disabled.erb||e.push(this.__patterns.erb._starting_pattern.source),this._disabled.django||(e.push(this.__patterns.django._starting_pattern.source),e.push(this.__patterns.django_value._starting_pattern.source),e.push(this.__patterns.django_comment._starting_pattern.source)),this._until_pattern&&e.push(this._until_pattern.source),this.__template_pattern=this._input.get_regexp("(?:"+e.join("|")+")")},s.prototype._read_template=function(){var e="",t=this._input.peek();if("<"===t){var n=this._input.peek(1);this._disabled.php||this._excluded.php||"?"!==n||(e=e||this.__patterns.php.read()),this._disabled.erb||this._excluded.erb||"%"!==n||(e=e||this.__patterns.erb.read())}else"{"===t&&(this._disabled.handlebars||this._excluded.handlebars||(e=(e=e||this.__patterns.handlebars_comment.read())||this.__patterns.handlebars.read()),this._disabled.django||(this._excluded.django||this._excluded.handlebars||(e=e||this.__patterns.django_value.read()),this._excluded.django||(e=(e=e||this.__patterns.django_comment.read())||this.__patterns.django.read())));return e},e.exports.TemplatablePattern=s}]),void 0===(r=function(){return{js_beautify:i}}.apply(t,[]))||(e.exports=r)},function(e,t,n){var r,i;i=function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=15)}([,,function(e,t,n){"use strict";function r(e){this.__parent=e,this.__character_count=0,this.__indent_count=-1,this.__alignment_count=0,this.__wrap_point_index=0,this.__wrap_point_character_count=0,this.__wrap_point_indent_count=-1,this.__wrap_point_alignment_count=0,this.__items=[]}function i(e,t){this.__cache=[""],this.__indent_size=e.indent_size,this.__indent_string=e.indent_char,e.indent_with_tabs||(this.__indent_string=new Array(e.indent_size+1).join(e.indent_char)),t=t||"",e.indent_level>0&&(t=new Array(e.indent_level+1).join(this.__indent_string)),this.__base_string=t,this.__base_string_length=t.length}function s(e,t){this.__indent_cache=new i(e,t),this.raw=!1,this._end_with_newline=e.end_with_newline,this.indent_size=e.indent_size,this.wrap_line_length=e.wrap_line_length,this.indent_empty_lines=e.indent_empty_lines,this.__lines=[],this.previous_line=null,this.current_line=null,this.next_line=new r(this),this.space_before_token=!1,this.non_breaking_space=!1,this.previous_token_wrapped=!1,this.__add_outputline()}r.prototype.clone_empty=function(){var e=new r(this.__parent);return e.set_indent(this.__indent_count,this.__alignment_count),e},r.prototype.item=function(e){return e<0?this.__items[this.__items.length+e]:this.__items[e]},r.prototype.has_match=function(e){for(var t=this.__items.length-1;t>=0;t--)if(this.__items[t].match(e))return!0;return!1},r.prototype.set_indent=function(e,t){this.is_empty()&&(this.__indent_count=e||0,this.__alignment_count=t||0,this.__character_count=this.__parent.get_indent_size(this.__indent_count,this.__alignment_count))},r.prototype._set_wrap_point=function(){this.__parent.wrap_line_length&&(this.__wrap_point_index=this.__items.length,this.__wrap_point_character_count=this.__character_count,this.__wrap_point_indent_count=this.__parent.next_line.__indent_count,this.__wrap_point_alignment_count=this.__parent.next_line.__alignment_count)},r.prototype._should_wrap=function(){return this.__wrap_point_index&&this.__character_count>this.__parent.wrap_line_length&&this.__wrap_point_character_count>this.__parent.next_line.__character_count},r.prototype._allow_wrap=function(){if(this._should_wrap()){this.__parent.add_new_line();var e=this.__parent.current_line;return e.set_indent(this.__wrap_point_indent_count,this.__wrap_point_alignment_count),e.__items=this.__items.slice(this.__wrap_point_index),this.__items=this.__items.slice(0,this.__wrap_point_index),e.__character_count+=this.__character_count-this.__wrap_point_character_count,this.__character_count=this.__wrap_point_character_count," "===e.__items[0]&&(e.__items.splice(0,1),e.__character_count-=1),!0}return!1},r.prototype.is_empty=function(){return 0===this.__items.length},r.prototype.last=function(){return this.is_empty()?null:this.__items[this.__items.length-1]},r.prototype.push=function(e){this.__items.push(e);var t=e.lastIndexOf("\n");-1!==t?this.__character_count=e.length-t:this.__character_count+=e.length},r.prototype.pop=function(){var e=null;return this.is_empty()||(e=this.__items.pop(),this.__character_count-=e.length),e},r.prototype._remove_indent=function(){this.__indent_count>0&&(this.__indent_count-=1,this.__character_count-=this.__parent.indent_size)},r.prototype._remove_wrap_indent=function(){this.__wrap_point_indent_count>0&&(this.__wrap_point_indent_count-=1)},r.prototype.trim=function(){for(;" "===this.last();)this.__items.pop(),this.__character_count-=1},r.prototype.toString=function(){var e="";return this.is_empty()?this.__parent.indent_empty_lines&&(e=this.__parent.get_indent_string(this.__indent_count)):(e=this.__parent.get_indent_string(this.__indent_count,this.__alignment_count),e+=this.__items.join("")),e},i.prototype.get_indent_size=function(e,t){var n=this.__base_string_length;return t=t||0,e<0&&(n=0),n+=e*this.__indent_size,n+=t},i.prototype.get_indent_string=function(e,t){var n=this.__base_string;return t=t||0,e<0&&(e=0,n=""),t+=e*this.__indent_size,this.__ensure_cache(t),n+=this.__cache[t]},i.prototype.__ensure_cache=function(e){for(;e>=this.__cache.length;)this.__add_column()},i.prototype.__add_column=function(){var e=this.__cache.length,t=0,n="";this.__indent_size&&e>=this.__indent_size&&(e-=(t=Math.floor(e/this.__indent_size))*this.__indent_size,n=new Array(t+1).join(this.__indent_string)),e&&(n+=new Array(e+1).join(" ")),this.__cache.push(n)},s.prototype.__add_outputline=function(){this.previous_line=this.current_line,this.current_line=this.next_line.clone_empty(),this.__lines.push(this.current_line)},s.prototype.get_line_number=function(){return this.__lines.length},s.prototype.get_indent_string=function(e,t){return this.__indent_cache.get_indent_string(e,t)},s.prototype.get_indent_size=function(e,t){return this.__indent_cache.get_indent_size(e,t)},s.prototype.is_empty=function(){return!this.previous_line&&this.current_line.is_empty()},s.prototype.add_new_line=function(e){return!(this.is_empty()||!e&&this.just_added_newline())&&(this.raw||this.__add_outputline(),!0)},s.prototype.get_code=function(e){this.trim(!0);var t=this.current_line.pop();t&&("\n"===t[t.length-1]&&(t=t.replace(/\n+$/g,"")),this.current_line.push(t)),this._end_with_newline&&this.__add_outputline();var n=this.__lines.join("\n");return"\n"!==e&&(n=n.replace(/[\n]/g,e)),n},s.prototype.set_wrap_point=function(){this.current_line._set_wrap_point()},s.prototype.set_indent=function(e,t){return e=e||0,t=t||0,this.next_line.set_indent(e,t),this.__lines.length>1?(this.current_line.set_indent(e,t),!0):(this.current_line.set_indent(),!1)},s.prototype.add_raw_token=function(e){for(var t=0;t<e.newlines;t++)this.__add_outputline();this.current_line.set_indent(-1),this.current_line.push(e.whitespace_before),this.current_line.push(e.text),this.space_before_token=!1,this.non_breaking_space=!1,this.previous_token_wrapped=!1},s.prototype.add_token=function(e){this.__add_space_before_token(),this.current_line.push(e),this.space_before_token=!1,this.non_breaking_space=!1,this.previous_token_wrapped=this.current_line._allow_wrap()},s.prototype.__add_space_before_token=function(){this.space_before_token&&!this.just_added_newline()&&(this.non_breaking_space||this.set_wrap_point(),this.current_line.push(" "))},s.prototype.remove_indent=function(e){for(var t=this.__lines.length;e<t;)this.__lines[e]._remove_indent(),e++;this.current_line._remove_wrap_indent()},s.prototype.trim=function(e){for(e=void 0!==e&&e,this.current_line.trim();e&&this.__lines.length>1&&this.current_line.is_empty();)this.__lines.pop(),this.current_line=this.__lines[this.__lines.length-1],this.current_line.trim();this.previous_line=this.__lines.length>1?this.__lines[this.__lines.length-2]:null},s.prototype.just_added_newline=function(){return this.current_line.is_empty()},s.prototype.just_added_blankline=function(){return this.is_empty()||this.current_line.is_empty()&&this.previous_line.is_empty()},s.prototype.ensure_empty_line_above=function(e,t){for(var n=this.__lines.length-2;n>=0;){var i=this.__lines[n];if(i.is_empty())break;if(0!==i.item(0).indexOf(e)&&i.item(-1)!==t){this.__lines.splice(n+1,0,new r(this)),this.previous_line=this.__lines[this.__lines.length-2];break}n--}},e.exports.Output=s},,,,function(e,t,n){"use strict";function r(e,t){this.raw_options=i(e,t),this.disabled=this._get_boolean("disabled"),this.eol=this._get_characters("eol","auto"),this.end_with_newline=this._get_boolean("end_with_newline"),this.indent_size=this._get_number("indent_size",4),this.indent_char=this._get_characters("indent_char"," "),this.indent_level=this._get_number("indent_level"),this.preserve_newlines=this._get_boolean("preserve_newlines",!0),this.max_preserve_newlines=this._get_number("max_preserve_newlines",32786),this.preserve_newlines||(this.max_preserve_newlines=0),this.indent_with_tabs=this._get_boolean("indent_with_tabs","\t"===this.indent_char),this.indent_with_tabs&&(this.indent_char="\t",1===this.indent_size&&(this.indent_size=4)),this.wrap_line_length=this._get_number("wrap_line_length",this._get_number("max_char")),this.indent_empty_lines=this._get_boolean("indent_empty_lines"),this.templating=this._get_selection_list("templating",["auto","none","django","erb","handlebars","php"],["auto"])}function i(e,t){var n,r={};for(n in e=s(e))n!==t&&(r[n]=e[n]);if(t&&e[t])for(n in e[t])r[n]=e[t][n];return r}function s(e){var t,n={};for(t in e){n[t.replace(/-/g,"_")]=e[t]}return n}r.prototype._get_array=function(e,t){var n=this.raw_options[e],r=t||[];return"object"==typeof n?null!==n&&"function"==typeof n.concat&&(r=n.concat()):"string"==typeof n&&(r=n.split(/[^a-zA-Z0-9_\/\-]+/)),r},r.prototype._get_boolean=function(e,t){var n=this.raw_options[e];return void 0===n?!!t:!!n},r.prototype._get_characters=function(e,t){var n=this.raw_options[e],r=t||"";return"string"==typeof n&&(r=n.replace(/\\r/,"\r").replace(/\\n/,"\n").replace(/\\t/,"\t")),r},r.prototype._get_number=function(e,t){var n=this.raw_options[e];t=parseInt(t,10),isNaN(t)&&(t=0);var r=parseInt(n,10);return isNaN(r)&&(r=t),r},r.prototype._get_selection=function(e,t,n){var r=this._get_selection_list(e,t,n);if(1!==r.length)throw new Error("Invalid Option Value: The option '"+e+"' can only be one of the following values:\n"+t+"\nYou passed in: '"+this.raw_options[e]+"'");return r[0]},r.prototype._get_selection_list=function(e,t,n){if(!t||0===t.length)throw new Error("Selection list cannot be empty.");if(n=n||[t[0]],!this._is_valid_selection(n,t))throw new Error("Invalid Default Value!");var r=this._get_array(e,n);if(!this._is_valid_selection(r,t))throw new Error("Invalid Option Value: The option '"+e+"' can contain only the following values:\n"+t+"\nYou passed in: '"+this.raw_options[e]+"'");return r},r.prototype._is_valid_selection=function(e,t){return e.length&&t.length&&!e.some(function(e){return-1===t.indexOf(e)})},e.exports.Options=r,e.exports.normalizeOpts=s,e.exports.mergeOpts=i},,function(e,t,n){"use strict";var r=RegExp.prototype.hasOwnProperty("sticky");function i(e){this.__input=e||"",this.__input_length=this.__input.length,this.__position=0}i.prototype.restart=function(){this.__position=0},i.prototype.back=function(){this.__position>0&&(this.__position-=1)},i.prototype.hasNext=function(){return this.__position<this.__input_length},i.prototype.next=function(){var e=null;return this.hasNext()&&(e=this.__input.charAt(this.__position),this.__position+=1),e},i.prototype.peek=function(e){var t=null;return e=e||0,(e+=this.__position)>=0&&e<this.__input_length&&(t=this.__input.charAt(e)),t},i.prototype.__match=function(e,t){e.lastIndex=t;var n=e.exec(this.__input);return!n||r&&e.sticky||n.index!==t&&(n=null),n},i.prototype.test=function(e,t){return t=t||0,(t+=this.__position)>=0&&t<this.__input_length&&!!this.__match(e,t)},i.prototype.testChar=function(e,t){var n=this.peek(t);return e.lastIndex=0,null!==n&&e.test(n)},i.prototype.match=function(e){var t=this.__match(e,this.__position);return t?this.__position+=t[0].length:t=null,t},i.prototype.read=function(e,t,n){var r,i="";return e&&(r=this.match(e))&&(i+=r[0]),!t||!r&&e||(i+=this.readUntil(t,n)),i},i.prototype.readUntil=function(e,t){var n,r=this.__position;e.lastIndex=this.__position;var i=e.exec(this.__input);return i?(r=i.index,t&&(r+=i[0].length)):r=this.__input_length,n=this.__input.substring(this.__position,r),this.__position=r,n},i.prototype.readUntilAfter=function(e){return this.readUntil(e,!0)},i.prototype.get_regexp=function(e,t){var n=null,i="g";return t&&r&&(i="y"),"string"==typeof e&&""!==e?n=new RegExp(e,i):e&&(n=new RegExp(e.source,i)),n},i.prototype.get_literal_regexp=function(e){return RegExp(e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&"))},i.prototype.peekUntilAfter=function(e){var t=this.__position,n=this.readUntilAfter(e);return this.__position=t,n},i.prototype.lookBack=function(e){var t=this.__position-1;return t>=e.length&&this.__input.substring(t-e.length,t).toLowerCase()===e},e.exports.InputScanner=i},,,,,function(e,t,n){"use strict";function r(e,t){e="string"==typeof e?e:e.source,t="string"==typeof t?t:t.source,this.__directives_block_pattern=new RegExp(e+/ beautify( \w+[:]\w+)+ /.source+t,"g"),this.__directive_pattern=/ (\w+)[:](\w+)/g,this.__directives_end_ignore_pattern=new RegExp(e+/\sbeautify\signore:end\s/.source+t,"g")}r.prototype.get_directives=function(e){if(!e.match(this.__directives_block_pattern))return null;var t={};this.__directive_pattern.lastIndex=0;for(var n=this.__directive_pattern.exec(e);n;)t[n[1]]=n[2],n=this.__directive_pattern.exec(e);return t},r.prototype.readIgnored=function(e){return e.readUntilAfter(this.__directives_end_ignore_pattern)},e.exports.Directives=r},,function(e,t,n){"use strict";var r=n(16).Beautifier,i=n(17).Options;e.exports=function(e,t){return new r(e,t).beautify()},e.exports.defaultOptions=function(){return new i}},function(e,t,n){"use strict";var r=n(17).Options,i=n(2).Output,s=n(8).InputScanner,o=new(0,n(13).Directives)(/\/\*/,/\*\//),a=/\r\n|[\r\n]/,c=/\r\n|[\r\n]/g,u=/\s/,l=/(?:\s|\n)+/g,h=/\/\*(?:[\s\S]*?)((?:\*\/)|$)/g,d=/\/\/(?:[^\n\r\u2028\u2029]*)/g;function p(e,t){this._source_text=e||"",this._options=new r(t),this._ch=null,this._input=null,this.NESTED_AT_RULE={"@page":!0,"@font-face":!0,"@keyframes":!0,"@media":!0,"@supports":!0,"@document":!0},this.CONDITIONAL_GROUP_RULE={"@media":!0,"@supports":!0,"@document":!0}}p.prototype.eatString=function(e){var t="";for(this._ch=this._input.next();this._ch;){if(t+=this._ch,"\\"===this._ch)t+=this._input.next();else if(-1!==e.indexOf(this._ch)||"\n"===this._ch)break;this._ch=this._input.next()}return t},p.prototype.eatWhitespace=function(e){for(var t=u.test(this._input.peek()),n=!0;u.test(this._input.peek());)this._ch=this._input.next(),e&&"\n"===this._ch&&(this._options.preserve_newlines||n)&&(n=!1,this._output.add_new_line(!0));return t},p.prototype.foundNestedPseudoClass=function(){for(var e=0,t=1,n=this._input.peek(t);n;){if("{"===n)return!0;if("("===n)e+=1;else if(")"===n){if(0===e)return!1;e-=1}else if(";"===n||"}"===n)return!1;t++,n=this._input.peek(t)}return!1},p.prototype.print_string=function(e){this._output.set_indent(this._indentLevel),this._output.non_breaking_space=!0,this._output.add_token(e)},p.prototype.preserveSingleSpace=function(e){e&&(this._output.space_before_token=!0)},p.prototype.indent=function(){this._indentLevel++},p.prototype.outdent=function(){this._indentLevel>0&&this._indentLevel--},p.prototype.beautify=function(){if(this._options.disabled)return this._source_text;var e=this._source_text,t=this._options.eol;"auto"===t&&(t="\n",e&&a.test(e||"")&&(t=e.match(a)[0]));var n=(e=e.replace(c,"\n")).match(/^[\t ]*/)[0];this._output=new i(this._options,n),this._input=new s(e),this._indentLevel=0,this._nestedLevel=0,this._ch=null;for(var r,p,f=0,_=!1,m=!1,g=!1,y=!1,T=!1,b=this._ch;r=""!==this._input.read(l),p=b,this._ch=this._input.next(),"\\"===this._ch&&this._input.hasNext()&&(this._ch+=this._input.next()),b=this._ch,this._ch;)if("/"===this._ch&&"*"===this._input.peek()){this._output.add_new_line(),this._input.back();var v=this._input.read(h),E=o.get_directives(v);E&&"start"===E.ignore&&(v+=o.readIgnored(this._input)),this.print_string(v),this.eatWhitespace(!0),this._output.add_new_line()}else if("/"===this._ch&&"/"===this._input.peek())this._output.space_before_token=!0,this._input.back(),this.print_string(this._input.read(d)),this.eatWhitespace(!0);else if("@"===this._ch)if(this.preserveSingleSpace(r),"{"===this._input.peek())this.print_string(this._ch+this.eatString("}"));else{this.print_string(this._ch);var S=this._input.peekUntilAfter(/[: ,;{}()[\]\/='"]/g);S.match(/[ :]$/)&&(S=this.eatString(": ").replace(/\s$/,""),this.print_string(S),this._output.space_before_token=!0),"extend"===(S=S.replace(/\s$/,""))?y=!0:"import"===S&&(T=!0),S in this.NESTED_AT_RULE?(this._nestedLevel+=1,S in this.CONDITIONAL_GROUP_RULE&&(g=!0)):_||0!==f||-1===S.indexOf(":")||(m=!0,this.indent())}else"#"===this._ch&&"{"===this._input.peek()?(this.preserveSingleSpace(r),this.print_string(this._ch+this.eatString("}"))):"{"===this._ch?(m&&(m=!1,this.outdent()),this.indent(),this._output.space_before_token=!0,this.print_string(this._ch),g?(g=!1,_=this._indentLevel>this._nestedLevel):_=this._indentLevel>=this._nestedLevel,this._options.newline_between_rules&&_&&this._output.previous_line&&"{"!==this._output.previous_line.item(-1)&&this._output.ensure_empty_line_above("/",","),this.eatWhitespace(!0),this._output.add_new_line()):"}"===this._ch?(this.outdent(),this._output.add_new_line(),"{"===p&&this._output.trim(!0),T=!1,y=!1,m&&(this.outdent(),m=!1),this.print_string(this._ch),_=!1,this._nestedLevel&&this._nestedLevel--,this.eatWhitespace(!0),this._output.add_new_line(),this._options.newline_between_rules&&!this._output.just_added_blankline()&&"}"!==this._input.peek()&&this._output.add_new_line(!0)):":"===this._ch?!_&&!g||this._input.lookBack("&")||this.foundNestedPseudoClass()||this._input.lookBack("(")||y||0!==f?(this._input.lookBack(" ")&&(this._output.space_before_token=!0),":"===this._input.peek()?(this._ch=this._input.next(),this.print_string("::")):this.print_string(":")):(this.print_string(":"),m||(m=!0,this._output.space_before_token=!0,this.eatWhitespace(!0),this.indent())):'"'===this._ch||"'"===this._ch?(this.preserveSingleSpace(r),this.print_string(this._ch+this.eatString(this._ch)),this.eatWhitespace(!0)):";"===this._ch?0===f?(m&&(this.outdent(),m=!1),y=!1,T=!1,this.print_string(this._ch),this.eatWhitespace(!0),"/"!==this._input.peek()&&this._output.add_new_line()):(this.print_string(this._ch),this.eatWhitespace(!0),this._output.space_before_token=!0):"("===this._ch?this._input.lookBack("url")?(this.print_string(this._ch),this.eatWhitespace(),f++,this.indent(),this._ch=this._input.next(),")"===this._ch||'"'===this._ch||"'"===this._ch?this._input.back():this._ch&&(this.print_string(this._ch+this.eatString(")")),f&&(f--,this.outdent()))):(this.preserveSingleSpace(r),this.print_string(this._ch),this.eatWhitespace(),f++,this.indent()):")"===this._ch?(f&&(f--,this.outdent()),this.print_string(this._ch)):","===this._ch?(this.print_string(this._ch),this.eatWhitespace(!0),!this._options.selector_separator_newline||m||0!==f||T?this._output.space_before_token=!0:this._output.add_new_line()):">"!==this._ch&&"+"!==this._ch&&"~"!==this._ch||m||0!==f?"]"===this._ch?this.print_string(this._ch):"["===this._ch?(this.preserveSingleSpace(r),this.print_string(this._ch)):"="===this._ch?(this.eatWhitespace(),this.print_string("="),u.test(this._ch)&&(this._ch="")):"!"!==this._ch||this._input.lookBack("\\")?(this.preserveSingleSpace(r),this.print_string(this._ch)):(this.print_string(" "),this.print_string(this._ch)):this._options.space_around_combinator?(this._output.space_before_token=!0,this.print_string(this._ch),this._output.space_before_token=!0):(this.print_string(this._ch),this.eatWhitespace(),this._ch&&u.test(this._ch)&&(this._ch=""));return this._output.get_code(t)},e.exports.Beautifier=p},function(e,t,n){"use strict";var r=n(6).Options;function i(e){r.call(this,e,"css"),this.selector_separator_newline=this._get_boolean("selector_separator_newline",!0),this.newline_between_rules=this._get_boolean("newline_between_rules",!0);var t=this._get_boolean("space_around_selector_separator");this.space_around_combinator=this._get_boolean("space_around_combinator")||t}i.prototype=new r,e.exports.Options=i}]),void 0===(r=function(){return{css_beautify:i}}.apply(t,[]))||(e.exports=r)},function(e,t,n){"use strict";const r=[65534,65535,131070,131071,196606,196607,262142,262143,327678,327679,393214,393215,458750,458751,524286,524287,589822,589823,655358,655359,720894,720895,786430,786431,851966,851967,917502,917503,983038,983039,1048574,1048575,1114110,1114111];t.REPLACEMENT_CHARACTER="",t.CODE_POINTS={EOF:-1,NULL:0,TABULATION:9,CARRIAGE_RETURN:13,LINE_FEED:10,FORM_FEED:12,SPACE:32,EXCLAMATION_MARK:33,QUOTATION_MARK:34,NUMBER_SIGN:35,AMPERSAND:38,APOSTROPHE:39,HYPHEN_MINUS:45,SOLIDUS:47,DIGIT_0:48,DIGIT_9:57,SEMICOLON:59,LESS_THAN_SIGN:60,EQUALS_SIGN:61,GREATER_THAN_SIGN:62,QUESTION_MARK:63,LATIN_CAPITAL_A:65,LATIN_CAPITAL_F:70,LATIN_CAPITAL_X:88,LATIN_CAPITAL_Z:90,RIGHT_SQUARE_BRACKET:93,GRAVE_ACCENT:96,LATIN_SMALL_A:97,LATIN_SMALL_F:102,LATIN_SMALL_X:120,LATIN_SMALL_Z:122,REPLACEMENT_CHARACTER:65533},t.CODE_POINT_SEQUENCES={DASH_DASH_STRING:[45,45],DOCTYPE_STRING:[68,79,67,84,89,80,69],CDATA_START_STRING:[91,67,68,65,84,65,91],SCRIPT_STRING:[115,99,114,105,112,116],PUBLIC_STRING:[80,85,66,76,73,67],SYSTEM_STRING:[83,89,83,84,69,77]},t.isSurrogate=function(e){return e>=55296&&e<=57343},t.isSurrogatePair=function(e){return e>=56320&&e<=57343},t.getSurrogatePairCodePoint=function(e,t){return 1024*(e-55296)+9216+t},t.isControlCodePoint=function(e){return 32!==e&&10!==e&&13!==e&&9!==e&&12!==e&&e>=1&&e<=31||e>=127&&e<=159},t.isUndefinedCodePoint=function(e){return e>=64976&&e<=65007||r.indexOf(e)>-1}},function(e,t,n){"use strict";e.exports={controlCharacterInInputStream:"control-character-in-input-stream",noncharacterInInputStream:"noncharacter-in-input-stream",surrogateInInputStream:"surrogate-in-input-stream",nonVoidHtmlElementStartTagWithTrailingSolidus:"non-void-html-element-start-tag-with-trailing-solidus",endTagWithAttributes:"end-tag-with-attributes",endTagWithTrailingSolidus:"end-tag-with-trailing-solidus",unexpectedSolidusInTag:"unexpected-solidus-in-tag",unexpectedNullCharacter:"unexpected-null-character",unexpectedQuestionMarkInsteadOfTagName:"unexpected-question-mark-instead-of-tag-name",invalidFirstCharacterOfTagName:"invalid-first-character-of-tag-name",unexpectedEqualsSignBeforeAttributeName:"unexpected-equals-sign-before-attribute-name",missingEndTagName:"missing-end-tag-name",unexpectedCharacterInAttributeName:"unexpected-character-in-attribute-name",unknownNamedCharacterReference:"unknown-named-character-reference",missingSemicolonAfterCharacterReference:"missing-semicolon-after-character-reference",unexpectedCharacterAfterDoctypeSystemIdentifier:"unexpected-character-after-doctype-system-identifier",unexpectedCharacterInUnquotedAttributeValue:"unexpected-character-in-unquoted-attribute-value",eofBeforeTagName:"eof-before-tag-name",eofInTag:"eof-in-tag",missingAttributeValue:"missing-attribute-value",missingWhitespaceBetweenAttributes:"missing-whitespace-between-attributes",missingWhitespaceAfterDoctypePublicKeyword:"missing-whitespace-after-doctype-public-keyword",missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers:"missing-whitespace-between-doctype-public-and-system-identifiers",missingWhitespaceAfterDoctypeSystemKeyword:"missing-whitespace-after-doctype-system-keyword",missingQuoteBeforeDoctypePublicIdentifier:"missing-quote-before-doctype-public-identifier",missingQuoteBeforeDoctypeSystemIdentifier:"missing-quote-before-doctype-system-identifier",missingDoctypePublicIdentifier:"missing-doctype-public-identifier",missingDoctypeSystemIdentifier:"missing-doctype-system-identifier",abruptDoctypePublicIdentifier:"abrupt-doctype-public-identifier",abruptDoctypeSystemIdentifier:"abrupt-doctype-system-identifier",cdataInHtmlContent:"cdata-in-html-content",incorrectlyOpenedComment:"incorrectly-opened-comment",eofInScriptHtmlCommentLikeText:"eof-in-script-html-comment-like-text",eofInDoctype:"eof-in-doctype",nestedComment:"nested-comment",abruptClosingOfEmptyComment:"abrupt-closing-of-empty-comment",eofInComment:"eof-in-comment",incorrectlyClosedComment:"incorrectly-closed-comment",eofInCdata:"eof-in-cdata",absenceOfDigitsInNumericCharacterReference:"absence-of-digits-in-numeric-character-reference",nullCharacterReference:"null-character-reference",surrogateCharacterReference:"surrogate-character-reference",characterReferenceOutsideUnicodeRange:"character-reference-outside-unicode-range",controlCharacterReference:"control-character-reference",noncharacterCharacterReference:"noncharacter-character-reference",missingWhitespaceBeforeDoctypeName:"missing-whitespace-before-doctype-name",missingDoctypeName:"missing-doctype-name",invalidCharacterSequenceAfterDoctypeName:"invalid-character-sequence-after-doctype-name",duplicateAttribute:"duplicate-attribute",nonConformingDoctype:"non-conforming-doctype",missingDoctype:"missing-doctype",misplacedDoctype:"misplaced-doctype",endTagWithoutMatchingOpenElement:"end-tag-without-matching-open-element",closingOfElementWithOpenChildElements:"closing-of-element-with-open-child-elements",disallowedContentInNoscriptInHead:"disallowed-content-in-noscript-in-head",openElementsLeftAfterEof:"open-elements-left-after-eof",abandonedHeadElementChild:"abandoned-head-element-child",misplacedStartTagForHeadElement:"misplaced-start-tag-for-head-element",nestedNoscriptInHead:"nested-noscript-in-head",eofInElementThatCanContainOnlyText:"eof-in-element-that-can-contain-only-text"}},function(e,t,n){"use strict";const r=n(21);e.exports=class extends r{constructor(e,t){super(e),this.posTracker=null,this.onParseError=t.onParseError}_setErrorLocation(e){e.startLine=e.endLine=this.posTracker.line,e.startCol=e.endCol=this.posTracker.col,e.startOffset=e.endOffset=this.posTracker.offset}_reportError(e){const t={code:e,startLine:-1,startCol:-1,startOffset:-1,endLine:-1,endCol:-1,endOffset:-1};this._setErrorLocation(t),this.onParseError(t)}_getOverriddenMethods(e){return{_err(t){e._reportError(t)}}}}},function(e,t){var n=function(e,t,n){e&&t&&n&&(n._ids[e]||(n._ids[e]=[]),n._ids[e].push(t))},r=function(e,t,n){var r,i;if(e&&t&&n&&n._ids&&n._ids[e]){for(r=n._ids[e],i=0;i<r.length;i++)r[i]===t&&(r.splice(i,1),i--);0===r.length&&delete n._ids[e]}},i={mapper:function(e,t,n){return function(){return i.mapDOMNodes(e,!1!==n,t)}},mapDOMNodes:function(e,t,n){function r(e,t){return Array.prototype.reduce.call(e.childNodes,i,t)}function i(e,i){return n(i)&&e.push(i),t&&i._childNodes&&r(i,e),e}return r(e,[])},visitTree:function(e,t){!function e(n){if(n&&(t(n),n._childNodes))for(var r=0,i=n._childNodes,s=i.length;r<s;r++)e(i[r])}(e)},markTreeReadonly:function(e){i.visitTree(e,function e(t){if(t._readonly=!0,t.attributes){var n=t.attributes,r=n.length,s=0;for(n._readonly=!0;s<r;s++)i.visitTree(n[s],e)}})}},s=i.INDEX_SIZE_ERR=1,o=i.DOMSTRING_SIZE_ERR=2,a=i.HIERARCHY_REQUEST_ERR=3,c=i.WRONG_DOCUMENT_ERR=4,u=i.INVALID_CHARACTER_ERR=5,l=i.NO_DATA_ALLOWED_ERR=6,h=i.NO_MODIFICATION_ALLOWED_ERR=7,d=i.NOT_FOUND_ERR=8,p=i.NOT_SUPPORTED_ERR=9,f=i.INUSE_ATTRIBUTE_ERR=10,_=1,m=5,g=i.exceptionMessages={};function y(e){var t=-1;for(var n in e){var r=+n;!isNaN(r)&&r>t&&(t=r)}return t+1}g[s]="Index size error",g[o]="DOMString size error",g[a]="Hierarchy request error",g[c]="Wrong document",g[u]="Invalid character",g[l]="No data allowed",g[h]="No modification allowed",g[d]="Not found",g[p]="Not supported",g[f]="Attribute in use",i.DOMException=function(e,t){this.code=e,Error.call(this,i.exceptionMessages[e]),this.message=i.exceptionMessages[e],t&&(this.message=this.message+": "+t),Error.captureStackTrace&&Error.captureStackTrace(this,i.DOMException)},i.DOMException.INDEX_SIZE_ERR=s,i.DOMException.DOMSTRING_SIZE_ERR=o,i.DOMException.HIERARCHY_REQUEST_ERR=a,i.DOMException.WRONG_DOCUMENT_ERR=c,i.DOMException.INVALID_CHARACTER_ERR=u,i.DOMException.NO_DATA_ALLOWED_ERR=l,i.DOMException.NO_MODIFICATION_ALLOWED_ERR=h,i.DOMException.NOT_FOUND_ERR=d,i.DOMException.NOT_SUPPORTED_ERR=p,i.DOMException.INUSE_ATTRIBUTE_ERR=f,i.DOMException.prototype={INDEX_SIZE_ERR:s,DOMSTRING_SIZE_ERR:o,HIERARCHY_REQUEST_ERR:a,WRONG_DOCUMENT_ERR:c,INVALID_CHARACTER_ERR:u,NO_DATA_ALLOWED_ERR:l,NO_MODIFICATION_ALLOWED_ERR:h,NOT_FOUND_ERR:d,NOT_SUPPORTED_ERR:p,INUSE_ATTRIBUTE_ERR:f},i.DOMException.prototype.__proto__=Error.prototype,i.NodeList=function(e,t){t?(Object.defineProperties(this,{_element:{value:e},_query:{value:t},_snapshot:{writable:!0},_length:{value:0,writable:!0},_version:{value:-1,writable:!0}}),this._update()):(Array.isArray(e)&&Array.prototype.push.apply(this,e),Object.defineProperties(this,{_length:{value:e?e.length:0,writable:!0}}))},i.NodeList.prototype={_update:function(){if(this._element){if(this._version<this._element._version){var e=this._snapshot=this._query();this._resetTo(e),this._version=this._element._version}}else this._length=y(this)},_resetTo:function(e){for(var t=y(this),n=0;n<t;++n)delete this[n];for(var r=0;r<e.length;++r)this[r]=e[r];this._length=e.length},_toArray:function(){return this._element?(this._update(),this._snapshot):Array.prototype.slice.call(this)},get length(){return this._update(),this._length||0},set length(e){return this._length},item:function(e){return this._update(),this[e]||null},toString:function(){return"[ jsdom NodeList ]: contains "+this.length+" items"}},Object.defineProperty(i.NodeList.prototype,"constructor",{value:i.NodeList,writable:!0,configurable:!0}),i.DOMImplementation=function(e,t){if(this._ownerDocument=e,this._features={},t)for(var n in t)t.hasOwnProperty(n)&&this.addFeature(n.toLowerCase(),t[n])},i.DOMImplementation.prototype={get ownerDocument(){return this._ownerDocument},removeFeature:function(e,t){if(e=e.toLowerCase(),this._features[e])if(t){for(var n=0,r=this._features[e],i=r.length;n<i;n++)if(r[n]===t)return void r.splice(n,1)}else delete this._features[e]},addFeature:function(e,t){e=e.toLowerCase(),t&&(this._features[e]||(this._features[e]=[]),t instanceof Array?Array.prototype.push.apply(this._features[e],t):this._features[e].push(t))},hasFeature:function(e,t){e=e?e.toLowerCase():"";var n=!!this._features[e]&&this._features[e];if(!t&&n.length&&n.length>0)return!0;if("string"==typeof n)return n===t;if(n.indexOf&&n.length>0){for(var r=0;r<n.length;r++){if(n[r]instanceof RegExp?n[r].test(t):n[r]===t)return!0}return!1}return!1}};var T=function(e,t,n){if(e.attributes){var r,i,s,o=e.attributes,a=o.length;for(r=0;r<a;r++)if((i=o[r]).specified){if(i.namespaceURI){t.setAttributeNS(i.namespaceURI,i.nodeName,i.nodeValue);var c=i.nodeName.split(":").pop();s=t.getAttributeNodeNS(i.namespaceURI,c)}else t.setAttribute(i.nodeName,i.nodeValue),s=t.getAttributeNode(i.nodeName);"function"==typeof n&&n(i,s)}}return t};i.Node=function(e){this._childNodes=new i.NodeList,this._ownerDocument=e,this._attributes=new i.AttrNodeMap(e,this),this._nodeName=null,this._childrenList=null,this._version=0,this._nodeValue=null,this._parentNode=null,this._nodeName=null,this._readonly=!1},i.Node.ELEMENT_NODE=_,i.Node.ATTRIBUTE_NODE=2,i.Node.TEXT_NODE=3,i.Node.CDATA_SECTION_NODE=4,i.Node.ENTITY_REFERENCE_NODE=m,i.Node.ENTITY_NODE=6,i.Node.PROCESSING_INSTRUCTION_NODE=7,i.Node.COMMENT_NODE=8,i.Node.DOCUMENT_NODE=9,i.Node.DOCUMENT_TYPE_NODE=10,i.Node.DOCUMENT_FRAGMENT_NODE=11,i.Node.NOTATION_NODE=12,i.Node.prototype={ELEMENT_NODE:_,ATTRIBUTE_NODE:2,TEXT_NODE:3,CDATA_SECTION_NODE:4,ENTITY_REFERENCE_NODE:m,ENTITY_NODE:6,PROCESSING_INSTRUCTION_NODE:7,COMMENT_NODE:8,DOCUMENT_NODE:9,DOCUMENT_TYPE_NODE:10,DOCUMENT_FRAGMENT_NODE:11,NOTATION_NODE:12,get children(){if(!this._childrenList){var e=this;this._childrenList=new i.NodeList(this,function(){return Array.prototype.filter.call(e._childNodes,function(e){return e.tagName})})}return this._childrenList},get nodeValue(){return this._nodeValue},set nodeValue(e){if(!0===this._readonly)throw new i.DOMException(h,"Attempting to modify a read-only node");this._nodeValue=e},get parentNode(){return this._parentNode},get nodeName(){var e=this._nodeName||this._tagName;return this.nodeType===_&&this._ownerDocument&&this._ownerDocument._doctype&&-1!==this._ownerDocument._doctype.name.toLowerCase().indexOf("html")?e.toUpperCase():e},set nodeName(e){throw new i.DOMException},get attributes(){return this._attributes},get firstChild(){return this._childNodes.length>0?this._childNodes[0]:null},set firstChild(e){throw new i.DOMException},get ownerDocument(){return this._ownerDocument},get readonly(){return this._readonly},get lastChild(){var e=this._childNodes.length;return e>0?this._childNodes[e-1]:null},set lastChild(e){throw new i.DOMException},get childNodes(){return this._childNodes},set childNodes(e){throw new i.DOMException},_indexOf:function(e){if(!this._childNodes||!this._childNodes.length)return-1;for(var t,n=0,r=this._childNodes;(t=r[n])&&t!=e;)n++;return t==e?n:-1},get nextSibling(){if(!this._parentNode||!this._parentNode._indexOf)return null;var e=this._parentNode._indexOf(this);return-1==e||e+1>=this._parentNode._childNodes.length?null:this._parentNode._childNodes[e+1]||null},set nextSibling(e){throw new i.DOMException},get previousSibling(){if(!this._parentNode||!this._parentNode._indexOf)return null;var e=this._parentNode._indexOf(this);return-1==e||e-1<0?null:this._parentNode._childNodes[e-1]||null},set previousSibling(e){throw new i.DOMException},insertBefore:function(e,t){if(!0===this._readonly)throw new i.DOMException(h,"Attempting to modify a read-only node");if(e._ownerDocument||(e._ownerDocument=this._ownerDocument),e._ownerDocument!==this._ownerDocument)throw new i.DOMException(c);if(e.nodeType&&2===e.nodeType)throw new i.DOMException(a);var n=this;do{if(n===e)throw new i.DOMException(a)}while(n=n._parentNode);if(11===e.nodeType)for(var r;e._childNodes.length>0;)r=e.removeChild(e.firstChild),this.insertBefore(r,t);else{if(e===t)return e;if(e._parentNode&&e._parentNode.removeChild(e),null==t)var s=this._childNodes.length;else if(-1==(s=this._indexOf(t)))throw new i.DOMException(d);Array.prototype.splice.call(this._childNodes,s,0,e),e._parentNode=this,this._attached&&e._attach&&e._attach(),this._modified()}return e},_modified:function(){this._version++,this._ownerDocument&&this._ownerDocument._version++,this._childrenList&&this._childrenList._update()},_attrModified:function(e,t,i){if("id"==e&&this._attached){var s=this._ownerDocument;r(i,this,s),n(t,this,s)}if(e.length>2&&"o"==e[0]&&"n"==e[1])if(t){var o=this,a=void 0!==o.run?o:o._ownerDocument.parentWindow;o[e]=function(e){a.__tempContextForInlineEventHandler=o,a.__tempEvent=e,a.run("if ((function (event) {"+t+"}).call(window.__tempContextForInlineEventHandler, window.__tempEvent) === false) {window.__tempEvent.preventDefault()}"),delete a.__tempContextForInlineEventHandler,delete a.__tempEvent}}else this[e]=null},replaceChild:function(e,t){return this.insertBefore(e,t),this.removeChild(t)},_attach:function(){this._attached=!0,this.id&&n(this.id,this,this._ownerDocument);for(var e=0;e<this._childNodes.length;e++)this._childNodes[e]._attach&&this._childNodes[e]._attach()},_detach:function(){this._attached=!1,this.id&&r(this.id,this,this._ownerDocument);for(var e=0;e<this._childNodes.length;e++)this._childNodes[e]._detach()},removeChild:function(e){if(!0===this._readonly)throw new i.DOMException(h);var t=this._indexOf(e);if(-1==t)throw new i.DOMException(d);return Array.prototype.splice.call(this._childNodes,t,1),e._parentNode=null,this._modified(),e._detach(),e},appendChild:function(e){return this.insertBefore(e,null)},hasChildNodes:function(){return this._childNodes.length>0},cloneNode:function(e,t){var n=null;switch(this.nodeType){case this.ELEMENT_NODE:n=T(this,this._ownerDocument.createElement(this.tagName),t);break;case this.TEXT_NODE:(n=T(this,this._ownerDocument.createTextNode(this.tagName))).nodeValue=this.nodeValue;break;case this.CDATA_SECTION_NODE:(n=this._ownerDocument.createCDATASection(this.tagName)).nodeValue=this.nodeValue;break;case this.ENTITY_REFERENCE_NODE:var r=this._entity?this._entity.name:this._entityName,s=this._ownerDocument.createEntityReference(r);(n=T(this,s)).nodeValue=this.nodeValue;break;case this.ATTRIBUTE_NODE:n=this._ownerDocument.createAttribute(this.name);break;case this.ENTITY_NODE:var o=this._ownerDocument.createEntityNode(this.name);(n=T(this,o)).nodeValue=this.nodeValue,n._publicId=this._publicId,n._systemId=this._systemId,n._notationName=this.notationName;break;case this.PROCESSING_INSTRUCTION_NODE:var a=this._ownerDocument.createProcessingInstruction(this._target,this._data);(n=T(this,a)).nodeValue=this.nodeValue;break;case this.COMMENT_NODE:(n=this._ownerDocument.createComment(this.tagName)).nodeValue=this.nodeValue;break;case this.DOCUMENT_NODE:n=T(this,new i.Document);break;case this.DOCUMENT_TYPE_NODE:(n=T(this,new i.DocumentType)).nodeValue=this.nodeValue;break;case this.DOCUMENT_FRAGMENT_NODE:n=this._ownerDocument.createDocumentFragment();break;case this.NOTATION_NODE:n=this._ownerDocument.createNotationNode(this._name,this._publicId,this._systemId),(n=T(this,n)).nodeValue=this.nodeValue;break;default:throw new i.DOMException(d)}if("function"==typeof t&&t(this,n),e||2===this.nodeType)for(var c=null,u=0,l=this._childNodes.length;u<l;u++)if(2===(c=this._childNodes[u].cloneNode(!0)).nodeType)n.setAttributeNode(c);else{var h=n._readonly;n._readonly=!1,n.appendChild(c),n._readonly=h}return n},normalize:function(){var e,t,n;if(this._attributes&&this._attributes.length)for(n=0;n<this._attributes.length;n++)this._attributes.item(n)&&this._attributes.item(n).normalize();for(n=0;n<this._childNodes.length;n++)(t=this._childNodes[n]).normalize&&t.normalize(),""!==t.nodeValue?n>0&&(e=this._childNodes[n-1],3===t.nodeType&&3===e.nodeType&&(e.appendData(t.nodeValue),this.removeChild(t),n--)):(this.removeChild(t),n--)},toString:function(){var e="";if(this.id&&(e="#"+this.id),this.className)for(var t=this.className.split(/\s+/),n=0,r=t.length;n<r;n++)e+="."+t[n];return"[ "+this.tagName+e+" ]"},raise:function(e,t,n){if(n&&(n.exception?n.exception.stack:" - More:\n"+n),"error"===e){this.errors||(this.errors=[]);var r={type:e,message:t||"No message",data:n||null};this.errors.push(r),this._ownerDocument&&this._ownerDocument.raise&&this!==this._ownerDocument&&this._ownerDocument.raise(e,t,n)}}},i.NamedNodeMap=function(e){this._nodes=Object.create(null),this._nsStore={},this.length=0,this._ownerDocument=e,this._readonly=!1},i.NamedNodeMap.prototype={get readonly(){return this._readonly},get ownerDocument(){this._ownerDocument},exists:function(e){return!(!this._nodes[e]&&null!==this._nodes[e])},getNamedItem:function(e){return this._nodes[e]||null},setNamedItem:function(e){if(!0===this._readonly)throw new i.DOMException(h);if(e&&e._ownerDocument!==this._ownerDocument)throw new i.DOMException(c);if(e&&e._ownerElement)throw new i.DOMException(f);var t=e.name||e.tagName,n=this._nodes[t];return n||(this.length++,n=null),e._specified=!0,this[t]=this._nodes[t]=e,n},removeNamedItem:function(e){if(!0===this._readonly)throw new i.DOMException(h);if(!this._nodes[e])throw new i.DOMException(d);var t=this._nodes[e]||null;return delete this._nodes[e],delete this[e],this.length--,t},item:function(e){var t=0;for(var n in this._nodes){if(t===e&&this._nodes[n])return this._nodes[n];t++}return null}},i.AttrNodeMap=function(e,t){i.NamedNodeMap.call(this,e),this._parentNode=t},i.AttrNodeMap.prototype={get parentNode(){return this._parentNode},setNamedItem:function(e){var t=i.NamedNodeMap.prototype.setNamedItem.call(this,e),n=this._parentNode;return e._ownerElement=n,n._attrModified(e.name,e.value,t&&t.value||null),n._modified(),t},removeNamedItem:function(e){var t=i.NamedNodeMap.prototype.removeNamedItem.call(this,e),n=this._parentNode;t._ownerElement=null,n._attrModified(e),n._modified();var r=this._ownerDocument;if(r&&r._doctype&&"html"!==r._doctype.name.toLowerCase()){var s=!1,o=r._doctype._attributes.getNamedItem(this._parentNode.nodeName);if(o)if(s=o.attributes.getNamedItem(e)){var a=r.createAttribute(e);a.value=s.value,a._specified=!1,this._nodes[e]=a,this.length++}}return t}},i.AttrNodeMap.prototype.__proto__=i.NamedNodeMap.prototype,i.NotationNodeMap=function(e){i.NamedNodeMap.call(this,e),this._readonly=!1;for(var t=1;t<arguments.length;t++)this.setNamedItem(arguments[t]);this._readonly=!0},i.NotationNodeMap.prototype={},i.NotationNodeMap.prototype.__proto__=i.NamedNodeMap.prototype,i.EntityNodeMap=function(e){i.NamedNodeMap.call(this,e),this._readonly=!1;var t=1,n=arguments.length;for(t=1;t<n;t++)this.setNamedItem(arguments[t]);i.markTreeReadonly(this)},i.EntityNodeMap.prototype={},i.EntityNodeMap.prototype.__proto__=i.NamedNodeMap.prototype,i.Element=function(e,t){this._ownerDocument=e,i.Node.call(this,e),this._nodeName=t,this._tagName=t},i.Element.prototype={get nodeValue(){return null},set nodeValue(e){},get tagName(){return this.nodeType===_&&this._ownerDocument&&this._ownerDocument._doctype&&-1!==this._ownerDocument._doctype.name.toLowerCase().indexOf("html")?this.nodeName.toUpperCase():this.nodeName},nodeType:_,get attributes(){for(var e=0;e<this._attributes.length;e++)this._attributes[e]=this._attributes.item(e);return this._attributes},getAttribute:function(e){var t=this._attributes.getNamedItem(e);return t?t.value:null},setAttribute:function(e,t){if(this._ownerDocument){var n=this._ownerDocument.createAttribute(e);n.value=t,this._attributes.setNamedItem(n)}},removeAttribute:function(e){this._attributes.exists(e)&&this._attributes.removeNamedItem(e)},getAttributeNode:function(e){return this._attributes.getNamedItem(e)},setAttributeNode:function(e){var t=this._attributes.getNamedItem(e.name);return t&&(t._ownerElement=null),this._attributes.setNamedItem(e),t&&t.specified?t:null},removeAttributeNode:function(e){var t=this._attributes.getNamedItem(e.name);if(this._attributes&&t===e)return this._attributes.removeNamedItem(e.name),e;throw new i.DOMException(d)},getElementsByTagName:function(e){return e=e.toLowerCase(),new i.NodeList(this._ownerDocument||this,i.mapper(this,function(t){return!(!(t=t.nodeType===m?t._entity:t).nodeName||t.nodeType!==_||"*"!==e&&t.nodeName.toLowerCase()!==e)},!0))}},i.Element.prototype.__proto__=i.Node.prototype,i.DocumentFragment=function(e){i.Node.call(this,e),this._nodeName=this._tagName="#document-fragment"},i.DocumentFragment.prototype={nodeType:11,get nodeValue(){return null},set nodeValue(e){},get attributes(){return null}},i.DocumentFragment.prototype.__proto__=i.Node.prototype,i.ProcessingInstruction=function(e,t,n){this._ownerDocument=e,i.Node.call(this,e),this._nodeName=t,this._tagName=t,this._target=t,this._nodeValue=n},i.ProcessingInstruction.prototype={nodeType:7,get target(){return this._target},set target(e){throw new i.DOMException(1)},get nodeValue(){return this._nodeValue},set nodeValue(e){this._nodeValue=e},get data(){return this._nodeValue},set data(e){throw new i.DOMException(h)},get attributes(){return null}},i.ProcessingInstruction.prototype.__proto__=i.Node.prototype,i.Document=function(e){e?"string"==typeof e&&(e={name:e}):e={},i.Node.call(this,"#document"),this._nodeName=this._tagName="#document",this._contentType=e.contentType||"text/xml",this._doctype=e._doctype,this._implementation=e.implementation||new i.DOMImplementation,this._documentElement=null,this._ids=Object.create(null),this._attached=!0,this._ownerDocument=this,this._readonly=!1};var b=/[^\w:\d_\.-]+/i,v=/[^\w\d_\-&;]+/,E=/[\s"'>\/=\u0000-\u001A]/;i.Document.prototype={nodeType:9,_elementBuilders:{},_defaultElementBuilder:function(e,t){return new i.Element(e,t)},get contentType(){return this._contentType},get doctype(){return this._doctype||null},set doctype(e){this._doctype=e},get documentElement(){if(this._documentElement)return this._documentElement;for(var e=this._childNodes,t=this._childNodes.length,n=0;n<t;n++)if(e[n].nodeType===_)return this._documentElement=e[n],e[n];return null},get implementation(){return this._implementation},set implementation(e){this._implementation=e},get nodeName(){return"#document"},get tagName(){return null},get nodeValue(){return null},set nodeValue(e){},get attributes(){return null},get ownerDocument(){return null},get readonly(){return this._readonly},_createElementNoTagNameValidation:function(e){var t=e.toLowerCase(),n=(this._elementBuilders[t]||this._defaultElementBuilder)(this,e);if(this._doctype&&this._doctype._attributes&&"html"!==this._doctype.name.toLowerCase()){var r=this._doctype._attributes.getNamedItem(e);if(r&&r._childNodes)for(var i,s,o=r.attributes,a=o.length,c=0;c<a;c++)(s=o.item(c))&&((i=this.createAttribute(s.name)).value=s.value,n.setAttributeNode(i),i._specified=!1)}return n._created=!0,n},createElement:function(e){var t=[];if(0===(e=String(e)).length||(t=e.match(b)))throw new i.DOMException(u,"Invalid character in tag name: "+t.pop());return this._createElementNoTagNameValidation(e)},createDocumentFragment:function(){return new i.DocumentFragment(this)},createTextNode:function(e){return new i.Text(this,e)},createComment:function(e){return new i.Comment(this,e)},createCDATASection:function(e){if(this._doctype&&"html"===this._doctype.name)throw new i.DOMException(p);return new i.CDATASection(this,e)},createProcessingInstruction:function(e,t){if(this._doctype&&"html"===this._doctype.name)throw new i.DOMException(p);if(e.match(b)||!e||!e.length)throw new i.DOMException(u);return new i.ProcessingInstruction(this,e,t)},createAttribute:function(e){if(!e||!e.length||e.match(E))throw new i.DOMException(u,"attribute name: "+e);return new i.Attr(this,e,!1)},createEntityReference:function(e){if(this._doctype&&"html"===this._doctype.name)throw new i.DOMException(p);if(!(e=e.replace(/[&;]/g,""))||!e.length)throw new i.DOMException(u);if(e.match(b))throw new i.DOMException(u);var t;t=this._doctype&&this._doctype.entities?this._doctype.entities.getNamedItem(e):null;var n=new i.EntityReference(this,t);return n._entityName=e,n},createEntityNode:function(e){if(e.match(v)||!e||!e.length)throw new i.DOMException(u);var t=new i.Entity(this,e);t._readonly=!1;for(var n=1;n<arguments.length;n++)t.appendChild(arguments[n]);return i.markTreeReadonly(t),t},createNotationNode:function(e,t,n){if(e.match(v)||!e||!e.length)throw new i.DOMException(u);var r=new i.Notation(this,e,t,n);r._readonly=!1;for(var s=3;s<arguments.length;s++)r.appendChild(arguments[s]);return i.markTreeReadonly(r),r},appendChild:function(e){if(this.documentElement&&e.nodeType==_)throw new i.DOMException(a);return i.Node.prototype.appendChild.call(this,e)},removeChild:function(e){var t=i.Node.prototype.removeChild.call(this,e);return e==this._documentElement&&(this._documentElement=null),t},getElementsByTagName:function(e){return new i.NodeList(this.documentElement||this,i.mapper(this,function(t){if(t.nodeType&&t.nodeType===m&&(t=t._entity),t.nodeName&&t.nodeType===_){if("*"===e)return!0;if(t._ownerDocument&&t._ownerDocument._doctype&&t.nodeName.toLowerCase()===e.toLowerCase())return!0;if(t.nodeName.toLowerCase()===e.toLowerCase())return!0}return!1},!0))}},i.Document.prototype.__proto__=i.Node.prototype,i.CharacterData=function(e,t){i.Node.call(this,e),this._nodeValue=t+""},i.CharacterData.prototype={get data(){return this._nodeValue},set data(e){if(!0===this._readonly)throw new i.DOMException(h);this._nodeValue=e},get length(){return this._nodeValue.length||0},substringData:function(e,t){if(t<0||e<0||e>this._nodeValue.length)throw new i.DOMException(s);return this._nodeValue.length<e+t?this._nodeValue.substring(e):this._nodeValue.substring(e,e+t)},appendData:function(e){if(!0===this._readonly)throw new i.DOMException(h);return this._nodeValue+=e,this._nodeValue},insertData:function(e,t){if(!0===this._readonly)throw new i.DOMException(h);if(e<0||e>this._nodeValue.length)throw new i.DOMException(s);var n=this._nodeValue.substring(0,e),r=this._nodeValue.substring(e);this._nodeValue=n+t+r},deleteData:function(e,t){if(!0===this._readonly)throw new i.DOMException(h);if(e<0||e>this._nodeValue.length||t<0)throw new i.DOMException(s);var n=this._nodeValue.substring(0,e);this._nodeValue=e+t<this._nodeValue.length?n+this._nodeValue.substring(e+t):n},replaceData:function(e,t,n){if(!0===this._readonly)throw new i.DOMException(h);if(t=e+t>this._nodeValue.length?this.nodeValue.length-e:t,e<0||e>this._nodeValue.length||t<0)throw new i.DOMException(s);var r=this._nodeValue.substring(0,e),o=this._nodeValue.substring(e+t);this._nodeValue=r+n+o}},i.CharacterData.prototype.__proto__=i.Node.prototype,i.Attr=function(e,t,n){i.Node.call(this,e),this._nodeValue=n,this._name=t,this._specified=!!n,this._tagName=t,this._nodeName=t},i.Attr.prototype={nodeType:2,get nodeValue(){for(var e="",t=0,n=this._childNodes.length;t<n;t++){var r=this._childNodes[t];r.nodeType===m?e+=Array.prototype.reduce.call(r.childNodes,function(e,t){return e+(t.nodeValue||t)},""):e+=r.nodeValue}return e},set nodeValue(e){if(this._readonly)throw new i.DOMException(h);this._childNodes._resetTo([this._ownerDocument.createTextNode(e)]),this._modified(),this._specified=!0;var t=this._nodeValue;this._nodeValue=e,this._ownerElement&&this._ownerElement._attrModified(this._name,e,t)},get name(){return this._name},get specified(){return this._specified},get value(){return this.nodeValue},set value(e){this.nodeValue=e},get parentNode(){return null},get attributes(){return null},insertBefore:function(e,t){if(4===e.nodeType||e.nodeType===_)throw new i.DOMException(a);return i.Node.prototype.insertBefore.call(this,e,t)},appendChild:function(e){if(4===e.nodeType||e.nodeType===_)throw new i.DOMException(a);return i.Node.prototype.appendChild.call(this,e)}},i.Attr.prototype.__proto__=i.Node.prototype,i.Text=function(e,t,n){i.CharacterData.call(this,e,t),this._nodeName="#text",this._readonly=!!n},i.Text.prototype={nodeType:3,get attributes(){return null},splitText:function(e){if(this._readonly)throw new i.DOMException(h);if(e<0||e>this._nodeValue.length)throw new i.DOMException(s);var t=this._nodeValue.substring(e);this._nodeValue=this._nodeValue.substring(0,e);var n=this._ownerDocument.createTextNode(t);return this._parentNode.lastChild===this?this._parentNode.appendChild(n):this._parentNode.insertBefore(n,this.nextSibling),n},toString:function(){return this.nodeName}},i.Text.prototype.__proto__=i.CharacterData.prototype,i.Comment=function(e,t){i.Text.call(this,e,t),this._nodeName="#comment",this._tagName="#comment"},i.Comment.prototype={nodeType:8},i.Comment.prototype.__proto__=i.Text.prototype,i.CDATASection=function(e,t){i.Text.call(this,e,t),this._nodeName="#cdata-section"},i.CDATASection.prototype={nodeType:4},i.CDATASection.prototype.__proto__=i.Text.prototype,i.DocumentType=function(e,t,n,r,s){i.Node.call(this,e),this._name=t,this._tagName=t,this._nodeName=t,this._entities=n||new i.EntityNodeMap(e),this._notations=r||new i.NotationNodeMap(e),i.markTreeReadonly(this._notations),this._attributes=s||new i.AttrNodeMap(e)},i.DocumentType.prototype={nodeType:10,get nodeValue(){return null},set nodeValue(e){},get name(){return this._name},get entities(){return this._entities},get notations(){return this._notations},get attributes(){return null}},i.DocumentType.prototype.__proto__=i.Node.prototype,i.Notation=function(e,t,n,r){i.Node.call(this,e),this._name=t,this._nodeName=t,this._publicId=n||null,this._systemId=r||null,this._nodeValue=null},i.Notation.prototype={nodeType:12,get publicId(){return this._publicId},get systemId(){return this._systemId},get name(){return this._name||this._nodeName},get attributes(){return null},set nodeValue(e){},get nodeValue(){return this._nodeValue}},i.Notation.prototype.__proto__=i.Node.prototype,i.Entity=function(e,t){i.Node.call(this,e),this._name=t,this._nodeName=t,this._tagName=t,this._publicId=null,this._systemId=null,this._notationName=null,this._readonly=!0},i.Entity.prototype={nodeType:6,get nodeValue(){return null},set nodeValue(e){this._readonly},get name(){return this._name},get publicId(){return this._publicId},get systemId(){return this._systemId},set publicId(e){this._publicId=e},set systemId(e){this._systemId=e},set notationName(e){this._notationName=e},get notationName(){return this._notationName},get attributes(){return null}},i.Entity.prototype.__proto__=i.Node.prototype,i.EntityReference=function(e,t){i.Node.call(this,e),this._entity=t,this._nodeName=t?t.name:null,this._readonly=!0},i.EntityReference.prototype={nodeType:m,get nodeValue(){return this._entity?this._entity.nodeValue:null},set nodeValue(e){this._readonly},get attributes(){return null},get nodeName(){return this._entityName},get firstChild(){return this._entity.firstChild||null},get childNodes(){return this._entity.childNodes},get lastChild(){return this._entity.lastChild||null}},i.EntityReference.prototype.__proto__=i.Node.prototype,t.dom={level1:{core:i}}},function(e,t,n){var r=n(248),i=n(249),s=n(250);e.exports=function(e,t,n){return t==t?s(e,t,n):r(e,i,n)}},function(e,t,n){var r=n(125),i=n(127);e.exports=function(e){return null!=e&&i(e.length)&&!r(e)}},function(e,t,n){var r=n(77).Symbol;e.exports=r},function(e,t,n){var r=n(126),i="object"==typeof self&&self&&self.Object===Object&&self,s=r||i||Function("return this")();e.exports=s},function(e,t){e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},function(e,t){var n=Array.isArray;e.exports=n},function(e,t,n){var r=n(254);e.exports=function(e){var t=r(e),n=t%1;return t==t?n?t-n:t:0}},function(e,t,n){var r=n(41),i=n(29),s="[object Symbol]";e.exports=function(e){return"symbol"==typeof e||i(e)&&r(e)==s}},function(e,t){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}},function(e,t){e.exports=function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t,n){var r=n(273);e.exports=function(e,t,n){var i=e.length;return n=void 0===n?i:n,!t&&n>=i?e:r(e,t,n)}},function(e,t,n){var r=n(275),i=n(87),s=n(276);e.exports=function(e){return i(e)?s(e):r(e)}},function(e,t){var n=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");e.exports=function(e){return n.test(e)}},function(e,t,n){var r=n(53);e.exports=function(e){return null==e?"":r(e)}},function(e){e.exports=JSON.parse('{"Aacute":"","aacute":"","Abreve":"","abreve":"","ac":"","acd":"","acE":"","Acirc":"","acirc":"","acute":"","Acy":"","acy":"","AElig":"","aelig":"","af":"","Afr":"","afr":"","Agrave":"","agrave":"","alefsym":"","aleph":"","Alpha":"","alpha":"","Amacr":"","amacr":"","amalg":"","amp":"&","AMP":"&","andand":"","And":"","and":"","andd":"","andslope":"","andv":"","ang":"","ange":"","angle":"","angmsdaa":"","angmsdab":"","angmsdac":"","angmsdad":"","angmsdae":"","angmsdaf":"","angmsdag":"","angmsdah":"","angmsd":"","angrt":"","angrtvb":"","angrtvbd":"","angsph":"","angst":"","angzarr":"","Aogon":"","aogon":"","Aopf":"","aopf":"","apacir":"","ap":"","apE":"","ape":"","apid":"","apos":"\'","ApplyFunction":"","approx":"","approxeq":"","Aring":"","aring":"","Ascr":"","ascr":"","Assign":"","ast":"*","asymp":"","asympeq":"","Atilde":"","atilde":"","Auml":"","auml":"","awconint":"","awint":"","backcong":"","backepsilon":"","backprime":"","backsim":"","backsimeq":"","Backslash":"","Barv":"","barvee":"","barwed":"","Barwed":"","barwedge":"","bbrk":"","bbrktbrk":"","bcong":"","Bcy":"","bcy":"","bdquo":"","becaus":"","because":"","Because":"","bemptyv":"","bepsi":"","bernou":"","Bernoullis":"","Beta":"","beta":"","beth":"","between":"","Bfr":"","bfr":"","bigcap":"","bigcirc":"","bigcup":"","bigodot":"","bigoplus":"","bigotimes":"","bigsqcup":"","bigstar":"","bigtriangledown":"","bigtriangleup":"","biguplus":"","bigvee":"","bigwedge":"","bkarow":"","blacklozenge":"","blacksquare":"","blacktriangle":"","blacktriangledown":"","blacktriangleleft":"","blacktriangleright":"","blank":"","blk12":"","blk14":"","blk34":"","block":"","bne":"=","bnequiv":"","bNot":"","bnot":"","Bopf":"","bopf":"","bot":"","bottom":"","bowtie":"","boxbox":"","boxdl":"","boxdL":"","boxDl":"","boxDL":"","boxdr":"","boxdR":"","boxDr":"","boxDR":"","boxh":"","boxH":"","boxhd":"","boxHd":"","boxhD":"","boxHD":"","boxhu":"","boxHu":"","boxhU":"","boxHU":"","boxminus":"","boxplus":"","boxtimes":"","boxul":"","boxuL":"","boxUl":"","boxUL":"","boxur":"","boxuR":"","boxUr":"","boxUR":"","boxv":"","boxV":"","boxvh":"","boxvH":"","boxVh":"","boxVH":"","boxvl":"","boxvL":"","boxVl":"","boxVL":"","boxvr":"","boxvR":"","boxVr":"","boxVR":"","bprime":"","breve":"","Breve":"","brvbar":"","bscr":"","Bscr":"","bsemi":"","bsim":"","bsime":"","bsolb":"","bsol":"\\\\","bsolhsub":"","bull":"","bullet":"","bump":"","bumpE":"","bumpe":"","Bumpeq":"","bumpeq":"","Cacute":"","cacute":"","capand":"","capbrcup":"","capcap":"","cap":"","Cap":"","capcup":"","capdot":"","CapitalDifferentialD":"","caps":"","caret":"","caron":"","Cayleys":"","ccaps":"","Ccaron":"","ccaron":"","Ccedil":"","ccedil":"","Ccirc":"","ccirc":"","Cconint":"","ccups":"","ccupssm":"","Cdot":"","cdot":"","cedil":"","Cedilla":"","cemptyv":"","cent":"","centerdot":"","CenterDot":"","cfr":"","Cfr":"","CHcy":"","chcy":"","check":"","checkmark":"","Chi":"","chi":"","circ":"","circeq":"","circlearrowleft":"","circlearrowright":"","circledast":"","circledcirc":"","circleddash":"","CircleDot":"","circledR":"","circledS":"","CircleMinus":"","CirclePlus":"","CircleTimes":"","cir":"","cirE":"","cire":"","cirfnint":"","cirmid":"","cirscir":"","ClockwiseContourIntegral":"","CloseCurlyDoubleQuote":"","CloseCurlyQuote":"","clubs":"","clubsuit":"","colon":":","Colon":"","Colone":"","colone":"","coloneq":"","comma":",","commat":"@","comp":"","compfn":"","complement":"","complexes":"","cong":"","congdot":"","Congruent":"","conint":"","Conint":"","ContourIntegral":"","copf":"","Copf":"","coprod":"","Coproduct":"","copy":"","COPY":"","copysr":"","CounterClockwiseContourIntegral":"","crarr":"","cross":"","Cross":"","Cscr":"","cscr":"","csub":"","csube":"","csup":"","csupe":"","ctdot":"","cudarrl":"","cudarrr":"","cuepr":"","cuesc":"","cularr":"","cularrp":"","cupbrcap":"","cupcap":"","CupCap":"","cup":"","Cup":"","cupcup":"","cupdot":"","cupor":"","cups":"","curarr":"","curarrm":"","curlyeqprec":"","curlyeqsucc":"","curlyvee":"","curlywedge":"","curren":"","curvearrowleft":"","curvearrowright":"","cuvee":"","cuwed":"","cwconint":"","cwint":"","cylcty":"","dagger":"","Dagger":"","daleth":"","darr":"","Darr":"","dArr":"","dash":"","Dashv":"","dashv":"","dbkarow":"","dblac":"","Dcaron":"","dcaron":"","Dcy":"","dcy":"","ddagger":"","ddarr":"","DD":"","dd":"","DDotrahd":"","ddotseq":"","deg":"","Del":"","Delta":"","delta":"","demptyv":"","dfisht":"","Dfr":"","dfr":"","dHar":"","dharl":"","dharr":"","DiacriticalAcute":"","DiacriticalDot":"","DiacriticalDoubleAcute":"","DiacriticalGrave":"`","DiacriticalTilde":"","diam":"","diamond":"","Diamond":"","diamondsuit":"","diams":"","die":"","DifferentialD":"","digamma":"","disin":"","div":"","divide":"","divideontimes":"","divonx":"","DJcy":"","djcy":"","dlcorn":"","dlcrop":"","dollar":"$","Dopf":"","dopf":"","Dot":"","dot":"","DotDot":"","doteq":"","doteqdot":"","DotEqual":"","dotminus":"","dotplus":"","dotsquare":"","doublebarwedge":"","DoubleContourIntegral":"","DoubleDot":"","DoubleDownArrow":"","DoubleLeftArrow":"","DoubleLeftRightArrow":"","DoubleLeftTee":"","DoubleLongLeftArrow":"","DoubleLongLeftRightArrow":"","DoubleLongRightArrow":"","DoubleRightArrow":"","DoubleRightTee":"","DoubleUpArrow":"","DoubleUpDownArrow":"","DoubleVerticalBar":"","DownArrowBar":"","downarrow":"","DownArrow":"","Downarrow":"","DownArrowUpArrow":"","DownBreve":"","downdownarrows":"","downharpoonleft":"","downharpoonright":"","DownLeftRightVector":"","DownLeftTeeVector":"","DownLeftVectorBar":"","DownLeftVector":"","DownRightTeeVector":"","DownRightVectorBar":"","DownRightVector":"","DownTeeArrow":"","DownTee":"","drbkarow":"","drcorn":"","drcrop":"","Dscr":"","dscr":"","DScy":"","dscy":"","dsol":"","Dstrok":"","dstrok":"","dtdot":"","dtri":"","dtrif":"","duarr":"","duhar":"","dwangle":"","DZcy":"","dzcy":"","dzigrarr":"","Eacute":"","eacute":"","easter":"","Ecaron":"","ecaron":"","Ecirc":"","ecirc":"","ecir":"","ecolon":"","Ecy":"","ecy":"","eDDot":"","Edot":"","edot":"","eDot":"","ee":"","efDot":"","Efr":"","efr":"","eg":"","Egrave":"","egrave":"","egs":"","egsdot":"","el":"","Element":"","elinters":"","ell":"","els":"","elsdot":"","Emacr":"","emacr":"","empty":"","emptyset":"","EmptySmallSquare":"","emptyv":"","EmptyVerySmallSquare":"","emsp13":"","emsp14":"","emsp":"","ENG":"","eng":"","ensp":"","Eogon":"","eogon":"","Eopf":"","eopf":"","epar":"","eparsl":"","eplus":"","epsi":"","Epsilon":"","epsilon":"","epsiv":"","eqcirc":"","eqcolon":"","eqsim":"","eqslantgtr":"","eqslantless":"","Equal":"","equals":"=","EqualTilde":"","equest":"","Equilibrium":"","equiv":"","equivDD":"","eqvparsl":"","erarr":"","erDot":"","escr":"","Escr":"","esdot":"","Esim":"","esim":"","Eta":"","eta":"","ETH":"","eth":"","Euml":"","euml":"","euro":"","excl":"!","exist":"","Exists":"","expectation":"","exponentiale":"","ExponentialE":"","fallingdotseq":"","Fcy":"","fcy":"","female":"","ffilig":"","fflig":"","ffllig":"","Ffr":"","ffr":"","filig":"","FilledSmallSquare":"","FilledVerySmallSquare":"","fjlig":"fj","flat":"","fllig":"","fltns":"","fnof":"","Fopf":"","fopf":"","forall":"","ForAll":"","fork":"","forkv":"","Fouriertrf":"","fpartint":"","frac12":"","frac13":"","frac14":"","frac15":"","frac16":"","frac18":"","frac23":"","frac25":"","frac34":"","frac35":"","frac38":"","frac45":"","frac56":"","frac58":"","frac78":"","frasl":"","frown":"","fscr":"","Fscr":"","gacute":"","Gamma":"","gamma":"","Gammad":"","gammad":"","gap":"","Gbreve":"","gbreve":"","Gcedil":"","Gcirc":"","gcirc":"","Gcy":"","gcy":"","Gdot":"","gdot":"","ge":"","gE":"","gEl":"","gel":"","geq":"","geqq":"","geqslant":"","gescc":"","ges":"","gesdot":"","gesdoto":"","gesdotol":"","gesl":"","gesles":"","Gfr":"","gfr":"","gg":"","Gg":"","ggg":"","gimel":"","GJcy":"","gjcy":"","gla":"","gl":"","glE":"","glj":"","gnap":"","gnapprox":"","gne":"","gnE":"","gneq":"","gneqq":"","gnsim":"","Gopf":"","gopf":"","grave":"`","GreaterEqual":"","GreaterEqualLess":"","GreaterFullEqual":"","GreaterGreater":"","GreaterLess":"","GreaterSlantEqual":"","GreaterTilde":"","Gscr":"","gscr":"","gsim":"","gsime":"","gsiml":"","gtcc":"","gtcir":"","gt":">","GT":">","Gt":"","gtdot":"","gtlPar":"","gtquest":"","gtrapprox":"","gtrarr":"","gtrdot":"","gtreqless":"","gtreqqless":"","gtrless":"","gtrsim":"","gvertneqq":"","gvnE":"","Hacek":"","hairsp":"","half":"","hamilt":"","HARDcy":"","hardcy":"","harrcir":"","harr":"","hArr":"","harrw":"","Hat":"^","hbar":"","Hcirc":"","hcirc":"","hearts":"","heartsuit":"","hellip":"","hercon":"","hfr":"","Hfr":"","HilbertSpace":"","hksearow":"","hkswarow":"","hoarr":"","homtht":"","hookleftarrow":"","hookrightarrow":"","hopf":"","Hopf":"","horbar":"","HorizontalLine":"","hscr":"","Hscr":"","hslash":"","Hstrok":"","hstrok":"","HumpDownHump":"","HumpEqual":"","hybull":"","hyphen":"","Iacute":"","iacute":"","ic":"","Icirc":"","icirc":"","Icy":"","icy":"","Idot":"","IEcy":"","iecy":"","iexcl":"","iff":"","ifr":"","Ifr":"","Igrave":"","igrave":"","ii":"","iiiint":"","iiint":"","iinfin":"","iiota":"","IJlig":"","ijlig":"","Imacr":"","imacr":"","image":"","ImaginaryI":"","imagline":"","imagpart":"","imath":"","Im":"","imof":"","imped":"","Implies":"","incare":"","in":"","infin":"","infintie":"","inodot":"","intcal":"","int":"","Int":"","integers":"","Integral":"","intercal":"","Intersection":"","intlarhk":"","intprod":"","InvisibleComma":"","InvisibleTimes":"","IOcy":"","iocy":"","Iogon":"","iogon":"","Iopf":"","iopf":"","Iota":"","iota":"","iprod":"","iquest":"","iscr":"","Iscr":"","isin":"","isindot":"","isinE":"","isins":"","isinsv":"","isinv":"","it":"","Itilde":"","itilde":"","Iukcy":"","iukcy":"","Iuml":"","iuml":"","Jcirc":"","jcirc":"","Jcy":"","jcy":"","Jfr":"","jfr":"","jmath":"","Jopf":"","jopf":"","Jscr":"","jscr":"","Jsercy":"","jsercy":"","Jukcy":"","jukcy":"","Kappa":"","kappa":"","kappav":"","Kcedil":"","kcedil":"","Kcy":"","kcy":"","Kfr":"","kfr":"","kgreen":"","KHcy":"","khcy":"","KJcy":"","kjcy":"","Kopf":"","kopf":"","Kscr":"","kscr":"","lAarr":"","Lacute":"","lacute":"","laemptyv":"","lagran":"","Lambda":"","lambda":"","lang":"","Lang":"","langd":"","langle":"","lap":"","Laplacetrf":"","laquo":"","larrb":"","larrbfs":"","larr":"","Larr":"","lArr":"","larrfs":"","larrhk":"","larrlp":"","larrpl":"","larrsim":"","larrtl":"","latail":"","lAtail":"","lat":"","late":"","lates":"","lbarr":"","lBarr":"","lbbrk":"","lbrace":"{","lbrack":"[","lbrke":"","lbrksld":"","lbrkslu":"","Lcaron":"","lcaron":"","Lcedil":"","lcedil":"","lceil":"","lcub":"{","Lcy":"","lcy":"","ldca":"","ldquo":"","ldquor":"","ldrdhar":"","ldrushar":"","ldsh":"","le":"","lE":"","LeftAngleBracket":"","LeftArrowBar":"","leftarrow":"","LeftArrow":"","Leftarrow":"","LeftArrowRightArrow":"","leftarrowtail":"","LeftCeiling":"","LeftDoubleBracket":"","LeftDownTeeVector":"","LeftDownVectorBar":"","LeftDownVector":"","LeftFloor":"","leftharpoondown":"","leftharpoonup":"","leftleftarrows":"","leftrightarrow":"","LeftRightArrow":"","Leftrightarrow":"","leftrightarrows":"","leftrightharpoons":"","leftrightsquigarrow":"","LeftRightVector":"","LeftTeeArrow":"","LeftTee":"","LeftTeeVector":"","leftthreetimes":"","LeftTriangleBar":"","LeftTriangle":"","LeftTriangleEqual":"","LeftUpDownVector":"","LeftUpTeeVector":"","LeftUpVectorBar":"","LeftUpVector":"","LeftVectorBar":"","LeftVector":"","lEg":"","leg":"","leq":"","leqq":"","leqslant":"","lescc":"","les":"","lesdot":"","lesdoto":"","lesdotor":"","lesg":"","lesges":"","lessapprox":"","lessdot":"","lesseqgtr":"","lesseqqgtr":"","LessEqualGreater":"","LessFullEqual":"","LessGreater":"","lessgtr":"","LessLess":"","lesssim":"","LessSlantEqual":"","LessTilde":"","lfisht":"","lfloor":"","Lfr":"","lfr":"","lg":"","lgE":"","lHar":"","lhard":"","lharu":"","lharul":"","lhblk":"","LJcy":"","ljcy":"","llarr":"","ll":"","Ll":"","llcorner":"","Lleftarrow":"","llhard":"","lltri":"","Lmidot":"","lmidot":"","lmoustache":"","lmoust":"","lnap":"","lnapprox":"","lne":"","lnE":"","lneq":"","lneqq":"","lnsim":"","loang":"","loarr":"","lobrk":"","longleftarrow":"","LongLeftArrow":"","Longleftarrow":"","longleftrightarrow":"","LongLeftRightArrow":"","Longleftrightarrow":"","longmapsto":"","longrightarrow":"","LongRightArrow":"","Longrightarrow":"","looparrowleft":"","looparrowright":"","lopar":"","Lopf":"","lopf":"","loplus":"","lotimes":"","lowast":"","lowbar":"_","LowerLeftArrow":"","LowerRightArrow":"","loz":"","lozenge":"","lozf":"","lpar":"(","lparlt":"","lrarr":"","lrcorner":"","lrhar":"","lrhard":"","lrm":"","lrtri":"","lsaquo":"","lscr":"","Lscr":"","lsh":"","Lsh":"","lsim":"","lsime":"","lsimg":"","lsqb":"[","lsquo":"","lsquor":"","Lstrok":"","lstrok":"","ltcc":"","ltcir":"","lt":"<","LT":"<","Lt":"","ltdot":"","lthree":"","ltimes":"","ltlarr":"","ltquest":"","ltri":"","ltrie":"","ltrif":"","ltrPar":"","lurdshar":"","luruhar":"","lvertneqq":"","lvnE":"","macr":"","male":"","malt":"","maltese":"","Map":"","map":"","mapsto":"","mapstodown":"","mapstoleft":"","mapstoup":"","marker":"","mcomma":"","Mcy":"","mcy":"","mdash":"","mDDot":"","measuredangle":"","MediumSpace":"","Mellintrf":"","Mfr":"","mfr":"","mho":"","micro":"","midast":"*","midcir":"","mid":"","middot":"","minusb":"","minus":"","minusd":"","minusdu":"","MinusPlus":"","mlcp":"","mldr":"","mnplus":"","models":"","Mopf":"","mopf":"","mp":"","mscr":"","Mscr":"","mstpos":"","Mu":"","mu":"","multimap":"","mumap":"","nabla":"","Nacute":"","nacute":"","nang":"","nap":"","napE":"","napid":"","napos":"","napprox":"","natural":"","naturals":"","natur":"","nbsp":"","nbump":"","nbumpe":"","ncap":"","Ncaron":"","ncaron":"","Ncedil":"","ncedil":"","ncong":"","ncongdot":"","ncup":"","Ncy":"","ncy":"","ndash":"","nearhk":"","nearr":"","neArr":"","nearrow":"","ne":"","nedot":"","NegativeMediumSpace":"","NegativeThickSpace":"","NegativeThinSpace":"","NegativeVeryThinSpace":"","nequiv":"","nesear":"","nesim":"","NestedGreaterGreater":"","NestedLessLess":"","NewLine":"\\n","nexist":"","nexists":"","Nfr":"","nfr":"","ngE":"","nge":"","ngeq":"","ngeqq":"","ngeqslant":"","nges":"","nGg":"","ngsim":"","nGt":"","ngt":"","ngtr":"","nGtv":"","nharr":"","nhArr":"","nhpar":"","ni":"","nis":"","nisd":"","niv":"","NJcy":"","njcy":"","nlarr":"","nlArr":"","nldr":"","nlE":"","nle":"","nleftarrow":"","nLeftarrow":"","nleftrightarrow":"","nLeftrightarrow":"","nleq":"","nleqq":"","nleqslant":"","nles":"","nless":"","nLl":"","nlsim":"","nLt":"","nlt":"","nltri":"","nltrie":"","nLtv":"","nmid":"","NoBreak":"","NonBreakingSpace":"","nopf":"","Nopf":"","Not":"","not":"","NotCongruent":"","NotCupCap":"","NotDoubleVerticalBar":"","NotElement":"","NotEqual":"","NotEqualTilde":"","NotExists":"","NotGreater":"","NotGreaterEqual":"","NotGreaterFullEqual":"","NotGreaterGreater":"","NotGreaterLess":"","NotGreaterSlantEqual":"","NotGreaterTilde":"","NotHumpDownHump":"","NotHumpEqual":"","notin":"","notindot":"","notinE":"","notinva":"","notinvb":"","notinvc":"","NotLeftTriangleBar":"","NotLeftTriangle":"","NotLeftTriangleEqual":"","NotLess":"","NotLessEqual":"","NotLessGreater":"","NotLessLess":"","NotLessSlantEqual":"","NotLessTilde":"","NotNestedGreaterGreater":"","NotNestedLessLess":"","notni":"","notniva":"","notnivb":"","notnivc":"","NotPrecedes":"","NotPrecedesEqual":"","NotPrecedesSlantEqual":"","NotReverseElement":"","NotRightTriangleBar":"","NotRightTriangle":"","NotRightTriangleEqual":"","NotSquareSubset":"","NotSquareSubsetEqual":"","NotSquareSuperset":"","NotSquareSupersetEqual":"","NotSubset":"","NotSubsetEqual":"","NotSucceeds":"","NotSucceedsEqual":"","NotSucceedsSlantEqual":"","NotSucceedsTilde":"","NotSuperset":"","NotSupersetEqual":"","NotTilde":"","NotTildeEqual":"","NotTildeFullEqual":"","NotTildeTilde":"","NotVerticalBar":"","nparallel":"","npar":"","nparsl":"","npart":"","npolint":"","npr":"","nprcue":"","nprec":"","npreceq":"","npre":"","nrarrc":"","nrarr":"","nrArr":"","nrarrw":"","nrightarrow":"","nRightarrow":"","nrtri":"","nrtrie":"","nsc":"","nsccue":"","nsce":"","Nscr":"","nscr":"","nshortmid":"","nshortparallel":"","nsim":"","nsime":"","nsimeq":"","nsmid":"","nspar":"","nsqsube":"","nsqsupe":"","nsub":"","nsubE":"","nsube":"","nsubset":"","nsubseteq":"","nsubseteqq":"","nsucc":"","nsucceq":"","nsup":"","nsupE":"","nsupe":"","nsupset":"","nsupseteq":"","nsupseteqq":"","ntgl":"","Ntilde":"","ntilde":"","ntlg":"","ntriangleleft":"","ntrianglelefteq":"","ntriangleright":"","ntrianglerighteq":"","Nu":"","nu":"","num":"#","numero":"","numsp":"","nvap":"","nvdash":"","nvDash":"","nVdash":"","nVDash":"","nvge":"","nvgt":">","nvHarr":"","nvinfin":"","nvlArr":"","nvle":"","nvlt":"<","nvltrie":"","nvrArr":"","nvrtrie":"","nvsim":"","nwarhk":"","nwarr":"","nwArr":"","nwarrow":"","nwnear":"","Oacute":"","oacute":"","oast":"","Ocirc":"","ocirc":"","ocir":"","Ocy":"","ocy":"","odash":"","Odblac":"","odblac":"","odiv":"","odot":"","odsold":"","OElig":"","oelig":"","ofcir":"","Ofr":"","ofr":"","ogon":"","Ograve":"","ograve":"","ogt":"","ohbar":"","ohm":"","oint":"","olarr":"","olcir":"","olcross":"","oline":"","olt":"","Omacr":"","omacr":"","Omega":"","omega":"","Omicron":"","omicron":"","omid":"","ominus":"","Oopf":"","oopf":"","opar":"","OpenCurlyDoubleQuote":"","OpenCurlyQuote":"","operp":"","oplus":"","orarr":"","Or":"","or":"","ord":"","order":"","orderof":"","ordf":"","ordm":"","origof":"","oror":"","orslope":"","orv":"","oS":"","Oscr":"","oscr":"","Oslash":"","oslash":"","osol":"","Otilde":"","otilde":"","otimesas":"","Otimes":"","otimes":"","Ouml":"","ouml":"","ovbar":"","OverBar":"","OverBrace":"","OverBracket":"","OverParenthesis":"","para":"","parallel":"","par":"","parsim":"","parsl":"","part":"","PartialD":"","Pcy":"","pcy":"","percnt":"%","period":".","permil":"","perp":"","pertenk":"","Pfr":"","pfr":"","Phi":"","phi":"","phiv":"","phmmat":"","phone":"","Pi":"","pi":"","pitchfork":"","piv":"","planck":"","planckh":"","plankv":"","plusacir":"","plusb":"","pluscir":"","plus":"+","plusdo":"","plusdu":"","pluse":"","PlusMinus":"","plusmn":"","plussim":"","plustwo":"","pm":"","Poincareplane":"","pointint":"","popf":"","Popf":"","pound":"","prap":"","Pr":"","pr":"","prcue":"","precapprox":"","prec":"","preccurlyeq":"","Precedes":"","PrecedesEqual":"","PrecedesSlantEqual":"","PrecedesTilde":"","preceq":"","precnapprox":"","precneqq":"","precnsim":"","pre":"","prE":"","precsim":"","prime":"","Prime":"","primes":"","prnap":"","prnE":"","prnsim":"","prod":"","Product":"","profalar":"","profline":"","profsurf":"","prop":"","Proportional":"","Proportion":"","propto":"","prsim":"","prurel":"","Pscr":"","pscr":"","Psi":"","psi":"","puncsp":"","Qfr":"","qfr":"","qint":"","qopf":"","Qopf":"","qprime":"","Qscr":"","qscr":"","quaternions":"","quatint":"","quest":"?","questeq":"","quot":"\\"","QUOT":"\\"","rAarr":"","race":"","Racute":"","racute":"","radic":"","raemptyv":"","rang":"","Rang":"","rangd":"","range":"","rangle":"","raquo":"","rarrap":"","rarrb":"","rarrbfs":"","rarrc":"","rarr":"","Rarr":"","rArr":"","rarrfs":"","rarrhk":"","rarrlp":"","rarrpl":"","rarrsim":"","Rarrtl":"","rarrtl":"","rarrw":"","ratail":"","rAtail":"","ratio":"","rationals":"","rbarr":"","rBarr":"","RBarr":"","rbbrk":"","rbrace":"}","rbrack":"]","rbrke":"","rbrksld":"","rbrkslu":"","Rcaron":"","rcaron":"","Rcedil":"","rcedil":"","rceil":"","rcub":"}","Rcy":"","rcy":"","rdca":"","rdldhar":"","rdquo":"","rdquor":"","rdsh":"","real":"","realine":"","realpart":"","reals":"","Re":"","rect":"","reg":"","REG":"","ReverseElement":"","ReverseEquilibrium":"","ReverseUpEquilibrium":"","rfisht":"","rfloor":"","rfr":"","Rfr":"","rHar":"","rhard":"","rharu":"","rharul":"","Rho":"","rho":"","rhov":"","RightAngleBracket":"","RightArrowBar":"","rightarrow":"","RightArrow":"","Rightarrow":"","RightArrowLeftArrow":"","rightarrowtail":"","RightCeiling":"","RightDoubleBracket":"","RightDownTeeVector":"","RightDownVectorBar":"","RightDownVector":"","RightFloor":"","rightharpoondown":"","rightharpoonup":"","rightleftarrows":"","rightleftharpoons":"","rightrightarrows":"","rightsquigarrow":"","RightTeeArrow":"","RightTee":"","RightTeeVector":"","rightthreetimes":"","RightTriangleBar":"","RightTriangle":"","RightTriangleEqual":"","RightUpDownVector":"","RightUpTeeVector":"","RightUpVectorBar":"","RightUpVector":"","RightVectorBar":"","RightVector":"","ring":"","risingdotseq":"","rlarr":"","rlhar":"","rlm":"","rmoustache":"","rmoust":"","rnmid":"","roang":"","roarr":"","robrk":"","ropar":"","ropf":"","Ropf":"","roplus":"","rotimes":"","RoundImplies":"","rpar":")","rpargt":"","rppolint":"","rrarr":"","Rrightarrow":"","rsaquo":"","rscr":"","Rscr":"","rsh":"","Rsh":"","rsqb":"]","rsquo":"","rsquor":"","rthree":"","rtimes":"","rtri":"","rtrie":"","rtrif":"","rtriltri":"","RuleDelayed":"","ruluhar":"","rx":"","Sacute":"","sacute":"","sbquo":"","scap":"","Scaron":"","scaron":"","Sc":"","sc":"","sccue":"","sce":"","scE":"","Scedil":"","scedil":"","Scirc":"","scirc":"","scnap":"","scnE":"","scnsim":"","scpolint":"","scsim":"","Scy":"","scy":"","sdotb":"","sdot":"","sdote":"","searhk":"","searr":"","seArr":"","searrow":"","sect":"","semi":";","seswar":"","setminus":"","setmn":"","sext":"","Sfr":"","sfr":"","sfrown":"","sharp":"","SHCHcy":"","shchcy":"","SHcy":"","shcy":"","ShortDownArrow":"","ShortLeftArrow":"","shortmid":"","shortparallel":"","ShortRightArrow":"","ShortUpArrow":"","shy":"","Sigma":"","sigma":"","sigmaf":"","sigmav":"","sim":"","simdot":"","sime":"","simeq":"","simg":"","simgE":"","siml":"","simlE":"","simne":"","simplus":"","simrarr":"","slarr":"","SmallCircle":"","smallsetminus":"","smashp":"","smeparsl":"","smid":"","smile":"","smt":"","smte":"","smtes":"","SOFTcy":"","softcy":"","solbar":"","solb":"","sol":"/","Sopf":"","sopf":"","spades":"","spadesuit":"","spar":"","sqcap":"","sqcaps":"","sqcup":"","sqcups":"","Sqrt":"","sqsub":"","sqsube":"","sqsubset":"","sqsubseteq":"","sqsup":"","sqsupe":"","sqsupset":"","sqsupseteq":"","square":"","Square":"","SquareIntersection":"","SquareSubset":"","SquareSubsetEqual":"","SquareSuperset":"","SquareSupersetEqual":"","SquareUnion":"","squarf":"","squ":"","squf":"","srarr":"","Sscr":"","sscr":"","ssetmn":"","ssmile":"","sstarf":"","Star":"","star":"","starf":"","straightepsilon":"","straightphi":"","strns":"","sub":"","Sub":"","subdot":"","subE":"","sube":"","subedot":"","submult":"","subnE":"","subne":"","subplus":"","subrarr":"","subset":"","Subset":"","subseteq":"","subseteqq":"","SubsetEqual":"","subsetneq":"","subsetneqq":"","subsim":"","subsub":"","subsup":"","succapprox":"","succ":"","succcurlyeq":"","Succeeds":"","SucceedsEqual":"","SucceedsSlantEqual":"","SucceedsTilde":"","succeq":"","succnapprox":"","succneqq":"","succnsim":"","succsim":"","SuchThat":"","sum":"","Sum":"","sung":"","sup1":"","sup2":"","sup3":"","sup":"","Sup":"","supdot":"","supdsub":"","supE":"","supe":"","supedot":"","Superset":"","SupersetEqual":"","suphsol":"","suphsub":"","suplarr":"","supmult":"","supnE":"","supne":"","supplus":"","supset":"","Supset":"","supseteq":"","supseteqq":"","supsetneq":"","supsetneqq":"","supsim":"","supsub":"","supsup":"","swarhk":"","swarr":"","swArr":"","swarrow":"","swnwar":"","szlig":"","Tab":"\\t","target":"","Tau":"","tau":"","tbrk":"","Tcaron":"","tcaron":"","Tcedil":"","tcedil":"","Tcy":"","tcy":"","tdot":"","telrec":"","Tfr":"","tfr":"","there4":"","therefore":"","Therefore":"","Theta":"","theta":"","thetasym":"","thetav":"","thickapprox":"","thicksim":"","ThickSpace":"","ThinSpace":"","thinsp":"","thkap":"","thksim":"","THORN":"","thorn":"","tilde":"","Tilde":"","TildeEqual":"","TildeFullEqual":"","TildeTilde":"","timesbar":"","timesb":"","times":"","timesd":"","tint":"","toea":"","topbot":"","topcir":"","top":"","Topf":"","topf":"","topfork":"","tosa":"","tprime":"","trade":"","TRADE":"","triangle":"","triangledown":"","triangleleft":"","trianglelefteq":"","triangleq":"","triangleright":"","trianglerighteq":"","tridot":"","trie":"","triminus":"","TripleDot":"","triplus":"","trisb":"","tritime":"","trpezium":"","Tscr":"","tscr":"","TScy":"","tscy":"","TSHcy":"","tshcy":"","Tstrok":"","tstrok":"","twixt":"","twoheadleftarrow":"","twoheadrightarrow":"","Uacute":"","uacute":"","uarr":"","Uarr":"","uArr":"","Uarrocir":"","Ubrcy":"","ubrcy":"","Ubreve":"","ubreve":"","Ucirc":"","ucirc":"","Ucy":"","ucy":"","udarr":"","Udblac":"","udblac":"","udhar":"","ufisht":"","Ufr":"","ufr":"","Ugrave":"","ugrave":"","uHar":"","uharl":"","uharr":"","uhblk":"","ulcorn":"","ulcorner":"","ulcrop":"","ultri":"","Umacr":"","umacr":"","uml":"","UnderBar":"_","UnderBrace":"","UnderBracket":"","UnderParenthesis":"","Union":"","UnionPlus":"","Uogon":"","uogon":"","Uopf":"","uopf":"","UpArrowBar":"","uparrow":"","UpArrow":"","Uparrow":"","UpArrowDownArrow":"","updownarrow":"","UpDownArrow":"","Updownarrow":"","UpEquilibrium":"","upharpoonleft":"","upharpoonright":"","uplus":"","UpperLeftArrow":"","UpperRightArrow":"","upsi":"","Upsi":"","upsih":"","Upsilon":"","upsilon":"","UpTeeArrow":"","UpTee":"","upuparrows":"","urcorn":"","urcorner":"","urcrop":"","Uring":"","uring":"","urtri":"","Uscr":"","uscr":"","utdot":"","Utilde":"","utilde":"","utri":"","utrif":"","uuarr":"","Uuml":"","uuml":"","uwangle":"","vangrt":"","varepsilon":"","varkappa":"","varnothing":"","varphi":"","varpi":"","varpropto":"","varr":"","vArr":"","varrho":"","varsigma":"","varsubsetneq":"","varsubsetneqq":"","varsupsetneq":"","varsupsetneqq":"","vartheta":"","vartriangleleft":"","vartriangleright":"","vBar":"","Vbar":"","vBarv":"","Vcy":"","vcy":"","vdash":"","vDash":"","Vdash":"","VDash":"","Vdashl":"","veebar":"","vee":"","Vee":"","veeeq":"","vellip":"","verbar":"|","Verbar":"","vert":"|","Vert":"","VerticalBar":"","VerticalLine":"|","VerticalSeparator":"","VerticalTilde":"","VeryThinSpace":"","Vfr":"","vfr":"","vltri":"","vnsub":"","vnsup":"","Vopf":"","vopf":"","vprop":"","vrtri":"","Vscr":"","vscr":"","vsubnE":"","vsubne":"","vsupnE":"","vsupne":"","Vvdash":"","vzigzag":"","Wcirc":"","wcirc":"","wedbar":"","wedge":"","Wedge":"","wedgeq":"","weierp":"","Wfr":"","wfr":"","Wopf":"","wopf":"","wp":"","wr":"","wreath":"","Wscr":"","wscr":"","xcap":"","xcirc":"","xcup":"","xdtri":"","Xfr":"","xfr":"","xharr":"","xhArr":"","Xi":"","xi":"","xlarr":"","xlArr":"","xmap":"","xnis":"","xodot":"","Xopf":"","xopf":"","xoplus":"","xotime":"","xrarr":"","xrArr":"","Xscr":"","xscr":"","xsqcup":"","xuplus":"","xutri":"","xvee":"","xwedge":"","Yacute":"","yacute":"","YAcy":"","yacy":"","Ycirc":"","ycirc":"","Ycy":"","ycy":"","yen":"","Yfr":"","yfr":"","YIcy":"","yicy":"","Yopf":"","yopf":"","Yscr":"","yscr":"","YUcy":"","yucy":"","yuml":"","Yuml":"","Zacute":"","zacute":"","Zcaron":"","zcaron":"","Zcy":"","zcy":"","Zdot":"","zdot":"","zeetrf":"","ZeroWidthSpace":"","Zeta":"","zeta":"","zfr":"","Zfr":"","ZHcy":"","zhcy":"","zigrarr":"","zopf":"","Zopf":"","Zscr":"","zscr":"","zwj":"","zwnj":""}')},function(e){e.exports=JSON.parse('{"amp":"&","apos":"\'","gt":">","lt":"<","quot":"\\""}')},function(e,t,n){"use strict";var r=n(31).codes.ERR_STREAM_PREMATURE_CLOSE;function i(){}e.exports=function e(t,n,s){if("function"==typeof n)return e(t,null,n);n||(n={}),s=function(e){var t=!1;return function(){if(!t){t=!0;for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];e.apply(this,r)}}}(s||i);var o=n.readable||!1!==n.readable&&t.readable,a=n.writable||!1!==n.writable&&t.writable,c=function(){t.writable||l()},u=t._writableState&&t._writableState.finished,l=function(){a=!1,u=!0,o||s.call(t)},h=t._readableState&&t._readableState.endEmitted,d=function(){o=!1,h=!0,a||s.call(t)},p=function(e){s.call(t,e)},f=function(){var e;return o&&!h?(t._readableState&&t._readableState.ended||(e=new r),s.call(t,e)):a&&!u?(t._writableState&&t._writableState.ended||(e=new r),s.call(t,e)):void 0},_=function(){t.req.on("finish",l)};return function(e){return e.setHeader&&"function"==typeof e.abort}(t)?(t.on("complete",l),t.on("abort",f),t.req?_():t.on("request",_)):a&&!t._writableState&&(t.on("end",c),t.on("close",c)),t.on("end",d),t.on("finish",l),!1!==n.error&&t.on("error",p),t.on("close",f),function(){t.removeListener("complete",l),t.removeListener("abort",f),t.removeListener("request",_),t.req&&t.req.removeListener("finish",l),t.removeListener("end",c),t.removeListener("close",c),t.removeListener("finish",l),t.removeListener("end",d),t.removeListener("error",p),t.removeListener("close",f)}}},function(e,t,n){"use strict";e.exports=Object.assign({},n(152),n(153),n(156),n(370),n(372),n(378),n(12),n(386),n(388),n(390),n(24),n(58));const r=n(14);Object.getOwnPropertyDescriptor(r,"promises")&&Object.defineProperty(e.exports,"promises",{get:()=>r.promises})},function(e,t){e.exports=require("constants")},function(e,t,n){"use strict";const r=n(11).fromCallback,i=n(379);e.exports={readJson:r(i.readFile),readJsonSync:i.readFileSync,writeJson:r(i.writeFile),writeJsonSync:i.writeFileSync}},function(e,t,n){"use strict";const r=n(96);e.exports=(e,t={})=>{let n=(e,i={})=>{let s=t.escapeInvalid&&r.isInvalidBrace(i),o=!0===e.invalid&&!0===t.escapeInvalid,a="";if(e.value)return(s||o)&&r.isOpenOrClose(e)?"\\"+e.value:e.value;if(e.value)return e.value;if(e.nodes)for(let t of e.nodes)a+=n(t);return a};return n(e)}},function(e,t,n){"use strict";t.isInteger=e=>"number"==typeof e?Number.isInteger(e):"string"==typeof e&&""!==e.trim()&&Number.isInteger(Number(e)),t.find=(e,t)=>e.nodes.find(e=>e.type===t),t.exceedsLimit=(e,n,r=1,i)=>!1!==i&&(!(!t.isInteger(e)||!t.isInteger(n))&&(Number(n)-Number(e))/Number(r)>=i),t.escapeNode=(e,t=0,n)=>{let r=e.nodes[t];r&&(n&&r.type===n||"open"===r.type||"close"===r.type)&&!0!==r.escaped&&(r.value="\\"+r.value,r.escaped=!0)},t.encloseBrace=e=>"brace"===e.type&&(e.commas>>0+e.ranges>>0==0&&(e.invalid=!0,!0)),t.isInvalidBrace=e=>"brace"===e.type&&(!(!0!==e.invalid&&!e.dollar)||(e.commas>>0+e.ranges>>0==0?(e.invalid=!0,!0):(!0!==e.open||!0!==e.close)&&(e.invalid=!0,!0))),t.isOpenOrClose=e=>"open"===e.type||"close"===e.type||(!0===e.open||!0===e.close),t.reduce=e=>e.reduce((e,t)=>("text"===t.type&&e.push(t.value),"range"===t.type&&(t.type="text"),e),[]),t.flatten=(...e)=>{const t=[],n=e=>{for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?n(i,t):void 0!==i&&t.push(i)}return t};return n(e),t}},function(e,t,n){"use strict";const r=n(0),i="win32"===process.platform,{REGEX_SPECIAL_CHARS:s,REGEX_SPECIAL_CHARS_GLOBAL:o}=n(59);t.isObject=e=>null!==e&&"object"==typeof e&&!Array.isArray(e),t.hasRegexChars=e=>s.test(e),t.isRegexChar=e=>1===e.length&&t.hasRegexChars(e),t.escapeRegex=e=>e.replace(o,"\\$1"),t.toPosixSlashes=e=>e.replace(/\\/g,"/"),t.isWindows=e=>e&&"boolean"==typeof e.windows?e.windows:!0===i||"\\"===r.sep,t.escapeLast=(e,n,r)=>{let i=e.lastIndexOf(n,r);return-1===i?e:"\\"===e[i-1]?t.escapeLast(e,n,i-1):e.slice(0,i)+"\\"+e.slice(i)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(419),i=n(422),s=n(423);function o(e={}){return e instanceof s.default?e:new s.default(e)}t.Settings=s.default,t.scandir=function(e,t,n){if("function"==typeof t)return r.read(e,o(),t);r.read(e,o(t),n)},t.scandirSync=function(e,t){const n=o(t);return i.read(e,n)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isFatalError=function(e,t){return null===e.errorFilter||!e.errorFilter(t)},t.isAppliedFilter=function(e,t){return null===e||e(t)},t.replacePathSegmentSeparator=function(e,t){return e.split(/[\\\/]/).join(t)},t.joinPathSegments=function(e,t,n){return""===e?t:e+n+t}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(0),i=n(431),s=n(432),o=n(433),a=n(434);t.default=class{constructor(e){this._settings=e,this.errorFilter=new o.default(this._settings),this.entryFilter=new s.default(this._settings,this._getMicromatchOptions()),this.deepFilter=new i.default(this._settings,this._getMicromatchOptions()),this.entryTransformer=new a.default(this._settings)}_getRootDirectory(e){return r.resolve(this._settings.cwd,e.base)}_getReaderOptions(e){const t="."===e.base?"":e.base;return{basePath:t,pathSegmentSeparator:"/",concurrency:this._settings.concurrency,deepFilter:this.deepFilter.getFilter(t,e.positive,e.negative),entryFilter:this.entryFilter.getFilter(e.positive,e.negative),errorFilter:this.errorFilter.getFilter(),followSymbolicLinks:this._settings.followSymbolicLinks,fs:this._settings.fs,stats:this._settings.stats,throwErrorOnBrokenSymbolicLink:this._settings.throwErrorOnBrokenSymbolicLink,transform:this.entryTransformer.getTransformer()}}_getMicromatchOptions(){return{dot:this._settings.dot,matchBase:this._settings.baseNameMatch,nobrace:!this._settings.braceExpansion,nocase:!this._settings.caseSensitiveMatch,noext:!this._settings.extglob,noglobstar:!this._settings.globstar,posix:!0,strictSlashes:!1}}}},function(e,t,n){"use strict";if(Object.defineProperty(t,"__esModule",{value:!0}),t.IsInitialized=!process.env.APPLICATION_INSIGHTS_NO_DIAGNOSTIC_CHANNEL,t.IsInitialized){var r=n(445),i=(process.env.APPLICATION_INSIGHTS_NO_PATCH_MODULES||"").split(","),s={bunyan:r.bunyan,console:r.console,mongodb:r.mongodb,mongodbCore:r.mongodbCore,mysql:r.mysql,redis:r.redis,pg:r.pg,pgPool:r.pgPool,winston:r.winston};for(var o in s)-1===i.indexOf(o)&&s[o].enable()}t.registerContextPreservation=function(e){t.IsInitialized&&n(5).channel.addContextPreservation(e)}},function(e,t){var n;t=e.exports=W,n="object"==typeof process&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?function(){var e=Array.prototype.slice.call(arguments,0);e.unshift("SEMVER"),console.log.apply(console,e)}:function(){},t.SEMVER_SPEC_VERSION="2.0.0";var r=256,i=Number.MAX_SAFE_INTEGER||9007199254740991,s=t.re=[],o=t.src=[],a=0,c=a++;o[c]="0|[1-9]\\d*";var u=a++;o[u]="[0-9]+";var l=a++;o[l]="\\d*[a-zA-Z-][a-zA-Z0-9-]*";var h=a++;o[h]="("+o[c]+")\\.("+o[c]+")\\.("+o[c]+")";var d=a++;o[d]="("+o[u]+")\\.("+o[u]+")\\.("+o[u]+")";var p=a++;o[p]="(?:"+o[c]+"|"+o[l]+")";var f=a++;o[f]="(?:"+o[u]+"|"+o[l]+")";var _=a++;o[_]="(?:-("+o[p]+"(?:\\."+o[p]+")*))";var m=a++;o[m]="(?:-?("+o[f]+"(?:\\."+o[f]+")*))";var g=a++;o[g]="[0-9A-Za-z-]+";var y=a++;o[y]="(?:\\+("+o[g]+"(?:\\."+o[g]+")*))";var T=a++,b="v?"+o[h]+o[_]+"?"+o[y]+"?";o[T]="^"+b+"$";var v="[v=\\s]*"+o[d]+o[m]+"?"+o[y]+"?",E=a++;o[E]="^"+v+"$";var S=a++;o[S]="((?:<|>)?=?)";var k=a++;o[k]=o[u]+"|x|X|\\*";var w=a++;o[w]=o[c]+"|x|X|\\*";var N=a++;o[N]="[v=\\s]*("+o[w]+")(?:\\.("+o[w]+")(?:\\.("+o[w]+")(?:"+o[_]+")?"+o[y]+"?)?)?";var A=a++;o[A]="[v=\\s]*("+o[k]+")(?:\\.("+o[k]+")(?:\\.("+o[k]+")(?:"+o[m]+")?"+o[y]+"?)?)?";var x=a++;o[x]="^"+o[S]+"\\s*"+o[N]+"$";var C=a++;o[C]="^"+o[S]+"\\s*"+o[A]+"$";var R=a++;o[R]="(?:^|[^\\d])(\\d{1,16})(?:\\.(\\d{1,16}))?(?:\\.(\\d{1,16}))?(?:$|[^\\d])";var I=a++;o[I]="(?:~>?)";var O=a++;o[O]="(\\s*)"+o[I]+"\\s+",s[O]=new RegExp(o[O],"g");var D=a++;o[D]="^"+o[I]+o[N]+"$";var P=a++;o[P]="^"+o[I]+o[A]+"$";var L=a++;o[L]="(?:\\^)";var M=a++;o[M]="(\\s*)"+o[L]+"\\s+",s[M]=new RegExp(o[M],"g");var U=a++;o[U]="^"+o[L]+o[N]+"$";var q=a++;o[q]="^"+o[L]+o[A]+"$";var F=a++;o[F]="^"+o[S]+"\\s*("+v+")$|^$";var B=a++;o[B]="^"+o[S]+"\\s*("+b+")$|^$";var H=a++;o[H]="(\\s*)"+o[S]+"\\s*("+v+"|"+o[N]+")",s[H]=new RegExp(o[H],"g");var j=a++;o[j]="^\\s*("+o[N]+")\\s+-\\s+("+o[N]+")\\s*$";var G=a++;o[G]="^\\s*("+o[A]+")\\s+-\\s+("+o[A]+")\\s*$";var V=a++;o[V]="(<|>)?=?\\s*\\*";for(var K=0;K<35;K++)n(K,o[K]),s[K]||(s[K]=new RegExp(o[K]));function $(e,t){if(t&&"object"==typeof t||(t={loose:!!t,includePrerelease:!1}),e instanceof W)return e;if("string"!=typeof e)return null;if(e.length>r)return null;if(!(t.loose?s[E]:s[T]).test(e))return null;try{return new W(e,t)}catch(e){return null}}function W(e,t){if(t&&"object"==typeof t||(t={loose:!!t,includePrerelease:!1}),e instanceof W){if(e.loose===t.loose)return e;e=e.version}else if("string"!=typeof e)throw new TypeError("Invalid Version: "+e);if(e.length>r)throw new TypeError("version is longer than "+r+" characters");if(!(this instanceof W))return new W(e,t);n("SemVer",e,t),this.options=t,this.loose=!!t.loose;var o=e.trim().match(t.loose?s[E]:s[T]);if(!o)throw new TypeError("Invalid Version: "+e);if(this.raw=e,this.major=+o[1],this.minor=+o[2],this.patch=+o[3],this.major>i||this.major<0)throw new TypeError("Invalid major version");if(this.minor>i||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>i||this.patch<0)throw new TypeError("Invalid patch version");o[4]?this.prerelease=o[4].split(".").map(function(e){if(/^[0-9]+$/.test(e)){var t=+e;if(t>=0&&t<i)return t}return e}):this.prerelease=[],this.build=o[5]?o[5].split("."):[],this.format()}t.parse=$,t.valid=function(e,t){var n=$(e,t);return n?n.version:null},t.clean=function(e,t){var n=$(e.trim().replace(/^[=v]+/,""),t);return n?n.version:null},t.SemVer=W,W.prototype.format=function(){return this.version=this.major+"."+this.minor+"."+this.patch,this.prerelease.length&&(this.version+="-"+this.prerelease.join(".")),this.version},W.prototype.toString=function(){return this.version},W.prototype.compare=function(e){return n("SemVer.compare",this.version,this.options,e),e instanceof W||(e=new W(e,this.options)),this.compareMain(e)||this.comparePre(e)},W.prototype.compareMain=function(e){return e instanceof W||(e=new W(e,this.options)),z(this.major,e.major)||z(this.minor,e.minor)||z(this.patch,e.patch)},W.prototype.comparePre=function(e){if(e instanceof W||(e=new W(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;var t=0;do{var r=this.prerelease[t],i=e.prerelease[t];if(n("prerelease compare",t,r,i),void 0===r&&void 0===i)return 0;if(void 0===i)return 1;if(void 0===r)return-1;if(r!==i)return z(r,i)}while(++t)},W.prototype.inc=function(e,t){switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",t);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",t);break;case"prepatch":this.prerelease.length=0,this.inc("patch",t),this.inc("pre",t);break;case"prerelease":0===this.prerelease.length&&this.inc("patch",t),this.inc("pre",t);break;case"major":0===this.minor&&0===this.patch&&0!==this.prerelease.length||this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":0===this.patch&&0!==this.prerelease.length||this.minor++,this.patch=0,this.prerelease=[];break;case"patch":0===this.prerelease.length&&this.patch++,this.prerelease=[];break;case"pre":if(0===this.prerelease.length)this.prerelease=[0];else{for(var n=this.prerelease.length;--n>=0;)"number"==typeof this.prerelease[n]&&(this.prerelease[n]++,n=-2);-1===n&&this.prerelease.push(0)}t&&(this.prerelease[0]===t?isNaN(this.prerelease[1])&&(this.prerelease=[t,0]):this.prerelease=[t,0]);break;default:throw new Error("invalid increment argument: "+e)}return this.format(),this.raw=this.version,this},t.inc=function(e,t,n,r){"string"==typeof n&&(r=n,n=void 0);try{return new W(e,n).inc(t,r).version}catch(e){return null}},t.diff=function(e,t){if(Z(e,t))return null;var n=$(e),r=$(t);if(n.prerelease.length||r.prerelease.length){for(var i in n)if(("major"===i||"minor"===i||"patch"===i)&&n[i]!==r[i])return"pre"+i;return"prerelease"}for(var i in n)if(("major"===i||"minor"===i||"patch"===i)&&n[i]!==r[i])return i},t.compareIdentifiers=z;var Y=/^[0-9]+$/;function z(e,t){var n=Y.test(e),r=Y.test(t);return n&&r&&(e=+e,t=+t),n&&!r?-1:r&&!n?1:e<t?-1:e>t?1:0}function X(e,t,n){return new W(e,n).compare(new W(t,n))}function Q(e,t,n){return X(e,t,n)>0}function J(e,t,n){return X(e,t,n)<0}function Z(e,t,n){return 0===X(e,t,n)}function ee(e,t,n){return 0!==X(e,t,n)}function te(e,t,n){return X(e,t,n)>=0}function ne(e,t,n){return X(e,t,n)<=0}function re(e,t,n,r){var i;switch(t){case"===":"object"==typeof e&&(e=e.version),"object"==typeof n&&(n=n.version),i=e===n;break;case"!==":"object"==typeof e&&(e=e.version),"object"==typeof n&&(n=n.version),i=e!==n;break;case"":case"=":case"==":i=Z(e,n,r);break;case"!=":i=ee(e,n,r);break;case">":i=Q(e,n,r);break;case">=":i=te(e,n,r);break;case"<":i=J(e,n,r);break;case"<=":i=ne(e,n,r);break;default:throw new TypeError("Invalid operator: "+t)}return i}function ie(e,t){if(t&&"object"==typeof t||(t={loose:!!t,includePrerelease:!1}),e instanceof ie){if(e.loose===!!t.loose)return e;e=e.value}if(!(this instanceof ie))return new ie(e,t);n("comparator",e,t),this.options=t,this.loose=!!t.loose,this.parse(e),this.semver===se?this.value="":this.value=this.operator+this.semver.version,n("comp",this)}t.rcompareIdentifiers=function(e,t){return z(t,e)},t.major=function(e,t){return new W(e,t).major},t.minor=function(e,t){return new W(e,t).minor},t.patch=function(e,t){return new W(e,t).patch},t.compare=X,t.compareLoose=function(e,t){return X(e,t,!0)},t.rcompare=function(e,t,n){return X(t,e,n)},t.sort=function(e,n){return e.sort(function(e,r){return t.compare(e,r,n)})},t.rsort=function(e,n){return e.sort(function(e,r){return t.rcompare(e,r,n)})},t.gt=Q,t.lt=J,t.eq=Z,t.neq=ee,t.gte=te,t.lte=ne,t.cmp=re,t.Comparator=ie;var se={};function oe(e,t){if(t&&"object"==typeof t||(t={loose:!!t,includePrerelease:!1}),e instanceof oe)return e.loose===!!t.loose&&e.includePrerelease===!!t.includePrerelease?e:new oe(e.raw,t);if(e instanceof ie)return new oe(e.value,t);if(!(this instanceof oe))return new oe(e,t);if(this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease,this.raw=e,this.set=e.split(/\s*\|\|\s*/).map(function(e){return this.parseRange(e.trim())},this).filter(function(e){return e.length}),!this.set.length)throw new TypeError("Invalid SemVer Range: "+e);this.format()}function ae(e){return!e||"x"===e.toLowerCase()||"*"===e}function ce(e,t,n,r,i,s,o,a,c,u,l,h,d){return((t=ae(n)?"":ae(r)?">="+n+".0.0":ae(i)?">="+n+"."+r+".0":">="+t)+" "+(a=ae(c)?"":ae(u)?"<"+(+c+1)+".0.0":ae(l)?"<"+c+"."+(+u+1)+".0":h?"<="+c+"."+u+"."+l+"-"+h:"<="+a)).trim()}function ue(e,t,r){for(var i=0;i<e.length;i++)if(!e[i].test(t))return!1;if(r||(r={}),t.prerelease.length&&!r.includePrerelease){for(i=0;i<e.length;i++)if(n(e[i].semver),e[i].semver!==se&&e[i].semver.prerelease.length>0){var s=e[i].semver;if(s.major===t.major&&s.minor===t.minor&&s.patch===t.patch)return!0}return!1}return!0}function le(e,t,n){try{t=new oe(t,n)}catch(e){return!1}return t.test(e)}function he(e,t,n,r){var i,s,o,a,c;switch(e=new W(e,r),t=new oe(t,r),n){case">":i=Q,s=ne,o=J,a=">",c=">=";break;case"<":i=J,s=te,o=Q,a="<",c="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(le(e,t,r))return!1;for(var u=0;u<t.set.length;++u){var l=t.set[u],h=null,d=null;if(l.forEach(function(e){e.semver===se&&(e=new ie(">=0.0.0")),h=h||e,d=d||e,i(e.semver,h.semver,r)?h=e:o(e.semver,d.semver,r)&&(d=e)}),h.operator===a||h.operator===c)return!1;if((!d.operator||d.operator===a)&&s(e,d.semver))return!1;if(d.operator===c&&o(e,d.semver))return!1}return!0}ie.prototype.parse=function(e){var t=this.options.loose?s[F]:s[B],n=e.match(t);if(!n)throw new TypeError("Invalid comparator: "+e);this.operator=n[1],"="===this.operator&&(this.operator=""),n[2]?this.semver=new W(n[2],this.options.loose):this.semver=se},ie.prototype.toString=function(){return this.value},ie.prototype.test=function(e){return n("Comparator.test",e,this.options.loose),this.semver===se||("string"==typeof e&&(e=new W(e,this.options)),re(e,this.operator,this.semver,this.options))},ie.prototype.intersects=function(e,t){if(!(e instanceof ie))throw new TypeError("a Comparator is required");var n;if(t&&"object"==typeof t||(t={loose:!!t,includePrerelease:!1}),""===this.operator)return n=new oe(e.value,t),le(this.value,n,t);if(""===e.operator)return n=new oe(this.value,t),le(e.semver,n,t);var r=!(">="!==this.operator&&">"!==this.operator||">="!==e.operator&&">"!==e.operator),i=!("<="!==this.operator&&"<"!==this.operator||"<="!==e.operator&&"<"!==e.operator),s=this.semver.version===e.semver.version,o=!(">="!==this.operator&&"<="!==this.operator||">="!==e.operator&&"<="!==e.operator),a=re(this.semver,"<",e.semver,t)&&(">="===this.operator||">"===this.operator)&&("<="===e.operator||"<"===e.operator),c=re(this.semver,">",e.semver,t)&&("<="===this.operator||"<"===this.operator)&&(">="===e.operator||">"===e.operator);return r||i||s&&o||a||c},t.Range=oe,oe.prototype.format=function(){return this.range=this.set.map(function(e){return e.join(" ").trim()}).join("||").trim(),this.range},oe.prototype.toString=function(){return this.range},oe.prototype.parseRange=function(e){var t=this.options.loose;e=e.trim();var r=t?s[G]:s[j];e=e.replace(r,ce),n("hyphen replace",e),e=e.replace(s[H],"$1$2$3"),n("comparator trim",e,s[H]),e=(e=(e=e.replace(s[O],"$1~")).replace(s[M],"$1^")).split(/\s+/).join(" ");var i=t?s[F]:s[B],o=e.split(" ").map(function(e){return function(e,t){return n("comp",e,t),e=function(e,t){return e.trim().split(/\s+/).map(function(e){return function(e,t){n("caret",e,t),t&&"object"==typeof t||(t={loose:!!t,includePrerelease:!1});var r=t.loose?s[q]:s[U];return e.replace(r,function(t,r,i,s,o){var a;return n("caret",e,t,r,i,s,o),ae(r)?a="":ae(i)?a=">="+r+".0.0 <"+(+r+1)+".0.0":ae(s)?a="0"===r?">="+r+"."+i+".0 <"+r+"."+(+i+1)+".0":">="+r+"."+i+".0 <"+(+r+1)+".0.0":o?(n("replaceCaret pr",o),"-"!==o.charAt(0)&&(o="-"+o),a="0"===r?"0"===i?">="+r+"."+i+"."+s+o+" <"+r+"."+i+"."+(+s+1):">="+r+"."+i+"."+s+o+" <"+r+"."+(+i+1)+".0":">="+r+"."+i+"."+s+o+" <"+(+r+1)+".0.0"):(n("no pr"),a="0"===r?"0"===i?">="+r+"."+i+"."+s+" <"+r+"."+i+"."+(+s+1):">="+r+"."+i+"."+s+" <"+r+"."+(+i+1)+".0":">="+r+"."+i+"."+s+" <"+(+r+1)+".0.0"),n("caret return",a),a})}(e,t)}).join(" ")}(e,t),n("caret",e),e=function(e,t){return e.trim().split(/\s+/).map(function(e){return function(e,t){t&&"object"==typeof t||(t={loose:!!t,includePrerelease:!1});var r=t.loose?s[P]:s[D];return e.replace(r,function(t,r,i,s,o){var a;return n("tilde",e,t,r,i,s,o),ae(r)?a="":ae(i)?a=">="+r+".0.0 <"+(+r+1)+".0.0":ae(s)?a=">="+r+"."+i+".0 <"+r+"."+(+i+1)+".0":o?(n("replaceTilde pr",o),"-"!==o.charAt(0)&&(o="-"+o),a=">="+r+"."+i+"."+s+o+" <"+r+"."+(+i+1)+".0"):a=">="+r+"."+i+"."+s+" <"+r+"."+(+i+1)+".0",n("tilde return",a),a})}(e,t)}).join(" ")}(e,t),n("tildes",e),e=function(e,t){return n("replaceXRanges",e,t),e.split(/\s+/).map(function(e){return function(e,t){e=e.trim(),t&&"object"==typeof t||(t={loose:!!t,includePrerelease:!1});var r=t.loose?s[C]:s[x];return e.replace(r,function(t,r,i,s,o,a){n("xRange",e,t,r,i,s,o,a);var c=ae(i),u=c||ae(s),l=u||ae(o),h=l;return"="===r&&h&&(r=""),c?t=">"===r||"<"===r?"<0.0.0":"*":r&&h?(u&&(s=0),l&&(o=0),">"===r?(r=">=",u?(i=+i+1,s=0,o=0):l&&(s=+s+1,o=0)):"<="===r&&(r="<",u?i=+i+1:s=+s+1),t=r+i+"."+s+"."+o):u?t=">="+i+".0.0 <"+(+i+1)+".0.0":l&&(t=">="+i+"."+s+".0 <"+i+"."+(+s+1)+".0"),n("xRange return",t),t})}(e,t)}).join(" ")}(e,t),n("xrange",e),e=function(e,t){return n("replaceStars",e,t),e.trim().replace(s[V],"")}(e,t),n("stars",e),e}(e,this.options)},this).join(" ").split(/\s+/);return this.options.loose&&(o=o.filter(function(e){return!!e.match(i)})),o=o.map(function(e){return new ie(e,this.options)},this)},oe.prototype.intersects=function(e,t){if(!(e instanceof oe))throw new TypeError("a Range is required");return this.set.some(function(n){return n.every(function(n){return e.set.some(function(e){return e.every(function(e){return n.intersects(e,t)})})})})},t.toComparators=function(e,t){return new oe(e,t).set.map(function(e){return e.map(function(e){return e.value}).join(" ").trim().split(" ")})},oe.prototype.test=function(e){if(!e)return!1;"string"==typeof e&&(e=new W(e,this.options));for(var t=0;t<this.set.length;t++)if(ue(this.set[t],e,this.options))return!0;return!1},t.satisfies=le,t.maxSatisfying=function(e,t,n){var r=null,i=null;try{var s=new oe(t,n)}catch(e){return null}return e.forEach(function(e){s.test(e)&&(r&&-1!==i.compare(e)||(i=new W(r=e,n)))}),r},t.minSatisfying=function(e,t,n){var r=null,i=null;try{var s=new oe(t,n)}catch(e){return null}return e.forEach(function(e){s.test(e)&&(r&&1!==i.compare(e)||(i=new W(r=e,n)))}),r},t.validRange=function(e,t){try{return new oe(e,t).range||"*"}catch(e){return null}},t.ltr=function(e,t,n){return he(e,t,"<",n)},t.gtr=function(e,t,n){return he(e,t,">",n)},t.outside=he,t.prerelease=function(e,t){var n=$(e,t);return n&&n.prerelease.length?n.prerelease:null},t.intersects=function(e,t,n){return e=new oe(e,n),t=new oe(t,n),e.intersects(t)},t.coerce=function(e){if(e instanceof W)return e;if("string"!=typeof e)return null;var t=e.match(s[R]);return null==t?null:$((t[1]||"0")+"."+(t[2]||"0")+"."+(t[3]||"0"))}},function(e,t,n){"use strict";var r=n(104),i=r.wrap,s=r.unwrap,o="wrap@before";function a(e,t,n){var r=!!e[t]&&e.propertyIsEnumerable(t);Object.defineProperty(e,t,{configurable:!0,enumerable:r,writable:!0,value:n})}function c(e,t){var n;return n=e._events&&e._events[t],Array.isArray(n)||(n=n?[n]:[]),n}function u(e,t,n){var r=c(e,t).filter(function(e){return-1===n.indexOf(e)});r.length>0&&function(e,t){for(var n=t.length,r=0;r<n;r++){var i=t[r],s=e[o];if("function"==typeof s)s(i);else if(Array.isArray(s))for(var a=s.length,c=0;c<a;c++)s[c](i)}}(e,r)}function l(e,t){if(e){var n=e;if("function"==typeof e)n=t(e);else if(Array.isArray(e)){n=[];for(var r=0;r<e.length;r++)n[r]=t(e[r])}return n}}e.exports=function(e,t,n){if(!(e&&e.on&&e.addListener&&e.removeListener&&e.emit))throw new Error("can only wrap real EEs");if(!t)throw new Error("must have function to run on listener addition");if(!n)throw new Error("must have function to wrap listeners when emitting");function r(e){return function(t,n){var s=c(this,t).slice();try{var o=e.call(this,t,n);return u(this,t,s),o}finally{this.on.__wrapped||i(this,"on",r),this.addListener.__wrapped||i(this,"addListener",r)}}}e[o]?"function"==typeof e[o]?a(e,o,[e[o],t]):Array.isArray(e[o])&&e[o].push(t):a(e,o,t),e.__wrapped||(i(e,"addListener",r),i(e,"on",r),i(e,"emit",function(e){return function(t){if(!this._events||!this._events[t])return e.apply(this,arguments);var r=this._events[t];i(this,"removeListener",function(e){return function(){this._events[t]=r;try{return e.apply(this,arguments)}finally{r=this._events[t],this._events[t]=l(r,n)}}});try{return this._events[t]=l(r,n),e.apply(this,arguments)}finally{s(this,"removeListener"),this._events[t]=r}}}),a(e,"__unwrap",function(){s(e,"addListener"),s(e,"on"),s(e,"emit"),delete e[o],delete e.__wrapped}),a(e,"__wrapped",!0))}},function(e,t,n){"use strict";function r(e){return"function"==typeof e}var i=console.error.bind(console);function s(e,t,n){var r=!!e[t]&&e.propertyIsEnumerable(t);Object.defineProperty(e,t,{configurable:!0,enumerable:r,writable:!0,value:n})}function o(e){e&&e.logger&&(r(e.logger)?i=e.logger:i("new logger isn't a function, not replacing"))}function a(e,t,n){if(e&&e[t]){if(!n)return i("no wrapper function"),void i((new Error).stack);if(r(e[t])&&r(n)){var o=e[t],a=n(o,t);return s(a,"__original",o),s(a,"__unwrap",function(){e[t]===a&&s(e,t,o)}),s(a,"__wrapped",!0),s(e,t,a),a}i("original object and wrapper must be functions")}else i("no original function "+t+" to wrap")}function c(e,t){return e&&e[t]?e[t].__unwrap?e[t].__unwrap():void i("no original to unwrap to -- has "+t+" already been unwrapped?"):(i("no function to unwrap."),void i((new Error).stack))}o.wrap=a,o.massWrap=function(e,t,n){if(!e)return i("must provide one or more modules to patch"),void i((new Error).stack);Array.isArray(e)||(e=[e]),t&&Array.isArray(t)?e.forEach(function(e){t.forEach(function(t){a(e,t,n)})}):i("must provide one or more functions to wrap on modules")},o.unwrap=c,o.massUnwrap=function(e,t){if(!e)return i("must provide one or more modules to patch"),void i((new Error).stack);Array.isArray(e)||(e=[e]),t&&Array.isArray(t)?e.forEach(function(e){t.forEach(function(t){c(e,t)})}):i("must provide one or more functions to unwrap on modules")},e.exports=o},function(e,t,n){"use strict";var r=n(13),i=n(6),s=n(106),o=function(){function e(t,n,r){void 0===n&&(n=6e4),void 0===r&&(r=!1),e.INSTANCE||(e.INSTANCE=this),this._isInitialized=!1,this._client=t,this._collectionInterval=n,this._enableLiveMetricsCounters=r}return e.prototype.enable=function(t,n){var i=this;this._isEnabled=t,this._isEnabled&&!this._isInitialized&&(this._isInitialized=!0),t?this._handle||(this._lastCpus=r.cpus(),this._lastRequests={totalRequestCount:e._totalRequestCount,totalFailedRequestCount:e._totalFailedRequestCount,time:+new Date},this._lastDependencies={totalDependencyCount:e._totalDependencyCount,totalFailedDependencyCount:e._totalFailedDependencyCount,time:+new Date},this._lastExceptions={totalExceptionCount:e._totalExceptionCount,time:+new Date},"function"==typeof process.cpuUsage&&(this._lastAppCpuUsage=process.cpuUsage()),this._lastHrtime=process.hrtime(),this._collectionInterval=n||this._collectionInterval,this._handle=setInterval(function(){return i.trackPerformance()},this._collectionInterval),this._handle.unref()):this._handle&&(clearInterval(this._handle),this._handle=void 0)},e.countRequest=function(t,n){var r=this;if(e.isEnabled()){var s=+new Date;t&&n?"function"==typeof n.once&&n.once("finish",function(){var t=+new Date;e._intervalRequestExecutionTime+=r._lastRequestExecutionTime=t-s,e._totalRequestCount++,n.statusCode>=400&&e._totalFailedRequestCount++}):i.warn("AutoCollectPerformance.countRequest was called with invalid parameters: ",!!t,!!n)}},e.countException=function(){e._totalExceptionCount++},e.countDependency=function(t,n){var r;if(e.isEnabled()){if("string"==typeof t)r=+new Date("1970-01-01T"+t+"Z");else{if("number"!=typeof t)return;r=t}e._intervalDependencyExecutionTime+=r,!1===n&&e._totalFailedDependencyCount++,e._totalDependencyCount++}},e.prototype.isInitialized=function(){return this._isInitialized},e.isEnabled=function(){return e.INSTANCE&&e.INSTANCE._isEnabled},e.prototype.trackPerformance=function(){this._trackCpu(),this._trackMemory(),this._trackNetwork(),this._trackDependencyRate(),this._trackExceptionRate()},e.prototype._trackCpu=function(){var e=r.cpus();if(e&&e.length&&this._lastCpus&&e.length===this._lastCpus.length){for(var t=0,n=0,i=0,o=0,a=0,c=0;e&&c<e.length;c++){var u=e[c],l=this._lastCpus[c],h=(u.model,u.speed,u.times),d=l.times;t+=h.user-d.user||0,n+=h.sys-d.sys||0,i+=h.nice-d.nice||0,o+=h.idle-d.idle||0,a+=h.irq-d.irq||0}var p=void 0;if("function"==typeof process.cpuUsage){var f=process.cpuUsage(),_=process.hrtime(),m=f.user-this._lastAppCpuUsage.user+(f.system-this._lastAppCpuUsage.system)||0;if(void 0!==this._lastHrtime&&2===this._lastHrtime.length)p=100*m/((1e6*(_[0]-this._lastHrtime[0])+(_[1]-this._lastHrtime[1])/1e3||0)*e.length);this._lastAppCpuUsage=f,this._lastHrtime=_}var g=t+n+i+o+a||1;this._client.trackMetric({name:s.PerformanceCounter.PROCESSOR_TIME,value:(g-o)/g*100}),this._client.trackMetric({name:s.PerformanceCounter.PROCESS_TIME,value:p||t/g*100})}this._lastCpus=e},e.prototype._trackMemory=function(){var e=r.freemem(),t=process.memoryUsage().rss,n=r.totalmem()-e;this._client.trackMetric({name:s.PerformanceCounter.PRIVATE_BYTES,value:t}),this._client.trackMetric({name:s.PerformanceCounter.AVAILABLE_BYTES,value:e}),this._enableLiveMetricsCounters&&this._client.trackMetric({name:s.QuickPulseCounter.COMMITTED_BYTES,value:n})},e.prototype._trackNetwork=function(){var t=this._lastRequests,n={totalRequestCount:e._totalRequestCount,totalFailedRequestCount:e._totalFailedRequestCount,time:+new Date},r=n.totalRequestCount-t.totalRequestCount||0,i=n.totalFailedRequestCount-t.totalFailedRequestCount||0,o=n.time-t.time,a=o/1e3,c=e._intervalRequestExecutionTime/r||0;if(e._intervalRequestExecutionTime=0,o>0){var u=r/a,l=i/a;this._client.trackMetric({name:s.PerformanceCounter.REQUEST_RATE,value:u}),(!this._enableLiveMetricsCounters||r>0)&&this._client.trackMetric({name:s.PerformanceCounter.REQUEST_DURATION,value:c}),this._enableLiveMetricsCounters&&this._client.trackMetric({name:s.QuickPulseCounter.REQUEST_FAILURE_RATE,value:l})}this._lastRequests=n},e.prototype._trackDependencyRate=function(){if(this._enableLiveMetricsCounters){var t=this._lastDependencies,n={totalDependencyCount:e._totalDependencyCount,totalFailedDependencyCount:e._totalFailedDependencyCount,time:+new Date},r=n.totalDependencyCount-t.totalDependencyCount||0,i=n.totalFailedDependencyCount-t.totalFailedDependencyCount||0,o=n.time-t.time,a=o/1e3,c=e._intervalDependencyExecutionTime/r||0;if(e._intervalDependencyExecutionTime=0,o>0){var u=r/a,l=i/a;this._client.trackMetric({name:s.QuickPulseCounter.DEPENDENCY_RATE,value:u}),this._client.trackMetric({name:s.QuickPulseCounter.DEPENDENCY_FAILURE_RATE,value:l}),(!this._enableLiveMetricsCounters||r>0)&&this._client.trackMetric({name:s.QuickPulseCounter.DEPENDENCY_DURATION,value:c})}this._lastDependencies=n}},e.prototype._trackExceptionRate=function(){if(this._enableLiveMetricsCounters){var t=this._lastExceptions,n={totalExceptionCount:e._totalExceptionCount,time:+new Date},r=n.totalExceptionCount-t.totalExceptionCount||0,i=n.time-t.time;if(i>0){var o=r/(i/1e3);this._client.trackMetric({name:s.QuickPulseCounter.EXCEPTION_RATE,value:o})}this._lastExceptions=n}},e.prototype.dispose=function(){e.INSTANCE=null,this.enable(!1),this._isInitialized=!1},e._totalRequestCount=0,e._totalFailedRequestCount=0,e._lastRequestExecutionTime=0,e._totalDependencyCount=0,e._totalFailedDependencyCount=0,e._lastDependencyExecutionTime=0,e._totalExceptionCount=0,e._intervalDependencyExecutionTime=0,e._intervalRequestExecutionTime=0,e}();e.exports=o},function(e,t,n){"use strict";var r,i,s;Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.COMMITTED_BYTES="\\Memory\\Committed Bytes",e.PROCESSOR_TIME="\\Processor(_Total)\\% Processor Time",e.REQUEST_RATE="\\ApplicationInsights\\Requests/Sec",e.REQUEST_FAILURE_RATE="\\ApplicationInsights\\Requests Failed/Sec",e.REQUEST_DURATION="\\ApplicationInsights\\Request Duration",e.DEPENDENCY_RATE="\\ApplicationInsights\\Dependency Calls/Sec",e.DEPENDENCY_FAILURE_RATE="\\ApplicationInsights\\Dependency Calls Failed/Sec",e.DEPENDENCY_DURATION="\\ApplicationInsights\\Dependency Call Duration",e.EXCEPTION_RATE="\\ApplicationInsights\\Exceptions/Sec"}(r=t.QuickPulseCounter||(t.QuickPulseCounter={})),function(e){e.PRIVATE_BYTES="\\Process(??APP_WIN32_PROC??)\\Private Bytes",e.AVAILABLE_BYTES="\\Memory\\Available Bytes",e.PROCESSOR_TIME="\\Processor(_Total)\\% Processor Time",e.PROCESS_TIME="\\Process(??APP_WIN32_PROC??)\\% Processor Time",e.REQUEST_RATE="\\ASP.NET Applications(??APP_W3SVC_PROC??)\\Requests/Sec",e.REQUEST_DURATION="\\ASP.NET Applications(??APP_W3SVC_PROC??)\\Request Execution Time"}(i=t.PerformanceCounter||(t.PerformanceCounter={})),t.PerformanceToQuickPulseCounter=((s={})[i.PROCESSOR_TIME]=r.PROCESSOR_TIME,s[i.REQUEST_RATE]=r.REQUEST_RATE,s[i.REQUEST_DURATION]=r.REQUEST_DURATION,s[r.COMMITTED_BYTES]=r.COMMITTED_BYTES,s[r.REQUEST_FAILURE_RATE]=r.REQUEST_FAILURE_RATE,s[r.DEPENDENCY_RATE]=r.DEPENDENCY_RATE,s[r.DEPENDENCY_FAILURE_RATE]=r.DEPENDENCY_FAILURE_RATE,s[r.DEPENDENCY_DURATION]=r.DEPENDENCY_DURATION,s[r.EXCEPTION_RATE]=r.EXCEPTION_RATE,s),t.QuickPulseDocumentType={Event:"Event",Exception:"Exception",Trace:"Trace",Metric:"Metric",Request:"Request",Dependency:"RemoteDependency"},t.QuickPulseType={Event:"EventTelemetryDocument",Exception:"ExceptionTelemetryDocument",Trace:"TraceTelemetryDocument",Metric:"MetricTelemetryDocument",Request:"RequestTelemetryDocument",Dependency:"DependencyTelemetryDocument"},t.TelemetryTypeStringToQuickPulseType={EventData:t.QuickPulseType.Event,ExceptionData:t.QuickPulseType.Exception,MessageData:t.QuickPulseType.Trace,MetricData:t.QuickPulseType.Metric,RequestData:t.QuickPulseType.Request,RemoteDependencyData:t.QuickPulseType.Dependency},t.TelemetryTypeStringToQuickPulseDocumentType={EventData:t.QuickPulseDocumentType.Event,ExceptionData:t.QuickPulseDocumentType.Exception,MessageData:t.QuickPulseDocumentType.Trace,MetricData:t.QuickPulseDocumentType.Metric,RequestData:t.QuickPulseDocumentType.Request,RemoteDependencyData:t.QuickPulseDocumentType.Dependency}},function(e,t,n){"use strict";var r=n(35),i=function(){function e(t){var n=this;this.endpointBase="https://dc.services.visualstudio.com",this.instrumentationKey=t||e._getInstrumentationKey(),this.endpointUrl=this.endpointBase+"/v2/track",this.maxBatchSize=250,this.maxBatchIntervalMs=15e3,this.disableAppInsights=!1,this.samplingPercentage=100,this.correlationIdRetryIntervalMs=3e4,this.correlationHeaderExcludedDomains=["*.core.windows.net","*.core.chinacloudapi.cn","*.core.cloudapi.de","*.core.usgovcloudapi.net"],this.setCorrelationId=function(e){return n.correlationId=e},this.profileQueryEndpoint=process.env[e.ENV_profileQueryEndpoint]||this.endpointBase,this.proxyHttpUrl=process.env[e.ENV_http_proxy]||void 0,this.proxyHttpsUrl=process.env[e.ENV_https_proxy]||void 0,this.httpAgent=void 0,this.httpsAgent=void 0,this._quickPulseHost=process.env[e.ENV_quickPulseHost]||"rt.services.visualstudio.com"}return Object.defineProperty(e.prototype,"profileQueryEndpoint",{get:function(){return this._profileQueryEndpoint},set:function(e){r.cancelCorrelationIdQuery(this,this.setCorrelationId),this._profileQueryEndpoint=e,this.correlationId=r.correlationIdPrefix,r.queryCorrelationId(this,this.setCorrelationId)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"quickPulseHost",{get:function(){return this._quickPulseHost},set:function(e){this._quickPulseHost=e},enumerable:!0,configurable:!0}),e._getInstrumentationKey=function(){var t=process.env[e.ENV_iKey]||process.env[e.ENV_azurePrefix+e.ENV_iKey]||process.env[e.legacy_ENV_iKey]||process.env[e.ENV_azurePrefix+e.legacy_ENV_iKey];if(!t||""==t)throw new Error("Instrumentation key not found, pass the key in the config to this method or set the key in the environment variable APPINSIGHTS_INSTRUMENTATIONKEY before starting the server");return t},e.ENV_azurePrefix="APPSETTING_",e.ENV_iKey="APPINSIGHTS_INSTRUMENTATIONKEY",e.legacy_ENV_iKey="APPINSIGHTS_INSTRUMENTATION_KEY",e.ENV_profileQueryEndpoint="APPINSIGHTS_PROFILE_QUERY_ENDPOINT",e.ENV_quickPulseHost="APPINSIGHTS_QUICKPULSE_HOST",e.ENV_nativeMetricsDisablers="APPLICATION_INSIGHTS_DISABLE_EXTENDED_METRIC",e.ENV_nativeMetricsDisableAll="APPLICATION_INSIGHTS_DISABLE_ALL_EXTENDED_METRICS",e.ENV_http_proxy="http_proxy",e.ENV_https_proxy="https_proxy",e}();e.exports=i},function(e,t,n){"use strict";var r=n(13),i=n(14),s=n(0),o=n(17),a=n(6),c=function(){function e(e){this.keys=new o.ContextTagKeys,this.tags={},this._loadApplicationContext(),this._loadDeviceContext(),this._loadInternalContext()}return e.prototype._loadApplicationContext=function(t){if(t=t||s.resolve(__dirname,"../../../../package.json"),!e.appVersion[t]){e.appVersion[t]="unknown";try{var n=JSON.parse(i.readFileSync(t,"utf8"));n&&"string"==typeof n.version&&(e.appVersion[t]=n.version)}catch(e){a.info("unable to read app version: ",e)}}this.tags[this.keys.applicationVersion]=e.appVersion[t]},e.prototype._loadDeviceContext=function(){this.tags[this.keys.deviceId]="",this.tags[this.keys.cloudRoleInstance]=r&&r.hostname(),this.tags[this.keys.deviceOSVersion]=r&&r.type()+" "+r.release(),this.tags[this.keys.cloudRole]=e.DefaultRoleName,this.tags["ai.device.osArchitecture"]=r&&r.arch(),this.tags["ai.device.osPlatform"]=r&&r.platform()},e.prototype._loadInternalContext=function(){var t=s.resolve(__dirname,"../../package.json");if(!e.sdkVersion){e.sdkVersion="unknown";try{var n=JSON.parse(i.readFileSync(t,"utf8"));n&&"string"==typeof n.version&&(e.sdkVersion=n.version)}catch(e){a.info("unable to read app version: ",e)}}this.tags[this.keys.internalSdkVersion]="node:"+e.sdkVersion},e.DefaultRoleName="Web",e.appVersion={},e.sdkVersion=null,e}();e.exports=c},function(e,t,n){"use strict";function r(e){return"string"==typeof e||e instanceof String}function i(e){return"function"==typeof e}function s(e){return Array.isArray(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.boolean=function(e){return!0===e||!1===e},t.string=r,t.number=function(e){return"number"==typeof e||e instanceof Number},t.error=function(e){return e instanceof Error},t.func=i,t.array=s,t.stringArray=function(e){return s(e)&&e.every(e=>r(e))},t.typedArray=function(e,t){return Array.isArray(e)&&e.every(t)},t.thenable=function(e){return e&&i(e.then)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});class r{constructor(e){this._value=e}asHex(){return this._value}equals(e){return this.asHex()===e.asHex()}}class i extends r{constructor(){super([i._randomHex(),i._randomHex(),i._randomHex(),i._randomHex(),i._randomHex(),i._randomHex(),i._randomHex(),i._randomHex(),"-",i._randomHex(),i._randomHex(),i._randomHex(),i._randomHex(),"-","4",i._randomHex(),i._randomHex(),i._randomHex(),"-",i._oneOf(i._timeHighBits),i._randomHex(),i._randomHex(),i._randomHex(),"-",i._randomHex(),i._randomHex(),i._randomHex(),i._randomHex(),i._randomHex(),i._randomHex(),i._randomHex(),i._randomHex(),i._randomHex(),i._randomHex(),i._randomHex(),i._randomHex()].join(""))}static _oneOf(e){return e[Math.floor(e.length*Math.random())]}static _randomHex(){return i._oneOf(i._chars)}}function s(){return new i}i._chars=["0","1","2","3","4","5","6","6","7","8","9","a","b","c","d","e","f"],i._timeHighBits=["8","9","a","b"],t.empty=new r("00000000-0000-0000-0000-000000000000"),t.v4=s;const o=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i;function a(e){return o.test(e)}t.isUUID=a,t.parse=function(e){if(!a(e))throw new Error("invalid uuid");return new r(e)},t.generateUuid=function(){return s().asHex()}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(112),i=n(207);function s(e){let t;return(t=e[e.length-1]<65536?new Uint16Array(e.length):new Uint32Array(e.length)).set(e,0),t}t.AverageBufferSize=65535,t.createUintArray=s;class o{constructor(e,t,n,r,i){this.lineStarts=e,this.cr=t,this.lf=n,this.crlf=r,this.isBasicASCII=i}}function a(e,t=!0){let n=[0],r=1;for(let t=0,i=e.length;t<i;t++){const s=e.charCodeAt(t);13===s?t+1<i&&10===e.charCodeAt(t+1)?(n[r++]=t+2,t++):n[r++]=t+1:10===s&&(n[r++]=t+1)}return t?s(n):n}t.LineStarts=o,t.createLineStartsFast=a,t.createLineStarts=function(e,t){e.length=0,e[0]=0;let n=1,r=0,i=0,a=0,c=!0;for(let s=0,o=t.length;s<o;s++){const u=t.charCodeAt(s);13===u?s+1<o&&10===t.charCodeAt(s+1)?(a++,e[n++]=s+2,s++):(r++,e[n++]=s+1):10===u?(i++,e[n++]=s+1):c&&9!==u&&(u<32||u>126)&&(c=!1)}const u=new o(s(e),r,i,a,c);return e.length=0,u};class c{constructor(e,t,n,r,i){this.bufferIndex=e,this.start=t,this.end=n,this.lineFeedCnt=r,this.length=i}}t.Piece=c;class u{constructor(e,t){this.buffer=e,this.lineStarts=t}}t.StringBuffer=u;class l{constructor(e,t){this._pieces=[],this._tree=e,this._BOM=t,this._index=0,e.root!==i.SENTINEL&&e.iterate(e.root,e=>(e!==i.SENTINEL&&this._pieces.push(e.piece),!0))}read(){return 0===this._pieces.length?0===this._index?(this._index++,this._BOM):null:this._index>this._pieces.length-1?null:0===this._index?this._BOM+this._tree.getPieceContent(this._pieces[this._index++]):this._tree.getPieceContent(this._pieces[this._index++])}}class h{constructor(e){this._limit=e,this._cache=[]}get(e){for(let t=this._cache.length-1;t>=0;t--){let n=this._cache[t];if(n.nodeStartOffset<=e&&n.nodeStartOffset+n.node.piece.length>=e)return n}return null}get2(e){for(let t=this._cache.length-1;t>=0;t--){let n=this._cache[t];if(n.nodeStartLineNumber&&n.nodeStartLineNumber<e&&n.nodeStartLineNumber+n.node.piece.lineFeedCnt>=e)return n}return null}set(e){this._cache.length>=this._limit&&this._cache.shift(),this._cache.push(e)}valdiate(e){let t=!1,n=this._cache;for(let r=0;r<n.length;r++){let i=n[r];(null===i.node.parent||i.nodeStartOffset>=e)&&(n[r]=null,t=!0)}if(t){let e=[];for(const t of n)null!==t&&e.push(t);this._cache=e}}}t.PieceTreeBase=class{constructor(e,t,n){this.create(e,t,n)}create(e,t,n){this._buffers=[new u("",[0])],this._lastChangeBufferPos={line:0,column:0},this.root=i.SENTINEL,this._lineCnt=1,this._length=0,this._EOL=t,this._EOLLength=t.length,this._EOLNormalized=n;let r=null;for(let t=0,n=e.length;t<n;t++)if(e[t].buffer.length>0){e[t].lineStarts||(e[t].lineStarts=a(e[t].buffer));let n=new c(t+1,{line:0,column:0},{line:e[t].lineStarts.length-1,column:e[t].buffer.length-e[t].lineStarts[e[t].lineStarts.length-1]},e[t].lineStarts.length-1,e[t].buffer.length);this._buffers.push(e[t]),r=this.rbInsertRight(r,n)}this._searchCache=new h(1),this._lastVisitedLine={lineNumber:0,value:""},this.computeBufferMetadata()}normalizeEOL(e){let n=t.AverageBufferSize,r=n-Math.floor(n/3),i=2*r,s="",o=0,c=[];if(this.iterate(this.root,t=>{let n=this.getNodeContent(t),l=n.length;if(o<=r||o+l<i)return s+=n,o+=l,!0;let h=s.replace(/\r\n|\r|\n/g,e);return c.push(new u(h,a(h))),s=n,o=l,!0}),o>0){let t=s.replace(/\r\n|\r|\n/g,e);c.push(new u(t,a(t)))}this.create(c,e,!0)}getEOL(){return this._EOL}setEOL(e){this._EOL=e,this._EOLLength=this._EOL.length,this.normalizeEOL(e)}createSnapshot(e){return new l(this,e)}equal(e){return this.getLength()===e.getLength()&&(this.getLineCount()===e.getLineCount()&&this.iterate(this.root,t=>{if(t===i.SENTINEL)return!0;let n=this.getNodeContent(t),r=n.length,s=e.nodeAt(0),o=e.nodeAt(0+r);return n===e.getValueInRange2(s,o)}))}getOffsetAt(e,t){let n=0,r=this.root;for(;r!==i.SENTINEL;)if(r.left!==i.SENTINEL&&r.lf_left+1>=e)r=r.left;else{if(r.lf_left+r.piece.lineFeedCnt+1>=e)return(n+=r.size_left)+(this.getAccumulatedValue(r,e-r.lf_left-2)+t-1);e-=r.lf_left+r.piece.lineFeedCnt,n+=r.size_left+r.piece.length,r=r.right}return n}getPositionAt(e){e=Math.floor(e),e=Math.max(0,e);let t=this.root,n=0,s=e;for(;t!==i.SENTINEL;)if(0!==t.size_left&&t.size_left>=e)t=t.left;else{if(t.size_left+t.piece.length>=e){let i=this.getIndexOf(t,e-t.size_left);if(n+=t.lf_left+i.index,0===i.index){let e=s-this.getOffsetAt(n+1,1);return new r.Position(n+1,e+1)}return new r.Position(n+1,i.remainder+1)}if(e-=t.size_left+t.piece.length,n+=t.lf_left+t.piece.lineFeedCnt,t.right===i.SENTINEL){let t=s-e-this.getOffsetAt(n+1,1);return new r.Position(n+1,t+1)}t=t.right}return new r.Position(1,1)}getValueInRange(e,t){if(e.startLineNumber===e.endLineNumber&&e.startColumn===e.endColumn)return"";let n=this.nodeAt2(e.startLineNumber,e.startColumn),r=this.nodeAt2(e.endLineNumber,e.endColumn),i=this.getValueInRange2(n,r);return t?t===this._EOL&&this._EOLNormalized&&t===this.getEOL()&&this._EOLNormalized?i:i.replace(/\r\n|\r|\n/g,t):i}getValueInRange2(e,t){if(e.node===t.node){let n=e.node,r=this._buffers[n.piece.bufferIndex].buffer,i=this.offsetInBuffer(n.piece.bufferIndex,n.piece.start);return r.substring(i+e.remainder,i+t.remainder)}let n=e.node,r=this._buffers[n.piece.bufferIndex].buffer,s=this.offsetInBuffer(n.piece.bufferIndex,n.piece.start),o=r.substring(s+e.remainder,s+n.piece.length);for(n=n.next();n!==i.SENTINEL;){let e=this._buffers[n.piece.bufferIndex].buffer,r=this.offsetInBuffer(n.piece.bufferIndex,n.piece.start);if(n===t.node){o+=e.substring(r,r+t.remainder);break}o+=e.substr(r,n.piece.length),n=n.next()}return o}getLinesContent(){return this.getContentOfSubTree(this.root).split(/\r\n|\r|\n/)}getLength(){return this._length}getLineCount(){return this._lineCnt}getLineContent(e){return this._lastVisitedLine.lineNumber===e?this._lastVisitedLine.value:(this._lastVisitedLine.lineNumber=e,e===this._lineCnt?this._lastVisitedLine.value=this.getLineRawContent(e):this._EOLNormalized?this._lastVisitedLine.value=this.getLineRawContent(e,this._EOLLength):this._lastVisitedLine.value=this.getLineRawContent(e).replace(/(\r\n|\r|\n)$/,""),this._lastVisitedLine.value)}getLineCharCode(e,t){let n=this.nodeAt2(e,t+1);if(n.remainder===n.node.piece.length){let e=n.node.next();if(!e)return 0;let t=this._buffers[e.piece.bufferIndex],r=this.offsetInBuffer(e.piece.bufferIndex,e.piece.start);return t.buffer.charCodeAt(r)}{let e=this._buffers[n.node.piece.bufferIndex],t=this.offsetInBuffer(n.node.piece.bufferIndex,n.node.piece.start)+n.remainder;return e.buffer.charCodeAt(t)}}getLineLength(e){if(e===this.getLineCount()){let t=this.getOffsetAt(e,1);return this.getLength()-t}return this.getOffsetAt(e+1,1)-this.getOffsetAt(e,1)-this._EOLLength}insert(e,n,r=!1){if(this._EOLNormalized=this._EOLNormalized&&r,this._lastVisitedLine.lineNumber=0,this._lastVisitedLine.value="",this.root!==i.SENTINEL){let{node:r,remainder:i,nodeStartOffset:s}=this.nodeAt(e),o=r.piece,a=o.bufferIndex,u=this.positionInBuffer(r,i);if(0===r.piece.bufferIndex&&o.end.line===this._lastChangeBufferPos.line&&o.end.column===this._lastChangeBufferPos.column&&s+o.length===e&&n.length<t.AverageBufferSize)return this.appendToNode(r,n),void this.computeBufferMetadata();if(s===e)this.insertContentToNodeLeft(n,r),this._searchCache.valdiate(e);else if(s+r.piece.length>e){let e=[],t=new c(o.bufferIndex,u,o.end,this.getLineFeedCnt(o.bufferIndex,u,o.end),this.offsetInBuffer(a,o.end)-this.offsetInBuffer(a,u));if(this.shouldCheckCRLF()&&this.endWithCR(n)&&10===this.nodeCharCodeAt(r,i)){let e={line:t.start.line+1,column:0};t=new c(t.bufferIndex,e,t.end,this.getLineFeedCnt(t.bufferIndex,e,t.end),t.length-1),n+="\n"}if(this.shouldCheckCRLF()&&this.startWithLF(n))if(13===this.nodeCharCodeAt(r,i-1)){let t=this.positionInBuffer(r,i-1);this.deleteNodeTail(r,t),n="\r"+n,0===r.piece.length&&e.push(r)}else this.deleteNodeTail(r,u);else this.deleteNodeTail(r,u);let s=this.createNewPieces(n);t.length>0&&this.rbInsertRight(r,t);let l=r;for(let e=0;e<s.length;e++)l=this.rbInsertRight(l,s[e]);this.deleteNodes(e)}else this.insertContentToNodeRight(n,r)}else{let e=this.createNewPieces(n),t=this.rbInsertLeft(null,e[0]);for(let n=1;n<e.length;n++)t=this.rbInsertRight(t,e[n])}this.computeBufferMetadata()}delete(e,t){if(this._lastVisitedLine.lineNumber=0,this._lastVisitedLine.value="",t<=0||this.root===i.SENTINEL)return;let n=this.nodeAt(e),r=this.nodeAt(e+t),s=n.node,o=r.node;if(s===o){let o=this.positionInBuffer(s,n.remainder),a=this.positionInBuffer(s,r.remainder);if(n.nodeStartOffset===e){if(t===s.piece.length){let e=s.next();return i.rbDelete(this,s),this.validateCRLFWithPrevNode(e),void this.computeBufferMetadata()}return this.deleteNodeHead(s,a),this._searchCache.valdiate(e),this.validateCRLFWithPrevNode(s),void this.computeBufferMetadata()}return n.nodeStartOffset+s.piece.length===e+t?(this.deleteNodeTail(s,o),this.validateCRLFWithNextNode(s),void this.computeBufferMetadata()):(this.shrinkNode(s,o,a),void this.computeBufferMetadata())}let a=[],c=this.positionInBuffer(s,n.remainder);this.deleteNodeTail(s,c),this._searchCache.valdiate(e),0===s.piece.length&&a.push(s);let u=this.positionInBuffer(o,r.remainder);this.deleteNodeHead(o,u),0===o.piece.length&&a.push(o);for(let e=s.next();e!==i.SENTINEL&&e!==o;e=e.next())a.push(e);let l=0===s.piece.length?s.prev():s;this.deleteNodes(a),this.validateCRLFWithNextNode(l),this.computeBufferMetadata()}insertContentToNodeLeft(e,t){let n=[];if(this.shouldCheckCRLF()&&this.endWithCR(e)&&this.startWithLF(t)){let r=t.piece,s={line:r.start.line+1,column:0},o=new c(r.bufferIndex,s,r.end,this.getLineFeedCnt(r.bufferIndex,s,r.end),r.length-1);t.piece=o,e+="\n",i.updateTreeMetadata(this,t,-1,-1),0===t.piece.length&&n.push(t)}let r=this.createNewPieces(e),s=this.rbInsertLeft(t,r[r.length-1]);for(let e=r.length-2;e>=0;e--)s=this.rbInsertLeft(s,r[e]);this.validateCRLFWithPrevNode(s),this.deleteNodes(n)}insertContentToNodeRight(e,t){this.adjustCarriageReturnFromNext(e,t)&&(e+="\n");let n=this.createNewPieces(e),r=this.rbInsertRight(t,n[0]),i=r;for(let e=1;e<n.length;e++)i=this.rbInsertRight(i,n[e]);this.validateCRLFWithPrevNode(r)}positionInBuffer(e,t,n){let r=e.piece,i=e.piece.bufferIndex,s=this._buffers[i].lineStarts,o=s[r.start.line]+r.start.column+t,a=r.start.line,c=r.end.line,u=0,l=0,h=0;for(;a<=c&&(h=s[u=a+(c-a)/2|0],u!==c);)if(l=s[u+1],o<h)c=u-1;else{if(!(o>=l))break;a=u+1}return n?(n.line=u,n.column=o-h,null):{line:u,column:o-h}}getLineFeedCnt(e,t,n){if(0===n.column)return n.line-t.line;let r=this._buffers[e].lineStarts;if(n.line===r.length-1)return n.line-t.line;let i=r[n.line+1],s=r[n.line]+n.column;if(i>s+1)return n.line-t.line;let o=s-1;return 13===this._buffers[e].buffer.charCodeAt(o)?n.line-t.line+1:n.line-t.line}offsetInBuffer(e,t){return this._buffers[e].lineStarts[t.line]+t.column}deleteNodes(e){for(let t=0;t<e.length;t++)i.rbDelete(this,e[t])}createNewPieces(e){if(e.length>t.AverageBufferSize){let n=[];for(;e.length>t.AverageBufferSize;){const r=e.charCodeAt(t.AverageBufferSize-1);let i;13===r||r>=55296&&r<=56319?(i=e.substring(0,t.AverageBufferSize-1),e=e.substring(t.AverageBufferSize-1)):(i=e.substring(0,t.AverageBufferSize),e=e.substring(t.AverageBufferSize));let s=a(i);n.push(new c(this._buffers.length,{line:0,column:0},{line:s.length-1,column:i.length-s[s.length-1]},s.length-1,i.length)),this._buffers.push(new u(i,s))}let r=a(e);return n.push(new c(this._buffers.length,{line:0,column:0},{line:r.length-1,column:e.length-r[r.length-1]},r.length-1,e.length)),this._buffers.push(new u(e,r)),n}let n=this._buffers[0].buffer.length;const r=a(e,!1);let i=this._lastChangeBufferPos;if(this._buffers[0].lineStarts[this._buffers[0].lineStarts.length-1]===n&&0!==n&&this.startWithLF(e)&&this.endWithCR(this._buffers[0].buffer)){this._lastChangeBufferPos={line:this._lastChangeBufferPos.line,column:this._lastChangeBufferPos.column+1},i=this._lastChangeBufferPos;for(let e=0;e<r.length;e++)r[e]+=n+1;this._buffers[0].lineStarts=this._buffers[0].lineStarts.concat(r.slice(1)),this._buffers[0].buffer+="_"+e,n+=1}else{if(0!==n)for(let e=0;e<r.length;e++)r[e]+=n;this._buffers[0].lineStarts=this._buffers[0].lineStarts.concat(r.slice(1)),this._buffers[0].buffer+=e}const s=this._buffers[0].buffer.length;let o=this._buffers[0].lineStarts.length-1,l={line:o,column:s-this._buffers[0].lineStarts[o]},h=new c(0,i,l,this.getLineFeedCnt(0,i,l),s-n);return this._lastChangeBufferPos=l,[h]}getLinesRawContent(){return this.getContentOfSubTree(this.root)}getLineRawContent(e,t=0){let n=this.root,r="",s=this._searchCache.get2(e);if(s){n=s.node;let i=this.getAccumulatedValue(n,e-s.nodeStartLineNumber-1),o=this._buffers[n.piece.bufferIndex].buffer,a=this.offsetInBuffer(n.piece.bufferIndex,n.piece.start);if(s.nodeStartLineNumber+n.piece.lineFeedCnt!==e){let r=this.getAccumulatedValue(n,e-s.nodeStartLineNumber);return o.substring(a+i,a+r-t)}r=o.substring(a+i,a+n.piece.length)}else{let s=0;const o=e;for(;n!==i.SENTINEL;)if(n.left!==i.SENTINEL&&n.lf_left>=e-1)n=n.left;else{if(n.lf_left+n.piece.lineFeedCnt>e-1){let r=this.getAccumulatedValue(n,e-n.lf_left-2),i=this.getAccumulatedValue(n,e-n.lf_left-1),a=this._buffers[n.piece.bufferIndex].buffer,c=this.offsetInBuffer(n.piece.bufferIndex,n.piece.start);return s+=n.size_left,this._searchCache.set({node:n,nodeStartOffset:s,nodeStartLineNumber:o-(e-1-n.lf_left)}),a.substring(c+r,c+i-t)}if(n.lf_left+n.piece.lineFeedCnt===e-1){let t=this.getAccumulatedValue(n,e-n.lf_left-2),i=this._buffers[n.piece.bufferIndex].buffer,s=this.offsetInBuffer(n.piece.bufferIndex,n.piece.start);r=i.substring(s+t,s+n.piece.length);break}e-=n.lf_left+n.piece.lineFeedCnt,s+=n.size_left+n.piece.length,n=n.right}}for(n=n.next();n!==i.SENTINEL;){let e=this._buffers[n.piece.bufferIndex].buffer;if(n.piece.lineFeedCnt>0){let i=this.getAccumulatedValue(n,0),s=this.offsetInBuffer(n.piece.bufferIndex,n.piece.start);return r+=e.substring(s,s+i-t)}{let t=this.offsetInBuffer(n.piece.bufferIndex,n.piece.start);r+=e.substr(t,n.piece.length)}n=n.next()}return r}computeBufferMetadata(){let e=this.root,t=1,n=0;for(;e!==i.SENTINEL;)t+=e.lf_left+e.piece.lineFeedCnt,n+=e.size_left+e.piece.length,e=e.right;this._lineCnt=t,this._length=n,this._searchCache.valdiate(this._length)}getIndexOf(e,t){let n=e.piece,r=this.positionInBuffer(e,t),i=r.line-n.start.line;if(this.offsetInBuffer(n.bufferIndex,n.end)-this.offsetInBuffer(n.bufferIndex,n.start)===t){let t=this.getLineFeedCnt(e.piece.bufferIndex,n.start,r);if(t!==i)return{index:t,remainder:0}}return{index:i,remainder:r.column}}getAccumulatedValue(e,t){if(t<0)return 0;let n=e.piece,r=this._buffers[n.bufferIndex].lineStarts,i=n.start.line+t+1;return i>n.end.line?r[n.end.line]+n.end.column-r[n.start.line]-n.start.column:r[i]-r[n.start.line]-n.start.column}deleteNodeTail(e,t){const n=e.piece,r=n.lineFeedCnt,s=this.offsetInBuffer(n.bufferIndex,n.end),o=t,a=this.offsetInBuffer(n.bufferIndex,o),u=this.getLineFeedCnt(n.bufferIndex,n.start,o),l=u-r,h=a-s,d=n.length+h;e.piece=new c(n.bufferIndex,n.start,o,u,d),i.updateTreeMetadata(this,e,h,l)}deleteNodeHead(e,t){const n=e.piece,r=n.lineFeedCnt,s=this.offsetInBuffer(n.bufferIndex,n.start),o=t,a=this.getLineFeedCnt(n.bufferIndex,o,n.end),u=a-r,l=s-this.offsetInBuffer(n.bufferIndex,o),h=n.length+l;e.piece=new c(n.bufferIndex,o,n.end,a,h),i.updateTreeMetadata(this,e,l,u)}shrinkNode(e,t,n){const r=e.piece,s=r.start,o=r.end,a=r.length,u=r.lineFeedCnt,l=t,h=this.getLineFeedCnt(r.bufferIndex,r.start,l),d=this.offsetInBuffer(r.bufferIndex,t)-this.offsetInBuffer(r.bufferIndex,s);e.piece=new c(r.bufferIndex,r.start,l,h,d),i.updateTreeMetadata(this,e,d-a,h-u);let p=new c(r.bufferIndex,n,o,this.getLineFeedCnt(r.bufferIndex,n,o),this.offsetInBuffer(r.bufferIndex,o)-this.offsetInBuffer(r.bufferIndex,n)),f=this.rbInsertRight(e,p);this.validateCRLFWithPrevNode(f)}appendToNode(e,t){this.adjustCarriageReturnFromNext(t,e)&&(t+="\n");const n=this.shouldCheckCRLF()&&this.startWithLF(t)&&this.endWithCR(e),r=this._buffers[0].buffer.length;this._buffers[0].buffer+=t;const s=a(t,!1);for(let e=0;e<s.length;e++)s[e]+=r;if(n){let e=this._buffers[0].lineStarts[this._buffers[0].lineStarts.length-2];this._buffers[0].lineStarts.pop(),this._lastChangeBufferPos={line:this._lastChangeBufferPos.line-1,column:r-e}}this._buffers[0].lineStarts=this._buffers[0].lineStarts.concat(s.slice(1));const o=this._buffers[0].lineStarts.length-1,u={line:o,column:this._buffers[0].buffer.length-this._buffers[0].lineStarts[o]},l=e.piece.length+t.length,h=e.piece.lineFeedCnt,d=this.getLineFeedCnt(0,e.piece.start,u),p=d-h;e.piece=new c(e.piece.bufferIndex,e.piece.start,u,d,l),this._lastChangeBufferPos=u,i.updateTreeMetadata(this,e,t.length,p)}nodeAt(e){let t=this.root,n=this._searchCache.get(e);if(n)return{node:n.node,nodeStartOffset:n.nodeStartOffset,remainder:e-n.nodeStartOffset};let r=0;for(;t!==i.SENTINEL;)if(t.size_left>e)t=t.left;else{if(t.size_left+t.piece.length>=e){r+=t.size_left;let n={node:t,remainder:e-t.size_left,nodeStartOffset:r};return this._searchCache.set(n),n}e-=t.size_left+t.piece.length,r+=t.size_left+t.piece.length,t=t.right}return null}nodeAt2(e,t){let n=this.root,r=0;for(;n!==i.SENTINEL;)if(n.left!==i.SENTINEL&&n.lf_left>=e-1)n=n.left;else{if(n.lf_left+n.piece.lineFeedCnt>e-1){let i=this.getAccumulatedValue(n,e-n.lf_left-2),s=this.getAccumulatedValue(n,e-n.lf_left-1);return r+=n.size_left,{node:n,remainder:Math.min(i+t-1,s),nodeStartOffset:r}}if(n.lf_left+n.piece.lineFeedCnt===e-1){let i=this.getAccumulatedValue(n,e-n.lf_left-2);if(i+t-1<=n.piece.length)return{node:n,remainder:i+t-1,nodeStartOffset:r};t-=n.piece.length-i;break}e-=n.lf_left+n.piece.lineFeedCnt,r+=n.size_left+n.piece.length,n=n.right}for(n=n.next();n!==i.SENTINEL;){if(n.piece.lineFeedCnt>0){let e=this.getAccumulatedValue(n,0),r=this.offsetOfNode(n);return{node:n,remainder:Math.min(t-1,e),nodeStartOffset:r}}if(n.piece.length>=t-1)return{node:n,remainder:t-1,nodeStartOffset:this.offsetOfNode(n)};t-=n.piece.length,n=n.next()}return null}nodeCharCodeAt(e,t){if(e.piece.lineFeedCnt<1)return-1;let n=this._buffers[e.piece.bufferIndex],r=this.offsetInBuffer(e.piece.bufferIndex,e.piece.start)+t;return n.buffer.charCodeAt(r)}offsetOfNode(e){if(!e)return 0;let t=e.size_left;for(;e!==this.root;)e.parent.right===e&&(t+=e.parent.size_left+e.parent.piece.length),e=e.parent;return t}shouldCheckCRLF(){return!(this._EOLNormalized&&"\n"===this._EOL)}startWithLF(e){if("string"==typeof e)return 10===e.charCodeAt(0);if(e===i.SENTINEL||0===e.piece.lineFeedCnt)return!1;let t=e.piece,n=this._buffers[t.bufferIndex].lineStarts,r=t.start.line,s=n[r]+t.start.column;return r!==n.length-1&&!(n[r+1]>s+1)&&10===this._buffers[t.bufferIndex].buffer.charCodeAt(s)}endWithCR(e){return"string"==typeof e?13===e.charCodeAt(e.length-1):e!==i.SENTINEL&&0!==e.piece.lineFeedCnt&&13===this.nodeCharCodeAt(e,e.piece.length-1)}validateCRLFWithPrevNode(e){if(this.shouldCheckCRLF()&&this.startWithLF(e)){let t=e.prev();this.endWithCR(t)&&this.fixCRLF(t,e)}}validateCRLFWithNextNode(e){if(this.shouldCheckCRLF()&&this.endWithCR(e)){let t=e.next();this.startWithLF(t)&&this.fixCRLF(e,t)}}fixCRLF(e,t){let n,r=[],s=this._buffers[e.piece.bufferIndex].lineStarts;n=0===e.piece.end.column?{line:e.piece.end.line-1,column:s[e.piece.end.line]-s[e.piece.end.line-1]-1}:{line:e.piece.end.line,column:e.piece.end.column-1};const o=e.piece.length-1,a=e.piece.lineFeedCnt-1;e.piece=new c(e.piece.bufferIndex,e.piece.start,n,a,o),i.updateTreeMetadata(this,e,-1,-1),0===e.piece.length&&r.push(e);let u={line:t.piece.start.line+1,column:0};const l=t.piece.length-1,h=this.getLineFeedCnt(t.piece.bufferIndex,u,t.piece.end);t.piece=new c(t.piece.bufferIndex,u,t.piece.end,h,l),i.updateTreeMetadata(this,t,-1,-1),0===t.piece.length&&r.push(t);let d=this.createNewPieces("\r\n");this.rbInsertRight(e,d[0]);for(let e=0;e<r.length;e++)i.rbDelete(this,r[e])}adjustCarriageReturnFromNext(e,t){if(this.shouldCheckCRLF()&&this.endWithCR(e)){let n=t.next();if(this.startWithLF(n)){if(e+="\n",1===n.piece.length)i.rbDelete(this,n);else{const e=n.piece,t={line:e.start.line+1,column:0},r=e.length-1,s=this.getLineFeedCnt(e.bufferIndex,t,e.end);n.piece=new c(e.bufferIndex,t,e.end,s,r),i.updateTreeMetadata(this,n,-1,-1)}return!0}}return!1}iterate(e,t){if(e===i.SENTINEL)return t(i.SENTINEL);let n=this.iterate(e.left,t);return n?t(e)&&this.iterate(e.right,t):n}getNodeContent(e){if(e===i.SENTINEL)return"";let t,n=this._buffers[e.piece.bufferIndex],r=e.piece,s=this.offsetInBuffer(r.bufferIndex,r.start),o=this.offsetInBuffer(r.bufferIndex,r.end);return t=n.buffer.substring(s,o)}getPieceContent(e){let t=this._buffers[e.bufferIndex],n=this.offsetInBuffer(e.bufferIndex,e.start),r=this.offsetInBuffer(e.bufferIndex,e.end);return t.buffer.substring(n,r)}rbInsertRight(e,t){let n=new i.TreeNode(t,1);if(n.left=i.SENTINEL,n.right=i.SENTINEL,n.parent=i.SENTINEL,n.size_left=0,n.lf_left=0,this.root===i.SENTINEL)this.root=n,n.color=0;else if(e.right===i.SENTINEL)e.right=n,n.parent=e;else{let t=i.leftest(e.right);t.left=n,n.parent=t}return i.fixInsert(this,n),n}rbInsertLeft(e,t){let n=new i.TreeNode(t,1);if(n.left=i.SENTINEL,n.right=i.SENTINEL,n.parent=i.SENTINEL,n.size_left=0,n.lf_left=0,this.root===i.SENTINEL)this.root=n,n.color=0;else if(e.left===i.SENTINEL)e.left=n,n.parent=e;else{let t=i.righttest(e.left);t.right=n,n.parent=t}return i.fixInsert(this,n),n}getContentOfSubTree(e){let t="";return this.iterate(e,e=>(t+=this.getNodeContent(e),!0)),t}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});class r{constructor(e,t){this.lineNumber=e,this.column=t}with(e=this.lineNumber,t=this.column){return e===this.lineNumber&&t===this.column?this:new r(e,t)}delta(e=0,t=0){return this.with(this.lineNumber+e,this.column+t)}equals(e){return r.equals(this,e)}static equals(e,t){return!e&&!t||!!e&&!!t&&e.lineNumber===t.lineNumber&&e.column===t.column}isBefore(e){return r.isBefore(this,e)}static isBefore(e,t){return e.lineNumber<t.lineNumber||!(t.lineNumber<e.lineNumber)&&e.column<t.column}isBeforeOrEqual(e){return r.isBeforeOrEqual(this,e)}static isBeforeOrEqual(e,t){return e.lineNumber<t.lineNumber||!(t.lineNumber<e.lineNumber)&&e.column<=t.column}static compare(e,t){let n=0|e.lineNumber,r=0|t.lineNumber;if(n===r){return(0|e.column)-(0|t.column)}return n-r}clone(){return new r(this.lineNumber,this.column)}toString(){return"("+this.lineNumber+","+this.column+")"}static lift(e){return new r(e.lineNumber,e.column)}static isIPosition(e){return e&&"number"==typeof e.lineNumber&&"number"==typeof e.column}}t.Position=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){function t(e,t,n){return{kind:e,length:t,children:n}}e.create=t,e.createParseError=function(e,n){return t(1061,n||0,e)}}(t.Phrase||(t.Phrase={})),t.phraseKindToString=function(e){switch(e){case 1e3:return"Unknown";case 1001:return"AdditiveExpression";case 1002:return"AnonymousClassDeclaration";case 1003:return"AnonymousClassDeclarationHeader";case 1004:return"AnonymousFunctionCreationExpression";case 1005:return"AnonymousFunctionHeader";case 1006:return"AnonymousFunctionUseClause";case 1007:return"AnonymousFunctionUseVariable";case 1008:return"ArgumentExpressionList";case 1009:return"ArrayCreationExpression";case 1010:return"ArrayElement";case 1011:return"ArrayInitialiserList";case 1012:return"ArrayKey";case 1013:return"ArrayValue";case 1014:return"BitwiseExpression";case 1015:return"BreakStatement";case 1016:return"ByRefAssignmentExpression";case 1017:return"CaseStatement";case 1018:return"CaseStatementList";case 1019:return"CastExpression";case 1020:return"CatchClause";case 1021:return"CatchClauseList";case 1022:return"CatchNameList";case 1023:return"ClassBaseClause";case 1024:return"ClassConstantAccessExpression";case 1025:return"ClassConstDeclaration";case 1026:return"ClassConstElement";case 1027:return"ClassConstElementList";case 1028:return"ClassDeclaration";case 1029:return"ClassDeclarationBody";case 1030:return"ClassDeclarationHeader";case 1031:return"ClassInterfaceClause";case 1032:return"ClassMemberDeclarationList";case 1033:return"ClassModifiers";case 1034:return"ClassTypeDesignator";case 1035:return"CloneExpression";case 1036:return"ClosureUseList";case 1037:return"CoalesceExpression";case 1038:return"CompoundAssignmentExpression";case 1039:return"CompoundStatement";case 1040:return"TernaryExpression";case 1041:return"ConstantAccessExpression";case 1042:return"ConstDeclaration";case 1043:return"ConstElement";case 1044:return"ConstElementList";case 1045:return"ContinueStatement";case 1046:return"DeclareDirective";case 1047:return"DeclareStatement";case 1048:return"DefaultArgumentSpecifier";case 1049:return"DefaultStatement";case 1050:return"DoStatement";case 1051:return"DoubleQuotedStringLiteral";case 1052:return"EchoIntrinsic";case 1053:return"ElseClause";case 1054:return"ElseIfClause";case 1055:return"ElseIfClauseList";case 1056:return"EmptyIntrinsic";case 1057:return"EncapsulatedExpression";case 1058:return"EncapsulatedVariable";case 1059:return"EncapsulatedVariableList";case 1060:return"EqualityExpression";case 1061:return"ParseError";case 1062:return"ErrorControlExpression";case 1063:return"EvalIntrinsic";case 1064:return"ExitIntrinsic";case 1065:return"ExponentiationExpression";case 1066:return"ExpressionList";case 1067:return"ExpressionStatement";case 1068:return"FinallyClause";case 1069:return"ForControl";case 1071:return"ForeachCollection";case 1072:return"ForeachKey";case 1073:return"ForeachStatement";case 1074:return"ForeachValue";case 1075:return"ForEndOfLoop";case 1076:return"ForExpressionGroup";case 1070:return"ForExpressionGroupList";case 1077:return"ForInitialiser";case 1078:return"ForStatement";case 1079:return"FullyQualifiedName";case 1080:return"FunctionCallExpression";case 1081:return"FunctionDeclaration";case 1083:return"FunctionDeclarationHeader";case 1082:return"FunctionDeclarationBody";case 1084:return"FunctionStaticDeclaration";case 1085:return"FunctionStaticInitialiser";case 1086:return"GlobalDeclaration";case 1087:return"GotoStatement";case 1088:return"HaltCompilerStatement";case 1089:return"HeredocStringLiteral";case 1090:return"Identifier";case 1091:return"IfStatement";case 1092:return"IncludeExpression";case 1093:return"IncludeOnceExpression";case 1094:return"InlineText";case 1095:return"InstanceOfExpression";case 1096:return"InstanceofTypeDesignator";case 1097:return"InterfaceBaseClause";case 1098:return"InterfaceDeclaration";case 1099:return"InterfaceDeclarationBody";case 1100:return"InterfaceDeclarationHeader";case 1101:return"InterfaceMemberDeclarationList";case 1102:return"IssetIntrinsic";case 1103:return"ListIntrinsic";case 1104:return"LogicalExpression";case 1105:return"MemberModifierList";case 1106:return"MemberName";case 1107:return"MethodCallExpression";case 1108:return"MethodDeclaration";case 1109:return"MethodDeclarationBody";case 1110:return"MethodDeclarationHeader";case 1111:return"TraitMethodReference";case 1112:return"MultiplicativeExpression";case 1113:return"NamedLabelStatement";case 1114:return"NamespaceAliasingClause";case 1115:return"NamespaceDefinition";case 1116:return"NamespaceName";case 1117:return"NamespaceUseClause";case 1118:return"NamespaceUseClauseList";case 1119:return"NamespaceUseDeclaration";case 1120:return"NamespaceUseGroupClause";case 1121:return"NamespaceUseGroupClauseList";case 1122:return"NullStatement";case 1123:return"ObjectCreationExpression";case 1124:return"ParameterDeclaration";case 1125:return"ParameterDeclarationList";case 1126:return"PostfixDecrementExpression";case 1127:return"PostfixIncrementExpression";case 1128:return"PrefixDecrementExpression";case 1129:return"PrefixIncrementExpression";case 1130:return"PrintIntrinsic";case 1131:return"PropertyAccessExpression";case 1132:return"PropertyDeclaration";case 1133:return"PropertyElement";case 1134:return"PropertyElementList";case 1135:return"PropertyInitialiser";case 1136:return"QualifiedName";case 1137:return"QualifiedNameList";case 1138:return"RelationalExpression";case 1139:return"RelativeQualifiedName";case 1140:return"RelativeScope";case 1141:return"RequireExpression";case 1142:return"RequireOnceExpression";case 1143:return"ReturnStatement";case 1144:return"ReturnType";case 1145:return"ScopedCallExpression";case 1146:return"ScopedMemberName";case 1147:return"ScopedPropertyAccessExpression";case 1149:return"ShellCommandExpression";case 1148:return"Script";case 1150:return"ShiftExpression";case 1151:return"SimpleAssignmentExpression";case 1152:return"SimpleVariable";case 1153:return"StatementList";case 1154:return"StaticVariableDeclaration";case 1155:return"StaticVariableDeclarationList";case 1156:return"SubscriptExpression";case 1157:return"SwitchStatement";case 1158:return"ThrowStatement";case 1159:return"TraitAdaptationList";case 1160:return"TraitAlias";case 1161:return"TraitDeclaration";case 1162:return"TraitDeclarationBody";case 1163:return"TraitDeclarationHeader";case 1164:return"TraitMemberDeclarationList";case 1165:return"TraitPrecedence";case 1166:return"TraitUseClause";case 1167:return"TraitUseSpecification";case 1168:return"TryStatement";case 1169:return"TypeDeclaration";case 1170:return"UnaryOpExpression";case 1171:return"UnsetIntrinsic";case 1172:return"VariableList";case 1173:return"VariableNameList";case 1174:return"VariadicUnpacking";case 1175:return"WhileStatement";case 1176:return"YieldExpression";case 1177:return"YieldFromExpression";case 1178:return"TopStatementList";default:return""}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(7),i=n(20),s=n(15),o=n(10),a=n(50),c=n(48),u=n(8),l=n(217).html;t.FormatProvider=class{constructor(e){this.stores=e,this.parseTreeStore=e.parseTreeStore,this._options={}}set options(e){this._options=e?Object.assign({},this._options,e):{}}provideDocumentFormattingEdits(e,t){const n=this.parseTreeStore.find(e);if(!n)return[];const c=n.getTraverser(),u=c.getDocumentLanguageRanges(),d=c.nodeUtils.clone();if(void 0!==u.find(e=>e.languageId!==o.PHP.LANGUAGE_ID&&""!==d.rangeText(e.range).trim())){const n=this.stores.documentStore.find(e);if(!n)return[];const o=this.createVirtualDocument(u,n),c=t.jsbeautify||{indent_with_tabs:!t.insertSpaces,indent_size:t.tabSize};c.templating=["auto"],c.js||(c.js={}),c.js.templating=["php"];const d=l(o.text,c),p=/<\?php \?>/g,f=this.getLanguageRangeIterator(u),_=()=>{let e=f.next().value;return n.getRangeText(e.range)};o.text=d.replace(p,_);const m=new s.ParseTree(i.Parser.parse(o.text),o),g=new h(m.getNodeUtils(),t),y=m.traverse(g).edits;if(g.aborted)return a.Log.warn("Format aborted. Parse error found."),[];let T;for(let e=0,t=y.length;e<t;++e)T=y[e],o.applyChange(T.range.start,T.range.end,T.newText);return[r.TextEdit.replace(r.Range.create(r.Position.create(0,0),n.offsetToPosition(n.text.length)),o.text)]}const p=new h(n.getNodeUtils(),t);return n.traverse(p).edits}*getLanguageRangeIterator(e){for(let t,n=0,r=e.length;n<r;++n)(t=e[n]).languageId===o.PHP.LANGUAGE_ID&&(yield t)}createVirtualDocument(e,t){let n,r="";for(let i,s=0,a=e.length;s<a;++s)r+=n=(i=e[s]).languageId===o.PHP.LANGUAGE_ID?"<?php ?>":t.getRangeText(i.range);return new c.Document("virtual",r)}provideDocumentRangeFormattingEdits(e,t,n){if(this.isFullDocumentRange(e,t))return this.provideDocumentFormattingEdits(e,n);let r=this.parseTreeStore.find(e);if(!r)return[];const i=r.getTraverser();if(r.documentLanguageRanges().find(e=>u.hasRangeOverlap(t,e.range)&&e.languageId!==o.PHP.LANGUAGE_ID))return this.provideDocumentFormattingEdits(e,n);const s=r.getNodeUtils(),c={start:s.positionToOffset(t.start),end:s.positionToOffset(t.end)};if(!i.seekRange(c.start,c.end))return a.Log.warn(`Format request for ${e} is out of range.`),[];let l=new h(s,n,c);return i.traverse(l),l.aborted&&a.Log.warn("Format aborted. Parse error found."),l.edits}isFullDocumentRange(e,t){if(!t)return!0;const n=this.stores.documentStore.find(e);if(!n)return!1;const r=n.positionToOffset(t.end);return 0===t.start.line&&0===t.start.character&&r===n.text.length}};class h{constructor(e,t,n){this.nodeUtils=e,this.startOffset=-1,this.endOffset=1/0,this.abort=!1,this.openTagCount=0,this._edits=[],t.insertSpaces?this.indentUnit=" ".repeat(t.tabSize):this.indentUnit="\t",n&&(this.startOffset=n.start,this.endOffset=n.end),this.offsetVisitor=new s.OffsetVisitor,this.indentVisitor=new p(t.tabSize,t.insertSpaces,e.clone())}get aborted(){return this.abort}get edits(){return this.abort?[]:this._edits.reverse()}beforeTraverse(e,t){this.offsetVisitor.beforeTraverse(e,t),this.indentVisitor.beforeTraverse(e,t);const n=t.length>0?t[0]:e;this.firstToken=s.NodeUtils.firstToken(n)}preorder(e,t){if(this.indentVisitor.preorder(e,t),this.offsetVisitor.preorder(e,t),this.offsetVisitor.offset>this.endOffset||this.offsetVisitor.offset+e.length<this.startOffset)return!1;if(this.abort||1061===e.kind)return this.abort=!0,!1;if(i.isPhrase(e))return!0;156!==e.kind&&157!==e.kind||this.openTagCount++;const n=t[t.length-1],s=this.previousTokenSpine||this.getPreviousTokenSpine(e,t);if(this.previousTokenSpine=[...t,e],!s)return!0;const o=s.pop();if(1===e.kind){const t=this.endOfFileTextEdit(e);return t&&this._edits.push(t),!1}if(80===e.kind){const n=this.formatText(e,t);return n&&this._edits.push(n),!1}const a=this.ruleFromPreviousToken(o,s),c=this.nodeUtils.getLeadingTrivia(e);let u=void 0;c.length>0&&163===c[c.length-1].token.kind&&(u=c[c.length-1]);let l=this.indentVisitor.indentText,h=this.shouldIncrementIndentTrivia(e,n);h&&(l+=this.indentUnit.repeat(h));const p=this.formatTrivia(c,l),f=this.ruleFromCurrentToken(e,t,a);let _=(p||f||a||d.spaceOrNewlineIndentBefore)(u,r.Range.create(this.nodeUtils.offsetToPosition(this.offsetVisitor.offset),this.nodeUtils.offsetToPosition(this.offsetVisitor.offset+e.length)),this.indentVisitor.indentText,this.indentUnit);if(_&&this._edits.push(_),i.isKeyword(e.kind)&&1090!==n.kind){let t=this.nodeUtils.nodeText(e),n=t.toLowerCase();if(t!==n){let t=this.nodeUtils.nodeRange(e);t&&this._edits.push(r.TextEdit.replace(t,n))}}else 159===e.kind?(_=this._formatDocBlock(e))&&this._edits.push(_):this.isCast(e)&&(_=this.formatCast(e))&&this._edits.push(_);return!0}postorder(e,t){this.indentVisitor.postorder(e,t),this.offsetVisitor.postorder(e,t)}formatCast(e){let t;switch(e.kind){case 147:t="(bool)";break;case 148:t="(unset)";break;case 149:t="(string)";break;case 150:t="(object)";break;case 151:t="(int)";break;case 152:t="(float)";break;case 155:t="(array)";break;default:return}if(this.nodeUtils.nodeText(e)!==t){let n=this.nodeUtils.nodeRange(e);if(!n)return;return r.TextEdit.replace(n,t)}}isCast(e){switch(e.kind){case 147:case 148:case 149:case 150:case 151:case 152:case 155:return!0;default:return!1}}htmlCommentOffsetRanges(e){let t=[],n=!1,r=!1,i=!1;for(let s,o=0,a=e.length;o<a;++o)s=e[o],i?"-"===s&&"-"===e[o+1]&&">"===e[o+2]&&(o+=2,t.push(o),i=!1):'"'!==s||r?"'"!==s||n?n||r||"<"!==s||"!"!==e[o+1]||"-"!==e[o+2]||"-"!==e[o+3]||(t.push(o),o+=3,i=!0):r=!r:n=!n;return t}formatText(e,t){const n=this.nodeUtils.nodeText(e),i=this.nodeUtils.nodeRange(e);if(!i)return;const o=t[t.length-1],a=t[t.length-2];let c=s.NodeUtils.countNodesOfKind(t,[1153,1032,1164,1101]);if(0===c)return;const u=a.children[a.children.length-1]===o;let l=u?h.LAST_TEXT_REPLACE_PATTERN:h.TEXT_REPLACE_PATTERN,d=this.indentUnit.repeat(c),p=this.htmlCommentOffsetRanges(n),f=p.shift(),_=p.shift();let m=n.replace(l,(e,t)=>{for(;void 0!==f&&void 0!==_&&t>_;)f=p.shift(),_=p.shift();return void 0!==f&&void 0!==_&&t>=f&&t<=_?e:e+d});return u&&c>1&&(d=this.indentUnit.repeat(c-1),m=m.replace(h.LAST_LINE_REPLACE_PATTERN,"$&"+d)),m!==n?r.TextEdit.replace(i,m):void 0}endOfFileTextEdit(e){if(this.firstToken&&156===this.firstToken.kind&&this.startOffset<=0&&1===this.openTagCount&&this.endsWithCloseTag(e)){let t=this.nodeUtils.textLength,n=e.previous;n&&80===n.kind&&(t-=n.length,n=n.previous),n&&158===n.kind&&(t-=n.length,n=n.previous),n&&163===n.kind&&(t-=n.length);const i=this.nodeUtils.offsetToPosition(t),s=this.nodeUtils.offsetToPosition(this.nodeUtils.textLength),o=r.TextEdit.replace(r.Range.create(i,s),"\n");let a=this._edits[this._edits.length-1];for(;a&&u.isInRange(i,a.range)>=0;)this._edits.pop(),a=this._edits[this._edits.length-1];this._edits.push(o)}else if(e.previous&&163===e.previous.kind){if("\n"!==this.nodeUtils.textSlice(-e.previous.length)){const t=this.nodeUtils.textLength;return r.TextEdit.replace(r.Range.create(this.nodeUtils.offsetToPosition(t-e.previous.length),this.nodeUtils.offsetToPosition(t)),"\n")}}else if(e.previous&&158!==e.previous.kind&&80!==e.previous.kind)return r.TextEdit.insert(this.nodeUtils.offsetToPosition(this.nodeUtils.textLength),"\n")}previousSibling(e,t){return new s.ParseTreeTraverser([...t,e],this.nodeUtils.clone(),{}).prevSibling()}nextSibling(e,t){return new s.ParseTreeTraverser([...t,e],this.nodeUtils.clone(),{}).nextSibling()}ruleFromCurrentToken(e,t,n){const r=t[t.length-1],i=t[t.length-2];switch(e.kind){case 134:if(1127===r.kind)return d.noSpaceBefore;break;case 128:if(1126===r.kind)return d.noSpaceBefore;break;case 146:if(1116===r.kind||1119===r.kind)return d.noSpaceBefore;break;case 83:if(void 0!==t.find(this.isEncapsulatedVariableList)||89===this.previousNonTriviaToken(e).kind)return d.noSpaceBefore;break;case 94:case 96:if(r.children[r.children.length-1]===e)return d.noSpaceBefore;break;case 87:case 92:case 80:case 79:case 130:case 127:case 156:case 157:case 154:return d.noSpaceBefore;case 115:if(1029===r.kind||1162===r.kind||1099===r.kind)return d.newlineIndentBefore;if(1082===r.kind||i&&1109===i.kind){const e=new s.ParseTreeTraverser(1082===r.kind?t:t.slice(0,-1),this.nodeUtils.clone(),{});e.prevSibling();const n=e.child(e=>1125===e.kind);return n&&1125===n.kind&&this.indentVisitor.isIndentRoot(n)||i&&(1002===i.kind||1004===i.kind)?d.singleSpaceBefore:d.newlineIndentBefore}return 1057===r.kind||1156===r.kind||1119===r.kind?d.noSpaceBefore:d.singleSpaceBefore;case 86:if(this.isControlStructure(r))return d.singleSpaceBefore;if(1040!==r.kind||95===this.previousNonTriviaToken(e).kind)return d.noSpaceBefore;break;case 17:case 18:if(118===this.previousNonTriviaToken(e).kind)return d.singleSpaceBefore;break;case 82:if(1046===r.kind||1131===r.kind||146===this.previousNonTriviaToken(e).kind)return d.noSpaceBefore;break;case 66:if(1050===r.kind&&118===this.previousNonTriviaToken(e).kind)return d.singleSpaceBefore;break;case 8:case 30:return d.singleSpaceBefore;case 114:case 132:return d.noSpaceOrNewlineIndentBefore;case 117:if(117===this.previousNonTriviaToken(e).kind)return d.noSpaceOrNewlineIndentBefore;if(this.shouldOpenParenthesisHaveNoSpaceBefore(r,i))return d.noSpaceBefore;if(!n)return d.singleSpaceBefore;break;case 116:if(1156===r.kind)return d.noSpaceBefore;break;case 118:if(1156===r.kind||1057===r.kind||1058===r.kind||1119===r.kind&&!this.indentVisitor.isIndentRoot(this.previousSibling(e,t)))return d.noSpaceBefore;{const t=this.previousNonTriviaToken(e);return t&&115===t.kind?d.singleSpaceBefore:156===t.kind?d.spaceOrNewlineIndentBefore:d.singleNewlineIndentBefore}case 120:{const n=this.previousSibling(e,t);return this.isControlStructureWithEncapsulatedExpr(r)&&this.indentVisitor.isIndentRoot(n)?d.newlineIndentBefore:n&&1125===n.kind&&this.indentVisitor.isIndentRoot(n)?d.newlineIndentBefore:n&&(1008===n.kind||1036===n.kind||1011===n.kind)&&this.indentVisitor.isIndentRoot(n)?d.newlineIndentBefore:d.noSpaceBefore}case 119:{const n=this.previousSibling(e,t);return n&&1011===n.kind&&this.indentVisitor.isIndentRoot(n)?d.newlineIndentBefore:d.noSpaceBefore}case 158:return e.previous&&160===e.previous.kind?d.noSpaceBefore:d.spaceOrNewlineIndentBefore;case 84:case 77:case 81:case 78:if(1046===r.kind)return d.noSpaceBefore;break;case 13:return d.doubleNewlineIndentBefore;case 159:{let t=this.previousNonTriviaToken(e);if(t&&156===t.kind&&!t.previous)return d.doubleNewlineIndentBefore}break;case 64:if(1119===r.kind&&!s.NodeUtils.isPhraseOfKind(this.previousSibling(r,t.slice(0,-1)),[1119]))return d.doubleNewlineIndentBefore;break;case 49:if(1115===r.kind)return d.doubleNewlineIndentBefore}}isEncapsulatedVariableList(e){return 1059===e.kind}ruleFromPreviousToken(e,t){const n=t[t.length-1],r=t[t.length-2];switch(e.kind){case 147:case 148:case 149:case 150:case 151:case 152:case 155:return d.spaceBefore;case 115:return 1057===n.kind||1119===n.kind&&this.nodeUtils.areSiblingsOnSameLine(e,s.NodeUtils.getSibling(e,t[t.length-1],2),t)?d.noSpaceBefore:d.newlineIndentBefore;case 118:if(1058!==n.kind&&1057!==n.kind&&1156!==n.kind&&(1082!==n.kind||1004!==r.kind))return d.newlineIndentBefore;break;case 87:return 1070!==n.kind||this.indentVisitor.isIndentRoot(n)?1115===n.kind||1119===n.kind&&this._isLastNamespaceUseDeclaration(r,n)?d.doubleNewlineIndentBefore:d.newlineIndentBefore:d.singleSpaceBefore;case 86:if(this.shouldIndentAfterColon(n))return d.newlineIndentBefore;if(!this.isControlStructure(n))return d.singleSpaceBefore;break;case 102:if(1014!==n.kind)return d.noSpaceBefore;break;case 110:case 142:if(1170===n.kind)return d.noSpaceBefore;break;case 134:if(1129===n.kind)return d.noSpaceBefore;break;case 128:if(1128===n.kind)return d.noSpaceBefore;break;case 117:{const r=this.nextSibling(e,t);return this.isControlStructureWithEncapsulatedExpr(n)&&this.indentVisitor.isIndentRoot(r)?d.newlineIndentBefore:r&&(1125===r.kind||1008===r.kind||1036===r.kind||1011===r.kind)&&this.indentVisitor.isIndentRoot(r)?d.newlineIndentBefore:d.noSpaceBefore}case 116:{const n=this.nextSibling(e,t);return n&&1011===n.kind&&this.indentVisitor.isIndentRoot(n)?d.newlineIndentBefore:d.noSpaceBefore}case 133:case 88:case 93:case 155:case 147:case 152:case 151:case 150:case 149:case 148:case 85:case 146:case 13:return d.noSpaceBefore;case 127:case 130:return d.noSpaceBefore;case 92:if(1011===n.kind||1044===n.kind||1027===n.kind||1134===n.kind||1155===n.kind||1173===n.kind)return d.spaceOrNewlineIndentBefore;if(this.indentVisitor.isIndentRoot(n))return d.newlineIndentBefore;break;case 114:case 132:return d.noSpaceBefore;case 156:case 157:return d.singleSpaceOrNewlineIndentBefore;case 95:if(1169===n.kind)return d.noSpaceBefore;break;case 38:return this.indentVisitor.isIndentRoot(this.nextSibling(e,t))?d.newlineIndentBefore:d.singleSpaceBefore;case 153:case 94:case 96:{const n=this.nextSibling(e,t);if(n&&1059===n.kind)return d.noSpaceBefore}break;case 79:if(1059===n.kind)return d.noSpaceBefore}}endsWithCloseTag(e){const t=e.previous,n=t?t.previous:void 0;return!(!t||158!==t.kind)||n&&t&&158===n.kind&&80===t.kind&&!this.nodeUtils.textSlice(this.nodeUtils.textLength-t.length).trim()}isControlStructure(e){switch(e.kind){case 1091:case 1053:case 1054:case 1175:case 1050:case 1078:case 1073:return!0;default:return!1}}isControlStructureWithEncapsulatedExpr(e){switch(e.kind){case 1091:case 1054:case 1175:case 1050:case 1078:return!0;default:return!1}}getPreviousTokenSpine(e,t){const n=new s.ParseTreeTraverser([...t,e],this.nodeUtils.clone(),{});if(n.prevToken())return n.spine}previousNonTriviaToken(e){if(!e)return{kind:0,length:0,previous:void 0};for(;(e=e.previous)&&s.NodeUtils.isTrivia(e););return e||{kind:0,length:0,previous:void 0}}shouldIncrementIndentTrivia(e,t){switch(e.kind){case 118:return 1157===t.kind?2:1;case 120:case 119:case 7:case 14:case 87:return 1;default:return 0}}formatTrivia(e,t){let n,r,i,s,o;for(let a=0;a<e.length;++a)switch(n=e[a].token,s=a>0&&163===e[a-1].token.kind?e[a-1]:void 0,n.kind){case 162:if(!(o=this.nodeUtils.nodeRange(n)))break;(r=d.newlineIndentBefore(s,o,t,this.indentUnit))&&this._edits.push(r),(r=this._formatDocBlock(n))&&this._edits.push(r),i=d.newlineIndentBefore;break;case 160:if(i=i||d.spaceOrNewlineIndentBefore,!(o=this.nodeUtils.nodeRange(n)))break;(r=i(s&&163===s.token.kind?s:void 0,o,t,this.indentUnit))&&this._edits.push(r),i=d.newlineIndentBefore;break;case 161:if(i=i||d.noSpaceOrSpaceOrNewlineIndentBefore,!(o=this.nodeUtils.nodeRange(n)))break;(r=i(s,o,t,this.indentUnit))&&this._edits.push(r),(r=this.formatInlineComment(n))&&this._edits.push(r),i=void 0}return i}formatInlineComment(e){}_formatDocBlock(e){let t=this.nodeUtils.nodeText(e),n=t.replace(h.DOCBLOCK_REPLACE_PATTERN,"\n"+this.indentVisitor.indentText+" *");if(n!==t){let t=this.nodeUtils.nodeRange(e);if(t)return r.TextEdit.replace(t,n)}}_isLastNamespaceUseDeclaration(e,t){let n=e.children.indexOf(t);for(;n<e.children.length;)if(++n,(t=e.children[n]).kind)return 1119!==t.kind;return!0}shouldIndentAfterColon(e){switch(e.kind){case 1017:case 1049:return!0;default:return!1}}shouldOpenParenthesisHaveNoSpaceBefore(e,t){switch(e.kind){case 1080:case 1107:case 1145:case 1052:case 1056:case 1063:case 1064:case 1102:case 1103:case 1171:case 1009:case 1083:case 1110:case 1123:return!0;case 1057:break;default:return!1}switch(t.kind){case 1130:case 1141:case 1142:case 1092:case 1093:return!0;default:return!1}}}var d;h.DOCBLOCK_REPLACE_PATTERN=/(?:\r\n|\r|\n)[ \t]*\*/g,h.TEXT_REPLACE_PATTERN=/(?:\r\n|\r|\n)[ \t]*(?=[^\n\r \t]|$)/g,h.LAST_TEXT_REPLACE_PATTERN=/(?:\r\n|\r|\n)[ \t]*(?=[^\n\r \t])/g,h.LAST_LINE_REPLACE_PATTERN=/(?:\r\n|\r|\n)[ \t]*$/,function(e){const t=/\t/g;function n(e){let t,n=0,r=e.length,i=0;for(;i<r;)t=e[i],++i,"\r"===t?(++n,i<r&&"\n"===e[i]&&++i):"\n"===t&&++n;return n}e.singleSpaceBefore=function(e,t,n,i){return e?" "!==e.text?r.TextEdit.replace(e.range," "):void 0:r.TextEdit.insert(t.start," ")},e.spaceBefore=function(e,i,s,o){if(!e)return r.TextEdit.insert(i.start," ");if(n(e.text)>0)return r.TextEdit.replace(e.range," ");const a=e.text.replace(t,o);return a===e.text?void 0:r.TextEdit.replace(e.range,a)},e.newlineIndentBefore=function(e,t,i,s){if(!e)return r.TextEdit.insert(t.start,"\n"+i);let o=e.text,a="\n".repeat(Math.max(1,n(o)))+i;return o!==a?r.TextEdit.replace(e.range,a):void 0},e.singleNewlineIndentBefore=function(e,t,n,i){if(!e)return r.TextEdit.insert(t.start,"\n"+n);let s="\n"+n;return e.text!==s?r.TextEdit.replace(e.range,s):void 0},e.doubleNewlineIndentBefore=function(e,t,i,s){if(!e)return r.TextEdit.insert(t.start,"\n\n"+i);let o=e.text,a="\n".repeat(Math.max(2,n(o)))+i;return o!==a?r.TextEdit.replace(e.range,a):void 0},e.noSpaceBefore=function(e,t,n,i){if(e)return r.TextEdit.del(e.range)},e.noSpaceOrNewlineIndentBefore=function(e,t,i,s){if(!e)return;let o=e.text,a=n(o);if(!a)return r.TextEdit.del(e.range);let c="\n".repeat(a)+i;return o!==c?r.TextEdit.replace(e.range,c):void 0},e.singleSpaceOrNewlineIndentBefore=function(e,t,i,s){if(!e)return r.TextEdit.insert(t.start," ");let o=e.text;if(" "===o)return;let a=n(o);if(!a)return r.TextEdit.replace(e.range," ");let c="\n".repeat(a)+i;return o!==c?r.TextEdit.replace(e.range,c):void 0},e.spaceOrNewlineIndentBefore=function(e,i,s,o){if(!e)return r.TextEdit.insert(i.start," ");let a=e.text;if(" "===a)return;let c=n(a);if(!c){let n=e.text.replace(t,o);return n===e.text?void 0:r.TextEdit.replace(e.range,n)}let u="\n".repeat(c)+s;return a!==u?r.TextEdit.replace(e.range,u):void 0},e.noSpaceOrSpaceOrNewlineIndentBefore=function(e,i,s,o){if(!e)return;let a=e.text;if(" "===a)return;let c=n(a);if(!c){let n=e.text.replace(t,o);return n===e.text?void 0:r.TextEdit.replace(e.range,n)}let u="\n".repeat(c)+s;return a!==u?r.TextEdit.replace(e.range,u):void 0},e.countNewlines=n}(d||(d={}));class p{constructor(e,t,n,r){this.tabSize=e,this.useSpaces=t,this.nodeUtils=n,this.indentRootSet=new Set,this.useSpaces?this.indentUnit=" ".repeat(this.tabSize):this.indentUnit="\t",this._indentText=r?this.indentUnit.repeat(r):""}get indentText(){return this._indentText}isIndentRoot(e){return!!e&&this.indentRootSet.has(e)}beforeTraverse(e,t){let n,r;(t=t.slice(0)).push(e);for(let i=1,s=t.length;i<s;++i){if(n=t[i],1153!==(r=t[t.length-1]).kind&&1178!==r.kind||this.isInlineTextWithOpenTag(e)||this.isEchoIntrinsicWithOpenTagEcho(e)||this.onStatementListChild(e,t),this.isEchoIntrinsicWithOpenTagEcho(r)&&e!==r.children[0]){const e=this.computeIndentSizeFromOpenTag(r.children[0],t,this.tabSize);this._indentText=this.indentUnit.repeat(e)}if(n!==e){const e=t.slice(0,i);this.preorder(n,e)}}}preorder(e,t){if(t.length<1)return!0;const n=t[t.length-1];switch(e.kind){case 1032:case 1164:case 1101:case 1018:case 1153:this.indentRootSet.add(e),this.increment();break;case 156:case 157:{const n=this.computeIndentSizeFromOpenTag(e,t,this.tabSize);let r=this.indentUnit.repeat(n),i=s.NodeUtils.countNodesOfKind(t,[1153,1032,1164,1101]);i>0&&(r+=this.indentUnit.repeat(i)),this._indentText=r}break;case 1125:case 1008:case 1036:case 1137:case 1044:case 1027:case 1134:case 1155:case 1173:case 1118:case 1121:case 1070:case 1011:{const n=[...t,e];if(e.children.length>0&&(this.hasChildWithLeadingWhitespaceNewline(n)||this.hasTrailingWhitespaceNewline(n)))return this.indentRootSet.add(e),this.increment(),!0}break;case 1014:case 1065:case 1150:case 1104:case 1060:case 1001:case 1037:case 1138:case 1112:if(this.isControlStructureWithEncapsulatedExpr(n)&&this.hasBinaryExprDescendentWithLeadingWhitespaceNewline([...t,e]))return this.indentRootSet.add(e),this.increment(),!0;break;default:if(i.isToken(e)&&this.hasLeadingWhitespaceNewline(this.nodeUtils.getLeadingTrivia(e))){const n=this.getIndentRootNode(e,t);n&&!this.indentRootSet.has(n)&&(this.indentRootSet.add(n),this.increment())}}return!0}postorder(e,t){this.indentRootSet.has(e)&&this.decrement()}isControlStructureWithEncapsulatedExpr(e){switch(e.kind){case 1091:case 1054:case 1175:case 1050:return!0;default:return!1}}isBinaryExpr(e){switch(e.kind){case 1014:case 1065:case 1150:case 1104:case 1060:case 1001:case 1037:case 1138:case 1112:return!0;default:return!1}}isList(e){switch(e.kind){case 1125:case 1008:case 1036:case 1011:case 1137:case 1044:case 1027:case 1134:case 1155:case 1173:case 1118:case 1121:case 1153:case 1032:case 1164:case 1101:case 1018:case 1070:case 1066:return!0;default:return!1}}hasTrailingWhitespaceNewline(e){const t=new s.ParseTreeTraverser(e,this.nodeUtils,{});return t.nextSibling()&&this.hasLeadingWhitespaceNewline(this.nodeUtils.getLeadingTriviaFromSpine(t.spine))}hasChildWithLeadingWhitespaceNewline(e){let t,n,r;const i=e[e.length-1];for(let s=0,o=i.children.length;s<o;++s)if(t=i.children[s],r=[...e,t],n=this.nodeUtils.getLeadingTriviaFromSpine(r),this.hasLeadingWhitespaceNewline(n))return!0;return!1}hasBinaryExprDescendentWithLeadingWhitespaceNewline(e){if(!e)return!1;const t=[e];let n,r,i;if(this.hasTrailingWhitespaceNewline(e))return!0;for(;e=t.shift();){let s;for(let o=0,a=(i=e[e.length-1]).children.length;o<a;++o){if(s=i.children[o],r=[...e,s],n=this.nodeUtils.getLeadingTriviaFromSpine(r),this.hasLeadingWhitespaceNewline(n))return!0;this.isBinaryExpr(s)&&t.push(r)}}}hasLeadingWhitespaceNewline(e){let t;for(let n=0,r=e.length;n<r;++n)if(163===(t=e[n]).token.kind&&d.countNewlines(t.text)>0)return!0;return!1}increment(){this._indentText+=this.indentUnit}decrement(){this._indentText=this._indentText.slice(0,-this.indentUnit.length)}isEchoIntrinsicWithOpenTagEcho(e){return 1052===e.kind&&157===e.children[0].kind}isInlineTextWithOpenTag(e){return 1094===e.kind&&156===e.children[e.children.length-1].kind}computeIndentSizeFromOpenTag(e,t,n){(t=t.slice(0)).push(e);const i=this.nodeUtils.nodeRangeFromSpine([...t,e]);let s=this.nodeUtils.rangeText(r.Range.create(i.start.line,0,i.start.line,i.start.character));return s=s.replace(/\t/g," ".repeat(n)),Math.ceil(s.length/n)}onStatementListChild(e,t){const n=t[t.length-1];let r,i;for(let t=0,s=n.children.length;t<s&&(r=n.children[t])!==e;++t)(this.isInlineTextWithOpenTag(r)||this.isEchoIntrinsicWithOpenTagEcho(r))&&(i=r);if(!i)return;const s=1094===i.kind?i.children.length-1:0,o=i.children[s],a=this.computeIndentSizeFromOpenTag(o,[...t,i],this.tabSize);this._indentText=this.indentUnit.repeat(a)}getIndentRootNode(e,t){let n=(t=t.slice(0)).pop(),r=e;switch(e.kind){case 87:case 120:case 118:case 119:return;case 115:if(1039===n.kind)return}for(;n&&!this.isList(n)&&n.children[0]===r;)r=n,n=t.pop();if(n){if(this.isList(n))return n;if(1020===n.kind)return 83===r.kind?r:void 0;if(this.isStatementWithEncapsulatedExpression(n)){const e=n.children.findIndex(e=>e===r),t=n.children.findIndex(e=>117===e.kind),i=n.children.findIndex(e=>120===e.kind);if(e>t&&e<i)return r}if(this.isEncapsulatedExpression(n)){const e=n.children.findIndex(e=>e===r),t=n.children.findIndex(e=>117===e.kind||115===e.kind),i=n.children.findIndex(e=>120===e.kind||118===e.kind);return e>t&&e<i?r:void 0}if(this.isKeywordExpressionStatement(n))return n.children[1]===r&&87!==r.kind?r:void 0;if(1156===n.kind){const e=n.children.findIndex(e=>e===r),t=n.children.findIndex(e=>116===e.kind||115===e.kind),i=n.children.findIndex(e=>119===e.kind||118===e.kind);return e>t&&e<i?r:void 0}if(this.isBinaryOrKeywordExpression(n)){do{r=n,n=t.pop()}while(n&&this.isBinaryOrKeywordExpression(n));return r}if(this.isControlStmt(n)){const e=n.children.indexOf(r);if(e>0)switch(n.children[e-1].kind){case 120:case 15:case 17:return r}}}}isControlStmt(e){switch(e.kind){case 1078:case 1073:case 1050:case 1175:case 1091:case 1054:case 1053:return!0;default:return!1}}isKeywordExpressionStatement(e){switch(e.kind){case 1015:case 1045:case 1158:case 1143:case 1087:return!0;default:return!1}}isEncapsulatedExpression(e){switch(e.kind){case 1056:case 1063:case 1064:case 1057:return!0;default:return!1}}isStatementWithEncapsulatedExpression(e){switch(e.kind){case 1047:case 1050:case 1054:case 1073:case 1091:case 1157:case 1175:return!0;default:return!1}}isBinaryOrKeywordExpression(e){switch(e.kind){case 1001:case 1014:case 1016:case 1037:case 1038:case 1060:case 1065:case 1095:case 1104:case 1107:case 1112:case 1131:case 1138:case 1145:case 1147:case 1150:case 1151:case 1040:case 1035:case 1123:case 1130:case 1141:case 1142:case 1092:case 1093:case 1176:case 1177:return!0;default:return!1}}}t.IndentVisitor=p},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(1),i=n(4),s=n(18),o=n(10);t.ResolveScopeTypeVisitor=class{constructor(e,t,n,r,i){this.nodeReferenceMap=e,this.definitionStore=t,this.typeAndValueDelegate=n,this.metadataStore=r,this.nodeUtils=i,this.typeStack=[[]],this.ignore=new Set}get type(){const e=this.typeStack.pop();return e&&e.length?e[0]:i.TypeString.MIXED_TYPE_STRING}preorder(e,t){if(this.ignore.has(e))return!1;switch(this.typeStack.push([]),e.kind){case 1107:case 1131:case 1145:case 1147:case 1024:return this.ignoreMany(e.children.filter((e,t,n)=>2!==t)),!0;case 1151:case 1016:case 1156:return this.ignoreMany(e.children.slice(1)),!0;case 1057:return this.ignoreMany(e.children.filter((e,t,n)=>1!==t)),!0;case 1123:case 1035:case 1034:case 1037:case 1040:case 1079:case 1139:case 1136:case 1009:case 1011:case 1013:return!0;case 1080:return this.ignoreMany(e.children.slice(1)),!0;default:return!1}}postorder(e,t){if(this.ignore.has(e))return;const n=this.typeStack.pop()||[];let r,s;switch(e.kind){case 1116:case 1140:(s=this.nodeReferenceMap.get(e))&&this.typeStackTop().push(s.type?s.type:i.TypeString.fromString(s.name)||i.TypeString.OBJECT_TYPE_STRING);break;case 1106:case 1146:case 1152:(s=this.nodeReferenceMap.get(e))&&s.type&&this.typeStackTop().push(s.type);break;case 1080:(r=i.TypeString.unionMany(n))&&i.TypeString.isEqualOrOverlaps(r,i.TypeString.CLOSURE_TYPE_STRING)?this.typeStackTop().push(this.getAnonFnReturnType(r)):r&&this.typeStackTop().push(r);break;case 1156:(r=i.TypeString.unionMany(n))&&(r=this.getArrayAccessType(r,e,t))&&this.typeStackTop().push(r);break;case 1040:(r=i.TypeString.unionMany(n.slice(-2)))&&this.typeStackTop().push(r);break;case 1009:r=i.TypeString.unionMany(n),(r=i.TypeString.arrayOf(r))&&this.typeStackTop().push(r);break;default:(r=i.TypeString.unionMany(n))&&this.typeStackTop().push(r)}}getAnonFnReturnType(e){let t,n,s=i.TypeString.objectNames(e);const o=e=>64===e.kind&&(512&e.modifiers)>0;let a;for(let e=0,c=s.length;e<c;++e){t=s[e],n=this.definitionStore.find(t,o);for(let e of n)(a=i.TypeString.union(a,r.Definition.typeAsTypeString(e)))||(a=i.TypeString.union(a,this.typeAndValueDelegate(e).type))}return a||i.TypeString.MIXED_TYPE_STRING}isArrayKey(e){if(!e)return!1;switch(e.kind){case 77:case 81:case 1041:case 1024:return!0;default:return!1}}getConstantAccessExpressionValue(e){const t=e.children[0],n=t.children[t.children.length-1],i=this.nodeReferenceMap.get(n);if(i)return this.definitionStore.findByReference(i).filter(e=>void 0!==e.value).map(e=>r.Definition.parsedValue(e)).shift()}getClassConstantAccessExpressionValue(e){const t=e.children[2],n=this.nodeReferenceMap.get(t);if(n)return"class"===n.name?i.TypeString.objectNames(n.scope).shift():this.definitionStore.findByReference(n).filter(e=>void 0!==e.value).map(e=>r.Definition.parsedValue(e)).shift()}getArrayKeyValue(e,t){if(e)switch(e.kind){case 77:return o.PHP.parseString(this.nodeUtils.nodeTextFromSpine([...t,e]),e.kind);case 81:return this.nodeUtils.nodeTextFromSpine([...t,e]);case 1041:return this.getConstantAccessExpressionValue(e);case 1024:return this.getClassConstantAccessExpressionValue(e);default:return}}getArrayAccessType(e,t,n){const o=i.TypeString.objectNames(e);let a,c;const u=t.children[2];if(this.isArrayKey(u)){let e,s,c=this.getArrayKeyValue(u,[...n,t]);for(let t=0,n=o.length;t<n;++t)a=o[t],s=r.Definition.fqsenHash(a,0,1),this.metadataStore.hasOverrideType(s)&&void 0!==c&&(e=i.TypeString.union(e,this.metadataStore.getOverrideType(s,[{type:i.TypeString.STRING_TYPE_STRING,value:c}])));if(void 0!==e)return e}for(let e=0,t=o.length;e<t;++e)if(a=o[e],(c=s.TypeDefinition.fromName(a,this.definitionStore,3))&&c.isAssociated("ArrayAccess")){let e=c.findMember("offsetGet",32);if(e){let t=r.Definition.typeAsTypeString(e);return t||(t=this.typeAndValueDelegate(e).type),t}}return i.TypeString.elementOf(e)}typeStackTop(){return this.typeStack[this.typeStack.length-1]}ignoreMany(e){for(let t=0,n=e.length;t<n;++t)this.ignore.add(e[t])}}},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,s){function o(e){try{c(r.next(e))}catch(e){s(e)}}function a(e){try{c(r.throw(e))}catch(e){s(e)}}function c(e){e.done?i(e.value):new n(function(t){t(e.value)}).then(o,a)}c((r=r.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0});const i=n(1),s=n(15),o=n(8);var a;!function(e){e.fromUriIdAndNameSet=function(e,t){const n=[e];for(let e of t.values())n.push(o.hash32(e));return n},e.uriId=function(e){return e[0]},e.hashedNames=function(e){return e.slice(1)}}(a=t.HashedReferenceNames||(t.HashedReferenceNames={}));t.ReferenceStore=class{constructor(e){this.getParseTreeDelegate=e,this.hashedReferenceNameToUriIdMap=new Map,this.uriIdToHashedReferenceNamesMap=new Map}findHashedReferenceNames(e){return this.uriIdToHashedReferenceNamesMap.get(e)}addHashedReferenceNames(e){const t=a.uriId(e),n=a.hashedNames(e);let r,i;this.removeHashedReferenceNames(t),this.uriIdToHashedReferenceNamesMap.set(t,e);for(let e=0,s=n.length;e<s;++e)r=n[e],(i=this.hashedReferenceNameToUriIdMap.get(r))?i.add(t):this.hashedReferenceNameToUriIdMap.set(r,new Set([t]));return e}removeHashedReferenceNames(e){const t=this.uriIdToHashedReferenceNamesMap.get(e);if(void 0===t)return;this.uriIdToHashedReferenceNamesMap.delete(e);const n=a.hashedNames(t);let r,i;for(let t=0,s=n.length;t<s;++t)r=n[t],(i=this.hashedReferenceNameToUriIdMap.get(r))&&(1===i.size?this.hashedReferenceNameToUriIdMap.delete(r):i.delete(e));return t}find(e,t,n){return r(this,void 0,void 0,function*(){if(!e)return[];let r=o.hash32(e.toLowerCase()),i=this.hashedReferenceNameToUriIdMap.get(r)||new Set;const a=this.createReferencePredicate(e,t),c=[];let u;const l=Array.from(i);let h;for(let e=0,t=l.length;e<t&&(h=l[e],!n||!n.isCancellationRequested);++e)if((u=yield this.getParseTreeDelegate(h))&&u.nodeMaps.nodeReferenceMap&&u.nodeMaps.nodeDocBlockReferenceMap){const e=new s.ReferencesVisitor(u.nodeMaps.nodeReferenceMap,u.nodeMaps.nodeDocBlockReferenceMap,u.getNodeUtils(),a);Array.prototype.push.apply(c,u.traverse(e).references)}return c})}restoreState(e){this.hashedReferenceNameToUriIdMap=new Map(e._index),this.uriIdToHashedReferenceNamesMap=new Map(e._referenceNames)}getState(){return{_index:Array.from(this.hashedReferenceNameToUriIdMap.entries()),_referenceNames:Array.from(this.uriIdToHashedReferenceNamesMap.entries())}}clear(){this.hashedReferenceNameToUriIdMap=new Map,this.uriIdToHashedReferenceNamesMap=new Map}createReferencePredicate(e,t){const n=e.toLowerCase();return r=>(i.Definition.isCaseSensitive(r.kind)&&(e===r.name||8===r.kind&&r.unresolvedName===e)||!i.Definition.isCaseSensitive(r.kind)&&(n===r.name.toLowerCase()||64===r.kind&&!!r.unresolvedName&&r.unresolvedName.toLowerCase()===n))&&(!t||t(r))}}},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,s){function o(e){try{c(r.next(e))}catch(e){s(e)}}function a(e){try{c(r.throw(e))}catch(e){s(e)}}function c(e){e.done?i(e.value):new n(function(t){t(e.value)}).then(o,a)}c((r=r.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0});const i=n(1),s=n(118),o=n(224),a=n(244),c=n(18),u=n(4),l=n(2),h=n(20),d=n(245),p=n(7);class f{constructor(e,t,n,r){this.definition=e,this.summary=t,this.description=n,this.tags=r}inherit(e){switch(this.definition.kind){case 1:this.classInherit(e);break;case 2:this.interfaceInherit(e);break;case 16:this.propertyInherit(e);break;case 1024:this.classConstInherit(e);break;case 32:this.methodInherit(e)}}hasHtmlDescription(){return 0!=(65536&this.definition.modifiers)}interfaceInherit(e){2===e.definition.kind&&(this.inheritCommon(e),this.inheritTagKind(e,1019))}classConstInherit(e){1024===e.definition.kind&&(this.inheritCommon(e),this.inheritVar(e))}propertyInherit(e){16===e.definition.kind&&(this.inheritCommon(e),this.inheritVar(e))}methodInherit(e){32!==e.definition.kind&&2048!==e.definition.kind||(this.inheritCommon(e),this.inheritTagKind(e,1010),this.inheritTagKind(e,1009),this.inheritParams(e))}inheritVar(e){const t=this.definition.name,n=e=>1008===e.kind&&(!e.elementName||e.elementName===t);let r=this.tags.find(n);r||(r=e.tags.find(n))&&this.tags.push(r)}inheritParams(e){const t=this.tags.filter(e=>1007===e.kind),n=new Map(t.map(e=>[e.strippedElementName,e])),r=e.tags.filter(e=>1007===e.kind);let i;for(let e=0;e<r.length;++e)(i=r[e]).strippedElementName&&!n.has(i.strippedElementName)&&this.tags.push(i)}classInherit(e){1===e.definition.kind&&(this.inheritCommon(e),this.inheritTagKind(e,1019))}inheritCommon(e){this.summary&&"{@inheritdoc}"!==this.summary.toLowerCase()||!e.summary||(this.summary=e.summary),!this.description&&e.description?this.description=e.description:e.description&&this.description&&this.description.replace(f.INLINE_INHERITDOC_PATTERN,e.description);const t=f.INHERITDOC_COMMON_TAG_KINDS;for(let n=0,r=t.length;n<r;++n)this.inheritTagKind(e,t[n])}inheritTagKind(e,t){const n=e=>e.kind===t,r=this.tags.find(n),i=e.tags.filter(n);!r&&i.length>0&&Array.prototype.push.apply(this.tags,i)}static fromPhpDoc(e,t){if(!t)return new f(e,void 0,void 0,[]);let n,r,i=t.summary,s=t.description,o=t.tags,a=[];for(let e=0;e<o.length;++e)r=(n=o[e]).description,a.push({kind:n.kind,tagName:n.tagName.text,typeName:n.typeName.text||void 0,elementName:n.elementName.text||void 0,strippedElementName:n.strippedElementNameText||void 0,description:r?n.description.toString():void 0,semver:n.semver.text||void 0,url:n.url.text||void 0,signature:n.signature,words:n.children.filter(e=>8===e.kind||7===e.kind).map(e=>e.text).join(" ")||void 0,arguments:n.arguments.text||void 0});return new f(e,i?i.toString():void 0,s?s.toString():void 0,a)}}f.INLINE_INHERITDOC_PATTERN=/\{@inheritdoc\}/i,f.INHERITDOC_COMMON_TAG_KINDS=[1016,1015,1017],t.Documentation=f;class _{constructor(e){this.definitionStore=e}getLspMarkupKind(){return p.MarkupKind.PlainText}format(e){const t=e.definition.kind;let n=[],r=e.hasHtmlDescription();384&t||n.push(this.title(e.definition)),e.summary&&n.push(r?y.toText(e.summary):e.summary);const i=this.signature(e);i&&n.push(i),e.description&&n.push(r?y.toText(e.description):e.description);const s=e.tags.sort((e,t)=>e.kind-t.kind);return s.length&&n.push(s.map(e=>this.formatTagText(e,r)).join("\n\n")),n.join("\n\n")}formatTagText(e,t){let n=e.tagName;switch(e.tagName){case"@return":case"@throws":n+=" "+e.typeName;break;case"@param":case"@property":case"@property-read":case"@property-write":case"@global":n+=" "+e.typeName+" "+e.elementName;break;case"@var":{let t=e.elementName;n+=t?" "+e.typeName+" "+t:" "+e.typeName}break;case"@link":n+=" "+e.url;break;case"@see":{let t=e.typeName;n+=t?" "+t:" "+e.url}break;case"@since":case"@deprecated":{let t=e.semver;t&&(n+=" "+t)}break;case"@method":n+=" "+e.signature;break;default:e.arguments?n+=e.arguments:e.words&&(n+=" "+e.words)}return n=n.trim(),e.description&&(n+=t?"\n"+y.toText(e.description):"\n"+e.description),n}signature(e){switch(e.definition.kind){case 512:return this.namespaceSignature(e);case 1:return this.classSignature(e);case 2:return this.interfaceSignature(e);case 4:return this.traitSignature(e);case 8:case 1024:return this.constantSignature(e);case 64:return this.functionSignature(e);case 16:return this.propertySignature(e);case 32:case 2048:return this.methodSignature(e);default:return""}}namespaceSignature(e){return"namespace "+e.definition.name+";"}constantSignature(e){const t=e.definition,n=e.typeAndValue&&void 0!==e.typeAndValue.value?e.typeAndValue.value:t.value,r=e.typeAndValue&&e.typeAndValue.type?e.typeAndValue.type:i.Definition.typeAsTypeString(t);let s;u.TypeString.isArray(r)?s="[]":void 0!==n&&(s=n.toString());let o=this.signatureModifiers(t);o&&(o+=" ");let a=o+"const "+i.Definition.shortName(t.name);return void 0!==s&&(a+=" = "+s+";"),a}propertySignature(e){const t=e.definition;let n=[];const r=this.signatureModifiers(t);return r&&n.push(r),n.push(t.name),n.join(" ")+";"}functionSignature(e){const t=e.definition;let n=i.Definition.shortName(t.name);(1024&t.modifiers)>0&&(n="&"+n);let r="function "+n+"(",s=this.definitionStore.getDefinitionChildren(t).filter(i.Definition.isParameter);if(r+=this.functionSignatureParams(s),r+=")",t.type&&t.type.declared){r+=": "+u.TypeString.toTypeDeclarationString(t.type.declared,t,!0)}return r+" { }"}signatureModifiers(e){let t=[];return(8&e.modifiers)>0&&t.push("final"),(16&e.modifiers)>0&&t.push("abstract"),(1&e.modifiers)>0&&t.push("public"),(2&e.modifiers)>0&&t.push("protected"),(4&e.modifiers)>0&&t.push("private"),8!==e.kind&&1024!==e.kind&&(32&e.modifiers)>0&&t.push("static"),t.join(" ")}methodSignature(e){const t=e.definition;let n=[],r=this.signatureModifiers(t);r&&n.push(r);let s=i.Definition.shortName(t.name)+"(";(1024&t.modifiers)>0&&(s="&"+s),n.push("function",s);let o=n.join(" "),a=t instanceof c.MethodDefinition?t.parameters:this.definitionStore.getDefinitionChildren(t).filter(i.Definition.isParameter);if(o+=this.functionSignatureParams(a),o+=")",t.type&&t.type.declared){let e=u.TypeString.toString(t.type.declared);(32768&t.modifiers)>0&&(e="?"+e),o+=": "+e}return o+" { }"}functionSignatureParams(e){return e.length>1?"\n    "+e.map(e=>this.functionSignatureParam(e)).join(",\n    ")+"\n":1===e.length?this.functionSignatureParam(e[0]):""}functionSignatureParam(e){let t=[];e.type&&e.type.declared&&t.push(u.TypeString.toTypeDeclarationString(e.type.declared,e));let n=e.name;return(2048&e.modifiers)>0&&(n="..."+n),(1024&e.modifiers)>0&&(n="&"+n),t.push(n),void 0!==e.value&&t.push("=",e.value),t.join(" ")}classSignature(e){const t=e.definition;let n=[];(16&t.modifiers)>0&&n.push("abstract"),(8&t.modifiers)>0&&n.push("final"),n.push("class",i.Definition.shortName(t.name));const r=i.Definition.findAssociated(t,e=>1===e.kind);r&&n.push("extends",r.name);const s=i.Definition.filterAssociated(t,e=>2===e.kind);s.length>0?(n.push("implements"),s.length>1?n=[n.join(" ")+"\n    "+s.map(e=>e.name).join(",\n    ")]:(n.push(s[0].name),n=[n.join(" ")])):n=[n.join(" ")];const o=i.Definition.filterAssociated(t,e=>4==e.kind);return o.length?(n.push("{"),n.push("    use "+o.map(e=>e.name).join(",\n        ")+";"),n.push("}")):n.push("{ }"),n.join("\n")}traitSignature(e){const t=e.definition;let n=[];n.push("trait "+i.Definition.shortName(t.name));const r=i.Definition.filterAssociated(t,e=>4==e.kind);return r.length?(n.push("{"),n.push("    use "+r.map(e=>e.name).join(",\n        ")+";"),n.push("}")):n.push("{ }"),n.join("\n")}interfaceSignature(e){const t=e.definition;let n=[];n.push("interface "+i.Definition.shortName(t.name));const r=i.Definition.filterAssociated(t,e=>2===e.kind);return 1===r.length?n.push("extends "+r[0].name):r.length>1&&n.push("extends\n    "+r.map(e=>e.name).join(",\n    ")),n.join(" ")+"\n{ }"}title(e){let t="";switch(e.kind){case 1024:case 32:case 16:case 2048:{const n=this.definitionStore.getDefinitionScope(e);t=(n?n.name:"")+"::"+e.name}break;default:t=e.name}return t}static createDocumentationFormatterofKind(e,t){switch(e){case 0:return new _(t);case 1:default:return new m(t)}}}t.DocumentationFormatter=_;class m extends _{getLspMarkupKind(){return p.MarkupKind.Markdown}format(e){const t=e.definition.kind;let n=[],r=e.hasHtmlDescription();384&t||n.push(this.title(e.definition)),e.summary&&n.push(r?g.toMarkdown(e.summary):e.summary.replace(m.PHP_CODE_BLOCK_OPEN_PATTERN,"```php\n<?php\n"));const i=this.signature(e);i&&n.push(i),e.description&&n.push(r?g.toMarkdown(e.description):e.description.replace(m.PHP_CODE_BLOCK_OPEN_PATTERN,"```php\n<?php\n"));const s=e.tags.sort((e,t)=>e.kind-t.kind);return s.length&&n.push(s.map(e=>this.formatTagText(e,r)).join("\n\n")),n.join("\n\n")}formatTagText(e,t){let n="_"+e.tagName+"_";switch(e.tagName){case"@return":case"@throws":n+=" `"+e.typeName+"`";break;case"@param":case"@property":case"@property-read":case"@property-write":case"@global":n+=" `"+e.typeName+" "+e.elementName+"`";break;case"@var":{let t=e.elementName;n+=t?" `"+e.typeName+" "+t+"`":" `"+e.typeName+"`"}break;case"@link":n+=" "+e.url;break;case"@see":{let t=e.typeName;n+=t?" `"+t+"`":" "+e.url}break;case"@since":case"@deprecated":{let t=e.semver;t&&(n+=" "+t)}break;case"@method":n+=" `"+e.signature+"`";break;default:e.arguments?n+=g.toMarkdown(e.arguments):e.words&&(n+=" "+g.toMarkdown(e.words))}if(n=n.trim(),e.description){let r=e.description;(r=t?g.toMarkdown(r):r.replace(m.PHP_CODE_BLOCK_OPEN_PATTERN,"```php\n<?php\n"))&&(n+="  \n"+r)}return n}signature(e){const t=super.signature(e);return t?"```php\n<?php\n"+t+"\n```":t}title(e){let t=super.title(e);return"__"+(t=g.toMarkdown(t))+"__"}}m.PHP_CODE_BLOCK_OPEN_PATTERN=/```php(?:\r\n|\r|\n)+(?!\s*<\?php)/,t.MarkdownDocumentationFormatter=m;var g,y;t.DocumentationService=class{constructor(e,t,n){this.getParseTreeDelegate=e,this.definitionStore=t,this.typeAndValueDelegate=n}getDocumentation(e,t){return r(this,void 0,void 0,function*(){if(!e)return;let n,r=e;switch(e.kind){case 128:if(!(e=this.definitionStore.getDefinitionScope(e)))return;n=yield this._getDocumentation(e);break;case 1:n=yield this.classDocumentation(e,t);break;case 2:{let r=this.getTypeDefinition(e);if(!r)return;n=yield this.interfaceDocumentation(r,t)}break;case 32:case 16:if((256&e.modifiers)>0){let t=this.getTypeDefinition(e);if(!t)return;const r=yield this.getPhpDoc(t);if(r){const t=r.tags.find(t=>this.isMagicTag(t)&&!!e&&t.strippedElementNameText===e.name);n=t&&t.description?new f(e,void 0,t.description.toString(),[]):new f(e,void 0,void 0,[])}else n=new f(e,void 0,void 0,[]);break}case 2048:case 1024:if(c.ComplexDefinition.isComplexDefinition(e)||(e=c.MemberDefinition.fromDefinition(e,this.definitionStore)),!e)return;(n=yield this.memberDocumentation(e,t))?n.definition=e:n=new f(e,void 0,void 0,[]);break;default:n=yield this._getDocumentation(e)}if(n||(n=new f(e,void 0,void 0,[])),(2144&e.kind)>0?(this.ensureReturnTag(e,n),this.ensureParameterTags(e,n)):(16&e.kind)>0&&this.ensureVarTag(e,n),r!==n.definition&&128===r.kind){const e=n.tags.find(e=>e.strippedElementName===r.name);n=new f(r,void 0,void 0,e?[e]:[])}return n})}isMagicTag(e){switch(e.kind){case 1024:case 1021:case 1022:case 1023:return!0;default:return!1}}ensureReturnTag(e,t){if(t.tags.find(e=>1009===e.kind))return;t.typeAndValue=this.typeAndValueDelegate(e);const n=t.typeAndValue.type||u.TypeString.VOID_TYPE_STRING;t.tags.push({kind:1009,tagName:"@return",typeName:u.TypeString.toString(n)})}ensureVarTag(e,t){if(t.tags.find(t=>1008===t.kind&&(!t.elementName||t.elementName===e.name)))return;t.typeAndValue=this.typeAndValueDelegate(e);const n=t.typeAndValue.type||u.TypeString.MIXED_TYPE_STRING;t.tags.push({kind:1008,tagName:"@var",typeName:u.TypeString.toString(n),elementName:e.name})}ensureParameterTags(e,t){const n=e instanceof c.MethodDefinition?e.parameters:this.definitionStore.getDefinitionChildren(e).filter(i.Definition.isParameter),r=t.tags.filter(e=>1007===e.kind),s=new Map(r.map(e=>[e.strippedElementName,e]));let o,a,l=u.TypeString.MIXED_TYPE_STRING;for(let e=0;e<n.length;++e)if(o=n[e],(a=i.Definition.typeAsTypeString(o))||void 0===o.value?a||(a=l):a=this.typeAndValueDelegate(o).type||u.TypeString.MIXED_TYPE_STRING,!s.has(o.name)&&a){let e=o.name;0!=(2048&o.modifiers)&&(e="..."+e),0!=(1024&o.modifiers)&&(e="&"+e),t.tags.push({kind:1007,tagName:"@param",typeName:u.TypeString.toString(a),elementName:e,strippedElementName:o.name})}}classDocumentation(e,t){return r(this,void 0,void 0,function*(){let n,r,i=this.getTypeDefinition(e),s=[];for(;i;)s.push(i),i=i.baseClass;for(;(i=s.pop())&&!t.isCancellationRequested;)r=yield this._getDocumentation(i.definition),n&&r.inherit(n),n=r;return r})}interfaceDocumentation(e,t){return r(this,void 0,void 0,function*(){const n=e.interfaces;let r,i,s=yield this._getDocumentation(e.definition);for(let e=0;e<n.length&&!t.isCancellationRequested;++e)r=n[e],i=yield this.interfaceDocumentation(r,t),s.inherit(i);return s})}memberDocumentation(e,t){return r(this,void 0,void 0,function*(){if(!t.isCancellationRequested){if(e instanceof c.MethodDefinition){let n,r,i;return e.method&&(n=yield this.memberDocumentation(e.method,t)),(!e.method||(24576&e.method.modifiers)>0)&&e.traitMethod?n=yield this.memberDocumentation(e.traitMethod,t):e.baseMethod&&(r=yield this.memberDocumentation(e.baseMethod,t),n&&r?n.inherit(r):n||(n=r)),e.interfaceMethod&&(i=yield this.memberDocumentation(e.interfaceMethod,t),n&&i?n.inherit(i):n||(n=i)),n}return yield this._getDocumentation(e)}})}getTypeDefinition(e){switch(e.kind){case 1:case 2:return c.TypeDefinition.fromDefinition(e,this.definitionStore);case 32:case 16:case 2048:case 1024:{let t=this.definitionStore.getDefinitionScope(e);if(!t)return;return c.TypeDefinition.fromDefinition(t,this.definitionStore)}default:return}}_getDocumentation(e){return r(this,void 0,void 0,function*(){if(!e.range)return new f(e,void 0,void 0,[]);const t=yield this.getPhpDoc(e);return t?f.fromPhpDoc(e,t):new f(e,void 0,void 0,[])})}getPhpDoc(e){return r(this,void 0,void 0,function*(){const t=yield this.getParseTreeDelegate(e.uriId);if(!t||!e.range)return;const n=t.getTraverser(),r=t.getNodeUtils().positionToOffset(l.PackedPosition.toLspPosition(e.range.start));if(n.seek(r),h.isToken(n.node)){switch(e.kind){case 16:n.ancestor(e=>1132===e.kind);break;case 8:n.ancestor(e=>1042===e.kind||1067===e.kind);break;case 1024:n.ancestor(e=>1025===e.kind);break;case 1:n.ancestor(e=>1028===e.kind);break;case 2:n.ancestor(e=>1098===e.kind);break;case 4:n.ancestor(e=>1161===e.kind);break;case 64:n.ancestor(e=>1081===e.kind);break;case 32:n.ancestor(e=>1108===e.kind);break;case 256:n.ancestor(e=>1067===e.kind)}if(n.prevSibling(),159===n.node.kind)return s.PhpDocParser.parse(n.text)}})}},function(e){const t=new o({headingStyle:"atx",codeBlockStyle:"fenced"});t.use(a.gfm),t.addRule("code",{filter:"code",replacement:e=>"\n```php\n"+e+"\n```\n"}),t.addRule("elementsInTableCells",{filter:(e,t)=>!function(e){switch(e){case"A":case"I":case"EM":case"STRONG":case"B":return!0;default:return!1}}(e.nodeName)&&function(e){let t=e;for(;t=t.parentNode;)if("TD"===t.nodeName||"TH"===t.nodeName)return!0;return!1}(e),replacement:e=>e.replace(/(?:\r\n|\r|\n)+/g," ")}),e.toMarkdown=function(e){try{return t.turndown(e)}catch(t){return e}}}(g||(g={})),function(e){e.toText=function(e){try{return d.fromString(e)}catch(t){return e}}}(y||(y={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(2),i=n(1),s=n(4),o=n(10);var a,c,u;!function(e){const t=/\$this|[\\a-zA-Z_\x80-\uffff][\\a-zA-Z0-9_\x80-\uffff]*/g;e.getResolvedTypeString=function(e,n){if(!e)return;return e=e.replace("?","null|"),s.TypeString.fromString(e.replace(t,(e,t,r)=>{let i=!1;"\\"===e[0]&&(e=e.slice(1),i=!0);let s=e.toLowerCase();switch(s){case"integer":return"int";case"boolean":case"true":case"false":return"bool";case"int":case"bool":case"string":case"resource":case"mixed":case"float":case"array":case"resource":case"null":case"callable":case"static":case"$this":case"void":case"object":case"iterable":return s;case"self":return n.className;default:return i?e:n.resolveNotFullyQualified(e)}}))}}(a=t.TypeAndElementNode||(t.TypeAndElementNode={})),function(e){e.childOfKindAtIndex=function(e,t,n){return e.children&&e.children.length>n&&e.children[n]&&e.children[n].kind===t?e.children[n]:void 0},e.offsetRange=function(e){let t=function e(t){if(u.isToken(t))return t;if(!t.children)return;let n;for(let r=0;r<t.children.length;++r)if(n=e(t.children[r]))return n}(e),n=function e(t){if(u.isToken(t))return t;if(!t.children)return;let n;for(let r=t.children.length-1;r>-1;--r)if(n=e(t.children[r]))return n}(e);return t&&n?{start:t.offset,end:n.offset+n.text.length}:{start:0,end:0}}}(c=t.PhpDocNode||(t.PhpDocNode={})),function(e){e.create=function(e,t,n,r){return{kind:e,offset:t+r.offset,text:r.input.slice(t,n)}},e.isToken=function(e){return e.kind<1e3}}(u=t.PhpDocToken||(t.PhpDocToken={}));const l={kind:0,offset:0,text:""};class h{constructor(e){this.children=e,this.kind=1001}get summary(){return c.childOfKindAtIndex(this,1005,0)}get description(){return c.childOfKindAtIndex(this,1003,0)||c.childOfKindAtIndex(this,1003,1)}get tags(){return this.filterTags(e=>!0)}get offsetRange(){return c.offsetRange(this)}getReferences(e){const t=new y(e);return new r.TreeTraverser([this]).traverse(t).references}findParamTag(e){return this.children.find(t=>1007===t.kind&&t.strippedElementNameText===e)}findVarTag(e){return this.children.find(t=>1008===t.kind&&(!t.elementName.kind||t.elementName.text===e))}findReturnTag(){return this.children.find(e=>1009===e.kind)}filterTags(e){return this.children.filter(t=>t instanceof _&&e(t))}}t.PhpDocBlock=h;class d{constructor(e){this.children=e,this.kind=1002}get offsetRange(){return c.offsetRange(this)}get text(){return c.childOfKindAtIndex(this,7,0)||l}isEmpty(){return 1===this.children.length&&5===this.children[0].kind}toString(){return this.children.length>0&&7===this.children[0].kind?this.children[0].text:""}}t.PhpDocLine=d;class p{constructor(e){this.children=e,this.kind=1003}get offsetRange(){return c.offsetRange(this)}toString(){return this.children.map(e=>e.toString()).join("\n").trim()}}t.PhpDocDescription=p;class f{constructor(e){this.children=e,this.kind=1005}get offsetRange(){return c.offsetRange(this)}toString(){return this.children.map(e=>e.toString()).join("\n").trim()}}t.PhpDocSummary=f;class _{constructor(e,t){this.children=e,this.kind=t}get tagName(){return c.childOfKindAtIndex(this,9,0)||l}get isStandard(){switch(this.tagName.text){case"@param":case"@property":case"@property-read":case"@property-write":case"@return":case"@link":case"@see":case"@throws":case"@method":case"@var":case"@since":case"@deprecated":case"@api":case"@author":case"@copyright":case"@example":case"@global":case"@internal":case"@license":case"@package":case"@todo":case"@uses":case"@version":case"@category":case"@subpackage":case"@filesource":case"@ignore":case"@source":return!0;default:return!1}}get offsetRange(){return c.offsetRange(this)}get isVariadic(){return this.elementName.text.indexOf("...")>-1}get strippedElementNameText(){return this.elementName.text.replace(/&|,\.\.\.|\.\.\./g,"")}get elementName(){switch(this.kind){case 1021:case 1022:case 1023:case 1007:case 1008:case 1011:return c.childOfKindAtIndex(this,11,2)||l;case 1024:return c.childOfKindAtIndex(this,12,2)||c.childOfKindAtIndex(this,12,1)||c.childOfKindAtIndex(this,12,3)||l;default:return l}}get typeName(){switch(this.kind){case 1021:case 1022:case 1023:case 1007:case 1008:case 1009:case 1012:case 1010:case 1011:return c.childOfKindAtIndex(this,10,1)||l;case 1024:return c.childOfKindAtIndex(this,10,1)||c.childOfKindAtIndex(this,10,2)||l;default:return l}}getResolvedTypeString(e){return a.getResolvedTypeString(this.typeName.text,e)}get arguments(){return c.childOfKindAtIndex(this,15,1)||l}get isStatic(){return 1024===this.kind&&this.children.length>=2&&8===this.children[1].kind&&"static"===this.children[1].text}get parameters(){return 1024!==this.kind?[]:this.children.filter(e=>1004===e.kind)}get description(){return c.childOfKindAtIndex(this,1003,this.children.length-1)}get semver(){switch(this.kind){case 1014:case 1006:return c.childOfKindAtIndex(this,13,1)||l;default:return l}}get url(){switch(this.kind){case 1012:case 1013:return c.childOfKindAtIndex(this,14,1)||l;default:return l}}get signature(){if(1024!==this.kind)return;let e=this.children.filter(e=>1004===e.kind).map(e=>e.toString()).join(", ");return`${this.children.filter(e=>e.kind<1e3&&9!==e.kind).map(e=>e.text).join(" ")}(${e})`}get fullText(){const e=this.tagName;let t=e.text;1024===this.kind?t+=" "+this.signature:t+=" "+this.children.filter(e=>e.kind<1e3).map(e=>e.text).join(" ");let n=this.description;return n&&(e.offset+e.text.length===n.offsetRange.start?t+=n.toString():t+="\n"+n.toString()),t.trim()}}t.PhpDocTag=_;class m{constructor(e){this.children=e,this.kind=1004}get elementName(){return this.children.find(e=>11===e.kind)||l}get strippedElementNameText(){return this.elementName.text.replace(/&|,\.\.\.|\.\.\./g,"")}get typeName(){return this.children.find(e=>10===e.kind)||l}get defaultArg(){return c.childOfKindAtIndex(this,16,3===this.children.length?2:1)||l}get offsetRange(){return c.offsetRange(this)}toString(){let e=[];return this.typeName.text&&e.push(this.typeName.text),e.push(this.elementName.text),this.defaultArg.text&&e.push("=",this.defaultArg.text),e.join(" ")}getResolvedTypeString(e){return a.getResolvedTypeString(this.typeName.text,e)}}var g;t.PhpDocMethodParameter=m,function(e){const t=92,n=45,r=95,i=/^```[a-zA-Z]*(?:\r\n|\r|\n)/,s=/^```(?:\r\n|\r|\n)/;let o;function a(e){return" "===e||"\t"===e}function c(e){let t=e.position;const n=e.input.length;for(;e.position<n&&(r=e.input[e.position],i=e.position+1<n?e.input[e.position+1]:"","\r"!==r&&"\n"!==r&&("*"!==r||"/"!==i));)++e.position;var r,i;return u.create(7,t,e.position,e)}function l(e){let t=e.position,n=e.input[e.position],r=e.input.length;for("\r"===n&&++e.position,e.position<r&&"\n"===e.input[e.position]&&++e.position;e.position<r&&a(e.input[e.position]);)++e.position;for(;e.position<r&&"*"===e.input[e.position]&&(e.position+1===r||"/"!==e.input[e.position+1]);)++e.position;let o=e.position;if(e.isCodeBlock&&e.codeBlockWhitespace&&e.input.slice(e.position,e.position+e.codeBlockWhitespace.length)===e.codeBlockWhitespace)e.position+=e.codeBlockWhitespace.length;else for(;e.position<r&&a(e.input[e.position]);)++e.position;return!e.isCodeBlock&&"`"===e.input[e.position]&&i.test(e.input.slice(e.position))?(e.isCodeBlock=!0,e.codeBlockWhitespace=e.input.slice(o,e.position)):e.isCodeBlock&&"`"===e.input[e.position]&&s.test(e.input.slice(e.position))&&(e.isCodeBlock=!1,e.codeBlockWhitespace=void 0),u.create(5,t,e.position,e)}function h(e){return e>=65&&e<=90||e>=97&&e<=122}function d(e){return e>=48&&e<=57}e.setInput=function(e,t){o={position:0,input:e,mode:0,offset:t||0,isCodeBlock:!1,codeBlockWhitespace:void 0}},e.lex=function e(){if(o.position>=o.input.length)return u.create(1,o.position,o.position,o);let i;switch(o.mode){case 0:i=function(e){let t=e.input.length;for(e.position+=3;e.position<t&&"*"===e.input[e.position]&&(e.position+1===t||"/"!==e.input[e.position+1]);)++e.position;for(;e.position<t&&a(e.input[e.position]);)++e.position;return e.mode=1,u.create(3,0,e.position,e)}(o);break;case 1:i=function(e){switch(e.input[e.position]){case"@":return e.position+1<e.input.length&&(h(e.input.charCodeAt(e.position+1))||"\\"===e.input[e.position+1])?void(e.mode=2):c(e);case"\r":case"\n":return l(e);case"*":if(e.position+1<e.input.length&&"/"===e.input[e.position+1])return void(e.mode=3);default:return c(e)}}(o);break;case 2:i=function(e){switch(e.input[e.position]){case"@":return e.position+1<e.input.length&&(h(e.input.charCodeAt(e.position+1))||"\\"===e.input[e.position+1])?function(e){let i=e.input.length,s=e.position;e.position+=2;let o=e.input.charCodeAt(e.position);for(;!isNaN(o)&&(h(o)||d(o)||o===t||o===n||o===r);)o=e.input.charCodeAt(++e.position);if(e.position<i&&":"===e.input[e.position])for(++e.position,o=e.input.charCodeAt(e.position);h(o)||d(o)||o===n;)o=e.input.charCodeAt(++e.position);return u.create(9,s,e.position,e)}(e):c(e);case"\r":case"\n":return l(e);case" ":case"\t":return function(e){let t=e.position,n=e.input.length;for(;++e.position<n&&a(e.input[e.position]););return u.create(6,t,e.position,e)}(e);case"*":if(e.position+1<e.input.length&&"/"===e.input[e.position+1])return void(e.mode=3);default:return c(e)}}(o);break;case 3:i=u.create(4,o.position,o.position+=2,o);break;default:throw new Error("Unexpected lexer mode")}return i||e()}}(g||(g={})),function(e){const t=/^\d+\.\d+\.\d+[0-9a-zA-Z\-]*|\d+\.\d+/,n=/^[\\a-zA-Z0-9_\x80-\uffff]+(?:$|\s)/;let r;function i(){return 6===(r=g.lex()).kind?i():r}function s(){let e,t=[r];switch(r.text){case"@param":e=u(t,1007);break;case"@property":e=u(t,1021);break;case"@property-read":e=u(t,1022);break;case"@property-write":e=u(t,1023);break;case"@return":e=l(t,1009,10);break;case"@link":e=l(t,1013,14);break;case"@see":e=function(e,t){let r,s=i();if(7!==s.kind)return new _(e,t);const o=s.text.match(n)?10:14;[s,r]=v(s,void 0,o),s&&e.push(s);let a=E(r);a&&e.push(a);return new _(e,t)}(t,1012);break;case"@throws":e=l(t,1010,10);break;case"@method":e=function(e){let t,n,r=i();if(7!==r.kind)return new _(e,1024);[n,t]=function(e){let t;const n=[];let r,i=e;for(;i&&i.text&&"("!==i.text[0];)[t,i]=v(i,["("]),t&&n.push(t);n.length>0&&(n[n.length-1].kind=12);n.length>1&&(n[n.length-2].kind=10);i=b(i,"(");for(;i&&i.text&&")"!==i.text[0];)[r,i]=T(i),r&&n.push(r),i=b(i,",");return i=b(i,")"),[n,i]}(r),Array.prototype.push.apply(e,n);let s=E(t);s&&e.push(s);return new _(e,1024)}(t);break;case"@var":e=c(t,1008);break;case"@since":e=y(t,1014);break;case"@deprecated":e=y(t,1006);break;case"@api":e=new _(t,1025),i();break;case"@author":e=a(t,1016);break;case"@copyright":e=o(t,1017);break;case"@example":e=l(t,1027,14);break;case"@global":e=c(t,1011);break;case"@internal":e=new _(t,1026),i();break;case"@license":e=a(t,1018);break;case"@package":e=function(e,t){let n,r;[n,r]=v(i()),n&&e.push(n);return new _(e,t)}(t,1019);break;case"@todo":e=o(t,1028);break;case"@uses":e=l(t,1020);break;case"@version":e=l(t,1015);break;default:{const n=i();if("("===n.text.slice(0,1)){const r=function(e){let t,n=1,r=0,i=e.text.length;for(;++r<i&&0!==n;)"("===(t=e.text[r])?++n:")"===t&&--n;return[{kind:15,offset:e.offset,text:e.text.slice(0,r)},r<i?{kind:e.kind,offset:e.offset+r,text:e.text.slice(r)}:void 0]}(n);t.push(r[0]);const i=E(r[1]);i&&t.push(i),e=new _(t,1029)}else e=o(t,1029,n)}}return function(e){for(;r.kind!==e&&1!==r.kind&&4!==r.kind;)i()}(9),e}function o(e,t,n){let r=E(n);return r&&e.push(r),new _(e,t)}function a(e,t){let n=i();return 7===n.kind&&e.push(n),new _(e,t)}function c(e,t){let n,r=i();if(7!==r.kind)return new _(e,t);[r,n]=v(r,void 0,10),r&&e.push(r),n&&n.text&&"$"===n.text[0]&&([r,n]=v(n,void 0,11),r&&e.push(r));let s=E(n);return s&&e.push(s),new _(e,t)}function u(e,t){let n,r=i();if(7!==r.kind)return new _(e,t);[r,n]=v(r,void 0,10),r&&e.push(r),[r,n]=v(n,void 0,11),r&&e.push(r);let s=E(n);return s&&e.push(s),new _(e,t)}function l(e,t,n){let r,s=i();if(7!==s.kind)return new _(e,t);[s,r]=v(s,void 0,n),s&&e.push(s);let o=E(r);return o&&e.push(o),new _(e,t)}function y(e,n){let r,s=i();if(7!==s.kind)return new _(e,n);[s,r]=function(e){return e&&e.text.match(t)?v(e,void 0,13):[void 0,e]}(s),s&&e.push(s);let o=E(r);return o&&e.push(o),new _(e,n)}function T(e){let t,n,r,i,s=[];return[t,r]=v(e,[")",",","="],10),[n,r]=v(r,[")",",","="],11),n||(n=t,t=void 0,n&&(n.kind=11)),r&&"="===r.text[0]&&(r=b(r,"="),[i,r]=function(e){if(!e)return[void 0,void 0];let t=e.text||"",n=0,r=void 0;for(;n<t.length&&(" "!==t[n]&&"\t"!==t[n]&&","!==t[n]&&")"!==t[n]||void 0!==r);)r?"\\"===t[n]?++n:r===t[n]&&(r=void 0):"'"!==t[n]&&'"'!==t[n]||(r=t[n]),++n;const i=t.slice(0,n);for(;n<t.length&&(" "===t[n]||"\t"===t[n]);)++n;const s=t.slice(n);return[i?{kind:16,offset:e.offset,text:i}:void 0,s?{kind:7,offset:e.offset+n,text:s}:void 0]}(r)),t&&s.push(t),n&&s.push(n),i&&s.push(i),[n?new m(s):void 0,r]}function b(e,t){if(e){if(e.text&&e.text[0]===t){let t=1;for(;t<e.text.length&&(" "===e.text[t]||"\t"===e.text[t]);)++t;const n=e.text.slice(t);return n?{kind:7,offset:e.offset+t,text:n}:void 0}return e}}function v(e,t,n){if(!e)return[void 0,void 0];let r=e.text||"",i=0,s=0;for(;i<r.length&&(" "!==r[i]&&"\t"!==r[i]&&(!t||t.indexOf(r[i])<0)||s);)"<"===r[i]?++s:">"===r[i]&&--s,++i;for(;i<r.length&&" "!==r[i]&&"\t"!==r[i]&&(!t||t.indexOf(r[i])<0);)++i;const o=r.slice(0,i);for(;i<r.length&&(" "===r[i]||"\t"===r[i]);)++i;const a=r.slice(i);return[o?{kind:n||8,offset:e.offset,text:o}:void 0,a?{kind:7,offset:e.offset+i,text:a}:void 0]}function E(e){const t=[];let n,r;do{n=e||i(),e=void 0,r=[],7===n.kind&&(r.push(n),n=i()),5===n.kind&&r.push(n),r.length>0&&t.push(new d(r))}while(r.length>0);return t.length>0?new p(t):void 0}e.parse=function(e,t){g.setInput(e,t),i();let n=i();for(;5===n.kind;)n=i();let o=[];if(7===n.kind){let e=function(e){const t=[];let n,r,s;n=e;do{s=void 0,r=[],7===n.kind&&(r.push(n),n=i()),5===n.kind&&r.push(n),r.length>0&&(s=new d(r),t.push(s),n=i())}while(s&&s.text.kind>0&&"."!==s.text.text.slice(-1));return t.length>0?new f(t):void 0}(n);e&&o.push(e)}for(n=r;5===n.kind;)n=i();if(7===n.kind){let e=E(n);e&&o.push(e)}return 9===(n=r).kind&&Array.prototype.push.apply(o,function(){let e,t=[];do{(e=s())&&t.push(e)}while(9===r.kind);return t}()),new h(o)}}(t.PhpDocParser||(t.PhpDocParser={}));class y{constructor(e){this.context=e,this._references=[]}get references(){return this._references}preorder(e,t){let n;switch(e.kind){case 1008:n=this.varTag(e,t);break;case 1021:case 1022:case 1023:n=this.typeAndElementNode(e,t,16,s.TypeString.fromString(this.context.ownerTypeName||""));break;case 1007:n=this.typeAndElementNode(e,t,128);break;case 1012:case 1010:case 1009:case 1011:n=this.typeAndElementNode(e,t,1);break;case 1024:n=this.typeAndElementNode(e,t,32,s.TypeString.fromString(this.context.ownerTypeName||""));break;case 1004:n=this.typeAndElementNode(e,t,128);default:return!0}return Array.prototype.push.apply(this._references,n),!0}toReferences(e,t,n,a){const c=/\$this|[\\a-zA-Z_\x80-\uffff][\\a-zA-Z0-9_\x80-\uffff]*/g;let u;const l=[];let h,d,p;for(;null!==(u=c.exec(e));)h=u[0],d=u.index,o.PHP.isReservedNameOrRelativeName(h.toLowerCase())||"$this"===h||((p=i.Reference.create(1,a.resolveNotFullyQualified(h),n.uriId)).unresolvedName=h,p.type=s.TypeString.fromString(p.name),p.range={start:r.PackedPosition.fromLspPosition(n.offsetToPosition(d+t)),end:r.PackedPosition.fromLspPosition(n.offsetToPosition(t+d+h.length))},l.push(p));return l}typeAndElementNode(e,t,n,r){const s=[],o=e.elementName.text;if(e.typeName.text){const t=this.toReferences(e.typeName.text,e.typeName.offset,this.context.nodeUtils,this.context.nameResolver);Array.prototype.push.apply(s,t)}if(o){const t=i.Reference.create(n,o,this.context.nodeUtils.uriId);r&&(t.scope=r),t.range=this.createRange(e.elementName.offset,o.length),t.type=e.getResolvedTypeString(this.context.nameResolver),s.push(t)}return s}varTag(e,t){const n=[],r=e.elementName.text,o=e.getResolvedTypeString(this.context.nameResolver);if(1025===this.context.ownerNodeKind&&r){const t=i.Reference.create(1024,r,this.context.nodeUtils.uriId);t.scope=s.TypeString.fromString(this.context.nameResolver.className),t.range=this.createRange(e.elementName.offset,r.length),t.type=o,n.push(t)}else if(1042===this.context.ownerNodeKind&&r){const t=i.Reference.create(8,r,this.context.nodeUtils.uriId);t.range=this.createRange(e.elementName.offset,r.length),t.type=o,n.push(t)}else if(1132===this.context.ownerNodeKind){if(e.typeName.text){const t=this.toReferences(e.typeName.text,e.typeName.offset,this.context.nodeUtils,this.context.nameResolver);Array.prototype.push.apply(n,t)}if(r){const t=i.Reference.create(16,r,this.context.nodeUtils.uriId);t.scope=s.TypeString.fromString(this.context.nameResolver.className),t.range=this.createRange(e.elementName.offset,r.length),t.type=o,n.push(t)}}else{if(e.typeName.text){const t=this.toReferences(e.typeName.text,e.typeName.offset,this.context.nodeUtils,this.context.nameResolver);Array.prototype.push.apply(n,t)}if(r){const t=i.Reference.create(256,r,this.context.nodeUtils.uriId);t.type=o,t.range=this.createRange(e.elementName.offset,r.length),n.push(t)}}return n}createRange(e,t){return{start:r.PackedPosition.fromLspPosition(this.context.nodeUtils.offsetToPosition(e)),end:r.PackedPosition.fromLspPosition(this.context.nodeUtils.offsetToPosition(e+t))}}}},function(e,t,n){"use strict";const r=n(21),i=n(52),s=n(120);e.exports=class extends r{constructor(e){super(e),this.tokenizer=e,this.posTracker=r.install(e.preprocessor,s),this.currentAttrLocation=null,this.ctLoc=null}_getCurrentLocation(){return{startLine:this.posTracker.line,startCol:this.posTracker.col,startOffset:this.posTracker.offset,endLine:-1,endCol:-1,endOffset:-1}}_attachCurrentAttrLocationInfo(){this.currentAttrLocation.endLine=this.posTracker.line,this.currentAttrLocation.endCol=this.posTracker.col,this.currentAttrLocation.endOffset=this.posTracker.offset;const e=this.tokenizer.currentToken,t=this.tokenizer.currentAttr;e.location.attrs||(e.location.attrs=Object.create(null)),e.location.attrs[t.name]=this.currentAttrLocation}_getOverriddenMethods(e,t){const n={_createStartTagToken(){t._createStartTagToken.call(this),this.currentToken.location=e.ctLoc},_createEndTagToken(){t._createEndTagToken.call(this),this.currentToken.location=e.ctLoc},_createCommentToken(){t._createCommentToken.call(this),this.currentToken.location=e.ctLoc},_createDoctypeToken(n){t._createDoctypeToken.call(this,n),this.currentToken.location=e.ctLoc},_createCharacterToken(n,r){t._createCharacterToken.call(this,n,r),this.currentCharacterToken.location=e.ctLoc},_createEOFToken(){t._createEOFToken.call(this),this.currentToken.location=e._getCurrentLocation()},_createAttr(n){t._createAttr.call(this,n),e.currentAttrLocation=e._getCurrentLocation()},_leaveAttrName(n){t._leaveAttrName.call(this,n),e._attachCurrentAttrLocationInfo()},_leaveAttrValue(n){t._leaveAttrValue.call(this,n),e._attachCurrentAttrLocationInfo()},_emitCurrentToken(){const n=this.currentToken.location;this.currentCharacterToken&&(this.currentCharacterToken.location.endLine=n.startLine,this.currentCharacterToken.location.endCol=n.startCol,this.currentCharacterToken.location.endOffset=n.startOffset),this.currentToken.type===i.EOF_TOKEN?(n.endLine=n.startLine,n.endCol=n.startCol,n.endOffset=n.startOffset):(n.endLine=e.posTracker.line,n.endCol=e.posTracker.col+1,n.endOffset=e.posTracker.offset+1),t._emitCurrentToken.call(this)},_emitCurrentCharacterToken(){const n=this.currentCharacterToken&&this.currentCharacterToken.location;n&&-1===n.endOffset&&(n.endLine=e.posTracker.line,n.endCol=e.posTracker.col,n.endOffset=e.posTracker.offset),t._emitCurrentCharacterToken.call(this)}};return Object.keys(i.MODE).forEach(r=>{const s=i.MODE[r];n[s]=function(n){e.ctLoc=e._getCurrentLocation(),t[s].call(this,n)}}),n}}},function(e,t,n){"use strict";const r=n(21);e.exports=class extends r{constructor(e){super(e),this.preprocessor=e,this.isEol=!1,this.lineStartPos=0,this.droppedBufferSize=0,this.offset=0,this.col=0,this.line=1}_getOverriddenMethods(e,t){return{advance(){const n=this.pos+1,r=this.html[n];return e.isEol&&(e.isEol=!1,e.line++,e.lineStartPos=n),("\n"===r||"\r"===r&&"\n"!==this.html[n+1])&&(e.isEol=!0),e.col=n-e.lineStartPos+1,e.offset=e.droppedBufferSize+n,t.advance.call(this)},retreat(){t.retreat.call(this),e.isEol=!1,e.col=this.pos-e.lineStartPos+1},dropParsedChunk(){const n=this.pos;t.dropParsedChunk.call(this);const r=n-this.pos;e.lineStartPos-=r,e.droppedBufferSize+=r,e.offset=e.droppedBufferSize+this.pos}}}}},function(e,t,n){"use strict";const{DOCUMENT_MODE:r}=n(26);t.createDocument=function(){return{nodeName:"#document",mode:r.NO_QUIRKS,childNodes:[]}},t.createDocumentFragment=function(){return{nodeName:"#document-fragment",childNodes:[]}},t.createElement=function(e,t,n){return{nodeName:e,tagName:e,attrs:n,namespaceURI:t,childNodes:[],parentNode:null}},t.createCommentNode=function(e){return{nodeName:"#comment",data:e,parentNode:null}};const i=function(e){return{nodeName:"#text",value:e,parentNode:null}},s=t.appendChild=function(e,t){e.childNodes.push(t),t.parentNode=e},o=t.insertBefore=function(e,t,n){const r=e.childNodes.indexOf(n);e.childNodes.splice(r,0,t),t.parentNode=e};t.setTemplateContent=function(e,t){e.content=t},t.getTemplateContent=function(e){return e.content},t.setDocumentType=function(e,t,n,r){let i=null;for(let t=0;t<e.childNodes.length;t++)if("#documentType"===e.childNodes[t].nodeName){i=e.childNodes[t];break}i?(i.name=t,i.publicId=n,i.systemId=r):s(e,{nodeName:"#documentType",name:t,publicId:n,systemId:r})},t.setDocumentMode=function(e,t){e.mode=t},t.getDocumentMode=function(e){return e.mode},t.detachNode=function(e){if(e.parentNode){const t=e.parentNode.childNodes.indexOf(e);e.parentNode.childNodes.splice(t,1),e.parentNode=null}},t.insertText=function(e,t){if(e.childNodes.length){const n=e.childNodes[e.childNodes.length-1];if("#text"===n.nodeName)return void(n.value+=t)}s(e,i(t))},t.insertTextBefore=function(e,t,n){const r=e.childNodes[e.childNodes.indexOf(n)-1];r&&"#text"===r.nodeName?r.value+=t:o(e,i(t),n)},t.adoptAttributes=function(e,t){const n=[];for(let t=0;t<e.attrs.length;t++)n.push(e.attrs[t].name);for(let r=0;r<t.length;r++)-1===n.indexOf(t[r].name)&&e.attrs.push(t[r])},t.getFirstChild=function(e){return e.childNodes[0]},t.getChildNodes=function(e){return e.childNodes},t.getParentNode=function(e){return e.parentNode},t.getAttrList=function(e){return e.attrs},t.getTagName=function(e){return e.tagName},t.getNamespaceURI=function(e){return e.namespaceURI},t.getTextNodeContent=function(e){return e.value},t.getCommentNodeContent=function(e){return e.data},t.getDocumentTypeNodeName=function(e){return e.name},t.getDocumentTypeNodePublicId=function(e){return e.publicId},t.getDocumentTypeNodeSystemId=function(e){return e.systemId},t.isTextNode=function(e){return"#text"===e.nodeName},t.isCommentNode=function(e){return"#comment"===e.nodeName},t.isDocumentTypeNode=function(e){return"#documentType"===e.nodeName},t.isElementNode=function(e){return!!e.tagName},t.setNodeSourceCodeLocation=function(e,t){e.sourceCodeLocation=t},t.getNodeSourceCodeLocation=function(e){return e.sourceCodeLocation}},function(e,t,n){"use strict";e.exports=function(e,t){return[e,t=t||Object.create(null)].reduce((e,t)=>(Object.keys(t).forEach(n=>{e[n]=t[n]}),e),Object.create(null))}},function(e,t,n){"use strict";const{DOCUMENT_MODE:r}=n(26),i=["+//silmaril//dtd html pro v0r11 19970101//en","-//advasoft ltd//dtd html 3.0 aswedit + extensions//en","-//as//dtd html 3.0 aswedit + extensions//en","-//ietf//dtd html 2.0 level 1//en","-//ietf//dtd html 2.0 level 2//en","-//ietf//dtd html 2.0 strict level 1//en","-//ietf//dtd html 2.0 strict level 2//en","-//ietf//dtd html 2.0 strict//en","-//ietf//dtd html 2.0//en","-//ietf//dtd html 2.1e//en","-//ietf//dtd html 3.0//en","-//ietf//dtd html 3.0//en//","-//ietf//dtd html 3.2 final//en","-//ietf//dtd html 3.2//en","-//ietf//dtd html 3//en","-//ietf//dtd html level 0//en","-//ietf//dtd html level 0//en//2.0","-//ietf//dtd html level 1//en","-//ietf//dtd html level 1//en//2.0","-//ietf//dtd html level 2//en","-//ietf//dtd html level 2//en//2.0","-//ietf//dtd html level 3//en","-//ietf//dtd html level 3//en//3.0","-//ietf//dtd html strict level 0//en","-//ietf//dtd html strict level 0//en//2.0","-//ietf//dtd html strict level 1//en","-//ietf//dtd html strict level 1//en//2.0","-//ietf//dtd html strict level 2//en","-//ietf//dtd html strict level 2//en//2.0","-//ietf//dtd html strict level 3//en","-//ietf//dtd html strict level 3//en//3.0","-//ietf//dtd html strict//en","-//ietf//dtd html strict//en//2.0","-//ietf//dtd html strict//en//3.0","-//ietf//dtd html//en","-//ietf//dtd html//en//2.0","-//ietf//dtd html//en//3.0","-//metrius//dtd metrius presentational//en","-//microsoft//dtd internet explorer 2.0 html strict//en","-//microsoft//dtd internet explorer 2.0 html//en","-//microsoft//dtd internet explorer 2.0 tables//en","-//microsoft//dtd internet explorer 3.0 html strict//en","-//microsoft//dtd internet explorer 3.0 html//en","-//microsoft//dtd internet explorer 3.0 tables//en","-//netscape comm. corp.//dtd html//en","-//netscape comm. corp.//dtd strict html//en","-//o'reilly and associates//dtd html 2.0//en","-//o'reilly and associates//dtd html extended 1.0//en","-//spyglass//dtd html 2.0 extended//en","-//sq//dtd html 2.0 hotmetal + extensions//en","-//sun microsystems corp.//dtd hotjava html//en","-//sun microsystems corp.//dtd hotjava strict html//en","-//w3c//dtd html 3 1995-03-24//en","-//w3c//dtd html 3.2 draft//en","-//w3c//dtd html 3.2 final//en","-//w3c//dtd html 3.2//en","-//w3c//dtd html 3.2s draft//en","-//w3c//dtd html 4.0 frameset//en","-//w3c//dtd html 4.0 transitional//en","-//w3c//dtd html experimental 19960712//en","-//w3c//dtd html experimental 970421//en","-//w3c//dtd w3 html//en","-//w3o//dtd w3 html 3.0//en","-//w3o//dtd w3 html 3.0//en//","-//webtechs//dtd mozilla html 2.0//en","-//webtechs//dtd mozilla html//en"],s=i.concat(["-//w3c//dtd html 4.01 frameset//","-//w3c//dtd html 4.01 transitional//"]),o=["-//w3o//dtd w3 html strict 3.0//en//","-/w3c/dtd html 4.0 transitional/en","html"],a=["-//W3C//DTD XHTML 1.0 Frameset//","-//W3C//DTD XHTML 1.0 Transitional//"],c=a.concat(["-//W3C//DTD HTML 4.01 Frameset//","-//W3C//DTD HTML 4.01 Transitional//"]);function u(e){const t=-1!==e.indexOf('"')?"'":'"';return t+e+t}function l(e,t){for(let n=0;n<t.length;n++)if(0===e.indexOf(t[n]))return!0;return!1}t.isConforming=function(e){return"html"===e.name&&null===e.publicId&&(null===e.systemId||"about:legacy-compat"===e.systemId)},t.getDocumentMode=function(e){if("html"!==e.name)return r.QUIRKS;const t=e.systemId;if(t&&"http://www.ibm.com/data/dtd/v11/ibmxhtml1-transitional.dtd"===t.toLowerCase())return r.QUIRKS;let n=e.publicId;if(null!==n){if(n=n.toLowerCase(),o.indexOf(n)>-1)return r.QUIRKS;let e=null===t?s:i;if(l(n,e))return r.QUIRKS;if(l(n,e=null===t?a:c))return r.LIMITED_QUIRKS}return r.NO_QUIRKS},t.serializeContent=function(e,t,n){let r="!DOCTYPE ";return e&&(r+=e),t?r+=" PUBLIC "+u(t):n&&(r+=" SYSTEM"),null!==n&&(r+=" "+u(n)),r}},function(e,t,n){var r={area:1,base:1,basefont:1,br:1,col:1,frame:1,hr:1,img:1,input:1,isindex:1,link:1,meta:1,param:1,embed:1},i=(function(){var e=[];for(var t in r)e.push(t);new RegExp("<"+e.join("|<"),"i")}(),n(240).HTMLEncode);t.stringifyElement=function(e){var t,n=e.tagName.toLowerCase(),s={start:"<"+n,end:""},o=[],a=null;if(e.attributes.length)for(s.start+=" ",t=0;t<e.attributes.length;t++)a=e.attributes.item(t),o.push(a.name+'="'+i(a.nodeValue,!0)+'"');return s.start+=o.join(" "),r[n]?(s.start+=" />",s.end=""):(s.start+=">",s.end="</"+n+">"),s};var s=/SCRIPT|STYLE/i;t.makeHtmlGenerator=function(e,n){return e=e||"",n=n||"",function r(o,a,c){var u,l,h="";if(c=c||"",o){o.nodeType&&o.nodeType===o.ENTITY_REFERENCE_NODE&&(o=o._entity);var d=a||s.test(o.nodeName);switch(o.nodeType){case o.ELEMENT_NODE:if(h+=c+(u=t.stringifyElement(o)).start,o._childNodes.length>0){for(o._childNodes[0].nodeType!==o.TEXT_NODE&&(h+=n),l=0;l<o._childNodes.length;l++)h+=r(o._childNodes[l],d,c+e);o._childNodes[o._childNodes.length-1].nodeType!==o.TEXT_NODE&&(h+=c),h+=u.end+n}else h+=((a?o.nodeValue:i(o.nodeValue,!1))||"")+u.end+n;break;case o.TEXT_NODE:e&&/^[\s\n]*$/.test(o.nodeValue)||(h+=(a?o.nodeValue:i(o.nodeValue,!1))||"");break;case o.COMMENT_NODE:h+=c+"\x3c!--"+o.nodeValue+"--\x3e"+n;break;case o.DOCUMENT_NODE:for(l=0;l<o._childNodes.length;l++)h+=r(o._childNodes[l],d,c);break;case o.DOCUMENT_TYPE_NODE:h+=function(e){if(e.ownerDocument&&e.ownerDocument._fullDT)return e.ownerDocument._fullDT;var t="<!DOCTYPE "+e.name;return e.publicId&&(t+=' PUBLIC "'+e.publicId+'" '),!e.publicId&&e.systemId&&(t+=" SYSTEM "),e.systemId&&(e.systemId.indexOf('"')>-1?t+="'"+e.systemId+"'":t+='"'+e.systemId+'"'),t+=">"}(o)}}return h}},t.domToHtml=function(e,n,r){var i=t.makeHtmlGenerator(n?"":"  ",n?"":"\n");if(e._toArray&&(e=e._toArray()),void 0!==e.length){for(var s="",o=0,a=e.length;o<a;o++)s+=i(e[o],r);return s}return i(e,r)}},function(e,t,n){var r=n(41),i=n(78),s="[object AsyncFunction]",o="[object Function]",a="[object GeneratorFunction]",c="[object Proxy]";e.exports=function(e){if(!i(e))return!1;var t=r(e);return t==o||t==a||t==s||t==c}},function(e,t){var n="object"==typeof global&&global&&global.Object===Object&&global;e.exports=n},function(e,t){var n=9007199254740991;e.exports=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=n}},function(e,t,n){var r=n(53),i=n(85),s=n(274),o=n(86),a=n(88),c=/\s+$/;e.exports=function(e,t,n){if((e=a(e))&&(n||void 0===t))return e.replace(c,"");if(!e||!(t=r(t)))return e;var u=o(e),l=s(u,o(t))+1;return i(u,0,l).join("")}},function(e,t,n){var r=n(130),i={input:!0,option:!0,optgroup:!0,select:!0,button:!0,datalist:!0,textarea:!0},s={tr:{tr:!0,th:!0,td:!0},th:{th:!0},td:{thead:!0,th:!0,td:!0},body:{head:!0,link:!0,script:!0},li:{li:!0},p:{p:!0},h1:{p:!0},h2:{p:!0},h3:{p:!0},h4:{p:!0},h5:{p:!0},h6:{p:!0},select:i,input:i,output:i,button:i,datalist:i,textarea:i,option:{option:!0},optgroup:{optgroup:!0}},o={__proto__:null,area:!0,base:!0,basefont:!0,br:!0,col:!0,command:!0,embed:!0,frame:!0,hr:!0,img:!0,input:!0,isindex:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0},a={__proto__:null,math:!0,svg:!0},c={__proto__:null,mi:!0,mo:!0,mn:!0,ms:!0,mtext:!0,"annotation-xml":!0,foreignObject:!0,desc:!0,title:!0},u=/\s|\//;function l(e,t){this._options=t||{},this._cbs=e||{},this._tagname="",this._attribname="",this._attribvalue="",this._attribs=null,this._stack=[],this._foreignContext=[],this.startIndex=0,this.endIndex=null,this._lowerCaseTagNames="lowerCaseTags"in this._options?!!this._options.lowerCaseTags:!this._options.xmlMode,this._lowerCaseAttributeNames="lowerCaseAttributeNames"in this._options?!!this._options.lowerCaseAttributeNames:!this._options.xmlMode,this._options.Tokenizer&&(r=this._options.Tokenizer),this._tokenizer=new r(this._options,this),this._cbs.onparserinit&&this._cbs.onparserinit(this)}n(22)(l,n(55).EventEmitter),l.prototype._updatePosition=function(e){null===this.endIndex?this._tokenizer._sectionStart<=e?this.startIndex=0:this.startIndex=this._tokenizer._sectionStart-e:this.startIndex=this.endIndex+1,this.endIndex=this._tokenizer.getAbsoluteIndex()},l.prototype.ontext=function(e){this._updatePosition(1),this.endIndex--,this._cbs.ontext&&this._cbs.ontext(e)},l.prototype.onopentagname=function(e){if(this._lowerCaseTagNames&&(e=e.toLowerCase()),this._tagname=e,!this._options.xmlMode&&e in s)for(var t;(t=this._stack[this._stack.length-1])in s[e];this.onclosetag(t));!this._options.xmlMode&&e in o||(this._stack.push(e),e in a?this._foreignContext.push(!0):e in c&&this._foreignContext.push(!1)),this._cbs.onopentagname&&this._cbs.onopentagname(e),this._cbs.onopentag&&(this._attribs={})},l.prototype.onopentagend=function(){this._updatePosition(1),this._attribs&&(this._cbs.onopentag&&this._cbs.onopentag(this._tagname,this._attribs),this._attribs=null),!this._options.xmlMode&&this._cbs.onclosetag&&this._tagname in o&&this._cbs.onclosetag(this._tagname),this._tagname=""},l.prototype.onclosetag=function(e){if(this._updatePosition(1),this._lowerCaseTagNames&&(e=e.toLowerCase()),(e in a||e in c)&&this._foreignContext.pop(),!this._stack.length||e in o&&!this._options.xmlMode)this._options.xmlMode||"br"!==e&&"p"!==e||(this.onopentagname(e),this._closeCurrentTag());else{var t=this._stack.lastIndexOf(e);if(-1!==t)if(this._cbs.onclosetag)for(t=this._stack.length-t;t--;)this._cbs.onclosetag(this._stack.pop());else this._stack.length=t;else"p"!==e||this._options.xmlMode||(this.onopentagname(e),this._closeCurrentTag())}},l.prototype.onselfclosingtag=function(){this._options.xmlMode||this._options.recognizeSelfClosing||this._foreignContext[this._foreignContext.length-1]?this._closeCurrentTag():this.onopentagend()},l.prototype._closeCurrentTag=function(){var e=this._tagname;this.onopentagend(),this._stack[this._stack.length-1]===e&&(this._cbs.onclosetag&&this._cbs.onclosetag(e),this._stack.pop())},l.prototype.onattribname=function(e){this._lowerCaseAttributeNames&&(e=e.toLowerCase()),this._attribname=e},l.prototype.onattribdata=function(e){this._attribvalue+=e},l.prototype.onattribend=function(){this._cbs.onattribute&&this._cbs.onattribute(this._attribname,this._attribvalue),this._attribs&&!Object.prototype.hasOwnProperty.call(this._attribs,this._attribname)&&(this._attribs[this._attribname]=this._attribvalue),this._attribname="",this._attribvalue=""},l.prototype._getInstructionName=function(e){var t=e.search(u),n=t<0?e:e.substr(0,t);return this._lowerCaseTagNames&&(n=n.toLowerCase()),n},l.prototype.ondeclaration=function(e){if(this._cbs.onprocessinginstruction){var t=this._getInstructionName(e);this._cbs.onprocessinginstruction("!"+t,"!"+e)}},l.prototype.onprocessinginstruction=function(e){if(this._cbs.onprocessinginstruction){var t=this._getInstructionName(e);this._cbs.onprocessinginstruction("?"+t,"?"+e)}},l.prototype.oncomment=function(e){this._updatePosition(4),this._cbs.oncomment&&this._cbs.oncomment(e),this._cbs.oncommentend&&this._cbs.oncommentend()},l.prototype.oncdata=function(e){this._updatePosition(1),this._options.xmlMode||this._options.recognizeCDATA?(this._cbs.oncdatastart&&this._cbs.oncdatastart(),this._cbs.ontext&&this._cbs.ontext(e),this._cbs.oncdataend&&this._cbs.oncdataend()):this.oncomment("[CDATA["+e+"]]")},l.prototype.onerror=function(e){this._cbs.onerror&&this._cbs.onerror(e)},l.prototype.onend=function(){if(this._cbs.onclosetag)for(var e=this._stack.length;e>0;this._cbs.onclosetag(this._stack[--e]));this._cbs.onend&&this._cbs.onend()},l.prototype.reset=function(){this._cbs.onreset&&this._cbs.onreset(),this._tokenizer.reset(),this._tagname="",this._attribname="",this._attribs=null,this._stack=[],this._cbs.onparserinit&&this._cbs.onparserinit(this)},l.prototype.parseComplete=function(e){this.reset(),this.end(e)},l.prototype.write=function(e){this._tokenizer.write(e)},l.prototype.end=function(e){this._tokenizer.end(e)},l.prototype.pause=function(){this._tokenizer.pause()},l.prototype.resume=function(){this._tokenizer.resume()},l.prototype.parseChunk=l.prototype.write,l.prototype.done=l.prototype.end,e.exports=l},function(e,t,n){e.exports=me;var r=n(131),i=n(89),s=n(132),o=n(90),a=0,c=a++,u=a++,l=a++,h=a++,d=a++,p=a++,f=a++,_=a++,m=a++,g=a++,y=a++,T=a++,b=a++,v=a++,E=a++,S=a++,k=a++,w=a++,N=a++,A=a++,x=a++,C=a++,R=a++,I=a++,O=a++,D=a++,P=a++,L=a++,M=a++,U=a++,q=a++,F=a++,B=a++,H=a++,j=a++,G=a++,V=a++,K=a++,$=a++,W=a++,Y=a++,z=a++,X=a++,Q=a++,J=a++,Z=a++,ee=a++,te=a++,ne=a++,re=a++,ie=a++,se=a++,oe=a++,ae=a++,ce=a++,ue=0,le=ue++,he=ue++,de=ue++;function pe(e){return" "===e||"\n"===e||"\t"===e||"\f"===e||"\r"===e}function fe(e,t,n){var r=e.toLowerCase();return e===r?function(e){e===r?this._state=t:(this._state=n,this._index--)}:function(i){i===r||i===e?this._state=t:(this._state=n,this._index--)}}function _e(e,t){var n=e.toLowerCase();return function(r){r===n||r===e?this._state=t:(this._state=l,this._index--)}}function me(e,t){this._state=c,this._buffer="",this._sectionStart=0,this._index=0,this._bufferOffset=0,this._baseState=c,this._special=le,this._cbs=t,this._running=!0,this._ended=!1,this._xmlMode=!(!e||!e.xmlMode),this._decodeEntities=!(!e||!e.decodeEntities)}me.prototype._stateText=function(e){"<"===e?(this._index>this._sectionStart&&this._cbs.ontext(this._getSection()),this._state=u,this._sectionStart=this._index):this._decodeEntities&&this._special===le&&"&"===e&&(this._index>this._sectionStart&&this._cbs.ontext(this._getSection()),this._baseState=c,this._state=ie,this._sectionStart=this._index)},me.prototype._stateBeforeTagName=function(e){"/"===e?this._state=d:"<"===e?(this._cbs.ontext(this._getSection()),this._sectionStart=this._index):">"===e||this._special!==le||pe(e)?this._state=c:"!"===e?(this._state=E,this._sectionStart=this._index+1):"?"===e?(this._state=k,this._sectionStart=this._index+1):(this._state=this._xmlMode||"s"!==e&&"S"!==e?l:q,this._sectionStart=this._index)},me.prototype._stateInTagName=function(e){("/"===e||">"===e||pe(e))&&(this._emitToken("onopentagname"),this._state=_,this._index--)},me.prototype._stateBeforeCloseingTagName=function(e){pe(e)||(">"===e?this._state=c:this._special!==le?"s"===e||"S"===e?this._state=F:(this._state=c,this._index--):(this._state=p,this._sectionStart=this._index))},me.prototype._stateInCloseingTagName=function(e){(">"===e||pe(e))&&(this._emitToken("onclosetag"),this._state=f,this._index--)},me.prototype._stateAfterCloseingTagName=function(e){">"===e&&(this._state=c,this._sectionStart=this._index+1)},me.prototype._stateBeforeAttributeName=function(e){">"===e?(this._cbs.onopentagend(),this._state=c,this._sectionStart=this._index+1):"/"===e?this._state=h:pe(e)||(this._state=m,this._sectionStart=this._index)},me.prototype._stateInSelfClosingTag=function(e){">"===e?(this._cbs.onselfclosingtag(),this._state=c,this._sectionStart=this._index+1):pe(e)||(this._state=_,this._index--)},me.prototype._stateInAttributeName=function(e){("="===e||"/"===e||">"===e||pe(e))&&(this._cbs.onattribname(this._getSection()),this._sectionStart=-1,this._state=g,this._index--)},me.prototype._stateAfterAttributeName=function(e){"="===e?this._state=y:"/"===e||">"===e?(this._cbs.onattribend(),this._state=_,this._index--):pe(e)||(this._cbs.onattribend(),this._state=m,this._sectionStart=this._index)},me.prototype._stateBeforeAttributeValue=function(e){'"'===e?(this._state=T,this._sectionStart=this._index+1):"'"===e?(this._state=b,this._sectionStart=this._index+1):pe(e)||(this._state=v,this._sectionStart=this._index,this._index--)},me.prototype._stateInAttributeValueDoubleQuotes=function(e){'"'===e?(this._emitToken("onattribdata"),this._cbs.onattribend(),this._state=_):this._decodeEntities&&"&"===e&&(this._emitToken("onattribdata"),this._baseState=this._state,this._state=ie,this._sectionStart=this._index)},me.prototype._stateInAttributeValueSingleQuotes=function(e){"'"===e?(this._emitToken("onattribdata"),this._cbs.onattribend(),this._state=_):this._decodeEntities&&"&"===e&&(this._emitToken("onattribdata"),this._baseState=this._state,this._state=ie,this._sectionStart=this._index)},me.prototype._stateInAttributeValueNoQuotes=function(e){pe(e)||">"===e?(this._emitToken("onattribdata"),this._cbs.onattribend(),this._state=_,this._index--):this._decodeEntities&&"&"===e&&(this._emitToken("onattribdata"),this._baseState=this._state,this._state=ie,this._sectionStart=this._index)},me.prototype._stateBeforeDeclaration=function(e){this._state="["===e?C:"-"===e?w:S},me.prototype._stateInDeclaration=function(e){">"===e&&(this._cbs.ondeclaration(this._getSection()),this._state=c,this._sectionStart=this._index+1)},me.prototype._stateInProcessingInstruction=function(e){">"===e&&(this._cbs.onprocessinginstruction(this._getSection()),this._state=c,this._sectionStart=this._index+1)},me.prototype._stateBeforeComment=function(e){"-"===e?(this._state=N,this._sectionStart=this._index+1):this._state=S},me.prototype._stateInComment=function(e){"-"===e&&(this._state=A)},me.prototype._stateAfterComment1=function(e){this._state="-"===e?x:N},me.prototype._stateAfterComment2=function(e){">"===e?(this._cbs.oncomment(this._buffer.substring(this._sectionStart,this._index-2)),this._state=c,this._sectionStart=this._index+1):"-"!==e&&(this._state=N)},me.prototype._stateBeforeCdata1=fe("C",R,S),me.prototype._stateBeforeCdata2=fe("D",I,S),me.prototype._stateBeforeCdata3=fe("A",O,S),me.prototype._stateBeforeCdata4=fe("T",D,S),me.prototype._stateBeforeCdata5=fe("A",P,S),me.prototype._stateBeforeCdata6=function(e){"["===e?(this._state=L,this._sectionStart=this._index+1):(this._state=S,this._index--)},me.prototype._stateInCdata=function(e){"]"===e&&(this._state=M)},me.prototype._stateAfterCdata1=function(e){this._state="]"===e?U:L},me.prototype._stateAfterCdata2=function(e){">"===e?(this._cbs.oncdata(this._buffer.substring(this._sectionStart,this._index-2)),this._state=c,this._sectionStart=this._index+1):"]"!==e&&(this._state=L)},me.prototype._stateBeforeSpecial=function(e){"c"===e||"C"===e?this._state=B:"t"===e||"T"===e?this._state=X:(this._state=l,this._index--)},me.prototype._stateBeforeSpecialEnd=function(e){this._special!==he||"c"!==e&&"C"!==e?this._special!==de||"t"!==e&&"T"!==e?this._state=c:this._state=ee:this._state=K},me.prototype._stateBeforeScript1=_e("R",H),me.prototype._stateBeforeScript2=_e("I",j),me.prototype._stateBeforeScript3=_e("P",G),me.prototype._stateBeforeScript4=_e("T",V),me.prototype._stateBeforeScript5=function(e){("/"===e||">"===e||pe(e))&&(this._special=he),this._state=l,this._index--},me.prototype._stateAfterScript1=fe("R",$,c),me.prototype._stateAfterScript2=fe("I",W,c),me.prototype._stateAfterScript3=fe("P",Y,c),me.prototype._stateAfterScript4=fe("T",z,c),me.prototype._stateAfterScript5=function(e){">"===e||pe(e)?(this._special=le,this._state=p,this._sectionStart=this._index-6,this._index--):this._state=c},me.prototype._stateBeforeStyle1=_e("Y",Q),me.prototype._stateBeforeStyle2=_e("L",J),me.prototype._stateBeforeStyle3=_e("E",Z),me.prototype._stateBeforeStyle4=function(e){("/"===e||">"===e||pe(e))&&(this._special=de),this._state=l,this._index--},me.prototype._stateAfterStyle1=fe("Y",te,c),me.prototype._stateAfterStyle2=fe("L",ne,c),me.prototype._stateAfterStyle3=fe("E",re,c),me.prototype._stateAfterStyle4=function(e){">"===e||pe(e)?(this._special=le,this._state=p,this._sectionStart=this._index-5,this._index--):this._state=c},me.prototype._stateBeforeEntity=fe("#",se,oe),me.prototype._stateBeforeNumericEntity=fe("X",ce,ae),me.prototype._parseNamedEntityStrict=function(){if(this._sectionStart+1<this._index){var e=this._buffer.substring(this._sectionStart+1,this._index),t=this._xmlMode?o:i;t.hasOwnProperty(e)&&(this._emitPartial(t[e]),this._sectionStart=this._index+1)}},me.prototype._parseLegacyEntity=function(){var e=this._sectionStart+1,t=this._index-e;for(t>6&&(t=6);t>=2;){var n=this._buffer.substr(e,t);if(s.hasOwnProperty(n))return this._emitPartial(s[n]),void(this._sectionStart+=t+1);t--}},me.prototype._stateInNamedEntity=function(e){";"===e?(this._parseNamedEntityStrict(),this._sectionStart+1<this._index&&!this._xmlMode&&this._parseLegacyEntity(),this._state=this._baseState):(e<"a"||e>"z")&&(e<"A"||e>"Z")&&(e<"0"||e>"9")&&(this._xmlMode||this._sectionStart+1===this._index||(this._baseState!==c?"="!==e&&this._parseNamedEntityStrict():this._parseLegacyEntity()),this._state=this._baseState,this._index--)},me.prototype._decodeNumericEntity=function(e,t){var n=this._sectionStart+e;if(n!==this._index){var i=this._buffer.substring(n,this._index),s=parseInt(i,t);this._emitPartial(r(s)),this._sectionStart=this._index}else this._sectionStart--;this._state=this._baseState},me.prototype._stateInNumericEntity=function(e){";"===e?(this._decodeNumericEntity(2,10),this._sectionStart++):(e<"0"||e>"9")&&(this._xmlMode?this._state=this._baseState:this._decodeNumericEntity(2,10),this._index--)},me.prototype._stateInHexEntity=function(e){";"===e?(this._decodeNumericEntity(3,16),this._sectionStart++):(e<"a"||e>"f")&&(e<"A"||e>"F")&&(e<"0"||e>"9")&&(this._xmlMode?this._state=this._baseState:this._decodeNumericEntity(3,16),this._index--)},me.prototype._cleanup=function(){this._sectionStart<0?(this._buffer="",this._bufferOffset+=this._index,this._index=0):this._running&&(this._state===c?(this._sectionStart!==this._index&&this._cbs.ontext(this._buffer.substr(this._sectionStart)),this._buffer="",this._bufferOffset+=this._index,this._index=0):this._sectionStart===this._index?(this._buffer="",this._bufferOffset+=this._index,this._index=0):(this._buffer=this._buffer.substr(this._sectionStart),this._index-=this._sectionStart,this._bufferOffset+=this._sectionStart),this._sectionStart=0)},me.prototype.write=function(e){this._ended&&this._cbs.onerror(Error(".write() after done!")),this._buffer+=e,this._parse()},me.prototype._parse=function(){for(;this._index<this._buffer.length&&this._running;){var e=this._buffer.charAt(this._index);this._state===c?this._stateText(e):this._state===u?this._stateBeforeTagName(e):this._state===l?this._stateInTagName(e):this._state===d?this._stateBeforeCloseingTagName(e):this._state===p?this._stateInCloseingTagName(e):this._state===f?this._stateAfterCloseingTagName(e):this._state===h?this._stateInSelfClosingTag(e):this._state===_?this._stateBeforeAttributeName(e):this._state===m?this._stateInAttributeName(e):this._state===g?this._stateAfterAttributeName(e):this._state===y?this._stateBeforeAttributeValue(e):this._state===T?this._stateInAttributeValueDoubleQuotes(e):this._state===b?this._stateInAttributeValueSingleQuotes(e):this._state===v?this._stateInAttributeValueNoQuotes(e):this._state===E?this._stateBeforeDeclaration(e):this._state===S?this._stateInDeclaration(e):this._state===k?this._stateInProcessingInstruction(e):this._state===w?this._stateBeforeComment(e):this._state===N?this._stateInComment(e):this._state===A?this._stateAfterComment1(e):this._state===x?this._stateAfterComment2(e):this._state===C?this._stateBeforeCdata1(e):this._state===R?this._stateBeforeCdata2(e):this._state===I?this._stateBeforeCdata3(e):this._state===O?this._stateBeforeCdata4(e):this._state===D?this._stateBeforeCdata5(e):this._state===P?this._stateBeforeCdata6(e):this._state===L?this._stateInCdata(e):this._state===M?this._stateAfterCdata1(e):this._state===U?this._stateAfterCdata2(e):this._state===q?this._stateBeforeSpecial(e):this._state===F?this._stateBeforeSpecialEnd(e):this._state===B?this._stateBeforeScript1(e):this._state===H?this._stateBeforeScript2(e):this._state===j?this._stateBeforeScript3(e):this._state===G?this._stateBeforeScript4(e):this._state===V?this._stateBeforeScript5(e):this._state===K?this._stateAfterScript1(e):this._state===$?this._stateAfterScript2(e):this._state===W?this._stateAfterScript3(e):this._state===Y?this._stateAfterScript4(e):this._state===z?this._stateAfterScript5(e):this._state===X?this._stateBeforeStyle1(e):this._state===Q?this._stateBeforeStyle2(e):this._state===J?this._stateBeforeStyle3(e):this._state===Z?this._stateBeforeStyle4(e):this._state===ee?this._stateAfterStyle1(e):this._state===te?this._stateAfterStyle2(e):this._state===ne?this._stateAfterStyle3(e):this._state===re?this._stateAfterStyle4(e):this._state===ie?this._stateBeforeEntity(e):this._state===se?this._stateBeforeNumericEntity(e):this._state===oe?this._stateInNamedEntity(e):this._state===ae?this._stateInNumericEntity(e):this._state===ce?this._stateInHexEntity(e):this._cbs.onerror(Error("unknown _state"),this._state),this._index++}this._cleanup()},me.prototype.pause=function(){this._running=!1},me.prototype.resume=function(){this._running=!0,this._index<this._buffer.length&&this._parse(),this._ended&&this._finish()},me.prototype.end=function(e){this._ended&&this._cbs.onerror(Error(".end() after done!")),e&&this.write(e),this._ended=!0,this._running&&this._finish()},me.prototype._finish=function(){this._sectionStart<this._index&&this._handleTrailingData(),this._cbs.onend()},me.prototype._handleTrailingData=function(){var e=this._buffer.substr(this._sectionStart);this._state===L||this._state===M||this._state===U?this._cbs.oncdata(e):this._state===N||this._state===A||this._state===x?this._cbs.oncomment(e):this._state!==oe||this._xmlMode?this._state!==ae||this._xmlMode?this._state!==ce||this._xmlMode?this._state!==l&&this._state!==_&&this._state!==y&&this._state!==g&&this._state!==m&&this._state!==b&&this._state!==T&&this._state!==v&&this._state!==p&&this._cbs.ontext(e):(this._decodeNumericEntity(3,16),this._sectionStart<this._index&&(this._state=this._baseState,this._handleTrailingData())):(this._decodeNumericEntity(2,10),this._sectionStart<this._index&&(this._state=this._baseState,this._handleTrailingData())):(this._parseLegacyEntity(),this._sectionStart<this._index&&(this._state=this._baseState,this._handleTrailingData()))},me.prototype.reset=function(){me.call(this,{xmlMode:this._xmlMode,decodeEntities:this._decodeEntities},this._cbs)},me.prototype.getAbsoluteIndex=function(){return this._bufferOffset+this._index},me.prototype._getSection=function(){return this._buffer.substring(this._sectionStart,this._index)},me.prototype._emitToken=function(e){this._cbs[e](this._getSection()),this._sectionStart=-1},me.prototype._emitPartial=function(e){this._baseState!==c?this._cbs.onattribdata(e):this._cbs.ontext(e)}},function(e,t,n){var r=n(277);e.exports=function(e){if(e>=55296&&e<=57343||e>1114111)return"";e in r&&(e=r[e]);var t="";e>65535&&(e-=65536,t+=String.fromCharCode(e>>>10&1023|55296),e=56320|1023&e);return t+=String.fromCharCode(e)}},function(e){e.exports=JSON.parse('{"Aacute":"","aacute":"","Acirc":"","acirc":"","acute":"","AElig":"","aelig":"","Agrave":"","agrave":"","amp":"&","AMP":"&","Aring":"","aring":"","Atilde":"","atilde":"","Auml":"","auml":"","brvbar":"","Ccedil":"","ccedil":"","cedil":"","cent":"","copy":"","COPY":"","curren":"","deg":"","divide":"","Eacute":"","eacute":"","Ecirc":"","ecirc":"","Egrave":"","egrave":"","ETH":"","eth":"","Euml":"","euml":"","frac12":"","frac14":"","frac34":"","gt":">","GT":">","Iacute":"","iacute":"","Icirc":"","icirc":"","iexcl":"","Igrave":"","igrave":"","iquest":"","Iuml":"","iuml":"","laquo":"","lt":"<","LT":"<","macr":"","micro":"","middot":"","nbsp":"","not":"","Ntilde":"","ntilde":"","Oacute":"","oacute":"","Ocirc":"","ocirc":"","Ograve":"","ograve":"","ordf":"","ordm":"","Oslash":"","oslash":"","Otilde":"","otilde":"","Ouml":"","ouml":"","para":"","plusmn":"","pound":"","quot":"\\"","QUOT":"\\"","raquo":"","reg":"","REG":"","sect":"","shy":"","sup1":"","sup2":"","sup3":"","szlig":"","THORN":"","thorn":"","times":"","Uacute":"","uacute":"","Ucirc":"","ucirc":"","Ugrave":"","ugrave":"","uml":"","Uuml":"","uuml":"","Yacute":"","yacute":"","yen":"","yuml":""}')},function(e,t,n){var r=n(30),i=/\s+/g,s=n(134),o=n(279);function a(e,t,n){"object"==typeof e?(n=t,t=e,e=null):"function"==typeof t&&(n=t,t=c),this._callback=e,this._options=t||c,this._elementCB=n,this.dom=[],this._done=!1,this._tagStack=[],this._parser=this._parser||null}var c={normalizeWhitespace:!1,withStartIndices:!1,withEndIndices:!1};a.prototype.onparserinit=function(e){this._parser=e},a.prototype.onreset=function(){a.call(this,this._callback,this._options,this._elementCB)},a.prototype.onend=function(){this._done||(this._done=!0,this._parser=null,this._handleCallback(null))},a.prototype._handleCallback=a.prototype.onerror=function(e){if("function"==typeof this._callback)this._callback(e,this.dom);else if(e)throw e},a.prototype.onclosetag=function(){var e=this._tagStack.pop();this._options.withEndIndices&&e&&(e.endIndex=this._parser.endIndex),this._elementCB&&this._elementCB(e)},a.prototype._createDomElement=function(e){if(!this._options.withDomLvl1)return e;var t;for(var n in t="tag"===e.type?Object.create(o):Object.create(s),e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t},a.prototype._addDomElement=function(e){var t=this._tagStack[this._tagStack.length-1],n=t?t.children:this.dom,r=n[n.length-1];e.next=null,this._options.withStartIndices&&(e.startIndex=this._parser.startIndex),this._options.withEndIndices&&(e.endIndex=this._parser.endIndex),r?(e.prev=r,r.next=e):e.prev=null,n.push(e),e.parent=t||null},a.prototype.onopentag=function(e,t){var n={type:"script"===e?r.Script:"style"===e?r.Style:r.Tag,name:e,attribs:t,children:[]},i=this._createDomElement(n);this._addDomElement(i),this._tagStack.push(i)},a.prototype.ontext=function(e){var t,n=this._options.normalizeWhitespace||this._options.ignoreWhitespace;if(!this._tagStack.length&&this.dom.length&&(t=this.dom[this.dom.length-1]).type===r.Text)n?t.data=(t.data+e).replace(i," "):t.data+=e;else if(this._tagStack.length&&(t=this._tagStack[this._tagStack.length-1])&&(t=t.children[t.children.length-1])&&t.type===r.Text)n?t.data=(t.data+e).replace(i," "):t.data+=e;else{n&&(e=e.replace(i," "));var s=this._createDomElement({data:e,type:r.Text});this._addDomElement(s)}},a.prototype.oncomment=function(e){var t=this._tagStack[this._tagStack.length-1];if(t&&t.type===r.Comment)t.data+=e;else{var n={data:e,type:r.Comment},i=this._createDomElement(n);this._addDomElement(i),this._tagStack.push(i)}},a.prototype.oncdatastart=function(){var e={children:[{data:"",type:r.Text}],type:r.CDATA},t=this._createDomElement(e);this._addDomElement(t),this._tagStack.push(t)},a.prototype.oncommentend=a.prototype.oncdataend=function(){this._tagStack.pop()},a.prototype.onprocessinginstruction=function(e,t){var n=this._createDomElement({name:e,data:t,type:r.Directive});this._addDomElement(n)},e.exports=a},function(e,t){var n=e.exports={get firstChild(){var e=this.children;return e&&e[0]||null},get lastChild(){var e=this.children;return e&&e[e.length-1]||null},get nodeType(){return i[this.type]||i.element}},r={tagName:"name",childNodes:"children",parentNode:"parent",previousSibling:"prev",nextSibling:"next",nodeValue:"data"},i={element:1,text:3,cdata:4,comment:8};Object.keys(r).forEach(function(e){var t=r[e];Object.defineProperty(n,e,{get:function(){return this[t]||null},set:function(e){return this[t]=e,e}})})},function(e,t,n){var r=e.exports;[n(281),n(286),n(287),n(288),n(289),n(290)].forEach(function(e){Object.keys(e).forEach(function(t){r[t]=e[t].bind(r)})})},function(e,t,n){e.exports=a;var r=n(129),i=n(292).Writable,s=n(300).StringDecoder,o=n(42).Buffer;function a(e,t){var n=this._parser=new r(e,t),o=this._decoder=new s;i.call(this,{decodeStrings:!1}),this.once("finish",function(){n.end(o.end())})}n(22)(a,i),a.prototype._write=function(e,t,n){e instanceof o&&(e=this._decoder.write(e)),this._parser.write(e),n()}},function(e,t,n){"use strict";var r;e.exports=S,S.ReadableState=E;n(55).EventEmitter;var i=function(e,t){return e.listeners(t).length},s=n(138),o=n(42).Buffer,a=global.Uint8Array||function(){};var c,u=n(16);c=u&&u.debuglog?u.debuglog("stream"):function(){};var l,h,d=n(293),p=n(139),f=n(140).getHighWaterMark,_=n(31).codes,m=_.ERR_INVALID_ARG_TYPE,g=_.ERR_STREAM_PUSH_AFTER_EOF,y=_.ERR_METHOD_NOT_IMPLEMENTED,T=_.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,b=n(294).emitExperimentalWarning;n(22)(S,s);var v=["error","close","destroy","pause","resume"];function E(e,t,i){r=r||n(32),e=e||{},"boolean"!=typeof i&&(i=t instanceof r),this.objectMode=!!e.objectMode,i&&(this.objectMode=this.objectMode||!!e.readableObjectMode),this.highWaterMark=f(this,e,"readableHighWaterMark",i),this.buffer=new d,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=!1!==e.emitClose,this.destroyed=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(l||(l=n(142).StringDecoder),this.decoder=new l(e.encoding),this.encoding=e.encoding)}function S(e){if(r=r||n(32),!(this instanceof S))return new S(e);var t=this instanceof r;this._readableState=new E(e,this,t),this.readable=!0,e&&("function"==typeof e.read&&(this._read=e.read),"function"==typeof e.destroy&&(this._destroy=e.destroy)),s.call(this)}function k(e,t,n,r,i){c("readableAddChunk",t);var s,u=e._readableState;if(null===t)u.reading=!1,function(e,t){if(t.ended)return;if(t.decoder){var n=t.decoder.end();n&&n.length&&(t.buffer.push(n),t.length+=t.objectMode?1:n.length)}t.ended=!0,t.sync?x(e):(t.needReadable=!1,t.emittedReadable||(t.emittedReadable=!0,C(e)))}(e,u);else if(i||(s=function(e,t){var n;r=t,o.isBuffer(r)||r instanceof a||"string"==typeof t||void 0===t||e.objectMode||(n=new m("chunk",["string","Buffer","Uint8Array"],t));var r;return n}(u,t)),s)e.emit("error",s);else if(u.objectMode||t&&t.length>0)if("string"==typeof t||u.objectMode||Object.getPrototypeOf(t)===o.prototype||(t=function(e){return o.from(e)}(t)),r)u.endEmitted?e.emit("error",new T):w(e,u,t,!0);else if(u.ended)e.emit("error",new g);else{if(u.destroyed)return!1;u.reading=!1,u.decoder&&!n?(t=u.decoder.write(t),u.objectMode||0!==t.length?w(e,u,t,!1):R(e,u)):w(e,u,t,!1)}else r||(u.reading=!1,R(e,u));return!u.ended&&(u.length<u.highWaterMark||0===u.length)}function w(e,t,n,r){t.flowing&&0===t.length&&!t.sync?(t.awaitDrain=0,e.emit("data",n)):(t.length+=t.objectMode?1:n.length,r?t.buffer.unshift(n):t.buffer.push(n),t.needReadable&&x(e)),R(e,t)}Object.defineProperty(S.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}}),S.prototype.destroy=p.destroy,S.prototype._undestroy=p.undestroy,S.prototype._destroy=function(e,t){t(e)},S.prototype.push=function(e,t){var n,r=this._readableState;return r.objectMode?n=!0:"string"==typeof e&&((t=t||r.defaultEncoding)!==r.encoding&&(e=o.from(e,t),t=""),n=!0),k(this,e,t,!1,n)},S.prototype.unshift=function(e){return k(this,e,null,!0,!1)},S.prototype.isPaused=function(){return!1===this._readableState.flowing},S.prototype.setEncoding=function(e){return l||(l=n(142).StringDecoder),this._readableState.decoder=new l(e),this._readableState.encoding=this._readableState.decoder.encoding,this};var N=8388608;function A(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:e!=e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=function(e){return e>=N?e=N:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}function x(e){var t=e._readableState;t.needReadable=!1,t.emittedReadable||(c("emitReadable",t.flowing),t.emittedReadable=!0,process.nextTick(C,e))}function C(e){var t=e._readableState;c("emitReadable_",t.destroyed,t.length,t.ended),t.destroyed||!t.length&&!t.ended||e.emit("readable"),t.needReadable=!t.flowing&&!t.ended&&t.length<=t.highWaterMark,L(e)}function R(e,t){t.readingMore||(t.readingMore=!0,process.nextTick(I,e,t))}function I(e,t){for(;!t.reading&&!t.ended&&(t.length<t.highWaterMark||t.flowing&&0===t.length);){var n=t.length;if(c("maybeReadMore read 0"),e.read(0),n===t.length)break}t.readingMore=!1}function O(e){var t=e._readableState;t.readableListening=e.listenerCount("readable")>0,t.resumeScheduled&&!t.paused?t.flowing=!0:e.listenerCount("data")>0&&e.resume()}function D(e){c("readable nexttick read 0"),e.read(0)}function P(e,t){c("resume",t.reading),t.reading||e.read(0),t.resumeScheduled=!1,e.emit("resume"),L(e),t.flowing&&!t.reading&&e.read(0)}function L(e){var t=e._readableState;for(c("flow",t.flowing);t.flowing&&null!==e.read(););}function M(e,t){return 0===t.length?null:(t.objectMode?n=t.buffer.shift():!e||e>=t.length?(n=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.first():t.buffer.concat(t.length),t.buffer.clear()):n=t.buffer.consume(e,t.decoder),n);var n}function U(e){var t=e._readableState;c("endReadable",t.endEmitted),t.endEmitted||(t.ended=!0,process.nextTick(q,t,e))}function q(e,t){c("endReadableNT",e.endEmitted,e.length),e.endEmitted||0!==e.length||(e.endEmitted=!0,t.readable=!1,t.emit("end"))}function F(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1}S.prototype.read=function(e){c("read",e),e=parseInt(e,10);var t=this._readableState,n=e;if(0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&((0!==t.highWaterMark?t.length>=t.highWaterMark:t.length>0)||t.ended))return c("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?U(this):x(this),null;if(0===(e=A(e,t))&&t.ended)return 0===t.length&&U(this),null;var r,i=t.needReadable;return c("need readable",i),(0===t.length||t.length-e<t.highWaterMark)&&c("length less than watermark",i=!0),t.ended||t.reading?c("reading or ended",i=!1):i&&(c("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=A(n,t))),null===(r=e>0?M(e,t):null)?(t.needReadable=!0,e=0):(t.length-=e,t.awaitDrain=0),0===t.length&&(t.ended||(t.needReadable=!0),n!==e&&t.ended&&U(this)),null!==r&&this.emit("data",r),r},S.prototype._read=function(e){this.emit("error",new y("_read()"))},S.prototype.pipe=function(e,t){var n=this,r=this._readableState;switch(r.pipesCount){case 0:r.pipes=e;break;case 1:r.pipes=[r.pipes,e];break;default:r.pipes.push(e)}r.pipesCount+=1,c("pipe count=%d opts=%j",r.pipesCount,t);var s=(!t||!1!==t.end)&&e!==process.stdout&&e!==process.stderr?a:_;function o(t,i){c("onunpipe"),t===n&&i&&!1===i.hasUnpiped&&(i.hasUnpiped=!0,c("cleanup"),e.removeListener("close",p),e.removeListener("finish",f),e.removeListener("drain",u),e.removeListener("error",d),e.removeListener("unpipe",o),n.removeListener("end",a),n.removeListener("end",_),n.removeListener("data",h),l=!0,!r.awaitDrain||e._writableState&&!e._writableState.needDrain||u())}function a(){c("onend"),e.end()}r.endEmitted?process.nextTick(s):n.once("end",s),e.on("unpipe",o);var u=function(e){return function(){var t=e._readableState;c("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&i(e,"data")&&(t.flowing=!0,L(e))}}(n);e.on("drain",u);var l=!1;function h(t){c("ondata");var i=e.write(t);c("dest.write",i),!1===i&&((1===r.pipesCount&&r.pipes===e||r.pipesCount>1&&-1!==F(r.pipes,e))&&!l&&(c("false write response, pause",r.awaitDrain),r.awaitDrain++),n.pause())}function d(t){c("onerror",t),_(),e.removeListener("error",d),0===i(e,"error")&&e.emit("error",t)}function p(){e.removeListener("finish",f),_()}function f(){c("onfinish"),e.removeListener("close",p),_()}function _(){c("unpipe"),n.unpipe(e)}return n.on("data",h),function(e,t,n){if("function"==typeof e.prependListener)return e.prependListener(t,n);e._events&&e._events[t]?Array.isArray(e._events[t])?e._events[t].unshift(n):e._events[t]=[n,e._events[t]]:e.on(t,n)}(e,"error",d),e.once("close",p),e.once("finish",f),e.emit("pipe",n),r.flowing||(c("pipe resume"),n.resume()),e},S.prototype.unpipe=function(e){var t=this._readableState,n={hasUnpiped:!1};if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes?this:(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,n),this);if(!e){var r=t.pipes,i=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var s=0;s<i;s++)r[s].emit("unpipe",this,{hasUnpiped:!1});return this}var o=F(t.pipes,e);return-1===o?this:(t.pipes.splice(o,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,n),this)},S.prototype.on=function(e,t){var n=s.prototype.on.call(this,e,t),r=this._readableState;return"data"===e?(r.readableListening=this.listenerCount("readable")>0,!1!==r.flowing&&this.resume()):"readable"===e&&(r.endEmitted||r.readableListening||(r.readableListening=r.needReadable=!0,r.flowing=!1,r.emittedReadable=!1,c("on readable",r.length,r.reading),r.length?x(this):r.reading||process.nextTick(D,this))),n},S.prototype.addListener=S.prototype.on,S.prototype.removeListener=function(e,t){var n=s.prototype.removeListener.call(this,e,t);return"readable"===e&&process.nextTick(O,this),n},S.prototype.removeAllListeners=function(e){var t=s.prototype.removeAllListeners.apply(this,arguments);return"readable"!==e&&void 0!==e||process.nextTick(O,this),t},S.prototype.resume=function(){var e=this._readableState;return e.flowing||(c("resume"),e.flowing=!e.readableListening,function(e,t){t.resumeScheduled||(t.resumeScheduled=!0,process.nextTick(P,e,t))}(this,e)),e.paused=!1,this},S.prototype.pause=function(){return c("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(c("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},S.prototype.wrap=function(e){var t=this,n=this._readableState,r=!1;for(var i in e.on("end",function(){if(c("wrapped end"),n.decoder&&!n.ended){var e=n.decoder.end();e&&e.length&&t.push(e)}t.push(null)}),e.on("data",function(i){(c("wrapped data"),n.decoder&&(i=n.decoder.write(i)),n.objectMode&&null==i)||(n.objectMode||i&&i.length)&&(t.push(i)||(r=!0,e.pause()))}),e)void 0===this[i]&&"function"==typeof e[i]&&(this[i]=function(t){return function(){return e[t].apply(e,arguments)}}(i));for(var s=0;s<v.length;s++)e.on(v[s],this.emit.bind(this,v[s]));return this._read=function(t){c("wrapped _read",t),r&&(r=!1,e.resume())},this},"function"==typeof Symbol&&(S.prototype[Symbol.asyncIterator]=function(){return b("Readable[Symbol.asyncIterator]"),void 0===h&&(h=n(297)),h(this)}),Object.defineProperty(S.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(S.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(S.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(e){this._readableState&&(this._readableState.flowing=e)}}),S._fromList=M,Object.defineProperty(S.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}})},function(e,t,n){e.exports=n(23)},function(e,t,n){"use strict";function r(e,t){s(e,t),i(e)}function i(e){e._writableState&&!e._writableState.emitClose||e._readableState&&!e._readableState.emitClose||e.emit("close")}function s(e,t){e.emit("error",t)}e.exports={destroy:function(e,t){var n=this,o=this._readableState&&this._readableState.destroyed,a=this._writableState&&this._writableState.destroyed;return o||a?(t?t(e):!e||this._writableState&&this._writableState.errorEmitted||process.nextTick(s,this,e),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,function(e){!t&&e?(process.nextTick(r,n,e),n._writableState&&(n._writableState.errorEmitted=!0)):t?(process.nextTick(i,n),t(e)):process.nextTick(i,n)}),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}}},function(e,t,n){"use strict";var r=n(31).codes.ERR_INVALID_OPT_VALUE;e.exports={getHighWaterMark:function(e,t,n,i){var s=function(e,t,n){return null!=e.highWaterMark?e.highWaterMark:t?e[n]:null}(t,i,n);if(null!=s){if(!isFinite(s)||Math.floor(s)!==s||s<0)throw new r(i?n:"highWaterMark",s);return Math.floor(s)}return e.objectMode?16:16384}}},function(e,t,n){"use strict";function r(e){var t=this;this.next=null,this.entry=null,this.finish=function(){!function(e,t,n){var r=e.entry;e.entry=null;for(;r;){var i=r.callback;t.pendingcb--,i(n),r=r.next}t.corkedRequestsFree.next=e}(t,e)}}var i;e.exports=S,S.WritableState=E;var s={deprecate:n(295)},o=n(138),a=n(42).Buffer,c=global.Uint8Array||function(){};var u,l=n(139),h=n(140).getHighWaterMark,d=n(31).codes,p=d.ERR_INVALID_ARG_TYPE,f=d.ERR_METHOD_NOT_IMPLEMENTED,_=d.ERR_MULTIPLE_CALLBACK,m=d.ERR_STREAM_CANNOT_PIPE,g=d.ERR_STREAM_DESTROYED,y=d.ERR_STREAM_NULL_VALUES,T=d.ERR_STREAM_WRITE_AFTER_END,b=d.ERR_UNKNOWN_ENCODING;function v(){}function E(e,t,s){i=i||n(32),e=e||{},"boolean"!=typeof s&&(s=t instanceof i),this.objectMode=!!e.objectMode,s&&(this.objectMode=this.objectMode||!!e.writableObjectMode),this.highWaterMark=h(this,e,"writableHighWaterMark",s),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var o=!1===e.decodeStrings;this.decodeStrings=!o,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){!function(e,t){var n=e._writableState,r=n.sync,i=n.writecb;if("function"!=typeof i)throw new _;if(function(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}(n),t)!function(e,t,n,r,i){--t.pendingcb,n?(process.nextTick(i,r),process.nextTick(C,e,t),e._writableState.errorEmitted=!0,e.emit("error",r)):(i(r),e._writableState.errorEmitted=!0,e.emit("error",r),C(e,t))}(e,n,r,t,i);else{var s=A(n)||e.destroyed;s||n.corked||n.bufferProcessing||!n.bufferedRequest||N(e,n),r?process.nextTick(w,e,n,s,i):w(e,n,s,i)}}(t,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!1!==e.emitClose,this.bufferedRequestCount=0,this.corkedRequestsFree=new r(this)}function S(e){var t=this instanceof(i=i||n(32));if(!t&&!u.call(S,this))return new S(e);this._writableState=new E(e,this,t),this.writable=!0,e&&("function"==typeof e.write&&(this._write=e.write),"function"==typeof e.writev&&(this._writev=e.writev),"function"==typeof e.destroy&&(this._destroy=e.destroy),"function"==typeof e.final&&(this._final=e.final)),o.call(this)}function k(e,t,n,r,i,s,o){t.writelen=r,t.writecb=o,t.writing=!0,t.sync=!0,t.destroyed?t.onwrite(new g("write")):n?e._writev(i,t.onwrite):e._write(i,s,t.onwrite),t.sync=!1}function w(e,t,n,r){n||function(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}(e,t),t.pendingcb--,r(),C(e,t)}function N(e,t){t.bufferProcessing=!0;var n=t.bufferedRequest;if(e._writev&&n&&n.next){var i=t.bufferedRequestCount,s=new Array(i),o=t.corkedRequestsFree;o.entry=n;for(var a=0,c=!0;n;)s[a]=n,n.isBuf||(c=!1),n=n.next,a+=1;s.allBuffers=c,k(e,t,!0,t.length,s,"",o.finish),t.pendingcb++,t.lastBufferedRequest=null,o.next?(t.corkedRequestsFree=o.next,o.next=null):t.corkedRequestsFree=new r(t),t.bufferedRequestCount=0}else{for(;n;){var u=n.chunk,l=n.encoding,h=n.callback;if(k(e,t,!1,t.objectMode?1:u.length,u,l,h),n=n.next,t.bufferedRequestCount--,t.writing)break}null===n&&(t.lastBufferedRequest=null)}t.bufferedRequest=n,t.bufferProcessing=!1}function A(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function x(e,t){e._final(function(n){t.pendingcb--,n&&e.emit("error",n),t.prefinished=!0,e.emit("prefinish"),C(e,t)})}function C(e,t){var n=A(t);return n&&(!function(e,t){t.prefinished||t.finalCalled||("function"!=typeof e._final||t.destroyed?(t.prefinished=!0,e.emit("prefinish")):(t.pendingcb++,t.finalCalled=!0,process.nextTick(x,e,t)))}(e,t),0===t.pendingcb&&(t.finished=!0,e.emit("finish"))),n}n(22)(S,o),E.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},function(){try{Object.defineProperty(E.prototype,"buffer",{get:s.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(e){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(u=Function.prototype[Symbol.hasInstance],Object.defineProperty(S,Symbol.hasInstance,{value:function(e){return!!u.call(this,e)||this===S&&(e&&e._writableState instanceof E)}})):u=function(e){return e instanceof this},S.prototype.pipe=function(){this.emit("error",new m)},S.prototype.write=function(e,t,n){var r,i=this._writableState,s=!1,o=!i.objectMode&&(r=e,a.isBuffer(r)||r instanceof c);return o&&!a.isBuffer(e)&&(e=function(e){return a.from(e)}(e)),"function"==typeof t&&(n=t,t=null),o?t="buffer":t||(t=i.defaultEncoding),"function"!=typeof n&&(n=v),i.ending?function(e,t){var n=new T;e.emit("error",n),process.nextTick(t,n)}(this,n):(o||function(e,t,n,r){var i;return null===n?i=new y:"string"==typeof n||t.objectMode||(i=new p("chunk",["string","Buffer"],n)),!i||(e.emit("error",i),process.nextTick(r,i),!1)}(this,i,e,n))&&(i.pendingcb++,s=function(e,t,n,r,i,s){if(!n){var o=function(e,t,n){e.objectMode||!1===e.decodeStrings||"string"!=typeof t||(t=a.from(t,n));return t}(t,r,i);r!==o&&(n=!0,i="buffer",r=o)}var c=t.objectMode?1:r.length;t.length+=c;var u=t.length<t.highWaterMark;u||(t.needDrain=!0);if(t.writing||t.corked){var l=t.lastBufferedRequest;t.lastBufferedRequest={chunk:r,encoding:i,isBuf:n,callback:s,next:null},l?l.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else k(e,t,!1,c,r,i,s);return u}(this,i,o,e,t,n)),s},S.prototype.cork=function(){this._writableState.corked++},S.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.bufferProcessing||!e.bufferedRequest||N(this,e))},S.prototype.setDefaultEncoding=function(e){if("string"==typeof e&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new b(e);return this._writableState.defaultEncoding=e,this},Object.defineProperty(S.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(S.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),S.prototype._write=function(e,t,n){n(new f("_write()"))},S.prototype._writev=null,S.prototype.end=function(e,t,n){var r=this._writableState;return"function"==typeof e?(n=e,e=null,t=null):"function"==typeof t&&(n=t,t=null),null!=e&&this.write(e,t),r.corked&&(r.corked=1,this.uncork()),r.ending||function(e,t,n){t.ending=!0,C(e,t),n&&(t.finished?process.nextTick(n):e.once("finish",n));t.ended=!0,e.writable=!1}(this,r,n),this},Object.defineProperty(S.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(S.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}}),S.prototype.destroy=l.destroy,S.prototype._undestroy=l.undestroy,S.prototype._destroy=function(e,t){t(e)}},function(e,t,n){"use strict";var r=n(296).Buffer,i=r.isEncoding||function(e){switch((e=""+e)&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function s(e){var t;switch(this.encoding=function(e){var t=function(e){if(!e)return"utf8";for(var t;;)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase(),t=!0}}(e);if("string"!=typeof t&&(r.isEncoding===i||!i(e)))throw new Error("Unknown encoding: "+e);return t||e}(e),this.encoding){case"utf16le":this.text=c,this.end=u,t=4;break;case"utf8":this.fillLast=a,t=4;break;case"base64":this.text=l,this.end=h,t=3;break;default:return this.write=d,void(this.end=p)}this.lastNeed=0,this.lastTotal=0,this.lastChar=r.allocUnsafe(t)}function o(e){return e<=127?0:e>>5==6?2:e>>4==14?3:e>>3==30?4:e>>6==2?-1:-2}function a(e){var t=this.lastTotal-this.lastNeed,n=function(e,t,n){if(128!=(192&t[0]))return e.lastNeed=0,"";if(e.lastNeed>1&&t.length>1){if(128!=(192&t[1]))return e.lastNeed=1,"";if(e.lastNeed>2&&t.length>2&&128!=(192&t[2]))return e.lastNeed=2,""}}(this,e);return void 0!==n?n:this.lastNeed<=e.length?(e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(e.copy(this.lastChar,t,0,e.length),void(this.lastNeed-=e.length))}function c(e,t){if((e.length-t)%2==0){var n=e.toString("utf16le",t);if(n){var r=n.charCodeAt(n.length-1);if(r>=55296&&r<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],n.slice(0,-1)}return n}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1)}function u(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed){var n=this.lastTotal-this.lastNeed;return t+this.lastChar.toString("utf16le",0,n)}return t}function l(e,t){var n=(e.length-t)%3;return 0===n?e.toString("base64",t):(this.lastNeed=3-n,this.lastTotal=3,1===n?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-n))}function h(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}function d(e){return e.toString(this.encoding)}function p(e){return e&&e.length?this.write(e):""}t.StringDecoder=s,s.prototype.write=function(e){if(0===e.length)return"";var t,n;if(this.lastNeed){if(void 0===(t=this.fillLast(e)))return"";n=this.lastNeed,this.lastNeed=0}else n=0;return n<e.length?t?t+this.text(e,n):this.text(e,n):t||""},s.prototype.end=function(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+"":t},s.prototype.text=function(e,t){var n=function(e,t,n){var r=t.length-1;if(r<n)return 0;var i=o(t[r]);if(i>=0)return i>0&&(e.lastNeed=i-1),i;if(--r<n||-2===i)return 0;if((i=o(t[r]))>=0)return i>0&&(e.lastNeed=i-2),i;if(--r<n||-2===i)return 0;if((i=o(t[r]))>=0)return i>0&&(2===i?i=0:e.lastNeed=i-3),i;return 0}(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=n;var r=e.length-(n-this.lastNeed);return e.copy(this.lastChar,0,r),e.toString("utf8",t,r)},s.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length}},function(e,t,n){"use strict";e.exports=l;var r=n(31).codes,i=r.ERR_METHOD_NOT_IMPLEMENTED,s=r.ERR_MULTIPLE_CALLBACK,o=r.ERR_TRANSFORM_ALREADY_TRANSFORMING,a=r.ERR_TRANSFORM_WITH_LENGTH_0,c=n(32);function u(e,t){var n=this._transformState;n.transforming=!1;var r=n.writecb;if(null===r)return this.emit("error",new s);n.writechunk=null,n.writecb=null,null!=t&&this.push(t),r(e);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function l(e){if(!(this instanceof l))return new l(e);c.call(this,e),this._transformState={afterTransform:u.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&("function"==typeof e.transform&&(this._transform=e.transform),"function"==typeof e.flush&&(this._flush=e.flush)),this.on("prefinish",h)}function h(){var e=this;"function"!=typeof this._flush||this._readableState.destroyed?d(this,null,null):this._flush(function(t,n){d(e,t,n)})}function d(e,t,n){if(t)return e.emit("error",t);if(null!=n&&e.push(n),e._writableState.length)throw new a;if(e._transformState.transforming)throw new o;return e.push(null)}n(22)(l,c),l.prototype.push=function(e,t){return this._transformState.needTransform=!1,c.prototype.push.call(this,e,t)},l.prototype._transform=function(e,t,n){n(new i("_transform()"))},l.prototype._write=function(e,t,n){var r=this._transformState;if(r.writecb=n,r.writechunk=e,r.writeencoding=t,!r.transforming){var i=this._readableState;(r.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},l.prototype._read=function(e){var t=this._transformState;null===t.writechunk||t.transforming?t.needTransform=!0:(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform))},l.prototype._destroy=function(e,t){c.prototype._destroy.call(this,e,function(e){t(e)})}},function(e,t,n){var r=n(303),i=n(128);t.wordwrap=function(e,t){var n=t.wordwrap,r=t.preserveNewlines,s=t.lineCharCount,o=e.startsWith(" ")?" ":"";s+=o.length;var a=[];return(r?e.trim().replace(/\n/g,"\n ").split(/\ +/):e.trim().split(/\s+/)).forEach(function(e){(n||0===n)&&s>0&&(s+e.length>n||s+e.indexOf("\n")>n)&&(o+=a.join(" ")+"\n",a.length=s=0),(n||0===n)&&t.longWordSplit&&e.length>n&&(e=function(e,t){for(var n=t.longWordSplit.wrapCharacters||[],r=t.longWordSplit.forceWrapOnLimit||!1,i=t.wordwrap,s=[],o=0;e.length>i;){var a=e.substr(0,i),c=e.substr(i),u=a.lastIndexOf(n[o]);if(u>-1)e=a.substr(u+1)+c,s.push(a.substr(0,u+1));else{if(++o>=n.length){if(r){if(s.push(a),(e=c).length>i)continue}else e=a+c,t.preserveNewlines||(e+="\n");break}e=a+c}}return s.push(e),s.join("\n")}(e,t)),a.push(e),-1!==e.indexOf("\n")?(o+=a.join(" "),a.length=0,(s=e.length-(e.lastIndexOf("\n")+1))&&(o+=" ",s++)):s+=e.length+1}),o+=a.join(" "),e.endsWith(" ")?o.endsWith(" ")||(o+=" "):o=i(o),o},t.arrayZip=function(e){return r.apply(null,e)},t.splitCssSearchTag=function(e){function t(e,t){for(var n,r=[];null!==(n=e.exec(t));)r.push(n[1]);return r}var n={};return n.element=/(^\w*)/g.exec(e)[1],n.classes=t(/\.([\d\w-]*)/g,e),n.ids=t(/#([\d\w-]*)/g,e),n},t.replaceAll=function(e,t,n){var r=new RegExp(t,"g");return e.replace(r,n)}},function(e,t){e.exports=function(e){return function(t){return null==t?void 0:t[e]}}},function(e,t,n){var r=n(333),i=n(87),s=n(334);e.exports=function(e){return i(e)?s(e):r(e)}},function(e,t,n){"use strict";const r=n(340),i=Symbol("max"),s=Symbol("length"),o=Symbol("lengthCalculator"),a=Symbol("allowStale"),c=Symbol("maxAge"),u=Symbol("dispose"),l=Symbol("noDisposeOnSet"),h=Symbol("lruList"),d=Symbol("cache"),p=Symbol("updateAgeOnGet"),f=()=>1;const _=(e,t,n)=>{const r=e[d].get(t);if(r){const t=r.value;if(m(e,t)){if(y(e,r),!e[a])return}else n&&(e[p]&&(r.value.now=Date.now()),e[h].unshiftNode(r));return t.value}},m=(e,t)=>{if(!t||!t.maxAge&&!e[c])return!1;const n=Date.now()-t.now;return t.maxAge?n>t.maxAge:e[c]&&n>e[c]},g=e=>{if(e[s]>e[i])for(let t=e[h].tail;e[s]>e[i]&&null!==t;){const n=t.prev;y(e,t),t=n}},y=(e,t)=>{if(t){const n=t.value;e[u]&&e[u](n.key,n.value),e[s]-=n.length,e[d].delete(n.key),e[h].removeNode(t)}};class T{constructor(e,t,n,r,i){this.key=e,this.value=t,this.length=n,this.now=r,this.maxAge=i||0}}const b=(e,t,n,r)=>{let i=n.value;m(e,i)&&(y(e,n),e[a]||(i=void 0)),i&&t.call(r,i.value,i.key,e)};e.exports=class{constructor(e){if("number"==typeof e&&(e={max:e}),e||(e={}),e.max&&("number"!=typeof e.max||e.max<0))throw new TypeError("max must be a non-negative number");this[i]=e.max||1/0;const t=e.length||f;if(this[o]="function"!=typeof t?f:t,this[a]=e.stale||!1,e.maxAge&&"number"!=typeof e.maxAge)throw new TypeError("maxAge must be a number");this[c]=e.maxAge||0,this[u]=e.dispose,this[l]=e.noDisposeOnSet||!1,this[p]=e.updateAgeOnGet||!1,this.reset()}set max(e){if("number"!=typeof e||e<0)throw new TypeError("max must be a non-negative number");this[i]=e||1/0,g(this)}get max(){return this[i]}set allowStale(e){this[a]=!!e}get allowStale(){return this[a]}set maxAge(e){if("number"!=typeof e)throw new TypeError("maxAge must be a non-negative number");this[c]=e,g(this)}get maxAge(){return this[c]}set lengthCalculator(e){"function"!=typeof e&&(e=f),e!==this[o]&&(this[o]=e,this[s]=0,this[h].forEach(e=>{e.length=this[o](e.value,e.key),this[s]+=e.length})),g(this)}get lengthCalculator(){return this[o]}get length(){return this[s]}get itemCount(){return this[h].length}rforEach(e,t){t=t||this;for(let n=this[h].tail;null!==n;){const r=n.prev;b(this,e,n,t),n=r}}forEach(e,t){t=t||this;for(let n=this[h].head;null!==n;){const r=n.next;b(this,e,n,t),n=r}}keys(){return this[h].toArray().map(e=>e.key)}values(){return this[h].toArray().map(e=>e.value)}reset(){this[u]&&this[h]&&this[h].length&&this[h].forEach(e=>this[u](e.key,e.value)),this[d]=new Map,this[h]=new r,this[s]=0}dump(){return this[h].map(e=>!m(this,e)&&{k:e.key,v:e.value,e:e.now+(e.maxAge||0)}).toArray().filter(e=>e)}dumpLru(){return this[h]}set(e,t,n){if((n=n||this[c])&&"number"!=typeof n)throw new TypeError("maxAge must be a number");const r=n?Date.now():0,a=this[o](t,e);if(this[d].has(e)){if(a>this[i])return y(this,this[d].get(e)),!1;const o=this[d].get(e).value;return this[u]&&(this[l]||this[u](e,o.value)),o.now=r,o.maxAge=n,o.value=t,this[s]+=a-o.length,o.length=a,this.get(e),g(this),!0}const p=new T(e,t,a,r,n);return p.length>this[i]?(this[u]&&this[u](e,t),!1):(this[s]+=p.length,this[h].unshift(p),this[d].set(e,this[h].head),g(this),!0)}has(e){if(!this[d].has(e))return!1;const t=this[d].get(e).value;return!m(this,t)}get(e){return _(this,e,!0)}peek(e){return _(this,e,!1)}pop(){const e=this[h].tail;return e?(y(this,e),e.value):null}del(e){y(this,this[d].get(e))}load(e){this.reset();const t=Date.now();for(let n=e.length-1;n>=0;n--){const r=e[n],i=r.e||0;if(0===i)this.set(r.k,r.v);else{const e=i-t;e>0&&this.set(r.k,r.v,e)}}}prune(){this[d].forEach((e,t)=>_(this,t,!1))}}},function(e,t,n){"use strict";e.exports=n(347)},function(e,t,n){"use strict";e.exports=h;var r,i=n(27),s=i.LongBits,o=i.base64,a=i.utf8;function c(e,t,n){this.fn=e,this.len=t,this.next=void 0,this.val=n}function u(){}function l(e){this.head=e.head,this.tail=e.tail,this.len=e.len,this.next=e.states}function h(){this.len=0,this.head=new c(u,0,0),this.tail=this.head,this.states=null}function d(e,t,n){t[n]=255&e}function p(e,t){this.len=e,this.next=void 0,this.val=t}function f(e,t,n){for(;e.hi;)t[n++]=127&e.lo|128,e.lo=(e.lo>>>7|e.hi<<25)>>>0,e.hi>>>=7;for(;e.lo>127;)t[n++]=127&e.lo|128,e.lo=e.lo>>>7;t[n++]=e.lo}function _(e,t,n){t[n]=255&e,t[n+1]=e>>>8&255,t[n+2]=e>>>16&255,t[n+3]=e>>>24}h.create=i.Buffer?function(){return(h.create=function(){return new r})()}:function(){return new h},h.alloc=function(e){return new i.Array(e)},i.Array!==Array&&(h.alloc=i.pool(h.alloc,i.Array.prototype.subarray)),h.prototype._push=function(e,t,n){return this.tail=this.tail.next=new c(e,t,n),this.len+=t,this},p.prototype=Object.create(c.prototype),p.prototype.fn=function(e,t,n){for(;e>127;)t[n++]=127&e|128,e>>>=7;t[n]=e},h.prototype.uint32=function(e){return this.len+=(this.tail=this.tail.next=new p((e>>>=0)<128?1:e<16384?2:e<2097152?3:e<268435456?4:5,e)).len,this},h.prototype.int32=function(e){return e<0?this._push(f,10,s.fromNumber(e)):this.uint32(e)},h.prototype.sint32=function(e){return this.uint32((e<<1^e>>31)>>>0)},h.prototype.uint64=function(e){var t=s.from(e);return this._push(f,t.length(),t)},h.prototype.int64=h.prototype.uint64,h.prototype.sint64=function(e){var t=s.from(e).zzEncode();return this._push(f,t.length(),t)},h.prototype.bool=function(e){return this._push(d,1,e?1:0)},h.prototype.fixed32=function(e){return this._push(_,4,e>>>0)},h.prototype.sfixed32=h.prototype.fixed32,h.prototype.fixed64=function(e){var t=s.from(e);return this._push(_,4,t.lo)._push(_,4,t.hi)},h.prototype.sfixed64=h.prototype.fixed64,h.prototype.float=function(e){return this._push(i.float.writeFloatLE,4,e)},h.prototype.double=function(e){return this._push(i.float.writeDoubleLE,8,e)};var m=i.Array.prototype.set?function(e,t,n){t.set(e,n)}:function(e,t,n){for(var r=0;r<e.length;++r)t[n+r]=e[r]};h.prototype.bytes=function(e){var t=e.length>>>0;if(!t)return this._push(d,1,0);if(i.isString(e)){var n=h.alloc(t=o.length(e));o.decode(e,n,0),e=n}return this.uint32(t)._push(m,t,e)},h.prototype.string=function(e){var t=a.length(e);return t?this.uint32(t)._push(a.write,t,e):this._push(d,1,0)},h.prototype.fork=function(){return this.states=new l(this),this.head=this.tail=new c(u,0,0),this.len=0,this},h.prototype.reset=function(){return this.states?(this.head=this.states.head,this.tail=this.states.tail,this.len=this.states.len,this.states=this.states.next):(this.head=this.tail=new c(u,0,0),this.len=0),this},h.prototype.ldelim=function(){var e=this.head,t=this.tail,n=this.len;return this.reset().uint32(n),n&&(this.tail.next=e.next,this.tail=t,this.len+=n),this},h.prototype.finish=function(){for(var e=this.head.next,t=this.constructor.alloc(this.len),n=0;e;)e.fn(e.val,t,n),n+=e.len,e=e.next;return t},h._configure=function(e){r=e}},function(e,t,n){"use strict";e.exports=c;var r,i=n(27),s=i.LongBits,o=i.utf8;function a(e,t){return RangeError("index out of range: "+e.pos+" + "+(t||1)+" > "+e.len)}function c(e){this.buf=e,this.pos=0,this.len=e.length}var u,l="undefined"!=typeof Uint8Array?function(e){if(e instanceof Uint8Array||Array.isArray(e))return new c(e);throw Error("illegal buffer")}:function(e){if(Array.isArray(e))return new c(e);throw Error("illegal buffer")};function h(){var e=new s(0,0),t=0;if(!(this.len-this.pos>4)){for(;t<3;++t){if(this.pos>=this.len)throw a(this);if(e.lo=(e.lo|(127&this.buf[this.pos])<<7*t)>>>0,this.buf[this.pos++]<128)return e}return e.lo=(e.lo|(127&this.buf[this.pos++])<<7*t)>>>0,e}for(;t<4;++t)if(e.lo=(e.lo|(127&this.buf[this.pos])<<7*t)>>>0,this.buf[this.pos++]<128)return e;if(e.lo=(e.lo|(127&this.buf[this.pos])<<28)>>>0,e.hi=(e.hi|(127&this.buf[this.pos])>>4)>>>0,this.buf[this.pos++]<128)return e;if(t=0,this.len-this.pos>4){for(;t<5;++t)if(e.hi=(e.hi|(127&this.buf[this.pos])<<7*t+3)>>>0,this.buf[this.pos++]<128)return e}else for(;t<5;++t){if(this.pos>=this.len)throw a(this);if(e.hi=(e.hi|(127&this.buf[this.pos])<<7*t+3)>>>0,this.buf[this.pos++]<128)return e}throw Error("invalid varint encoding")}function d(e,t){return(e[t-4]|e[t-3]<<8|e[t-2]<<16|e[t-1]<<24)>>>0}function p(){if(this.pos+8>this.len)throw a(this,8);return new s(d(this.buf,this.pos+=4),d(this.buf,this.pos+=4))}c.create=i.Buffer?function(e){return(c.create=function(e){return i.Buffer.isBuffer(e)?new r(e):l(e)})(e)}:l,c.prototype._slice=i.Array.prototype.subarray||i.Array.prototype.slice,c.prototype.uint32=(u=4294967295,function(){if(u=(127&this.buf[this.pos])>>>0,this.buf[this.pos++]<128)return u;if(u=(u|(127&this.buf[this.pos])<<7)>>>0,this.buf[this.pos++]<128)return u;if(u=(u|(127&this.buf[this.pos])<<14)>>>0,this.buf[this.pos++]<128)return u;if(u=(u|(127&this.buf[this.pos])<<21)>>>0,this.buf[this.pos++]<128)return u;if(u=(u|(15&this.buf[this.pos])<<28)>>>0,this.buf[this.pos++]<128)return u;if((this.pos+=5)>this.len)throw this.pos=this.len,a(this,10);return u}),c.prototype.int32=function(){return 0|this.uint32()},c.prototype.sint32=function(){var e=this.uint32();return e>>>1^-(1&e)|0},c.prototype.bool=function(){return 0!==this.uint32()},c.prototype.fixed32=function(){if(this.pos+4>this.len)throw a(this,4);return d(this.buf,this.pos+=4)},c.prototype.sfixed32=function(){if(this.pos+4>this.len)throw a(this,4);return 0|d(this.buf,this.pos+=4)},c.prototype.float=function(){if(this.pos+4>this.len)throw a(this,4);var e=i.float.readFloatLE(this.buf,this.pos);return this.pos+=4,e},c.prototype.double=function(){if(this.pos+8>this.len)throw a(this,4);var e=i.float.readDoubleLE(this.buf,this.pos);return this.pos+=8,e},c.prototype.bytes=function(){var e=this.uint32(),t=this.pos,n=this.pos+e;if(n>this.len)throw a(this,e);return this.pos+=e,Array.isArray(this.buf)?this.buf.slice(t,n):t===n?new this.buf.constructor(0):this._slice.call(this.buf,t,n)},c.prototype.string=function(){var e=this.bytes();return o.read(e,0,e.length)},c.prototype.skip=function(e){if("number"==typeof e){if(this.pos+e>this.len)throw a(this,e);this.pos+=e}else do{if(this.pos>=this.len)throw a(this)}while(128&this.buf[this.pos++]);return this},c.prototype.skipType=function(e){switch(e){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:for(;4!=(e=7&this.uint32());)this.skipType(e);break;case 5:this.skip(4);break;default:throw Error("invalid wire type "+e+" at offset "+this.pos)}return this},c._configure=function(e){r=e;var t=i.Long?"toLong":"toNumber";i.merge(c.prototype,{int64:function(){return h.call(this)[t](!1)},uint64:function(){return h.call(this)[t](!0)},sint64:function(){return h.call(this).zzDecode()[t](!1)},fixed64:function(){return p.call(this)[t](!0)},sfixed64:function(){return p.call(this)[t](!1)}})}},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,s){function o(e){try{c(r.next(e))}catch(e){s(e)}}function a(e){try{c(r.throw(e))}catch(e){s(e)}}function c(e){e.done?i(e.value):new n(function(t){t(e.value)}).then(o,a)}c((r=r.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0});const i=n(92),s=n(391),o=n(50),a=n(158),c=n(9),u=n(51);t.FILE_SCHEME="file",t.UNTITLED_SCHEME="untitled";t.Workspace=class{constructor(e){this._folders=e}set includeGlobs(e){this._folders.forEach(t=>{t.includeGlobs=e})}set excludeGlobs(e){this._folders.forEach(t=>{t.excludeGlobs=e})}get folders(){return this._folders.slice(0)}hasFolders(){return this._folders.length>0}addFolder(e){this._folders.push(e)}removeFolder(e){const t=this._folders.findIndex(t=>t.uri===e);if(t>-1)return this._folders.splice(t,1).pop()}contains(e){for(let t=0;t<this._folders.length;++t)if(this._folders[t].contains(e))return!0;return!1}isVendor(e){for(let t=0;t<this._folders.length;++t)if(this._folders[t].isVendor(e))return!0;return!1}};t.WorkspaceFolder=class{constructor(e,t,n,r,i,s){this._uri=e,this.fileProvider=t,this.fileSearchProvider=n,this.flags=s,this.globWithBaseMapFn=e=>e.indexOf("/")<0?this.uriJoin(this._uri,"**/"+e):this.uriJoin(this._uri,e),this.includeGlobs=r,this.excludeGlobs=i}get uri(){return this._uri}set includeGlobs(e){this._includeGlobsWithBase=e.map(this.globWithBaseMapFn),this._includeGlobs=e}set excludeGlobs(e){this._excludeGlobsWithBase=e.map(this.globWithBaseMapFn),this._excludeGlobs=e}findFiles(){return this.fileSearchProvider.findFiles(this._uri,this._includeGlobs,this._excludeGlobs)}contains(e){return a.any(e,this._includeGlobsWithBase,{ignore:this._excludeGlobsWithBase})}getVendorUri(){return this._uri+"/vendor/"}isVendor(e){return 0===e.indexOf(this.getVendorUri())}uriJoin(e,t){return"/"===e.slice(-1)&&(e=e.slice(0,-1)),"/"===t.slice(0,1)&&(t=t.slice(1)),e+"/"+t}};class l{constructor(){this._providerMap=new Map}registerProvider(e,t){this._providerMap.set(e,t)}findFiles(e,t,n){return r(this,void 0,void 0,function*(){const r=this._providerMap.get(f.getUriScheme(e));return r?r.findFiles(e,t,n):[]})}static create(){const e=new l;return e.registerProvider(t.FILE_SCHEME,new h),e}}t.MasterFileSearchProvider=l;class h{findFiles(e,n,r){if(f.getUriScheme(e)!==t.FILE_SCHEME)return Promise.resolve([]);const i=f.uriToPath(e);return n=n.map(this.expandFileGlob),r=r.map(this.expandFileGlob),s(n,{stats:!0,cwd:i,ignore:r,absolute:!0,dot:!0,suppressErrors:!0}).then(e=>e.map(e=>({uri:f.pathToUri(e.path),modified:e.stats?e.stats.mtime.getTime():0,size:e.stats?e.stats.size:0})))}expandFileGlob(e){return e.indexOf("/")<0?"**/"+e:e}}t.LocalFileSearchProvider=h;class d{constructor(){this._providers=new Map}registerProvider(e,t){this._providers.set(e,t)}readFile(e){return r(this,void 0,void 0,function*(){const t=this._providers.get(f.getUriScheme(e));if(t)return t.readFile(e)})}readFileSync(e){const t=this._providers.get(f.getUriScheme(e));if(t)return t.readFileSync(e)}getFileInfo(e){return r(this,void 0,void 0,function*(){const t=this._providers.get(f.getUriScheme(e));if(t)return t.getFileInfo(e)})}static create(){const e=new d;return e.registerProvider(t.FILE_SCHEME,new p),e}}t.MasterFileProvider=d;class p{readFile(e){return r(this,void 0,void 0,function*(){try{return(yield i.readFile(f.uriToPath(e))).toString()}catch(e){return void(e&&o.Log.warn(e.toString()))}})}readFileSync(e){try{return i.readFileSync(f.uriToPath(e)).toString()}catch(e){return void(e&&o.Log.warn(e.toString()))}}getFileInfo(e){return r(this,void 0,void 0,function*(){try{const t=yield i.stat(f.uriToPath(e));return{uri:e,modified:t.mtime.getTime(),size:t.size}}catch(e){return void(e&&o.Log.warn(e.toString()))}})}}var f;t.LocalFileProvider=p,function(e){e.pathToUri=function(e){return u.URI.file(e).toString()},e.uriToPath=function(e){return u.URI.parse(e).fsPath},e.getUriScheme=function(e){const t=e.indexOf(":");return t>-1?e.slice(0,t):""}}(f=t.UriUtil||(t.UriUtil={}));class _{constructor(e,t,n){this.compiler=e,this.maxFileSize=t,this.modTime=n,this.queue=new m,this.queueWorkers=[],this.indexingStartedEmitter=new c.Emitter,this.indexingEndedEmitter=new c.Emitter,this.indexingStartedEmitter.event(()=>{this.compiler.limitedDiagnostics=!0}),this.indexingEndedEmitter.event(e=>{this.compiler.limitedDiagnostics=!1,this.compiler.refresh()})}get indexingStartedEvent(){return this.indexingStartedEmitter.event}get indexingEndedEvent(){return this.indexingEndedEmitter.event}get progress(){return this.queue.total<1?1:(this.queue.total-this.queue.length)/this.queue.total}isIndexingOrQueueing(){return this.isQueueing()||this.isIndexing()}isIndexing(){return void 0!==this.indexingCancellationSource}isQueueing(){return 0!==this.queueWorkers.length}indexWorkspace(e){this.cancelQueueWorkers();const t=new c.CancellationTokenSource,n=this._indexWorkspace(e,t.token),r={cancellationSource:t,promise:n};return this.queueWorkers.push(r),n.then(e=>{const t=this.queueWorkers.indexOf(r);-1!==t&&this.queueWorkers.splice(t,1)}),n}_indexWorkspace(e,t){return r(this,void 0,void 0,function*(){const n={timestamp:this.modTime,indexedDocuments:new Set(this.compiler.getIndexedDocuments())};let r,i=0;for(let s=0,o=e.folders.length;s<o&&!t.isCancellationRequested;++s)r=e.folders[s],i+=(yield this._indexFolder(r,t,n));if(t.isCancellationRequested)return i;for(let e of n.indexedDocuments)this.compiler.isOpened(e)||(this.forgetFile(e),++i);return i})}cancel(){this.cancelQueueWorkers(),this.indexingCancellationSource&&this.indexingCancellationSource.cancel()}indexFolder(e){const t=new c.CancellationTokenSource,n=this._indexFolder(e,t.token),r={cancellationSource:t,promise:n};return this.queueWorkers.push(r),n.then(e=>{const t=this.queueWorkers.indexOf(r);-1!==t&&this.queueWorkers.splice(t,1)}),n}cancelQueueWorkers(){for(let e=0;e<this.queueWorkers.length;++e)this.queueWorkers[e].cancellationSource.cancel()}_indexFolder(e,t,n){return r(this,void 0,void 0,function*(){const r=n?n.timestamp:0,i=e.getVendorUri();let s,a,c=e.flags;try{s=yield e.findFiles()}catch(e){return e&&o.Log.warn(e.toString()),0}if(t.isCancellationRequested)return 0;let u=0,l=0;for(let e=0,t=s.length;e<t;++e){if(a=s[e],u=i&&0===a.uri.indexOf(i)?2:0,!n||!n.indexedDocuments.has(a.uri)||a.modified>r){if(a.size>this.maxFileSize){o.Log.warn(`${a.uri} is over the maximum file size of ${this.maxFileSize} bytes.`);continue}this.indexFile(a.uri,c|u),++l}n&&n.indexedDocuments.delete(a.uri)}return l})}indexFile(e,t){this.queue.push({uri:e,kind:1,flags:t}),this.isIndexing()||this.startIndexingWithDelay()}forgetFile(e){this.queue.push({uri:e,kind:2}),this.isIndexing()||this.startIndexingWithDelay()}forgetFolder(e){this.queue.push({uri:e,kind:3}),this.isIndexing()||this.startIndexingWithDelay()}startIndexingWithDelay(){this.indexingCancellationSource=new c.CancellationTokenSource;const e=this.indexingCancellationSource.token;this.indexingStartedEmitter.fire();const t=this.queue,n=this.compiler;let i=0;setTimeout(()=>r(this,void 0,void 0,function*(){let r;for(;(r=t.pop())&&!e.isCancellationRequested;){switch(r.kind){case 1:yield n.indexUri(r.uri,r.flags);break;case 2:n.forget(r.uri);break;case 3:n.forgetFolder(r.uri)}++i}t.clear(),this.indexingCancellationSource&&this.indexingCancellationSource.dispose(),this.indexingCancellationSource=void 0,this.indexingEndedEmitter.fire(i)}),_.INDEX_DELAY)}}_.INDEX_DELAY=200,t.Indexer=_;class m{constructor(){this.index=0,this._total=0,this.items=[]}get length(){return this.items.length-this.index}get total(){return this._total}push(e){++this._total,this.items.push(e)}pop(){let e;return this.index<this.items.length&&(e=this.items[this.index++]),this.index>m.SLICE_AFTER_POP_COUNT&&(this.items=this.items.slice(this.index),this.index=0),e}clear(){this.items=[],this.index=0,this._total=0}}m.SLICE_AFTER_POP_COUNT=1e4},function(e,t,n){"use strict";const r=n(11).fromCallback,i=n(3),s=["access","appendFile","chmod","chown","close","copyFile","fchmod","fchown","fdatasync","fstat","fsync","ftruncate","futimes","lchown","lchmod","link","lstat","mkdir","mkdtemp","open","readFile","readdir","readlink","realpath","rename","rmdir","stat","symlink","truncate","unlink","utimes","writeFile"].filter(e=>"function"==typeof i[e]);Object.keys(i).forEach(e=>{"promises"!==e&&(t[e]=i[e])}),s.forEach(e=>{t[e]=r(i[e])}),t.exists=function(e,t){return"function"==typeof t?i.exists(e,t):new Promise(t=>i.exists(e,t))},t.read=function(e,t,n,r,s,o){return"function"==typeof o?i.read(e,t,n,r,s,o):new Promise((o,a)=>{i.read(e,t,n,r,s,(e,t,n)=>{if(e)return a(e);o({bytesRead:t,buffer:n})})})},t.write=function(e,t,...n){return"function"==typeof n[n.length-1]?i.write(e,t,...n):new Promise((r,s)=>{i.write(e,t,...n,(e,t,n)=>{if(e)return s(e);r({bytesWritten:t,buffer:n})})})},"function"==typeof i.realpath.native&&(t.realpath.native=r(i.realpath.native))},function(e,t,n){"use strict";e.exports={copySync:n(365)}},function(e,t,n){"use strict";const r=n(0);function i(e){return(e=r.normalize(r.resolve(e)).split(r.sep)).length>0?e[0]:null}const s=/[<>:"|?*]/;e.exports={getRootPath:i,invalidWin32Path:function(e){const t=i(e);return e=e.replace(t,""),s.test(e)}}},function(e,t,n){"use strict";const r=n(3),i=n(13),s=n(0);e.exports={hasMillisRes:function(e){let t=s.join("millis-test"+Date.now().toString()+Math.random().toString().slice(2));t=s.join(i.tmpdir(),t);const n=new Date(1435410243862);r.writeFile(t,"https://github.com/jprichardson/node-fs-extra/pull/141",i=>{if(i)return e(i);r.open(t,"r+",(i,s)=>{if(i)return e(i);r.futimes(s,n,n,n=>{if(n)return e(n);r.close(s,n=>{if(n)return e(n);r.stat(t,(t,n)=>{if(t)return e(t);e(null,n.mtime>1435410243e3)})})})})})},hasMillisResSync:function(){let e=s.join("millis-test-sync"+Date.now().toString()+Math.random().toString().slice(2));e=s.join(i.tmpdir(),e);const t=new Date(1435410243862);r.writeFileSync(e,"https://github.com/jprichardson/node-fs-extra/pull/141");const n=r.openSync(e,"r+");return r.futimesSync(n,t,t),r.closeSync(n),r.statSync(e).mtime>1435410243e3},timeRemoveMillis:function(e){if("number"==typeof e)return 1e3*Math.floor(e/1e3);if(e instanceof Date)return new Date(1e3*Math.floor(e.getTime()/1e3));throw new Error("fs-extra: timeRemoveMillis() unknown parameter type")},utimesMillis:function(e,t,n,i){r.open(e,"r+",(e,s)=>{if(e)return i(e);r.futimes(s,t,n,e=>{r.close(s,t=>{i&&i(e||t)})})})},utimesMillisSync:function(e,t,n){const i=r.openSync(e,"r+");return r.futimesSync(i,t,n),r.closeSync(i)}}},function(e,t,n){"use strict";const r=n(11).fromCallback;e.exports={copy:r(n(369))}},function(e,t,n){
/*!
 * is-glob <https://github.com/jonschlinkert/is-glob>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */
var r=n(399),i={"{":"}","(":")","[":"]"},s=/\\(.)|(^!|\*|[\].+)]\?|\[[^\\\]]+\]|\{[^\\}]+\}|\(\?[:!=][^\\)]+\)|\([^|]+\|[^\\)]+\))/,o=/\\(.)|(^!|[*?{}()[\]]|\(\?)/;e.exports=function(e,t){if("string"!=typeof e||""===e)return!1;if(r(e))return!0;var n,a=s;for(t&&!1===t.strict&&(a=o);n=a.exec(e);){if(n[2])return!0;var c=n.index+n[0].length,u=n[1],l=u?i[u]:null;if(u&&l){var h=e.indexOf(l,c);-1!==h&&(c=h+1)}e=e.slice(c)}return!1}},function(e,t,n){"use strict";const r=n(16),i=n(400),s=n(407),o=n(97),a=e=>"string"==typeof e&&(""===e||"./"===e),c=(e,t,n)=>{t=[].concat(t),e=[].concat(e);let r=new Set,i=new Set,o=new Set,a=0,c=e=>{o.add(e.output),n&&n.onResult&&n.onResult(e)};for(let o=0;o<t.length;o++){let u=s(String(t[o]),{...n,onResult:c},!0),l=u.state.negated||u.state.negatedExtglob;l&&a++;for(let t of e){let e=u(t,!0);(l?!e.isMatch:e.isMatch)&&(l?r.add(e.output):(r.delete(e.output),i.add(e.output)))}}let u=(a===t.length?[...o]:[...i]).filter(e=>!r.has(e));if(n&&0===u.length){if(!0===n.failglob)throw new Error(`No matches found for "${t.join(", ")}"`);if(!0===n.nonull||!0===n.nullglob)return n.unescape?t.map(e=>e.replace(/\\/g,"")):t}return u};c.match=c,c.matcher=(e,t)=>s(e,t),c.any=c.isMatch=(e,t,n)=>s(t,n)(e),c.not=(e,t,n={})=>{t=[].concat(t).map(String);let r=new Set,i=[],s=c(e,t,{...n,onResult:e=>{n.onResult&&n.onResult(e),i.push(e.output)}});for(let e of i)s.includes(e)||r.add(e);return[...r]},c.contains=(e,t,n)=>{if("string"!=typeof e)throw new TypeError(`Expected a string: "${r.inspect(e)}"`);if(Array.isArray(t))return t.some(t=>c.contains(e,t,n));if("string"==typeof t){if(a(e)||a(t))return!1;if(e.includes(t)||e.startsWith("./")&&e.slice(2).includes(t))return!0}return c.isMatch(e,t,{...n,contains:!0})},c.matchKeys=(e,t,n)=>{if(!o.isObject(e))throw new TypeError("Expected the first argument to be an object");let r=c(Object.keys(e),t,n),i={};for(let t of r)i[t]=e[t];return i},c.some=(e,t,n)=>{let r=[].concat(e);for(let e of[].concat(t)){let t=s(String(e),n);if(r.some(e=>t(e)))return!0}return!1},c.every=(e,t,n)=>{let r=[].concat(e);for(let e of[].concat(t)){let t=s(String(e),n);if(!r.every(e=>t(e)))return!1}return!0},c.all=(e,t,n)=>{if("string"!=typeof e)throw new TypeError(`Expected a string: "${r.inspect(e)}"`);return[].concat(t).every(t=>s(t,n)(e))},c.capture=(e,t,n)=>{let r=o.isWindows(n),i=s.makeRe(String(e),{...n,capture:!0}).exec(r?o.toPosixSlashes(t):t);if(i)return i.slice(1).map(e=>void 0===e?"":e)},c.makeRe=(...e)=>s.makeRe(...e),c.scan=(...e)=>s.scan(...e),c.parse=(e,t)=>{let n=[];for(let r of[].concat(e||[]))for(let e of i(String(r),t))n.push(s.parse(e,t));return n},c.braces=(e,t)=>{if("string"!=typeof e)throw new TypeError("Expected a string");return t&&!0===t.nobrace||!/\{.*\}/.test(e)?[e]:i(e,t)},c.braceExpand=(e,t)=>{if("string"!=typeof e)throw new TypeError("Expected a string");return c.braces(e,{...t,expand:!0})},e.exports=c},function(e,t,n){"use strict";
/*!
 * fill-range <https://github.com/jonschlinkert/fill-range>
 *
 * Copyright (c) 2014-present, Jon Schlinkert.
 * Licensed under the MIT License.
 */const r=n(16),i=n(402),s=e=>null!==e&&"object"==typeof e&&!Array.isArray(e),o=e=>"number"==typeof e||"string"==typeof e&&""!==e,a=e=>Number.isInteger(+e),c=e=>{let t=`${e}`,n=-1;if("-"===t[0]&&(t=t.slice(1)),"0"===t)return!1;for(;"0"===t[++n];);return n>0},u=(e,t,n)=>{if(t>0){let n="-"===e[0]?"-":"";n&&(e=e.slice(1)),e=n+e.padStart(n?t-1:t,"0")}return!1===n?String(e):e},l=(e,t)=>{let n="-"===e[0]?"-":"";for(n&&(e=e.slice(1),t--);e.length<t;)e="0"+e;return n?"-"+e:e},h=(e,t,n,r)=>{if(n)return i(e,t,{wrap:!1,...r});let s=String.fromCharCode(e);return e===t?s:`[${s}-${String.fromCharCode(t)}]`},d=(e,t,n)=>{if(Array.isArray(e)){let t=!0===n.wrap,r=n.capture?"":"?:";return t?`(${r}${e.join("|")})`:e.join("|")}return i(e,t,n)},p=(...e)=>new RangeError("Invalid range arguments: "+r.inspect(...e)),f=(e,t,n)=>{if(!0===n.strictRanges)throw p([e,t]);return[]},_=(e,t,n=1,r={})=>{let i=Number(e),s=Number(t);if(!Number.isInteger(i)||!Number.isInteger(s)){if(!0===r.strictRanges)throw p([e,t]);return[]}0===i&&(i=0),0===s&&(s=0);let o=i>s,a=String(e),f=String(t),_=String(n);n=Math.max(Math.abs(n),1);let m=c(a)||c(f)||c(_),g=m?Math.max(a.length,f.length,_.length):0,y=!1===m&&!1===((e,t,n)=>"string"==typeof e||"string"==typeof t||!0===n.stringify)(e,t,r),T=r.transform||(e=>t=>!0===e?Number(t):String(t))(y);if(r.toRegex&&1===n)return h(l(e,g),l(t,g),!0,r);let b={negatives:[],positives:[]},v=e=>b[e<0?"negatives":"positives"].push(Math.abs(e)),E=[],S=0;for(;o?i>=s:i<=s;)!0===r.toRegex&&n>1?v(i):E.push(u(T(i,S),g,y)),i=o?i-n:i+n,S++;return!0===r.toRegex?n>1?((e,t)=>{e.negatives.sort((e,t)=>e<t?-1:e>t?1:0),e.positives.sort((e,t)=>e<t?-1:e>t?1:0);let n,r=t.capture?"":"?:",i="",s="";return e.positives.length&&(i=e.positives.join("|")),e.negatives.length&&(s=`-(${r}${e.negatives.join("|")})`),n=i&&s?`${i}|${s}`:i||s,t.wrap?`(${r}${n})`:n})(b,r):d(E,null,{wrap:!1,...r}):E},m=(e,t,n,r={})=>{if(null==t&&o(e))return[e];if(!o(e)||!o(t))return f(e,t,r);if("function"==typeof n)return m(e,t,1,{transform:n});if(s(n))return m(e,t,0,n);let i={...r};return!0===i.capture&&(i.wrap=!0),n=n||i.step||1,a(n)?a(e)&&a(t)?_(e,t,n,i):((e,t,n=1,r={})=>{if(!a(e)&&e.length>1||!a(t)&&t.length>1)return f(e,t,r);let i=r.transform||(e=>String.fromCharCode(e)),s=`${e}`.charCodeAt(0),o=`${t}`.charCodeAt(0),c=s>o,u=Math.min(s,o),l=Math.max(s,o);if(r.toRegex&&1===n)return h(u,l,!1,r);let p=[],_=0;for(;c?s>=o:s<=o;)p.push(i(s,_)),s=c?s-n:s+n,_++;return!0===r.toRegex?d(p,null,{wrap:!1,options:r}):p})(e,t,Math.max(Math.abs(n),1),i):null==n||s(n)?m(e,t,1,n):((e,t)=>{if(!0===t.strictRanges)throw new TypeError(`Expected step "${e}" to be a number`);return[]})(n,i)};e.exports=m},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(23),i=n(34),s=n(161),o=n(166);t.default=class extends o.default{constructor(){super(...arguments),this._walkStream=s.walkStream,this._stat=i.stat}dynamic(e,t){return this._walkStream(e,t)}static(e,t){const n=e.map(this._getFullEntryPath,this),i=new r.PassThrough({objectMode:!0});i._write=(r,s,o)=>this._getEntry(n[r],e[r],t).then(e=>{null!==e&&t.entryFilter(e)&&i.push(e),r===n.length-1&&i.end(),o()}).catch(o);for(let e=0;e<n.length;e++)i.write(e);return i}_getEntry(e,t,n){return this._getStat(e).then(e=>this._makeEntry(e,t)).catch(e=>{if(n.errorFilter(e))return null;throw e})}_getStat(e){return new Promise((t,n)=>{this._stat(e,this._fsStatSettings,(e,r)=>{e?n(e):t(r)})})}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(418),i=n(427),s=n(428),o=n(430);function a(e={}){return e instanceof o.default?e:new o.default(e)}t.Settings=o.default,t.walk=function(e,t,n){if("function"==typeof t)return new r.default(e,a()).read(t);new r.default(e,a(t)).read(n)},t.walkSync=function(e,t){const n=a(t);return new s.default(e,n).read()},t.walkStream=function(e,t){const n=a(t);return new i.default(e,n).read()}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(55),i=n(98),s=n(425),o=n(99),a=n(165);t.default=class extends a.default{constructor(e,t){super(e,t),this._settings=t,this._scandir=i.scandir,this._emitter=new r.EventEmitter,this._queue=s(this._worker.bind(this),this._settings.concurrency),this._isFatalError=!1,this._isDestroyed=!1,this._queue.drain=()=>{this._isFatalError||this._emitter.emit("end")}}read(){return this._isFatalError=!1,this._isDestroyed=!1,setImmediate(()=>{this._pushToQueue(this._root,this._settings.basePath)}),this._emitter}destroy(){if(this._isDestroyed)throw new Error("The reader is already destroyed");this._isDestroyed=!0,this._queue.killAndDrain()}onEntry(e){this._emitter.on("entry",e)}onError(e){this._emitter.once("error",e)}onEnd(e){this._emitter.once("end",e)}_pushToQueue(e,t){const n={dir:e,base:t};this._queue.push(n,e=>{e&&this._handleError(e)})}_worker(e,t){this._scandir(e.dir,this._settings.fsScandirSettings,(n,r)=>{if(n)return t(n,void 0);for(const t of r)this._handleEntry(t,e.base);t(null,void 0)})}_handleError(e){o.isFatalError(this._settings,e)&&(this._isFatalError=!0,this._isDestroyed=!0,this._emitter.emit("error",e))}_handleEntry(e,t){if(this._isDestroyed||this._isFatalError)return;const n=e.path;void 0!==t&&(e.path=o.joinPathSegments(t,e.name,this._settings.pathSegmentSeparator)),o.isAppliedFilter(this._settings.entryFilter,e)&&this._emitEntry(e),e.dirent.isDirectory()&&o.isAppliedFilter(this._settings.deepFilter,e)&&this._pushToQueue(n,e.path)}_emitEntry(e){this._emitter.emit("entry",e)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=process.versions.node.split("."),i=parseInt(r[0],10),s=parseInt(r[1],10);t.IS_SUPPORT_READDIR_WITH_FILE_TYPES=i>10||10===i&&s>=10},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(421);t.fs=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(99);t.default=class{constructor(e,t){this._root=e,this._settings=t,this._root=r.replacePathSegmentSeparator(e,t.pathSegmentSeparator)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(0),i=n(34),s=n(28);t.default=class{constructor(e){this._settings=e,this._fsStatSettings=new i.Settings({followSymbolicLink:this._settings.followSymbolicLinks,fs:this._settings.fs,throwErrorOnBrokenSymbolicLink:this._settings.followSymbolicLinks})}_getFullEntryPath(e){return r.resolve(this._settings.cwd,e)}_makeEntry(e,t){const n={name:t,path:t,dirent:s.fs.createDirentFromStats(t,e)};return this._settings.stats&&(n.stats=e),n}_isFatalError(e){return!s.errno.isEnoentCodeError(e)&&!this._settings.suppressErrors}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.VERSION="1.1.5",t.DEFAULT_TELEMETRY=!0,t.PHP_LANGUAGE_ID="php",t.UNTITLED_LANGUAGE_ID="untitled",t.CONFIG_SECTION="intelephense",t.DEFAULT_MAX_FILE_SIZE=1e6,t.DEFAULT_ASSOCIATIONS=["*.php","*.phtml"],t.DEFAULT_EXCLUDE=["**/.git/**","**/.svn/**","**/.hg/**","**/CVS/**","**/.DS_Store/**","**/node_modules/**","**/bower_components/**","**/vendor/**/{Test,test,Tests,tests}/**"],t.DEFAULT_STUBS=["apache","bcmath","bz2","calendar","com_dotnet","Core","ctype","curl","date","dba","dom","enchant","exif","fileinfo","filter","fpm","ftp","gd","hash","iconv","imap","interbase","intl","json","ldap","libxml","mbstring","mcrypt","mssql","mysqli","oci8","odbc","openssl","pcntl","pcre","PDO","pdo_ibm","pdo_mysql","pdo_pgsql","pdo_sqlite","pgsql","Phar","posix","pspell","readline","recode","Reflection","regex","session","shmop","SimpleXML","snmp","soap","sockets","sodium","SPL","sqlite3","standard","superglobals","sybase","sysvmsg","sysvsem","sysvshm","tidy","tokenizer","wddx","xml","xmlreader","xmlrpc","xmlwriter","Zend OPcache","zip","zlib"]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(47),i=n(8),s=n(46),o=n(441),a={windows:"getmac.exe",unix:"/sbin/ifconfig -a || /sbin/ip link"},c=["00:00:00:00:00:00","ff:ff:ff:ff:ff:ff","ac:de:48:00:11:22"];let u;function l(e){return e=e.replace(/\-/g,":").toLowerCase(),c.indexOf(e)<0}t.getMachineId=function(){return u||(u=new Promise((e,t)=>{new Promise((e,t)=>{let n=i.isWindows()?a.windows:a.unix;r.exec(n,{timeout:1e4},(n,r,i)=>{if(n)return void t(n);const s=/(?:[a-f\d]{2}[:\-]){5}[a-f\d]{2}/gi;let o,a;for(;o=s.exec(r);)if(l(a=o[0]))return void e(a);t(new Error("Could not get mac address."))})}).then(t=>{let n=s.createHash("sha256").update(t,"utf8").digest("hex");e(n)}).catch(t=>{e(o())})})),u}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),i=n(102),s=n(170),o=Object.keys(process.binding("natives")),a=s.prototype.require;t.makePatchingRequire=function(e){var t={};return function(n){var c=a.apply(this,arguments);if(e[n]){var u=s._resolveFilename(n,this);if(t.hasOwnProperty(u))return t[u];var l=void 0;if(o.indexOf(n)<0)try{l=a.call(this,r.join(n,"package.json")).version}catch(e){return c}else l=process.version.substring(1);var h=l.indexOf("-");h>=0&&(l=l.substring(0,h));for(var d=c,p=0,f=e[n];p<f.length;p++){var _=f[p];i.satisfies(l,_.versionSpecifier)&&(d=_.patch(d,u))}return t[u]=d}return c}}},function(e,t){e.exports=require("module")},function(e,t){e.exports=require("timers")},function(e){e.exports=JSON.parse('{"_from":"async-hook-jl@^1.7.6","_id":"async-hook-jl@1.7.6","_inBundle":false,"_integrity":"sha512-gFaHkFfSxTjvoxDMYqDuGHlcRyUuamF8s+ZTtJdDzqjws4mCt7v0vuV79/E2Wr2/riMQgtG4/yUtXWs1gZ7JMg==","_location":"/async-hook-jl","_phantomChildren":{},"_requested":{"type":"range","registry":true,"raw":"async-hook-jl@^1.7.6","name":"async-hook-jl","escapedName":"async-hook-jl","rawSpec":"^1.7.6","saveSpec":null,"fetchSpec":"^1.7.6"},"_requiredBy":["/cls-hooked"],"_resolved":"https://registry.npmjs.org/async-hook-jl/-/async-hook-jl-1.7.6.tgz","_shasum":"4fd25c2f864dbaf279c610d73bf97b1b28595e68","_spec":"async-hook-jl@^1.7.6","_where":"/home/ben/Projects/intelephense/node_modules/cls-hooked","author":{"name":"Andreas Madsen","email":"amwebdk@gmail.com"},"bugs":{"url":"https://github.com/jeff-lewis/async-hook-jl/issues"},"bundleDependencies":false,"dependencies":{"stack-chain":"^1.3.7"},"deprecated":false,"description":"Inspect the life of handle objects in node","devDependencies":{"async":"1.5.x","cli-color":"1.1.x","endpoint":"0.4.x","eslint":"^3.4.0"},"engines":{"node":"^4.7 || >=6.9 || >=7.3"},"homepage":"https://github.com/jeff-lewis/async-hook-jl#readme","keywords":["async","async hooks","inspect","async wrap"],"license":"MIT","main":"./index.js","name":"async-hook-jl","repository":{"type":"git","url":"git://github.com/jeff-lewis/async-hook-jl.git"},"scripts":{"test":"node ./test/runner.js && eslint ."},"version":"1.7.6"}')},function(e,t,n){if(global._stackChain){if(global._stackChain.version!==n(174).version)throw new Error("Conflicting version of stack-chain found");e.exports=global._stackChain}else e.exports=global._stackChain=n(468)},function(e){e.exports=JSON.parse('{"_from":"stack-chain@^1.3.7","_id":"stack-chain@1.3.7","_inBundle":false,"_integrity":"sha1-0ZLJ/06moiyUxN1FkXHj8AzqEoU=","_location":"/stack-chain","_phantomChildren":{},"_requested":{"type":"range","registry":true,"raw":"stack-chain@^1.3.7","name":"stack-chain","escapedName":"stack-chain","rawSpec":"^1.3.7","saveSpec":null,"fetchSpec":"^1.3.7"},"_requiredBy":["/async-hook-jl"],"_resolved":"https://registry.npmjs.org/stack-chain/-/stack-chain-1.3.7.tgz","_shasum":"d192c9ff4ea6a22c94c4dd459171e3f00cea1285","_spec":"stack-chain@^1.3.7","_where":"/home/ben/Projects/intelephense/node_modules/async-hook-jl","author":{"name":"Andreas Madsen","email":"amwebdk@gmail.com"},"bugs":{"url":"https://github.com/AndreasMadsen/stack-chain/issues"},"bundleDependencies":false,"deprecated":false,"description":"API for combining call site modifiers","devDependencies":{"tap":"2.x.x","uglify-js":"2.5.x"},"homepage":"https://github.com/AndreasMadsen/stack-chain#readme","keywords":["stack","chain","trace","call site","concat","format"],"license":"MIT","name":"stack-chain","repository":{"type":"git","url":"git://github.com/AndreasMadsen/stack-chain.git"},"scripts":{"test":"tap ./test/simple"},"version":"1.3.7"}')},function(e,t){e.exports=require("zlib")},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AvailabilityData=n(478),t.Base=n(177),t.ContextTagKeys=n(479),t.Data=n(480),t.DataPoint=n(481),t.DataPointType=n(178),t.Domain=n(25),t.Envelope=n(482),t.EventData=n(179),t.ExceptionData=n(483),t.ExceptionDetails=n(484),t.MessageData=n(485),t.MetricData=n(486),t.PageViewData=n(487),t.RemoteDependencyData=n(488),t.RequestData=n(489),t.SeverityLevel=n(490),t.StackFrame=n(491)},function(e,t,n){"use strict";var r=function(){return function(){}}();e.exports=r},function(e,t,n){"use strict";var r;!function(e){e[e.Measurement=0]="Measurement",e[e.Aggregation=1]="Aggregation"}(r||(r={})),e.exports=r},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),s=function(e){function t(){var t=e.call(this)||this;return t.ver=2,t.properties={},t.measurements={},t}return i(t,e),t}(n(25));e.exports=s},function(e,t,n){"use strict";var r=function(){function e(){}return e.prototype.getUrl=function(){return this.url},e.prototype.RequestParser=function(){this.startTime=+new Date},e.prototype._setStatus=function(e,t){var n=+new Date;this.duration=n-this.startTime,this.statusCode=e;var r=this.properties||{};if(t)if("string"==typeof t)r.error=t;else if(t instanceof Error)r.error=t.message;else if("object"==typeof t)for(var i in t)r[i]=t[i]&&t[i].toString&&t[i].toString();this.properties=r},e.prototype._isSuccess=function(){return 0<this.statusCode&&this.statusCode<400},e}();e.exports=r},function(e,t,n){"use strict";var r=n(19),i=n(35),s=function(){function e(t,n){if(this.traceFlag=e.DEFAULT_TRACE_FLAG,this.version=e.DEFAULT_VERSION,t&&"string"==typeof t)if(t.split(",").length>1)this.traceId=r.w3cTraceId(),this.spanId=r.w3cTraceId().substr(0,16);else{var s=t.trim().split("-"),o=s.length;o>=4?(this.version=s[0],this.traceId=s[1],this.spanId=s[2],this.traceFlag=s[3]):(this.traceId=r.w3cTraceId(),this.spanId=r.w3cTraceId().substr(0,16)),this.version.match(/^[0-9a-f]{2}$/g)||(this.version=e.DEFAULT_VERSION,this.traceId=r.w3cTraceId()),"00"===this.version&&4!==o&&(this.traceId=r.w3cTraceId(),this.spanId=r.w3cTraceId().substr(0,16)),"ff"===this.version&&(this.version=e.DEFAULT_VERSION,this.traceId=r.w3cTraceId(),this.spanId=r.w3cTraceId().substr(0,16)),this.version.match(/^0[0-9a-f]$/g)||(this.version=e.DEFAULT_VERSION),this.traceFlag.match(/^[0-9a-f]{2}$/g)||(this.traceFlag=e.DEFAULT_VERSION,this.traceId=r.w3cTraceId()),e.isValidTraceId(this.traceId)||(this.traceId=r.w3cTraceId()),e.isValidSpanId(this.spanId)||(this.spanId=r.w3cTraceId().substr(0,16),this.traceId=r.w3cTraceId()),this.parentId=this.getBackCompatRequestId()}else if(n){this.parentId=n.slice();var a=i.getRootId(n);e.isValidTraceId(a)||(this.legacyRootId=a,a=r.w3cTraceId()),-1!==n.indexOf("|")&&(n=n.substring(1+n.substring(0,n.length-1).lastIndexOf("."),n.length-1)),this.traceId=a,this.spanId=n}else this.traceId=r.w3cTraceId(),this.spanId=r.w3cTraceId().substr(0,16)}return e.isValidTraceId=function(e){return e.match(/^[0-9a-f]{32}$/)&&"00000000000000000000000000000000"!==e},e.isValidSpanId=function(e){return e.match(/^[0-9a-f]{16}$/)&&"0000000000000000"!==e},e.prototype.getBackCompatRequestId=function(){return"|"+this.traceId+"."+this.spanId+"."},e.prototype.toString=function(){return this.version+"-"+this.traceId+"-"+this.spanId+"-"+this.traceFlag},e.prototype.updateSpanId=function(){this.spanId=r.w3cTraceId().substr(0,16)},e.DEFAULT_TRACE_FLAG="00",e.DEFAULT_VERSION="00",e}();e.exports=s},function(e,t,n){"use strict";var r=n(60),i=n(62),s=n(6),o=n(19),a=n(44),c=n(502),u=n(43),l=n(105),h=function(){function e(t){if(e.INSTANCE)throw new Error("Server request tracking should be configured from the applicationInsights object");e.INSTANCE=this,this._client=t}return e.prototype.enable=function(e){this._isEnabled=e,(this._isAutoCorrelating||this._isEnabled||l.isEnabled())&&!this._isInitialized&&(this.useAutoCorrelation(this._isAutoCorrelating),this._initialize())},e.prototype.useAutoCorrelation=function(e,t){e&&!this._isAutoCorrelating?u.CorrelationContextManager.enable(t):!e&&this._isAutoCorrelating&&u.CorrelationContextManager.disable(),this._isAutoCorrelating=e},e.prototype.isInitialized=function(){return this._isInitialized},e.prototype.isAutoCorrelating=function(){return this._isAutoCorrelating},e.prototype._generateCorrelationContext=function(e){if(this._isAutoCorrelating)return u.CorrelationContextManager.generateContextObject(e.getOperationId(this._client.context.tags),e.getRequestId(),e.getOperationName(this._client.context.tags),e.getCorrelationContextHeader(),e.getTraceparent(),e.getTracestate())},e.prototype._initialize=function(){var t=this;this._isInitialized=!0;var n=function(n){if(n){if("function"!=typeof n)throw new Error("onRequest handler must be a function");return function(r,i){u.CorrelationContextManager.wrapEmitter(r),u.CorrelationContextManager.wrapEmitter(i);var s=r&&!r[e.alreadyAutoCollectedFlag];if(r&&s){var o=new c(r),a=t._generateCorrelationContext(o);u.CorrelationContextManager.runWithContext(a,function(){t._isEnabled&&(r[e.alreadyAutoCollectedFlag]=!0,e.trackRequest(t._client,{request:r,response:i},o)),l.countRequest(r,i),"function"==typeof n&&n(r,i)})}else"function"==typeof n&&n(r,i)}}},s=function(e){var t=e.addListener.bind(e);e.addListener=function(e,r){switch(e){case"request":case"checkContinue":return t(e,n(r));default:return t(e,r)}},e.on=e.addListener},o=r.createServer;r.createServer=function(e){var t=o(n(e));return s(t),t};var a=i.createServer;i.createServer=function(e,t){var r=a(e,n(t));return s(r),r}},e.trackRequestSync=function(t,n){if(n.request&&n.response&&t){e.addResponseCorrelationIdHeader(t,n.response);var r=u.CorrelationContextManager.getCurrentContext(),i=new c(n.request,r&&r.operation.parentId);r&&(r.operation.id=i.getOperationId(t.context.tags)||r.operation.id,r.operation.name=i.getOperationName(t.context.tags)||r.operation.name,r.operation.parentId=i.getRequestId()||r.operation.parentId,r.customProperties.addHeaderData(i.getCorrelationContextHeader())),e.endRequest(t,i,n,n.duration,n.error)}else s.info("AutoCollectHttpRequests.trackRequestSync was called with invalid parameters: ",!n.request,!n.response,!t)},e.trackRequest=function(t,n,r){if(n.request&&n.response&&t){var i=u.CorrelationContextManager.getCurrentContext(),a=r||new c(n.request,i&&i.operation.parentId);o.canIncludeCorrelationHeader(t,a.getUrl())&&e.addResponseCorrelationIdHeader(t,n.response),i&&!r&&(i.operation.id=a.getOperationId(t.context.tags)||i.operation.id,i.operation.name=a.getOperationName(t.context.tags)||i.operation.name,i.operation.parentId=a.getOperationParentId(t.context.tags)||i.operation.parentId,i.customProperties.addHeaderData(a.getCorrelationContextHeader())),n.response.once&&n.response.once("finish",function(){e.endRequest(t,a,n,null,null)}),n.request.on&&n.request.on("error",function(r){e.endRequest(t,a,n,null,r)})}else s.info("AutoCollectHttpRequests.trackRequest was called with invalid parameters: ",!n.request,!n.response,!t)},e.addResponseCorrelationIdHeader=function(e,t){if(e.config&&e.config.correlationId&&t.getHeader&&t.setHeader&&!t.headersSent){var n=t.getHeader(a.requestContextHeader);o.safeIncludeCorrelationHeader(e,t,n)}},e.endRequest=function(e,t,n,r,i){i?t.onError(i,r):t.onResponse(n.response,r);var s=t.getRequestTelemetry(n);if(s.tagOverrides=t.getRequestTags(e.context.tags),n.tagOverrides)for(var o in n.tagOverrides)s.tagOverrides[o]=n.tagOverrides[o];var a=t.getLegacyRootId();a&&(s.properties.ai_legacyRootId=a),s.contextObjects=s.contextObjects||{},s.contextObjects["http.ServerRequest"]=n.request,s.contextObjects["http.ServerResponse"]=n.response,e.trackRequest(s)},e.prototype.dispose=function(){e.INSTANCE=null,this.enable(!1),this._isInitialized=!1,u.CorrelationContextManager.disable(),this._isAutoCorrelating=!1},e.alreadyAutoCollectedFlag="_appInsightsAutoCollected",e}();e.exports=h},function(e,t,n){e.exports=n(184)},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,s){function o(e){try{c(r.next(e))}catch(e){s(e)}}function a(e){try{c(r.throw(e))}catch(e){s(e)}}function c(e){e.done?i(e.value):new n(function(t){t(e.value)}).then(o,a)}c((r=r.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0});const i=n(185),s=n(7),o=n(211),a=n(151),c=n(439),u=n(50),l=n(0),h=n(13),d=n(8),p=n(51),f=n(92),_=n(440),m=n(167),g=n(168);t.STUB_DIRECTORY=l.join(__dirname,"stub"),t.STUB_URI=a.UriUtil.pathToUri(t.STUB_DIRECTORY),t.DOCUMENT_LANGUAGE_RANGES_REQUEST=new i.RequestType("documentLanguageRanges"),t.INDEXING_STARTED_NOTIFICATION=new i.NotificationType("indexingStarted"),t.INDEXING_ENDED_NOTIFICATION=new i.NotificationType("indexingEnded"),t.CANCEL_INDEXING_REQUEST=new i.RequestType("cancelIndexing");let y,T,b,v,E,S,k=_.getTelemetryClient(),w=i.createConnection(),N=h.tmpdir();u.Log.connection=w;const A=new o.Intelephense,x=a.MasterFileProvider.create(),C=a.MasterFileSearchProvider.create(),R=new a.Workspace([]),I=[a.FILE_SCHEME,a.UNTITLED_SCHEME];let O;function D(){return T?G(T[0],"telemetry.enabled",m.DEFAULT_TELEMETRY):m.DEFAULT_TELEMETRY}function P(){return y&&y.clientName||"unknown"}function L(e){e&&(u.Log.error(e.stack||e.toString()),D()&&e instanceof Error&&_.getTelemetryProperties(P()).then(t=>{k.trackException({exception:e,properties:t})}))}function M(e,t){return d.getDeepObjectValue(y?y.capabilities:void 0,e,t)}function U(e){switch(e.find(e=>e===s.MarkupKind.PlainText||e===s.MarkupKind.Markdown)){case s.MarkupKind.PlainText:return 0;default:return 1}}function q(){let e=[];return e.push({section:m.CONFIG_SECTION}),R.folders.forEach(n=>{n.uri!==t.STUB_URI&&e.push({section:m.CONFIG_SECTION,scopeUri:n.uri})}),e}function F(){let e=G(T[0],"files.associations",m.DEFAULT_ASSOCIATIONS);const t=/^(?:\*\*\/)?\*\.([a-zA-Z0-9]+)$/;let n,r,i=[],s=[];for(let o=0;o<e.length;++o)(r=(n=e[o]).match(t))?i.push(r[1]):s.push(n);return i.length>0&&s.unshift("**/*.{"+i.join(",")+"}"),s.map(e=>({globPattern:e}))}function B(){return r(this,void 0,void 0,function*(){let e=I.map(e=>({language:m.PHP_LANGUAGE_ID,scheme:e}));const t=M("textDocument.formatting.dynamicRegistration",!1),n=M("textDocument.rangeFormatting.dynamicRegistration",!1);if(!v&&(t||n)){const r=i.BulkRegistration.create();t&&r.add(i.DocumentFormattingRequest.type,{documentSelector:e}),n&&r.add(i.DocumentRangeFormattingRequest.type,{documentSelector:e}),v=yield w.client.register(r)}})}function H(e){return r(this,void 0,void 0,function*(){const t=M("workspace.didChangeWatchedFiles.dynamicRegistration",!1);!E&&t&&e.length>0&&(E=yield w.client.register(i.DidChangeWatchedFilesNotification.type,{watchers:e}))})}function j(e,t){return r(this,void 0,void 0,function*(){const n=e.folders.find(e=>0===t.indexOf(e.uri));if(!n)return;const r=p.URI.parse(n.uri).fsPath,i=l.join(r,".jsbeautifyrc");try{return yield f.readJSON(i)}catch(e){return void(e&&"ENOENT"!==e.code&&u.Log.warn(e.toString()))}})}function G(e,t,n){return d.getDeepObjectValue(e,t)||n}function V(e,t){let n=t.reduce((e,t)=>e+t.uri," ");return l.join(e,Math.abs(d.hash32(n)).toString(16))}function K(e,t){if(!e&&!t||!e.size&&!t.size)return!0;if(!e||!t)return!1;if(e.size!==t.size)return!1;for(let n of e)if(!t.has(n))return!1;return!0}function $(e){return e.map(e=>e+"/**/*.php")}w.onInitialize(e=>r(this,void 0,void 0,function*(){let n=process.hrtime();y=e,u.Log.info("Initialising intelephense "+m.VERSION),b=new a.WorkspaceFolder(t.STUB_URI,x,C,$(m.DEFAULT_STUBS),[],1),R.addFolder(b);let r="";e.workspaceFolders&&e.workspaceFolders.length>0?(r=e.workspaceFolders[0].uri,e.workspaceFolders.forEach(e=>{R.addFolder(new a.WorkspaceFolder(e.uri,x,C,[],[],0))})):e.rootUri&&(R.addFolder(new a.WorkspaceFolder(e.rootUri,x,C,[],[],0)),r=e.rootUri),e.initializationOptions&&e.initializationOptions.storagePath&&(N=e.initializationOptions.storagePath);let s,o=e.initializationOptions&&e.initializationOptions.clearCache;R.folders.length>1&&(s=yield c.Cache.create(V(N,R.folders)),o&&s&&(yield s.empty())),g.getMachineId();try{yield A.initialise({logger:u.Log,cache:o?void 0:s,fileProvider:x,completion:{markupFormat:U(M("textDocument.completion.completionItem.documentationFormat")||[])},hover:{markupFormat:U(M("textDocument.hover.contentFormat")||[])},signatureHelp:{markupFormat:U(M("textDocument.signatureHelp.signatureInformation.documentationFormat")||[])}})}catch(e){L(e)}return A.setConfig({completion:{enableSnippets:M("textDocument.completion.completionItem.snippetSupport",!0)},environment:{documentRoot:r}}),u.Log.info(`Initialised in ${function(e){if(!e)return 0;let t=process.hrtime(e);return 1e3*t[0]+t[1]/1e6}(n).toFixed()} ms`),{capabilities:{textDocumentSync:i.TextDocumentSyncKind.Incremental,documentSymbolProvider:!0,workspaceSymbolProvider:!0,completionProvider:{triggerCharacters:["$",">",":","\\","/",".","<"],resolveProvider:!0},signatureHelpProvider:{triggerCharacters:["(",","]},definitionProvider:!0,documentFormattingProvider:!M("textDocument.formatting.dynamicRegistration",!1),documentRangeFormattingProvider:!M("textDocument.rangeFormatting.dynamicRegistration",!1),referencesProvider:!0,hoverProvider:!0,documentHighlightProvider:!0,workspace:{workspaceFolders:{supported:!0,changeNotifications:!0}}}}})),w.onInitialized(()=>r(this,void 0,void 0,function*(){A.onIndexingStart=()=>{u.Log.info("Indexing started."),O=process.hrtime(),w.sendNotification(t.INDEXING_STARTED_NOTIFICATION.method)},A.onIndexingEnd=e=>{u.Log.info(`Indexing ended. ${e} files indexed in ${process.hrtime(O)[0]}s.`),w.sendNotification(t.INDEXING_ENDED_NOTIFICATION.method)},A.onPublishDiagnostics=e=>{w.sendDiagnostics(e)},M("workspace.workspaceFolders",!1)&&function(){w.workspace.onDidChangeWorkspaceFolders(e=>r(this,void 0,void 0,function*(){try{for(let t=0;t<e.added.length;++t){const n=new a.WorkspaceFolder(e.added[t].uri,x,C,[],[],0);R.addFolder(n),yield A.indexFolder(n)}for(let t=0;t<e.removed.length;++t)yield A.forgetFolder(e.removed[t].uri)}catch(e){L(e)}}))}(),M("workspace.configuration",!1)&&((T=yield w.workspace.getConfiguration(q()))?A.setConfig(T[0]):u.Log.warn("Failed to get configuration from client.")),T||(T=[]),D()&&_.getTelemetryProperties(P()).then(e=>{const t={name:_.TelemetryEvent.initialised,properties:e};k.trackEvent(t),u.Log.info(JSON.stringify(t,null,4))});const e=$(G(T[0],"stubs",m.DEFAULT_STUBS));b.includeGlobs=e;const n=G(T[0],"files.associations",m.DEFAULT_ASSOCIATIONS);R.folders.forEach((e,t)=>{0!==t&&(e.includeGlobs=n)});const s=G(T[0],"files.exclude",m.DEFAULT_EXCLUDE);R.folders.forEach((e,t)=>{0!==t&&(e.excludeGlobs=G(T[t],"files.exclude",s))}),G(T[0],"format.enable",!0)&&B(),H(F()),function(){r(this,void 0,void 0,function*(){const e=M("workspace.didChangeConfiguration.dynamicRegistration",!1);!S&&e&&(S=yield w.client.register(i.DidChangeConfigurationNotification.type,{section:"intelephense"}))})}();const o=yield c.Cache.create(V(N,R.folders));A.indexWorkspace(R,o)})),w.onRequest(t.CANCEL_INDEXING_REQUEST.method,()=>{A.cancelIndexing()}),w.onDidChangeConfiguration(e=>r(this,void 0,void 0,function*(){if(!T&&M("workspace.configuration",!1))return;const e=T;if(!M("workspace.configuration",!1))return;T=yield w.workspace.getConfiguration(q()),A.setConfig(T[0]),G(T[0],"format.enable",!0)?B():v&&(v.dispose(),v=void 0);const n=G(e[0],"files.maxSize",m.DEFAULT_MAX_FILE_SIZE)===G(T[0],"files.maxSize",m.DEFAULT_MAX_FILE_SIZE),r=K(new Set(G(e[0],"files.associations",m.DEFAULT_ASSOCIATIONS)),new Set(G(T[0],"files.associations",m.DEFAULT_ASSOCIATIONS)));if(!r){const e=G(T[0],"files.associations",m.DEFAULT_ASSOCIATIONS);R.folders.forEach(n=>{n.uri!==t.STUB_URI&&(n.includeGlobs=e)}),E&&(E.dispose(),E=void 0),H(F())}let i=!0;const s=G(T[0],"files.exclude",m.DEFAULT_EXCLUDE),o=G(e[0],"files.exclude",m.DEFAULT_EXCLUDE);R.folders.forEach((t,n)=>{if(0!==n){let r=G(T[n],"files.exclude",s),a=G(e[n],"files.exclude",o);K(new Set(r),new Set(a))||(i=i&&!1,t.excludeGlobs=r)}});const a=K(new Set(G(e[0],"stubs",m.DEFAULT_STUBS)),new Set(G(T[0],"stubs",m.DEFAULT_STUBS)));if(a||(b.includeGlobs=$(G(T[0],"stubs",m.DEFAULT_STUBS))),!(a&&n&&r&&i)){const e=yield c.Cache.create(V(N,R.folders));A.indexWorkspace(R,e)}})),w.onDocumentLinks(e=>[]),w.onHover((e,t)=>{const n=A.provideHover(e.textDocument.uri,e.position,t);return n.catch(L),n}),w.onDocumentHighlight(e=>{const t=A.provideHighlights(e.textDocument.uri,e.position);return t.catch(L),t}),w.onDidOpenTextDocument(e=>{const t=T?G(T[0],"files.maxSize",m.DEFAULT_MAX_FILE_SIZE):m.DEFAULT_MAX_FILE_SIZE;if(e.textDocument.text.length>t)return void u.Log.warn(`${e.textDocument.uri} is over the maximum file size of ${t} bytes.`);if(e.textDocument.languageId!==m.PHP_LANGUAGE_ID&&e.textDocument.languageId!==m.UNTITLED_LANGUAGE_ID)return;let n=0;R.isVendor(e.textDocument.uri)&&(n|=2);try{return A.openDocument(e.textDocument.uri,e.textDocument.text,e.textDocument.version,n)}catch(e){L(e)}}),w.onDidChangeTextDocument(e=>{try{return A.editDocument(e.textDocument.uri,e.textDocument.version||0,e.contentChanges)}catch(e){L(e)}}),w.onDidCloseTextDocument(e=>{try{R.contains(e.textDocument.uri)?A.closeDocument(e.textDocument.uri):A.forgetDocument(e.textDocument.uri)}catch(e){L(e)}}),w.onDocumentSymbol(e=>{const t=A.documentSymbols(e.textDocument.uri);return t.catch(L),t}),w.onWorkspaceSymbol(e=>{try{return A.workspaceSymbols(e.query)}catch(e){L(e)}}),w.onReferences((e,t)=>{const n=A.provideReferences(e.textDocument.uri,e.position,e.context,t);return n.catch(L),n}),w.onCompletion(e=>{const t=A.provideCompletions(e.textDocument.uri,e.position);return t.catch(L),t}),w.onCompletionResolve((e,t)=>{const n=A.completionItemResolve(e,t);return n.catch(L),n}),w.onSignatureHelp((e,t)=>{const n=A.provideSignatureHelp(e.textDocument.uri,e.position,t);return n.catch(L),n}),w.onDefinition(e=>{const t=A.provideDefinition(e.textDocument.uri,e.position);return t.catch(L),t}),w.onDocumentFormatting(e=>j(R,e.textDocument.uri).then(t=>A.provideDocumentFormattingEdits(e.textDocument.uri,Object.assign({},e.options,{jsbeautify:t}))).catch(e=>{L(e)})),w.onDocumentRangeFormatting(e=>j(R,e.textDocument.uri).then(t=>A.provideDocumentRangeFormattingEdits(e.textDocument.uri,e.range,Object.assign({},e.options,{jsbeautify:t}))).catch(e=>{L(e)})),w.onShutdown(()=>{if(A.cancelIndexing(),D())return new Promise((e,t)=>{k.flush({callback:t=>{e()}})})}),w.onDidChangeWatchedFiles(e=>{let t;try{for(let n=0,r=e.changes.length;n<r;++n)(t=e.changes[n]).type===i.FileChangeType.Deleted?A.forgetDocument(t.uri):R.contains(t.uri)&&!A.isDocumentOpen(t.uri)&&A.indexDocument(t.uri,R.isVendor(t.uri)?2:0)}catch(t){L(t)}}),w.onRequest(t.DOCUMENT_LANGUAGE_RANGES_REQUEST,e=>{const t=A.documentLanguageRanges(e.textDocument.uri);return t.catch(L),t}),w.listen()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(36);t.Event=r.Event;const i=n(203),s=n(204),o=n(109),a=n(110);!function(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}(n(36));const c=n(205),u=n(206),l=n(209);!function(e){e.uriToFilePath=c.uriToFilePath,e.resolveGlobalNodePath=c.resolveGlobalNodePath,e.resolveGlobalYarnPath=c.resolveGlobalYarnPath,e.resolve=c.resolve,e.resolveModulePath=c.resolveModulePath}(t.Files||(t.Files={}));let h=!1,d=void 0;function p(e){if(null!==e)return e}!function(){function e(e){try{let t=parseInt(e);isNaN(t)||(d=setInterval(()=>{try{process.kill(t,0)}catch(e){process.exit(h?0:1)}},3e3))}catch(e){}}for(let t=2;t<process.argv.length;t++){let n=process.argv[t];if("--clientProcessId"===n&&t+1<process.argv.length)return void e(process.argv[t+1]);{let t=n.split("=");"--clientProcessId"===t[0]&&e(t[1])}}}();class f{constructor(e,t,n,r){this._uri=e,this._languageId=t,this._version=n;const i=new u.PieceTreeTextBufferBuilder;i.acceptChunk(r);const s=i.finish(!0);this._tree=s.create(1)}get uri(){return this._uri}get languageId(){return this._languageId}get version(){return this._version}getText(e){if(e){const{start:t,end:n}=e,[r,i]=n.line+1>this.lineCount?[this.lineCount,this._tree.getLineLength(this.lineCount)+1]:[n.line+1,n.character+1],s=new l.Range(t.line+1,t.character+1,r,i);return this._tree.getValueInRange(s)}return this._tree.getLinesRawContent()}update(e,t){const{text:n,range:r}=e;if(null==r)throw new Error(`FullPieceTreeTextDocument#update called with invalid event range ${r}`);const i=this.offsetAt(r.start),s=this.offsetAt(r.end);this._tree.delete(i,s-i),this._tree.insert(i,n),this._version=t}positionAt(e){const t=Math.min(e,this._tree.getLength()),n=this._tree.getPositionAt(t);return r.Position.create(n.lineNumber-1,n.column-1)}offsetAt(e){if(e.line<0)return 0;const t=Math.max(1,e.character+1);return Math.min(this._tree.getOffsetAt(e.line+1,t),this._tree.getLength())}get lineCount(){return this._tree.getLineCount()}}t.TextDocuments=class{constructor(e=r.TextDocumentSyncKind.Full){this._documents=Object.create(null),this._syncKind=e,this._onDidChangeContent=new r.Emitter,this._onDidOpen=new r.Emitter,this._onDidClose=new r.Emitter,this._onDidSave=new r.Emitter,this._onWillSave=new r.Emitter}get syncKind(){return this._syncKind}get onDidChangeContent(){return this._onDidChangeContent.event}get onDidOpen(){return this._onDidOpen.event}get onWillSave(){return this._onWillSave.event}onWillSaveWaitUntil(e){this._willSaveWaitUntil=e}get onDidSave(){return this._onDidSave.event}get onDidClose(){return this._onDidClose.event}get(e){return this._documents[e]}all(){return Object.keys(this._documents).map(e=>this._documents[e])}keys(){return Object.keys(this._documents)}listen(e){e.__textDocumentSync=r.TextDocumentSyncKind.Full,e.onDidOpenTextDocument(e=>{let t,n=e.textDocument;switch(this.syncKind){case r.TextDocumentSyncKind.Full:t=r.TextDocument.create(n.uri,n.languageId,n.version,n.text);break;case r.TextDocumentSyncKind.Incremental:t=new f(n.uri,n.languageId,n.version,n.text);break;default:throw new Error(`Invalid TextDocumentSyncKind: ${this.syncKind}`)}this._documents[n.uri]=t;let i=Object.freeze({document:t});this._onDidOpen.fire(i),this._onDidChangeContent.fire(i)}),e.onDidChangeTextDocument(e=>{let t=e.textDocument,n=e.contentChanges;if(0===n.length)return;let i=this._documents[t.uri];if(!i||!function(e){return o.func(e.update)}(i))return;const{version:s}=t;if(null==s||void 0===s)throw new Error(`Received document change event for ${t.uri} without valid version identifier`);switch(this.syncKind){case r.TextDocumentSyncKind.Full:let e=n[n.length-1];i.update(e,s),this._onDidChangeContent.fire(Object.freeze({document:i}));break;case r.TextDocumentSyncKind.Incremental:let t=n.reduce((e,t)=>(e.update(t,s),e),i);this._onDidChangeContent.fire(Object.freeze({document:t}));break;case r.TextDocumentSyncKind.None:}}),e.onDidCloseTextDocument(e=>{let t=this._documents[e.textDocument.uri];t&&(delete this._documents[e.textDocument.uri],this._onDidClose.fire(Object.freeze({document:t})))}),e.onWillSaveTextDocument(e=>{let t=this._documents[e.textDocument.uri];t&&this._onWillSave.fire(Object.freeze({document:t,reason:e.reason}))}),e.onWillSaveTextDocumentWaitUntil((e,t)=>{let n=this._documents[e.textDocument.uri];return n&&this._willSaveWaitUntil?this._willSaveWaitUntil(Object.freeze({document:n,reason:e.reason}),t):[]}),e.onDidSaveTextDocument(e=>{let t=this._documents[e.textDocument.uri];t&&this._onDidSave.fire(Object.freeze({document:t}))})}};t.ErrorMessageTracker=class{constructor(){this._messages=Object.create(null)}add(e){let t=this._messages[e];t||(t=0),t++,this._messages[e]=t}sendErrors(e){Object.keys(this._messages).forEach(t=>{e.window.showErrorMessage(t)})}},function(e){e.create=function(){return new _}}(t.BulkRegistration||(t.BulkRegistration={}));class _{constructor(){this._registrations=[],this._registered=new Set}add(e,t){const n=o.string(e)?e:e.method;if(this._registered.has(n))throw new Error(`${n} is already added to this registration`);const r=a.generateUuid();this._registrations.push({id:r,method:n,registerOptions:t||{}}),this._registered.add(n)}asRegistrationParams(){return{registrations:this._registrations}}}!function(e){e.create=function(){return new m(void 0,[])}}(t.BulkUnregistration||(t.BulkUnregistration={}));class m{constructor(e,t){this._connection=e,this._unregistrations=new Map,t.forEach(e=>{this._unregistrations.set(e.method,e)})}get isAttached(){return!!this._connection}attach(e){this._connection=e}add(e){this._unregistrations.set(e.method,e)}dispose(){let e=[];for(let t of this._unregistrations.values())e.push(t);let t={unregisterations:e};this._connection.sendRequest(r.UnregistrationRequest.type,t).then(void 0,e=>{this._connection.console.info("Bulk unregistration failed.")})}disposeSingle(e){const t=o.string(e)?e:e.method,n=this._unregistrations.get(t);if(!n)return!1;let i={unregisterations:[n]};return this._connection.sendRequest(r.UnregistrationRequest.type,i).then(()=>{this._unregistrations.delete(t)},e=>{this._connection.console.info(`Unregistering request handler for ${n.id} failed.`)}),!0}}class g{constructor(){}rawAttach(e){this._rawConnection=e}attach(e){this._connection=e}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}fillServerCapabilities(e){}initialize(e){}error(e){this.send(r.MessageType.Error,e)}warn(e){this.send(r.MessageType.Warning,e)}info(e){this.send(r.MessageType.Info,e)}log(e){this.send(r.MessageType.Log,e)}send(e,t){this._rawConnection&&this._rawConnection.sendNotification(r.LogMessageNotification.type,{type:e,message:t})}}class y{constructor(){}attach(e){this._connection=e}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(e){}fillServerCapabilities(e){}showErrorMessage(e,...t){let n={type:r.MessageType.Error,message:e,actions:t};return this._connection.sendRequest(r.ShowMessageRequest.type,n).then(p)}showWarningMessage(e,...t){let n={type:r.MessageType.Warning,message:e,actions:t};return this._connection.sendRequest(r.ShowMessageRequest.type,n).then(p)}showInformationMessage(e,...t){let n={type:r.MessageType.Info,message:e,actions:t};return this._connection.sendRequest(r.ShowMessageRequest.type,n).then(p)}}class T{attach(e){this._connection=e}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(e){}fillServerCapabilities(e){}register(e,t,n){return e instanceof _?this.registerMany(e):e instanceof m?this.registerSingle1(e,t,n):this.registerSingle2(e,t)}registerSingle1(e,t,n){const i=o.string(t)?t:t.method,s=a.generateUuid();let c={registrations:[{id:s,method:i,registerOptions:n||{}}]};return e.isAttached||e.attach(this._connection),this._connection.sendRequest(r.RegistrationRequest.type,c).then(t=>(e.add({id:s,method:i}),e),e=>(this.connection.console.info(`Registering request handler for ${i} failed.`),Promise.reject(e)))}registerSingle2(e,t){const n=o.string(e)?e:e.method,i=a.generateUuid();let s={registrations:[{id:i,method:n,registerOptions:t||{}}]};return this._connection.sendRequest(r.RegistrationRequest.type,s).then(e=>r.Disposable.create(()=>{this.unregisterSingle(i,n)}),e=>(this.connection.console.info(`Registering request handler for ${n} failed.`),Promise.reject(e)))}unregisterSingle(e,t){let n={unregisterations:[{id:e,method:t}]};return this._connection.sendRequest(r.UnregistrationRequest.type,n).then(void 0,t=>{this.connection.console.info(`Unregistering request handler for ${e} failed.`)})}registerMany(e){let t=e.asRegistrationParams();return this._connection.sendRequest(r.RegistrationRequest.type,t).then(()=>new m(this._connection,t.registrations.map(e=>({id:e.id,method:e.method}))),e=>(this.connection.console.info("Bulk registration failed."),Promise.reject(e)))}}const b=s.WorkspaceFoldersFeature(i.ConfigurationFeature(class{constructor(){}attach(e){this._connection=e}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(e){}fillServerCapabilities(e){}applyEdit(e){let t=(n=e)&&n.edit?e:{edit:e};var n;return this._connection.sendRequest(r.ApplyWorkspaceEditRequest.type,t)}}));class v{constructor(){this._trace=r.Trace.Off}attach(e){this._connection=e}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(e){}fillServerCapabilities(e){}set trace(e){this._trace=e}log(e,t){this._trace!==r.Trace.Off&&this._connection.sendNotification(r.LogTraceNotification.type,{message:e,verbose:this._trace===r.Trace.Verbose?t:void 0})}}class E{constructor(){}attach(e){this._connection=e}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(e){}fillServerCapabilities(e){}logEvent(e){this._connection.sendNotification(r.TelemetryEventNotification.type,e)}}function S(e,t){return function(n){return t(e(n))}}function k(e,t){return function(n){return t(e(n))}}function w(e,t){return function(n){return t(e(n))}}function N(e,t){return function(n){return t(e(n))}}function A(e,t){return function(n){return t(e(n))}}function x(e,t){return function(n){return t(e(n))}}t.combineConsoleFeatures=S,t.combineTelemetryFeatures=k,t.combineTracerFeatures=w,t.combineClientFeatures=N,t.combineWindowFeatures=A,t.combineWorkspaceFeatures=x,t.combineFeatures=function(e,t){function n(e,t,n){return e&&t?n(e,t):e||t}return{__brand:"features",console:n(e.console,t.console,S),tracer:n(e.tracer,t.tracer,w),telemetry:n(e.telemetry,t.telemetry,k),client:n(e.client,t.client,N),window:n(e.window,t.window,A),workspace:n(e.workspace,t.workspace,x)}},t.createConnection=function(e,t,n,i){let s,a,c,u;return void 0!==e&&"features"===e.__brand&&(s=e,e=t,t=n,n=i),r.ConnectionStrategy.is(e)?u=e:(a=e,c=t,u=n),function(e,t,n,i){if(!e&&!t&&process.argv.length>2){let n=void 0,i=void 0,o=process.argv.slice(2);for(let a=0;a<o.length;a++){let c=o[a];if("--node-ipc"===c){e=new r.IPCMessageReader(process),t=new r.IPCMessageWriter(process);break}if("--stdio"===c){e=process.stdin,t=process.stdout;break}if("--socket"===c){n=parseInt(o[a+1]);break}if("--pipe"===c){i=o[a+1];break}var s=c.split("=");if("--socket"===s[0]){n=parseInt(s[1]);break}if("--pipe"===s[0]){i=s[1];break}}if(n){let i=r.createServerSocketTransport(n);e=i[0],t=i[1]}else if(i){let n=r.createServerPipeTransport(i);e=n[0],t=n[1]}}var a="Use arguments of createConnection or set command line parameters: '--node-ipc', '--stdio' or '--socket={number}'";if(!e)throw new Error("Connection input stream is not set. "+a);if(!t)throw new Error("Connection output stream is not set. "+a);if(o.func(e.read)&&o.func(e.on)){let t=e;t.on("end",()=>{process.exit(h?0:1)}),t.on("close",()=>{process.exit(h?0:1)})}const c=i&&i.console?new(i.console(g)):new g,u=r.createProtocolConnection(e,t,c,n);c.rawAttach(u);const l=i&&i.tracer?new(i.tracer(v)):new v,p=i&&i.telemetry?new(i.telemetry(E)):new E,f=i&&i.client?new(i.client(T)):new T,_=i&&i.window?new(i.window(y)):new y,m=i&&i.workspace?new(i.workspace(b)):new b,S=[c,l,p,f,_,m];let k=void 0,w=void 0,N=void 0,A={listen:()=>u.listen(),sendRequest:(e,...t)=>u.sendRequest(o.string(e)?e:e.method,...t),onRequest:(e,t)=>u.onRequest(e,t),sendNotification:(e,t)=>{const n=o.string(e)?e:e.method;1===arguments.length?u.sendNotification(n):u.sendNotification(n,t)},onNotification:(e,t)=>u.onNotification(e,t),onInitialize:e=>w=e,onInitialized:e=>u.onNotification(r.InitializedNotification.type,e),onShutdown:e=>k=e,onExit:e=>N=e,get console(){return c},get telemetry(){return p},get tracer(){return l},get client(){return f},get window(){return _},get workspace(){return m},onDidChangeConfiguration:e=>u.onNotification(r.DidChangeConfigurationNotification.type,e),onDidChangeWatchedFiles:e=>u.onNotification(r.DidChangeWatchedFilesNotification.type,e),__textDocumentSync:void 0,onDidOpenTextDocument:e=>u.onNotification(r.DidOpenTextDocumentNotification.type,e),onDidChangeTextDocument:e=>u.onNotification(r.DidChangeTextDocumentNotification.type,e),onDidCloseTextDocument:e=>u.onNotification(r.DidCloseTextDocumentNotification.type,e),onWillSaveTextDocument:e=>u.onNotification(r.WillSaveTextDocumentNotification.type,e),onWillSaveTextDocumentWaitUntil:e=>u.onRequest(r.WillSaveTextDocumentWaitUntilRequest.type,e),onDidSaveTextDocument:e=>u.onNotification(r.DidSaveTextDocumentNotification.type,e),sendDiagnostics:e=>u.sendNotification(r.PublishDiagnosticsNotification.type,e),onHover:e=>u.onRequest(r.HoverRequest.type,e),onCompletion:e=>u.onRequest(r.CompletionRequest.type,e),onCompletionResolve:e=>u.onRequest(r.CompletionResolveRequest.type,e),onSignatureHelp:e=>u.onRequest(r.SignatureHelpRequest.type,e),onDeclaration:e=>u.onRequest(r.DeclarationRequest.type,e),onDefinition:e=>u.onRequest(r.DefinitionRequest.type,e),onTypeDefinition:e=>u.onRequest(r.TypeDefinitionRequest.type,e),onImplementation:e=>u.onRequest(r.ImplementationRequest.type,e),onReferences:e=>u.onRequest(r.ReferencesRequest.type,e),onDocumentHighlight:e=>u.onRequest(r.DocumentHighlightRequest.type,e),onDocumentSymbol:e=>u.onRequest(r.DocumentSymbolRequest.type,e),onWorkspaceSymbol:e=>u.onRequest(r.WorkspaceSymbolRequest.type,e),onCodeAction:e=>u.onRequest(r.CodeActionRequest.type,e),onCodeLens:e=>u.onRequest(r.CodeLensRequest.type,e),onCodeLensResolve:e=>u.onRequest(r.CodeLensResolveRequest.type,e),onDocumentFormatting:e=>u.onRequest(r.DocumentFormattingRequest.type,e),onDocumentRangeFormatting:e=>u.onRequest(r.DocumentRangeFormattingRequest.type,e),onDocumentOnTypeFormatting:e=>u.onRequest(r.DocumentOnTypeFormattingRequest.type,e),onRenameRequest:e=>u.onRequest(r.RenameRequest.type,e),onPrepareRename:e=>u.onRequest(r.PrepareRenameRequest.type,e),onDocumentLinks:e=>u.onRequest(r.DocumentLinkRequest.type,e),onDocumentLinkResolve:e=>u.onRequest(r.DocumentLinkResolveRequest.type,e),onDocumentColor:e=>u.onRequest(r.DocumentColorRequest.type,e),onColorPresentation:e=>u.onRequest(r.ColorPresentationRequest.type,e),onFoldingRanges:e=>u.onRequest(r.FoldingRangeRequest.type,e),onSelectionRanges:e=>u.onRequest(r.SelectionRangeRequest.type,e),onExecuteCommand:e=>u.onRequest(r.ExecuteCommandRequest.type,e),dispose:()=>u.dispose()};for(let e of S)e.attach(A);return u.onRequest(r.InitializeRequest.type,e=>{const t=e.processId;o.number(t)&&void 0===d&&setInterval(()=>{try{process.kill(t,0)}catch(e){process.exit(h?0:1)}},3e3),o.string(e.trace)&&(l.trace=r.Trace.fromString(e.trace));for(let t of S)t.initialize(e.capabilities);if(w)return function(e){return o.thenable(e)?e:Promise.resolve(e)}(w(e,(new r.CancellationTokenSource).token)).then(e=>{if(e instanceof r.ResponseError)return e;let t=e;t||(t={capabilities:{}});let n=t.capabilities;n||(n={},t.capabilities=n),void 0===n.textDocumentSync||null===n.textDocumentSync?n.textDocumentSync=o.number(A.__textDocumentSync)?A.__textDocumentSync:r.TextDocumentSyncKind.None:o.number(n.textDocumentSync)||o.number(n.textDocumentSync.change)||(n.textDocumentSync.change=o.number(A.__textDocumentSync)?A.__textDocumentSync:r.TextDocumentSyncKind.None);for(let e of S)e.fillServerCapabilities(n);return t});{let e={capabilities:{textDocumentSync:r.TextDocumentSyncKind.None}};for(let t of S)t.fillServerCapabilities(e.capabilities);return e}}),u.onRequest(r.ShutdownRequest.type,()=>(h=!0,k?k((new r.CancellationTokenSource).token):void 0)),u.onNotification(r.ExitNotification.type,()=>{try{N&&N()}finally{h?process.exit(0):process.exit(1)}}),u.onNotification(r.SetTraceNotification.type,e=>{l.trace=r.Trace.fromString(e.value)}),A}(a,c,u,s)};const C=n(210);!function(e){e.all={__brand:"features",window:C.ProgressFeature}}(t.ProposedFeatures||(t.ProposedFeatures={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(37);var i;!function(e){e.ParseError=-32700,e.InvalidRequest=-32600,e.MethodNotFound=-32601,e.InvalidParams=-32602,e.InternalError=-32603,e.serverErrorStart=-32099,e.serverErrorEnd=-32e3,e.ServerNotInitialized=-32002,e.UnknownErrorCode=-32001,e.RequestCancelled=-32800,e.ContentModified=-32801,e.MessageWriteError=1,e.MessageReadError=2}(i=t.ErrorCodes||(t.ErrorCodes={}));class s extends Error{constructor(e,t,n){super(t),this.code=r.number(e)?e:i.UnknownErrorCode,this.data=n,Object.setPrototypeOf(this,s.prototype)}toJson(){return{code:this.code,message:this.message,data:this.data}}}t.ResponseError=s;class o{constructor(e,t){this._method=e,this._numberOfParams=t}get method(){return this._method}get numberOfParams(){return this._numberOfParams}}t.AbstractMessageType=o;t.RequestType0=class extends o{constructor(e){super(e,0),this._=void 0}};t.RequestType=class extends o{constructor(e){super(e,1),this._=void 0}};t.RequestType1=class extends o{constructor(e){super(e,1),this._=void 0}};t.RequestType2=class extends o{constructor(e){super(e,2),this._=void 0}};t.RequestType3=class extends o{constructor(e){super(e,3),this._=void 0}};t.RequestType4=class extends o{constructor(e){super(e,4),this._=void 0}};t.RequestType5=class extends o{constructor(e){super(e,5),this._=void 0}};t.RequestType6=class extends o{constructor(e){super(e,6),this._=void 0}};t.RequestType7=class extends o{constructor(e){super(e,7),this._=void 0}};t.RequestType8=class extends o{constructor(e){super(e,8),this._=void 0}};t.RequestType9=class extends o{constructor(e){super(e,9),this._=void 0}};t.NotificationType=class extends o{constructor(e){super(e,1),this._=void 0}};t.NotificationType0=class extends o{constructor(e){super(e,0),this._=void 0}};t.NotificationType1=class extends o{constructor(e){super(e,1),this._=void 0}};t.NotificationType2=class extends o{constructor(e){super(e,2),this._=void 0}};t.NotificationType3=class extends o{constructor(e){super(e,3),this._=void 0}};t.NotificationType4=class extends o{constructor(e){super(e,4),this._=void 0}};t.NotificationType5=class extends o{constructor(e){super(e,5),this._=void 0}};t.NotificationType6=class extends o{constructor(e){super(e,6),this._=void 0}};t.NotificationType7=class extends o{constructor(e){super(e,7),this._=void 0}};t.NotificationType8=class extends o{constructor(e){super(e,8),this._=void 0}};t.NotificationType9=class extends o{constructor(e){super(e,9),this._=void 0}},t.isRequestMessage=function(e){let t=e;return t&&r.string(t.method)&&(r.string(t.id)||r.number(t.id))},t.isNotificationMessage=function(e){let t=e;return t&&r.string(t.method)&&void 0===e.id},t.isResponseMessage=function(e){let t=e;return t&&(void 0!==t.result||!!t.error)&&(r.string(t.id)||r.number(t.id)||null===t.id)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(45),i=n(37);var s;!function(e){e.None=Object.freeze({isCancellationRequested:!1,onCancellationRequested:r.Event.None}),e.Cancelled=Object.freeze({isCancellationRequested:!0,onCancellationRequested:r.Event.None}),e.is=function(t){let n=t;return n&&(n===e.None||n===e.Cancelled||i.boolean(n.isCancellationRequested)&&!!n.onCancellationRequested)}}(s=t.CancellationToken||(t.CancellationToken={}));const o=Object.freeze(function(e,t){let n=setTimeout(e.bind(t),0);return{dispose(){clearTimeout(n)}}});class a{constructor(){this._isCancelled=!1}cancel(){this._isCancelled||(this._isCancelled=!0,this._emitter&&(this._emitter.fire(void 0),this.dispose()))}get isCancellationRequested(){return this._isCancelled}get onCancellationRequested(){return this._isCancelled?o:(this._emitter||(this._emitter=new r.Emitter),this._emitter.event)}dispose(){this._emitter&&(this._emitter.dispose(),this._emitter=void 0)}}t.CancellationTokenSource=class{get token(){return this._token||(this._token=new a),this._token}cancel(){this._token?this._token.cancel():this._token=s.Cancelled}dispose(){this._token?this._token instanceof a&&this._token.dispose():this._token=s.None}}},function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.None=0,e.First=1,e.Last=2}(r=t.Touch||(t.Touch={}));t.LinkedMap=class{constructor(){this._map=new Map,this._head=void 0,this._tail=void 0,this._size=0}clear(){this._map.clear(),this._head=void 0,this._tail=void 0,this._size=0}isEmpty(){return!this._head&&!this._tail}get size(){return this._size}has(e){return this._map.has(e)}get(e){const t=this._map.get(e);if(t)return t.value}set(e,t,n=r.None){let i=this._map.get(e);if(i)i.value=t,n!==r.None&&this.touch(i,n);else{switch(i={key:e,value:t,next:void 0,previous:void 0},n){case r.None:this.addItemLast(i);break;case r.First:this.addItemFirst(i);break;case r.Last:default:this.addItemLast(i)}this._map.set(e,i),this._size++}}delete(e){const t=this._map.get(e);return!!t&&(this._map.delete(e),this.removeItem(t),this._size--,!0)}shift(){if(!this._head&&!this._tail)return;if(!this._head||!this._tail)throw new Error("Invalid list");const e=this._head;return this._map.delete(e.key),this.removeItem(e),this._size--,e.value}forEach(e,t){let n=this._head;for(;n;)t?e.bind(t)(n.value,n.key,this):e(n.value,n.key,this),n=n.next}forEachReverse(e,t){let n=this._tail;for(;n;)t?e.bind(t)(n.value,n.key,this):e(n.value,n.key,this),n=n.previous}values(){let e=[],t=this._head;for(;t;)e.push(t.value),t=t.next;return e}keys(){let e=[],t=this._head;for(;t;)e.push(t.key),t=t.next;return e}addItemFirst(e){if(this._head||this._tail){if(!this._head)throw new Error("Invalid list");e.next=this._head,this._head.previous=e}else this._tail=e;this._head=e}addItemLast(e){if(this._head||this._tail){if(!this._tail)throw new Error("Invalid list");e.previous=this._tail,this._tail.next=e}else this._head=e;this._tail=e}removeItem(e){if(e===this._head&&e===this._tail)this._head=void 0,this._tail=void 0;else if(e===this._head)this._head=e.next;else if(e===this._tail)this._tail=e.previous;else{const t=e.next,n=e.previous;if(!t||!n)throw new Error("Invalid list");t.previous=n,n.next=t}}touch(e,t){if(!this._head||!this._tail)throw new Error("Invalid list");if(t===r.First||t===r.Last)if(t===r.First){if(e===this._head)return;const t=e.next,n=e.previous;e===this._tail?(n.next=void 0,this._tail=n):(t.previous=n,n.next=t),e.previous=void 0,e.next=this._head,this._head.previous=e,this._head=e}else if(t===r.Last){if(e===this._tail)return;const t=e.next,n=e.previous;e===this._head?(t.previous=void 0,this._head=t):(t.previous=n,n.next=t),e.next=void 0,e.previous=this._tail,this._tail.next=e,this._tail=e}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(0),i=n(13),s=n(46),o=n(65),a=n(63),c=n(64);t.generateRandomPipeName=function(){const e=s.randomBytes(21).toString("hex");return"win32"===process.platform?`\\\\.\\pipe\\vscode-jsonrpc-${e}-sock`:r.join(i.tmpdir(),`vscode-${e}.sock`)},t.createClientPipeTransport=function(e,t="utf-8"){let n,r=new Promise((e,t)=>{n=e});return new Promise((i,s)=>{let u=o.createServer(e=>{u.close(),n([new a.SocketMessageReader(e,t),new c.SocketMessageWriter(e,t)])});u.on("error",s),u.listen(e,()=>{u.removeListener("error",s),i({onConnected:()=>r})})})},t.createServerPipeTransport=function(e,t="utf-8"){const n=o.createConnection(e);return[new a.SocketMessageReader(n,t),new c.SocketMessageWriter(n,t)]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(65),i=n(63),s=n(64);t.createClientSocketTransport=function(e,t="utf-8"){let n,o=new Promise((e,t)=>{n=e});return new Promise((a,c)=>{let u=r.createServer(e=>{u.close(),n([new i.SocketMessageReader(e,t),new s.SocketMessageWriter(e,t)])});u.on("error",c),u.listen(e,"127.0.0.1",()=>{u.removeListener("error",c),a({onConnected:()=>o})})})},t.createServerSocketTransport=function(e,t="utf-8"){const n=r.createConnection(e,"127.0.0.1");return[new i.SocketMessageReader(n,t),new s.SocketMessageWriter(n,t)]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(192),i=n(9),s=n(193);t.ImplementationRequest=s.ImplementationRequest;const o=n(194);t.TypeDefinitionRequest=o.TypeDefinitionRequest;const a=n(195);t.WorkspaceFoldersRequest=a.WorkspaceFoldersRequest,t.DidChangeWorkspaceFoldersNotification=a.DidChangeWorkspaceFoldersNotification;const c=n(196);t.ConfigurationRequest=c.ConfigurationRequest;const u=n(197);t.DocumentColorRequest=u.DocumentColorRequest,t.ColorPresentationRequest=u.ColorPresentationRequest;const l=n(198);t.FoldingRangeRequest=l.FoldingRangeRequest;const h=n(199);t.DeclarationRequest=h.DeclarationRequest;const d=n(200);t.SelectionRangeRequest=d.SelectionRangeRequest,function(e){e.is=function(e){let t=e;return r.string(t.language)||r.string(t.scheme)||r.string(t.pattern)}}(t.DocumentFilter||(t.DocumentFilter={})),function(e){e.type=new i.RequestType("client/registerCapability")}(t.RegistrationRequest||(t.RegistrationRequest={})),function(e){e.type=new i.RequestType("client/unregisterCapability")}(t.UnregistrationRequest||(t.UnregistrationRequest={})),function(e){e.Create="create",e.Rename="rename",e.Delete="delete"}(t.ResourceOperationKind||(t.ResourceOperationKind={})),function(e){e.Abort="abort",e.Transactional="transactional",e.TextOnlyTransactional="textOnlyTransactional",e.Undo="undo"}(t.FailureHandlingKind||(t.FailureHandlingKind={})),function(e){e.None=0,e.Full=1,e.Incremental=2}(t.TextDocumentSyncKind||(t.TextDocumentSyncKind={})),function(e){e.type=new i.RequestType("initialize")}(t.InitializeRequest||(t.InitializeRequest={})),function(e){e.unknownProtocolVersion=1}(t.InitializeError||(t.InitializeError={})),function(e){e.type=new i.NotificationType("initialized")}(t.InitializedNotification||(t.InitializedNotification={})),function(e){e.type=new i.RequestType0("shutdown")}(t.ShutdownRequest||(t.ShutdownRequest={})),function(e){e.type=new i.NotificationType0("exit")}(t.ExitNotification||(t.ExitNotification={})),function(e){e.type=new i.NotificationType("workspace/didChangeConfiguration")}(t.DidChangeConfigurationNotification||(t.DidChangeConfigurationNotification={})),function(e){e.Error=1,e.Warning=2,e.Info=3,e.Log=4}(t.MessageType||(t.MessageType={})),function(e){e.type=new i.NotificationType("window/showMessage")}(t.ShowMessageNotification||(t.ShowMessageNotification={})),function(e){e.type=new i.RequestType("window/showMessageRequest")}(t.ShowMessageRequest||(t.ShowMessageRequest={})),function(e){e.type=new i.NotificationType("window/logMessage")}(t.LogMessageNotification||(t.LogMessageNotification={})),function(e){e.type=new i.NotificationType("telemetry/event")}(t.TelemetryEventNotification||(t.TelemetryEventNotification={})),function(e){e.type=new i.NotificationType("textDocument/didOpen")}(t.DidOpenTextDocumentNotification||(t.DidOpenTextDocumentNotification={})),function(e){e.type=new i.NotificationType("textDocument/didChange")}(t.DidChangeTextDocumentNotification||(t.DidChangeTextDocumentNotification={})),function(e){e.type=new i.NotificationType("textDocument/didClose")}(t.DidCloseTextDocumentNotification||(t.DidCloseTextDocumentNotification={})),function(e){e.type=new i.NotificationType("textDocument/didSave")}(t.DidSaveTextDocumentNotification||(t.DidSaveTextDocumentNotification={})),function(e){e.type=new i.NotificationType("textDocument/willSave")}(t.WillSaveTextDocumentNotification||(t.WillSaveTextDocumentNotification={})),function(e){e.type=new i.RequestType("textDocument/willSaveWaitUntil")}(t.WillSaveTextDocumentWaitUntilRequest||(t.WillSaveTextDocumentWaitUntilRequest={})),function(e){e.type=new i.NotificationType("workspace/didChangeWatchedFiles")}(t.DidChangeWatchedFilesNotification||(t.DidChangeWatchedFilesNotification={})),function(e){e.Created=1,e.Changed=2,e.Deleted=3}(t.FileChangeType||(t.FileChangeType={})),function(e){e.Create=1,e.Change=2,e.Delete=4}(t.WatchKind||(t.WatchKind={})),function(e){e.type=new i.NotificationType("textDocument/publishDiagnostics")}(t.PublishDiagnosticsNotification||(t.PublishDiagnosticsNotification={})),function(e){e.Invoked=1,e.TriggerCharacter=2,e.TriggerForIncompleteCompletions=3}(t.CompletionTriggerKind||(t.CompletionTriggerKind={})),function(e){e.type=new i.RequestType("textDocument/completion")}(t.CompletionRequest||(t.CompletionRequest={})),function(e){e.type=new i.RequestType("completionItem/resolve")}(t.CompletionResolveRequest||(t.CompletionResolveRequest={})),function(e){e.type=new i.RequestType("textDocument/hover")}(t.HoverRequest||(t.HoverRequest={})),function(e){e.type=new i.RequestType("textDocument/signatureHelp")}(t.SignatureHelpRequest||(t.SignatureHelpRequest={})),function(e){e.type=new i.RequestType("textDocument/definition")}(t.DefinitionRequest||(t.DefinitionRequest={})),function(e){e.type=new i.RequestType("textDocument/references")}(t.ReferencesRequest||(t.ReferencesRequest={})),function(e){e.type=new i.RequestType("textDocument/documentHighlight")}(t.DocumentHighlightRequest||(t.DocumentHighlightRequest={})),function(e){e.type=new i.RequestType("textDocument/documentSymbol")}(t.DocumentSymbolRequest||(t.DocumentSymbolRequest={})),function(e){e.type=new i.RequestType("workspace/symbol")}(t.WorkspaceSymbolRequest||(t.WorkspaceSymbolRequest={})),function(e){e.type=new i.RequestType("textDocument/codeAction")}(t.CodeActionRequest||(t.CodeActionRequest={})),function(e){e.type=new i.RequestType("textDocument/codeLens")}(t.CodeLensRequest||(t.CodeLensRequest={})),function(e){e.type=new i.RequestType("codeLens/resolve")}(t.CodeLensResolveRequest||(t.CodeLensResolveRequest={})),function(e){e.type=new i.RequestType("textDocument/formatting")}(t.DocumentFormattingRequest||(t.DocumentFormattingRequest={})),function(e){e.type=new i.RequestType("textDocument/rangeFormatting")}(t.DocumentRangeFormattingRequest||(t.DocumentRangeFormattingRequest={})),function(e){e.type=new i.RequestType("textDocument/onTypeFormatting")}(t.DocumentOnTypeFormattingRequest||(t.DocumentOnTypeFormattingRequest={})),function(e){e.type=new i.RequestType("textDocument/rename")}(t.RenameRequest||(t.RenameRequest={})),function(e){e.type=new i.RequestType("textDocument/prepareRename")}(t.PrepareRenameRequest||(t.PrepareRenameRequest={})),function(e){e.type=new i.RequestType("textDocument/documentLink")}(t.DocumentLinkRequest||(t.DocumentLinkRequest={})),function(e){e.type=new i.RequestType("documentLink/resolve")}(t.DocumentLinkResolveRequest||(t.DocumentLinkResolveRequest={})),function(e){e.type=new i.RequestType("workspace/executeCommand")}(t.ExecuteCommandRequest||(t.ExecuteCommandRequest={})),function(e){e.type=new i.RequestType("workspace/applyEdit")}(t.ApplyWorkspaceEditRequest||(t.ApplyWorkspaceEditRequest={}))},function(e,t,n){"use strict";function r(e){return"string"==typeof e||e instanceof String}function i(e){return"function"==typeof e}function s(e){return Array.isArray(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.boolean=function(e){return!0===e||!1===e},t.string=r,t.number=function(e){return"number"==typeof e||e instanceof Number},t.error=function(e){return e instanceof Error},t.func=i,t.array=s,t.stringArray=function(e){return s(e)&&e.every(e=>r(e))},t.typedArray=function(e,t){return Array.isArray(e)&&e.every(t)},t.thenable=function(e){return e&&i(e.then)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(9);!function(e){e.type=new r.RequestType("textDocument/implementation")}(t.ImplementationRequest||(t.ImplementationRequest={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(9);!function(e){e.type=new r.RequestType("textDocument/typeDefinition")}(t.TypeDefinitionRequest||(t.TypeDefinitionRequest={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(9);!function(e){e.type=new r.RequestType0("workspace/workspaceFolders")}(t.WorkspaceFoldersRequest||(t.WorkspaceFoldersRequest={})),function(e){e.type=new r.NotificationType("workspace/didChangeWorkspaceFolders")}(t.DidChangeWorkspaceFoldersNotification||(t.DidChangeWorkspaceFoldersNotification={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(9);!function(e){e.type=new r.RequestType("workspace/configuration")}(t.ConfigurationRequest||(t.ConfigurationRequest={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(9);!function(e){e.type=new r.RequestType("textDocument/documentColor")}(t.DocumentColorRequest||(t.DocumentColorRequest={})),function(e){e.type=new r.RequestType("textDocument/colorPresentation")}(t.ColorPresentationRequest||(t.ColorPresentationRequest={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(9);!function(e){e.Comment="comment",e.Imports="imports",e.Region="region"}(t.FoldingRangeKind||(t.FoldingRangeKind={})),function(e){e.type=new r.RequestType("textDocument/foldingRange")}(t.FoldingRangeRequest||(t.FoldingRangeRequest={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(9);!function(e){e.type=new r.RequestType("textDocument/declaration")}(t.DeclarationRequest||(t.DeclarationRequest={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(9);!function(e){e.type=new r.RequestType("textDocument/selectionRange")}(t.SelectionRangeRequest||(t.SelectionRangeRequest={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(9);!function(e){e.CallsFrom=1,e.CallsTo=2}(t.CallHierarchyDirection||(t.CallHierarchyDirection={})),function(e){e.type=new r.RequestType("textDocument/callHierarchy")}(t.CallHierarchyRequest||(t.CallHierarchyRequest={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(9);!function(e){e.type=new r.NotificationType("window/progress/start")}(t.ProgressStartNotification||(t.ProgressStartNotification={})),function(e){e.type=new r.NotificationType("window/progress/report")}(t.ProgressReportNotification||(t.ProgressReportNotification={})),function(e){e.type=new r.NotificationType("window/progress/done")}(t.ProgressDoneNotification||(t.ProgressDoneNotification={})),function(e){e.type=new r.NotificationType("window/progress/cancel")}(t.ProgressCancelNotification||(t.ProgressCancelNotification={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(36),i=n(109);t.ConfigurationFeature=e=>(class extends e{getConfiguration(e){return e?i.string(e)?this._getConfiguration({section:e}):this._getConfiguration(e):this._getConfiguration({})}_getConfiguration(e){let t={items:Array.isArray(e)?e:[e]};return this.connection.sendRequest(r.ConfigurationRequest.type,t).then(t=>Array.isArray(e)?t:t[0])}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(36);t.WorkspaceFoldersFeature=e=>(class extends e{initialize(e){let t=e.workspace;t&&t.workspaceFolders&&(this._onDidChangeWorkspaceFolders=new r.Emitter,this.connection.onNotification(r.DidChangeWorkspaceFoldersNotification.type,e=>{this._onDidChangeWorkspaceFolders.fire(e.event)}))}getWorkspaceFolders(){return this.connection.sendRequest(r.WorkspaceFoldersRequest.type)}get onDidChangeWorkspaceFolders(){if(!this._onDidChangeWorkspaceFolders)throw new Error("Client doesn't support sending workspace folder change events.");return this._unregistration||(this._unregistration=this.connection.client.register(r.DidChangeWorkspaceFoldersNotification.type)),this._onDidChangeWorkspaceFolders.event}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(38),i=n(0),s=n(14),o=n(47);function a(){return"win32"===process.platform}function c(e,t,n,r){const s=["var p = process;","p.on('message',function(m){","if(m.c==='e'){","p.exit(0);","}","else if(m.c==='rs'){","try{","var r=require.resolve(m.a);","p.send({c:'r',s:true,r:r});","}","catch(err){","p.send({c:'r',s:false});","}","}","});"].join("");return new Promise((a,c)=>{let u=process.env,l=Object.create(null);Object.keys(u).forEach(e=>l[e]=u[e]),t&&(l.NODE_PATH?l.NODE_PATH=t+i.delimiter+l.NODE_PATH:l.NODE_PATH=t,r&&r(`NODE_PATH value is: ${l.NODE_PATH}`)),l.ELECTRON_RUN_AS_NODE="1";try{let t=o.fork("",[],{cwd:n,env:l,execArgv:["-e",s]});if(void 0===t.pid)return void c(new Error(`Starting process to resolve node module  ${e} failed`));t.on("error",e=>{c(e)}),t.on("message",n=>{"r"===n.c&&(t.send({c:"e"}),n.s?a(n.r):c(new Error(`Failed to resolve module: ${e}`)))});let r={c:"rs",a:e};t.send(r)}catch(e){c(e)}})}function u(e){let t="npm",n={encoding:"utf8"};a()&&(t="npm.cmd",n.shell=!0);let r=()=>{};try{process.on("SIGPIPE",r);let s=o.spawnSync(t,["config","get","prefix"],n).stdout;if(!s)return void(e&&e("'npm config get prefix' didn't return a value."));let c=s.trim();return e&&e(`'npm config get prefix' value is: ${c}`),c.length>0?a()?i.join(c,"node_modules"):i.join(c,"lib","node_modules"):void 0}catch(e){return}finally{process.removeListener("SIGPIPE",r)}}var l;t.uriToFilePath=function(e){let t=r.parse(e);if("file:"!==t.protocol||!t.path)return;let n=t.path.split("/");for(var s=0,o=n.length;s<o;s++)n[s]=decodeURIComponent(n[s]);if("win32"===process.platform&&n.length>1){let e=n[0],t=n[1];0===e.length&&t.length>1&&":"===t[1]&&n.shift()}return i.normalize(n.join("/"))},t.resolve=c,t.resolveGlobalNodePath=u,t.resolveGlobalYarnPath=function(e){let t="yarn",n={encoding:"utf8"};a()&&(t="yarn.cmd",n.shell=!0);let r=()=>{};try{process.on("SIGPIPE",r);let s=o.spawnSync(t,["global","dir","--json"],n),a=s.stdout;if(!a)return void(e&&(e("'yarn global dir' didn't return a value."),s.stderr&&e(s.stderr)));let c=a.trim().split(/\r?\n/);for(let e of c)try{let t=JSON.parse(e);if("log"===t.type)return i.join(t.data,"node_modules")}catch(e){}return}catch(e){return}finally{process.removeListener("SIGPIPE",r)}},function(e){let t=void 0;function n(){return void 0!==t?t:t="win32"!==process.platform&&(!s.existsSync(__filename.toUpperCase())||!s.existsSync(__filename.toLowerCase()))}e.isCaseSensitive=n,e.isParent=function(e,t){return n()?0===i.normalize(t).indexOf(i.normalize(e)):0==i.normalize(t).toLowerCase().indexOf(i.normalize(e).toLowerCase())}}(l=t.FileSystem||(t.FileSystem={})),t.resolveModulePath=function(e,t,n,r){return n?(i.isAbsolute(n)||(n=i.join(e,n)),c(t,n,n,r).then(e=>l.isParent(n,e)?e:Promise.reject(new Error(`Failed to load ${t} from node path location.`))).then(void 0,n=>c(t,u(r),e,r))):c(t,u(r),e,r)}},function(e,t,n){"use strict";function r(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),r(n(111)),r(n(208))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});class r{constructor(e,t){this.piece=e,this.color=t,this.size_left=0,this.lf_left=0,this.parent=this,this.left=this,this.right=this}next(){if(this.right!==t.SENTINEL)return i(this.right);let e=this;for(;e.parent!==t.SENTINEL&&e.parent.left!==e;)e=e.parent;return e.parent===t.SENTINEL?t.SENTINEL:e.parent}prev(){if(this.left!==t.SENTINEL)return s(this.left);let e=this;for(;e.parent!==t.SENTINEL&&e.parent.right!==e;)e=e.parent;return e.parent===t.SENTINEL?t.SENTINEL:e.parent}detach(){this.parent=null,this.left=null,this.right=null}}function i(e){for(;e.left!==t.SENTINEL;)e=e.left;return e}function s(e){for(;e.right!==t.SENTINEL;)e=e.right;return e}function o(e){return e===t.SENTINEL?0:e.size_left+e.piece.length+o(e.right)}function a(e){return e===t.SENTINEL?0:e.lf_left+e.piece.lineFeedCnt+a(e.right)}function c(){t.SENTINEL.parent=t.SENTINEL}function u(e,n){let r=n.right;r.size_left+=n.size_left+(n.piece?n.piece.length:0),r.lf_left+=n.lf_left+(n.piece?n.piece.lineFeedCnt:0),n.right=r.left,r.left!==t.SENTINEL&&(r.left.parent=n),r.parent=n.parent,n.parent===t.SENTINEL?e.root=r:n.parent.left===n?n.parent.left=r:n.parent.right=r,r.left=n,n.parent=r}function l(e,n){let r=n.left;n.left=r.right,r.right!==t.SENTINEL&&(r.right.parent=n),r.parent=n.parent,n.size_left-=r.size_left+(r.piece?r.piece.length:0),n.lf_left-=r.lf_left+(r.piece?r.piece.lineFeedCnt:0),n.parent===t.SENTINEL?e.root=r:n===n.parent.right?n.parent.right=r:n.parent.left=r,r.right=n,n.parent=r}function h(e,n,r,i){for(;n!==e.root&&n!==t.SENTINEL;)n.parent.left===n&&(n.parent.size_left+=r,n.parent.lf_left+=i),n=n.parent}function d(e,t){let n=0,r=0;if(t!==e.root){if(0===n){for(;t!==e.root&&t===t.parent.right;)t=t.parent;if(t===e.root)return;n=o((t=t.parent).left)-t.size_left,r=a(t.left)-t.lf_left,t.size_left+=n,t.lf_left+=r}for(;t!==e.root&&(0!==n||0!==r);)t.parent.left===t&&(t.parent.size_left+=n,t.parent.lf_left+=r),t=t.parent}}t.TreeNode=r,t.SENTINEL=new r(null,0),t.SENTINEL.parent=t.SENTINEL,t.SENTINEL.left=t.SENTINEL,t.SENTINEL.right=t.SENTINEL,t.SENTINEL.color=0,t.leftest=i,t.righttest=s,t.calculateSize=o,t.calculateLF=a,t.resetSentinel=c,t.leftRotate=u,t.rightRotate=l,t.rbDelete=function(e,n){let r,s;if(r=n.left===t.SENTINEL?(s=n).right:n.right===t.SENTINEL?(s=n).left:(s=i(n.right)).right,s===e.root)return e.root=r,r.color=0,n.detach(),c(),void(e.root.parent=t.SENTINEL);let p,f=1===s.color;if(s===s.parent.left?s.parent.left=r:s.parent.right=r,s===n?(r.parent=s.parent,d(e,r)):(s.parent===n?r.parent=s:r.parent=s.parent,d(e,r),s.left=n.left,s.right=n.right,s.parent=n.parent,s.color=n.color,n===e.root?e.root=s:n===n.parent.left?n.parent.left=s:n.parent.right=s,s.left!==t.SENTINEL&&(s.left.parent=s),s.right!==t.SENTINEL&&(s.right.parent=s),s.size_left=n.size_left,s.lf_left=n.lf_left,d(e,s)),n.detach(),r.parent.left===r){let t=o(r),n=a(r);if(t!==r.parent.size_left||n!==r.parent.lf_left){let i=t-r.parent.size_left,s=n-r.parent.lf_left;r.parent.size_left=t,r.parent.lf_left=n,h(e,r.parent,i,s)}}if(d(e,r.parent),f)c();else{for(;r!==e.root&&0===r.color;)r===r.parent.left?(1===(p=r.parent.right).color&&(p.color=0,r.parent.color=1,u(e,r.parent),p=r.parent.right),0===p.left.color&&0===p.right.color?(p.color=1,r=r.parent):(0===p.right.color&&(p.left.color=0,p.color=1,l(e,p),p=r.parent.right),p.color=r.parent.color,r.parent.color=0,p.right.color=0,u(e,r.parent),r=e.root)):(1===(p=r.parent.left).color&&(p.color=0,r.parent.color=1,l(e,r.parent),p=r.parent.left),0===p.left.color&&0===p.right.color?(p.color=1,r=r.parent):(0===p.left.color&&(p.right.color=0,p.color=1,u(e,p),p=r.parent.left),p.color=r.parent.color,r.parent.color=0,p.left.color=0,l(e,r.parent),r=e.root));r.color=0,c()}},t.fixInsert=function(e,t){for(d(e,t);t!==e.root&&1===t.parent.color;)if(t.parent===t.parent.parent.left){const n=t.parent.parent.right;1===n.color?(t.parent.color=0,n.color=0,t.parent.parent.color=1,t=t.parent.parent):(t===t.parent.right&&u(e,t=t.parent),t.parent.color=0,t.parent.parent.color=1,l(e,t.parent.parent))}else{const n=t.parent.parent.left;1===n.color?(t.parent.color=0,n.color=0,t.parent.parent.color=1,t=t.parent.parent):(t===t.parent.left&&l(e,t=t.parent),t.parent.color=0,t.parent.parent.color=1,u(e,t.parent.parent))}e.root.color=0},t.updateTreeMetadata=h,t.recomputeTreeMetadata=d},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(111);function i(e){return!!(e&&e.length>0&&65279===e.charCodeAt(0))}t.UTF8_BOM_CHARACTER=String.fromCharCode(65279),t.startsWithUTF8BOM=i;class s{constructor(e,t,n,r,i,s){this._chunks=e,this._bom=t,this._cr=n,this._lf=r,this._crlf=i,this._normalizeEOL=s}_getEOL(e){const t=this._cr+this._lf+this._crlf,n=this._cr+this._crlf;return 0===t?1===e?"\n":"\r\n":n>t/2?"\r\n":"\n"}create(e){const t=this._getEOL(e);let n=this._chunks;if(this._normalizeEOL&&("\r\n"===t&&(this._cr>0||this._lf>0)||"\n"===t&&(this._cr>0||this._crlf>0)))for(let e=0,i=n.length;e<i;e++){let i=n[e].buffer.replace(/\r\n|\r|\n/g,t),s=r.createLineStartsFast(i);n[e]=new r.StringBuffer(i,s)}return new r.PieceTreeBase(n,t,this._normalizeEOL)}getFirstLineText(e){return this._chunks[0].buffer.substr(0,100).split(/\r\n|\r|\n/)[0]}}t.PieceTreeTextBufferFactory=s;t.PieceTreeTextBufferBuilder=class{constructor(){this.chunks=[],this.BOM="",this._hasPreviousChar=!1,this._previousChar=0,this._tmpLineStarts=[],this.cr=0,this.lf=0,this.crlf=0}acceptChunk(e){if(0===e.length)return;0===this.chunks.length&&i(e)&&(this.BOM=t.UTF8_BOM_CHARACTER,e=e.substr(1));const n=e.charCodeAt(e.length-1);13===n||n>=55296&&n<=56319?(this._acceptChunk1(e.substr(0,e.length-1),!1),this._hasPreviousChar=!0,this._previousChar=n):(this._acceptChunk1(e,!1),this._hasPreviousChar=!1,this._previousChar=n)}_acceptChunk1(e,t){(t||0!==e.length)&&(this._hasPreviousChar?this._acceptChunk2(String.fromCharCode(this._previousChar)+e):this._acceptChunk2(e))}_acceptChunk2(e){const t=r.createLineStarts(this._tmpLineStarts,e);this.chunks.push(new r.StringBuffer(e,t.lineStarts)),this.cr+=t.cr,this.lf+=t.lf,this.crlf+=t.crlf}finish(e=!0){return this._finish(),new s(this.chunks,this.BOM,this.cr,this.lf,this.crlf,e)}_finish(){if(0===this.chunks.length&&this._acceptChunk1("",!0),this._hasPreviousChar){this._hasPreviousChar=!1;let e=this.chunks[this.chunks.length-1];e.buffer+=String.fromCharCode(this._previousChar);let t=r.createLineStartsFast(e.buffer);e.lineStarts=t,13===this._previousChar&&this.cr++}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(112);class i{constructor(e,t,n,r){e>n||e===n&&t>r?(this.startLineNumber=n,this.startColumn=r,this.endLineNumber=e,this.endColumn=t):(this.startLineNumber=e,this.startColumn=t,this.endLineNumber=n,this.endColumn=r)}isEmpty(){return i.isEmpty(this)}static isEmpty(e){return e.startLineNumber===e.endLineNumber&&e.startColumn===e.endColumn}containsPosition(e){return i.containsPosition(this,e)}static containsPosition(e,t){return!(t.lineNumber<e.startLineNumber||t.lineNumber>e.endLineNumber)&&(!(t.lineNumber===e.startLineNumber&&t.column<e.startColumn)&&!(t.lineNumber===e.endLineNumber&&t.column>e.endColumn))}containsRange(e){return i.containsRange(this,e)}static containsRange(e,t){return!(t.startLineNumber<e.startLineNumber||t.endLineNumber<e.startLineNumber)&&(!(t.startLineNumber>e.endLineNumber||t.endLineNumber>e.endLineNumber)&&(!(t.startLineNumber===e.startLineNumber&&t.startColumn<e.startColumn)&&!(t.endLineNumber===e.endLineNumber&&t.endColumn>e.endColumn)))}plusRange(e){return i.plusRange(this,e)}static plusRange(e,t){let n,r,s,o;return t.startLineNumber<e.startLineNumber?(n=t.startLineNumber,r=t.startColumn):t.startLineNumber===e.startLineNumber?(n=t.startLineNumber,r=Math.min(t.startColumn,e.startColumn)):(n=e.startLineNumber,r=e.startColumn),t.endLineNumber>e.endLineNumber?(s=t.endLineNumber,o=t.endColumn):t.endLineNumber===e.endLineNumber?(s=t.endLineNumber,o=Math.max(t.endColumn,e.endColumn)):(s=e.endLineNumber,o=e.endColumn),new i(n,r,s,o)}intersectRanges(e){return i.intersectRanges(this,e)}static intersectRanges(e,t){let n=e.startLineNumber,r=e.startColumn,s=e.endLineNumber,o=e.endColumn,a=t.startLineNumber,c=t.startColumn,u=t.endLineNumber,l=t.endColumn;return n<a?(n=a,r=c):n===a&&(r=Math.max(r,c)),s>u?(s=u,o=l):s===u&&(o=Math.min(o,l)),n>s?null:n===s&&r>o?null:new i(n,r,s,o)}equalsRange(e){return i.equalsRange(this,e)}static equalsRange(e,t){return!!e&&!!t&&e.startLineNumber===t.startLineNumber&&e.startColumn===t.startColumn&&e.endLineNumber===t.endLineNumber&&e.endColumn===t.endColumn}getEndPosition(){return new r.Position(this.endLineNumber,this.endColumn)}getStartPosition(){return new r.Position(this.startLineNumber,this.startColumn)}toString(){return"["+this.startLineNumber+","+this.startColumn+" -> "+this.endLineNumber+","+this.endColumn+"]"}setEndPosition(e,t){return new i(this.startLineNumber,this.startColumn,e,t)}setStartPosition(e,t){return new i(e,t,this.endLineNumber,this.endColumn)}collapseToStart(){return i.collapseToStart(this)}static collapseToStart(e){return new i(e.startLineNumber,e.startColumn,e.startLineNumber,e.startColumn)}static fromPositions(e,t=e){return new i(e.lineNumber,e.column,t.lineNumber,t.column)}static lift(e){return e?new i(e.startLineNumber,e.startColumn,e.endLineNumber,e.endColumn):null}static isIRange(e){return e&&"number"==typeof e.startLineNumber&&"number"==typeof e.startColumn&&"number"==typeof e.endLineNumber&&"number"==typeof e.endColumn}static areIntersectingOrTouching(e,t){return!(e.endLineNumber<t.startLineNumber||e.endLineNumber===t.startLineNumber&&e.endColumn<t.startColumn)&&!(t.endLineNumber<e.startLineNumber||t.endLineNumber===e.startLineNumber&&t.endColumn<e.startColumn)}static areIntersecting(e,t){return!(e.endLineNumber<t.startLineNumber||e.endLineNumber===t.startLineNumber&&e.endColumn<=t.startColumn)&&!(t.endLineNumber<e.startLineNumber||t.endLineNumber===e.startLineNumber&&t.endColumn<=e.startColumn)}static compareRangesUsingStarts(e,t){if(e&&t){const n=0|e.startLineNumber,r=0|t.startLineNumber;if(n===r){const n=0|e.startColumn,r=0|t.startColumn;if(n===r){const n=0|e.endLineNumber,r=0|t.endLineNumber;if(n===r){return(0|e.endColumn)-(0|t.endColumn)}return n-r}return n-r}return n-r}return(e?1:0)-(t?1:0)}static compareRangesUsingEnds(e,t){return e.endLineNumber===t.endLineNumber?e.endColumn===t.endColumn?e.startLineNumber===t.startLineNumber?e.startColumn-t.startColumn:e.startLineNumber-t.startLineNumber:e.endColumn-t.endColumn:e.endLineNumber-t.endLineNumber}static spansMultipleLines(e){return e.endLineNumber>e.startLineNumber}}t.Range=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(36),i=n(110);class s{constructor(e,t,n,o,a){this._connection=e,this._id=i.generateUuid();let c={id:this._id,title:t,cancellable:a};void 0!==n&&(c.percentage=n),void 0!==o&&(c.message=o),void 0!==a&&(c.cancellable=a),s.Instances.set(this._id,this),this._source=new r.CancellationTokenSource,this._connection.sendNotification(r.Proposed.ProgressStartNotification.type,c)}get token(){return this._source.token}report(e,t){let n,i;"number"==typeof e?(n=e,void 0!==t&&(i=t)):i=e,this._connection.sendNotification(r.Proposed.ProgressReportNotification.type,{id:this._id,percentage:n,message:i})}done(){s.Instances.delete(this._id),this._source.dispose(),this._connection.sendNotification(r.Proposed.ProgressDoneNotification.type,{id:this._id})}cancel(){this._source.cancel()}}s.Instances=new Map;class o{constructor(){this._source=new r.CancellationTokenSource}get token(){return this._source.token}report(){}done(){}}t.ProgressFeature=e=>(class extends e{initialize(e){let t=e;t.window&&t.window.progress&&(this._progressSupported=!0,this.connection.onNotification(r.Proposed.ProgressCancelNotification.type,e=>{let t=s.Instances.get(e.id);void 0!==t&&t.cancel()}))}createProgress(e,t,n,r){return this._progressSupported?new s(this.connection,e,t,n,r):new o}})},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,s){function o(e){try{c(r.next(e))}catch(e){s(e)}}function a(e){try{c(r.throw(e))}catch(e){s(e)}}function c(e){e.done?i(e.value):new n(function(t){t(e.value)}).then(o,a)}c((r=r.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0});const i=n(48),s=n(212),o=n(66),a=n(213),c=n(219),u=n(2),l=n(220),h=n(221),d=n(114),p=n(7),f=n(222),_=n(116),m=n(39),g=n(223),y=n(336),T=n(337),b=n(15),v=n(343),E=n(344),S=n(117),k=n(345),w=n(346),N=n(40),A=n(115),x=n(151),C=n(8),R=1e6;t.Intelephense=class{constructor(){this.cacheTimestamp=0,this.isDocumentOpen=e=>this.compiler.isOpened(e),this.initialise=e=>r(this,void 0,void 0,function*(){e.logger&&(m.Log.writer=e.logger);let t=e.cache;this.fileProvider=e.fileProvider;const n=(e,t)=>r(this,void 0,void 0,function*(){return this.isDocumentOpen(e)||this.compiler.isLoadedWithTransform(e,t)?this.parseTreeStore.find(e):1===(yield this.compiler.loadUri(e,t))?this.parseTreeStore.find(e):void 0});this.documentStore=new s.DocumentStore,this.parseTreeStore=new b.ParseTreeStore,this.definitionStore=new o.DefinitionStore(new Map,new u.DefinitionIndex),this.referenceStore=new _.ReferenceStore(e=>n(this.documentStore.uri(e),3)),this.diagnosticStore=new k.DiagnosticStore,this.metadataStore=N.MetadataStore.create(this.definitionStore);const i={documentStore:this.documentStore,parseTreeStore:this.parseTreeStore,definitionStore:this.definitionStore,referenceStore:this.referenceStore,diagnosticStore:this.diagnosticStore,metadataStore:this.metadataStore};this.compiler=new T.Compiler(i,this.fileProvider),this.indexer=new x.Indexer(this.compiler,R,0),this.documentationService=new S.DocumentationService(e=>n(this.documentStore.uri(e),1),this.definitionStore,e=>this.compiler.inferDefinitionTypeAndValue(e)),this.documentSymbolProvider=new v.DocumentSymbolProvider(i),this.workspaceSymbolProvider=new E.WorkspaceSymbolProvider(i),this.definitionProvider=new h.DefinitionProvider(i),this.completionProvider=new a.CompletionProvider(i,S.DocumentationFormatter.createDocumentationFormatterofKind(e.completion?e.completion.markupFormat:void 0,this.definitionStore),e=>this.compiler.inferDefinitionTypeAndValue(e),this.documentationService),this.signatureHelpProvider=new l.SignatureHelpProvider(i,new l.SignatureHelpFactory(this.documentationService,S.DocumentationFormatter.createDocumentationFormatterofKind(e.signatureHelp?e.signatureHelp.markupFormat:void 0,this.definitionStore),this.definitionStore),e=>{const t=this.parseTreeStore.find(e);if(t&&t.nodeMaps.nodeReferenceMap)return new A.ResolveScopeTypeVisitor(t.nodeMaps.nodeReferenceMap,this.definitionStore,e=>this.compiler.inferDefinitionTypeAndValue(e),this.metadataStore,t.getNodeUtils())}),this.diagnosticsProvider=new c.DiagnosticsProvider(i),this.formatProvider=new d.FormatProvider(i),this.referenceProvider=new f.ReferenceProvider(i),this.hoverProvider=new g.HoverProvider(i,S.DocumentationFormatter.createDocumentationFormatterofKind(e.hover?e.hover.markupFormat:void 0,this.definitionStore),this.documentationService),this.highlightProvider=new y.HighlightProvider(i),t&&(m.Log.info(`Reading state from ${t.directory}.`),yield this.readStateFromCache(t),this.indexer.modTime=this.cacheTimestamp)}),this.clear=()=>{this.compiler.clear()},this.writeStateToCache=e=>{let t=Date.now();return this.indexer.modTime=t,w.Serialiser.writeStateToCache({documentStore:this.documentStore,parseTreeStore:this.parseTreeStore,definitionStore:this.definitionStore,referenceStore:this.referenceStore,diagnosticStore:this.diagnosticStore,metadataStore:this.metadataStore},e,t)},this.readStateFromCache=e=>r(this,void 0,void 0,function*(){this.cacheTimestamp=yield w.Serialiser.readStateFromCache({documentStore:this.documentStore,parseTreeStore:this.parseTreeStore,definitionStore:this.definitionStore,referenceStore:this.referenceStore,diagnosticStore:this.diagnosticStore,metadataStore:this.metadataStore},e)}),this.provideHighlights=(e,t)=>r(this,void 0,void 0,function*(){return 1===this.compiler.ready(e)?this.highlightProvider.provideHightlights(e,t):void 0}),this.provideHover=(e,t,n)=>r(this,void 0,void 0,function*(){return 1===this.compiler.ready(e)?this.hoverProvider.provideHover(e,t,n):void 0}),this.documentLanguageRanges=e=>r(this,void 0,void 0,function*(){if(1!==this.compiler.ready(e))return;const t=this.parseTreeStore.find(e),n=this.documentStore.find(e);return t&&n?{version:n.version,ranges:t.documentLanguageRanges()}:void 0}),this.setConfig=e=>{e&&(this.completionProvider.options=e.completion,this.completionProvider.environment=e.environment,this.definitionProvider.options=e.definition,this.diagnosticsProvider.options=e.diagnostic,this.signatureHelpProvider.options=e.signatureHelp,this.hoverProvider.options=e.hover,this.highlightProvider.options=e.highlight,this.referenceProvider.options=e.reference,this.documentSymbolProvider.options=e.documentSymbol,this.workspaceSymbolProvider.options=e.workspaceSymbol,this.formatProvider.options=e.format,this.compiler.environment=e.environment,this.indexer.maxFileSize=e.files&&e.files.maxSize?e.files.maxSize:R)},this.openDocument=(e,t,n,r)=>{const s=new i.Document(e,t,n,r);return this.compiler.open(s)},this.closeDocument=e=>this.compiler.close(e),this.editDocument=(e,t,n)=>this.compiler.applyChanges(e,t,n),this.documentSymbols=e=>r(this,void 0,void 0,function*(){return 1===this.compiler.ready(e)?this.documentSymbolProvider.provideDocumentSymbols(e):void 0}),this.workspaceSymbols=e=>e?this.workspaceSymbolProvider.provideWorkspaceSymbols(e):[],this.provideCompletions=(e,t)=>r(this,void 0,void 0,function*(){return 1===this.compiler.ready(e)?this.completionProvider.provideCompletionItems(e,t):void 0}),this.completionItemResolve=(e,t)=>this.completionProvider.resolveCompletionItem(e,t),this.provideSignatureHelp=(e,t,n)=>r(this,void 0,void 0,function*(){return 1===this.compiler.ready(e)?this.signatureHelpProvider.provideSignatureHelp(e,t,n):void 0}),this.provideDefinition=(e,t)=>r(this,void 0,void 0,function*(){return 1===this.compiler.ready(e)?this.definitionProvider.provideDefinition(e,t):void 0}),this.indexDocument=(e,t)=>this.indexer.indexFile(e,t),this.forgetDocument=e=>this.indexer.forgetFile(e),this.forgetFolder=e=>{const t=this.getIndexedDocuments();for(let n of t)0===n.indexOf(e)&&this.forgetDocument(n)},this.indexFolder=(e,t)=>r(this,void 0,void 0,function*(){try{const n=yield this.indexer.indexFolder(e);return t&&n>0&&!this.writeToCacheDisposable&&this.registerWriteStateToCacheOnIndexingFinished(t),n}catch(e){return e&&m.Log.error(e.toString()),0}}),this.indexWorkspace=(e,t)=>r(this,void 0,void 0,function*(){try{const n=yield this.indexer.indexWorkspace(e);return t&&n>0&&!this.writeToCacheDisposable&&this.registerWriteStateToCacheOnIndexingFinished(t),n}catch(e){return e&&m.Log.error(e.stack),0}}),this.cancelIndexing=()=>{this.indexer.cancel()},this.provideDocumentFormattingEdits=(e,t)=>r(this,void 0,void 0,function*(){return 1===this.compiler.ready(e)?this.formatProvider.provideDocumentFormattingEdits(e,t):void 0}),this.provideDocumentRangeFormattingEdits=(e,t,n)=>r(this,void 0,void 0,function*(){return 1===this.compiler.ready(e)?this.formatProvider.provideDocumentRangeFormattingEdits(e,t,n):void 0}),this.provideReferences=(e,t,n,i)=>r(this,void 0,void 0,function*(){if(1===this.compiler.ready(e))return(yield this.referenceProvider.provideReferences(e,t,n,i)).map(e=>e.range?p.Location.create(this.documentStore.uri(e.uriId),u.PackedRange.toLspRange(e.range)):void 0).filter(C.isNotUndefined)})}get indexTimestamp(){return this.cacheTimestamp}set onPublishDiagnostics(e){this.diagnosticsUnsubscribe&&this.diagnosticsUnsubscribe(),e&&(this.diagnosticsUnsubscribe=this.diagnosticsProvider.publishDiagnosticsEvent.subscribe(e))}getIndexedDocuments(){return this.documentStore.getIndexedDocumentUris()}registerWriteStateToCacheOnIndexingFinished(e){this.writeToCacheDisposable=this.indexer.indexingEndedEvent(t=>r(this,void 0,void 0,function*(){try{this.writeToCacheDisposable&&this.writeToCacheDisposable.dispose(),this.writeToCacheDisposable=void 0,m.Log.info(`Writing state to ${e.directory}.`);const t=process.hrtime();yield this.writeStateToCache(e);const n=process.hrtime(t);m.Log.info(`Wrote state in ${(n[0]+n[1]/1e9).toFixed(1)}s.`)}catch(e){e&&m.Log.error(e.toString())}}))}set onIndexingStart(e){this.onIndexingStartDisposable&&this.onIndexingStartDisposable.dispose(),e&&(this.onIndexingStartDisposable=this.indexer.indexingStartedEvent(e))}set onIndexingEnd(e){this.onIndexingEndDisposable&&this.onIndexingEndDisposable.dispose(),e&&(this.onIndexingEndDisposable=this.indexer.indexingEndedEvent(e))}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(2),i=n(8);var s;t.DocumentStore=class{constructor(){this._documents=new Map,this.uriIndex=new o}getIndexedDocumentUris(){return this.uriIndex.uris()}getRedBlackIndexedDocumentIdentifiers(){return this.uriIndex.redBlackIndexedDocumentIdentifiersIterator()}getCounter(){return this.uriIndex.counter}isKnown(e){return this.uriIndex.has(e)}add(e){const t=this.uriIndex.add(e.uri,e.flags||0);return e.id=t,this._documents.set(e.uri,e),e}remove(e){const t=this._documents.get(e);return t&&this._documents.delete(e),t}forget(e){this.remove(e),this.uriIndex.remove(e)}find(e){return this._documents.get(e)}match(e){return this.uriIndex.match(e)}restore(e,t){this.uriIndex.restore(e,t)}clear(){this.uriIndex.clear(),this._documents=new Map}uri(e){return this.uriIndex.uri(e)}id(e){return this.uriIndex.id(e)}flags(e){return this.uriIndex.flags(e)}},function(e){const t=Math.pow(2,17)-1;e.nextId=function(e){if(e.holes.length>0)return e.holes.pop();if(e.next>t)throw new Error(`Maximum URI count of ${t} exceeded.`);return e.next++},e.recycleId=function(e,t){t===e.next-1?--e.next:e.holes.push(t)}}(s||(s={}));class o{constructor(){this._counter={next:1,holes:[]},this.identifierTree=new r.RedBlackTree((e,t)=>i.stringCompare(e.uri,t.uri)),this.idToIdentifierMap=new Map}get counter(){return this._counter}add(e,t){const n={uri:e,id:s.nextId(this._counter),flags:t};let r=this.identifierTree.insert(n);return r!==n?(s.recycleId(this._counter,n.id),r.id):(this.idToIdentifierMap.set(n.id,n),n.id)}remove(e){let t=this.identifierTree.delete({id:0,uri:e,flags:0});t&&(this.idToIdentifierMap.delete(t.id),s.recycleId(this._counter,t.id))}match(e){if(!e)return[];let t,n=i.greaterThanText(e);t=n?e=>i.stringCompare(n,e.uri):e=>1;const r=this.identifierTree.rangeIterator(t=>i.stringCompare(e,t.uri),t);return Array.from(r).map(e=>e.uri)}has(e){return!!this.id(e)}id(e){const t=this.identifierTree.find({id:0,uri:e,flags:0});return t?t.id:0}uri(e){const t=this.idToIdentifierMap.get(e);return t?t.uri:""}flags(e){const t=this.identifierTree.find({id:0,uri:e,flags:0});return t?t.flags:0}clear(){this._counter={next:1,holes:[]},this.identifierTree=new r.RedBlackTree((e,t)=>i.stringCompare(e.uri,t.uri)),this.idToIdentifierMap=new Map}*uris(){for(let e of this.idToIdentifierMap.values())yield e.uri}redBlackIndexedDocumentIdentifiersIterator(){return this.identifierTree.serialise()}restore(e,t){this._counter=e,this.identifierTree.deserialise(t),this.idToIdentifierMap=new Map;for(let e of this.identifierTree.preOrderIterator())e&&this.idToIdentifierMap.set(e.id,e)}}t.UriIndex=o},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,s){function o(e){try{c(r.next(e))}catch(e){s(e)}}function a(e){try{c(r.throw(e))}catch(e){s(e)}}function c(e){e.done?i(e.value):new n(function(t){t(e.value)}).then(o,a)}c((r=r.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0});const i=n(20),s=n(1),o=n(4),a=n(2),c=n(15),u=n(7),l=n(8),h=n(18),d=n(216),p=n(39),f=n(40),_=n(10),m=n(51),g=n(0),y=n(115),T=100;var b,v;t.DEFAULT_COMPLETION_PROVIDER_OPTIONS={insertUseDeclaration:!0,fullyQualifyGlobalConstantsAndFunctions:!1,triggerParameterHints:!0,enableSnippets:!0,maxItems:T},function(e){e.fromDefinition=function(e){if(e&&e.uriId&&e.fqsenHash)return s.DefinitionId.fromDefinition(e)}}(b=t.CompletionItemData||(t.CompletionItemData={})),function(e){e.signatureString=function(e,t,n){if(!(e&&96&e.kind))return"";const r=t.definitionChildren(e).filter(s.Definition.isParameter),i=[];let a,c,u="";for(let e=0,t=r.length;e<t;++e)if(a=r[e],c=[],e&&c.push(","),n||a.type&&a.type.declared&&c.push(o.TypeString.toTypeDeclarationString(a.type.declared,a,!0)),c.push([(1024&a.modifiers)>0?"&":"",(2048&a.modifiers)>0?"...":"",a.name].join("")),a.value){const t=e?" ":"";i.push(`${t}[${c.join(" ")}`),u+="]"}else i.push(c.join(" "));let l=`(${i.join("")}${u})`;return n||e.type&&e.type.declared&&(l+=`: ${o.TypeString.toTypeDeclarationString(e.type.declared,e,!0)}`),e.name+l},e.keywordCompletionItems=function(e,t,n){let r,i;const s=t.toLowerCase(),o=[];for(let t=0,a=e.length;t<a;++t)r=e[t],(i=s.length>0?l.contSubstringMatch(s,r):1)>0&&o.push({label:r,kind:u.CompletionItemKind.Keyword,textEdit:{range:n,newText:r},sortText:r});return o},e.NO_COMPLETION_RESPONSE={items:[],isIncomplete:!1},e.TRIGGER_PARAMETER_HINTS_CMD={title:"Trigger Parameter Hints",command:"editor.action.triggerParameterHints"};const t=/[$}\\]/g;function n(e,t,n){return"\\"+e}e.snippetEscape=function(e){return e.replace(t,n)},e.correctForKeywordAndOrTrailingBackslash=function(e){const t=e.clone();return i.isKeyword(t.node.kind)&&t.prevToken(),146===t.node.kind&&t.prevToken(),t.node!==e.node?t:void 0},e.traitUseClauseDefinitions=function(e,t){e.nthChild(1),e.nthChild(0);const n=[];let r,i;do{c.NodeUtils.isNamePhrase(e.node)&&(e.lastChild(),(r=e.reference())&&r.name&&(i=h.TypeDefinition.fromName(r.name,t,4))&&n.push(i),e.parent())}while(e.nextSibling());return n},e.createUseDeclarationDetail=function(e,t,n){let r="";64===n?r="function ":8===n&&(r="const ");let i=`use ${r}${e}`;return e.slice(-t.length)!==t&&(i+=` as ${t}`),i}}(v=t.CompletionStrategy||(t.CompletionStrategy={}));t.CompletionProvider=class{constructor(e,n,r,i){this.stores=e,this.documentationFormatter=n,this.typeAndValueDelegate=r,this.documentationService=i,this._environment={documentRoot:"",includePaths:[]},this._options=Object.assign({},t.DEFAULT_COMPLETION_PROVIDER_OPTIONS),this._strategies=[new Y(this._options,this.stores.definitionStore),new k(this._options,this.stores.definitionStore),new C(this._options,this.stores.definitionStore,this.typeAndValueDelegate,this.stores.metadataStore),new R(this._options,this.stores.definitionStore,this.typeAndValueDelegate,this.stores.metadataStore),new N(this._options,this.stores.definitionStore,this.stores.documentStore),new w(this._options,this.stores.definitionStore,this.stores.documentStore),new I(this._options,this.stores.definitionStore),new O(this._options,this.stores.definitionStore),new D(this._options,this.stores.definitionStore),new P(this._options,this.stores.definitionStore),new L(this._options,this.stores.definitionStore),new M(this._options,this.stores.definitionStore),new U(this._options,this.stores.definitionStore),new F(this._options,this.stores.definitionStore),new j(this._options),new q(this._options),new S(this._options,this.stores.definitionStore),new B(this._options,this.stores.definitionStore),new G(this._options,this.stores.definitionStore),new H(this._options,this.stores.definitionStore),new $(this._options,this.stores.definitionStore),new W(this._options,this.stores.definitionStore),new z(this._options,this.stores.documentStore,this._environment,this.typeAndValueDelegate),new V(this._options),new K(this._options),new A(this._options,this.stores.definitionStore)]}set environment(e){e?(this._environment=Object.assign({},this._environment,e),this._strategies[22].environment=this._environment):this._environment={documentRoot:"",includePaths:[]}}set options(e){if(e){this._options=Object.assign({},this._options,e);for(let e=0,t=this._strategies.length;e<t;++e)this._strategies[e].options=this._options}else this._options=Object.assign({},t.DEFAULT_COMPLETION_PROVIDER_OPTIONS)}provideCompletionItems(e,t){const n=this.stores.documentStore.find(e),r=this.stores.parseTreeStore.find(e),s=this.stores.definitionStore.table(this.stores.documentStore.id(e));if(!n||!r||!s)return p.Log.warn(`[CompletionProvider] Could not find file ${e}.`),v.NO_COMPLETION_RESPONSE;const o=r.getNodeUtils().positionToOffset(t),a=r.getTraverser();if(!a.seek(o-1))return p.Log.warn(`[CompletionProvider] Could not find node at position (${t.line}, ${t.character}).`),v.NO_COMPLETION_RESPONSE;let c=a.node;if(!i.isToken(c)||80===c.kind)return v.NO_COMPLETION_RESPONSE;const l=n.wordToLeftOfOffset(o);let h=void 0;for(let e=0,t=this._strategies.length;e<t&&!h;++e)this._strategies[e].canSuggest(a.clone())&&(h=this._strategies[e]);const d={document:n,parseTree:r,parseTreeTraverser:a.clone(),definitionTable:s,word:l,position:t,offset:o,insertRange:u.Range.create(t.line,t.character-l.length,t.line,t.character)};return h?h.completions(d):v.NO_COMPLETION_RESPONSE}resolveCompletionItem(e,t){return r(this,void 0,void 0,function*(){if(!e.data)return e;const n=e.data;let r=this.stores.definitionStore.findDefinitionById(n);if(!r)return e;if(void 0===e.detail&&(1024===r.kind||8===r.kind)){let t=s.Definition.typeAsTypeString(r),n=r.value;if(void 0===t||void 0===n){const e=yield this.typeAndValueDelegate(r);t=e.type,n=e.value}const i=[];1&r.modifiers?i.push("public"):2&r.modifiers?i.push("protected"):4&r.modifiers&&i.push("private"),i.push("const"),i.push(s.Definition.shortName(r.name)),void 0!==n?(i.push("="),i.push(n.toString())):o.TypeString.isArray(t)&&(i.push("="),i.push("[]")),e.detail=i.join(" ")}if(void 0===e.documentation){const n=yield this.documentationService.getDocumentation(r,t);n&&(e.documentation={kind:this.documentationFormatter.getLspMarkupKind(),value:this.documentationFormatter.format(n)})}return e})}};class E{constructor(e,t){this.options=e,this.definitionStore=t}correctForTrailingBackslash(e){const t=e.clone();return c.NodeUtils.isTokenOfKind(t.node,[146])?(t.prevToken(),t):e}completions(e){let t=e.word;if(!t)return v.NO_COMPLETION_RESPONSE;let n=1136;"\\"===e.document.textToLeftOfOffset(e.offset,t.length+1)[0]?n=1079:0===t.indexOf("namespace")&&(n=1139);const r=[],i=e.parseTreeTraverser.getNameResolver();let o=this.getDefinitionFilter(e),a=void 0;const c=new d.UseDeclarationHelper(e.parseTree,e.definitionTable,e.position);let u=void 0;if(1139===n||1079===n||t.indexOf("\\")>-1)1139===n?t=i.resolveRelative(t.slice(10)):1136===n&&(u=i.matchUnqualified(t.slice(0,t.indexOf("\\")),1),t=i.resolveNotFullyQualified(t)),e.insertRange.start.character+=e.word.lastIndexOf("\\")+1,a=t.lastIndexOf("\\")+1;else{const n=o,a=!i.namespaceName,u=t.toLowerCase(),d=new Set,p=v.keywordCompletionItems(this._getKeywords(e.parseTreeTraverser.clone()),t,e.insertRange);c.useDeclarationDefinitions.filter(e=>l.contSubstringMatch(u,s.Definition.shortName(e.name).toLowerCase())>0).forEach(t=>{let n=h.UseDefinition.create(t,this.definitionStore);if(n)return n.external&&d.add(n.external),r.push(this._toCompletionItem(n,c,i.namespaceName,void 0,void 0,e.insertRange)),n}),o=e=>n(e)&&!d.has(e)&&(a||512!==e.kind)&&(512===e.kind||s.Definition.shortName(e.name).toLowerCase().indexOf(u)>-1),Array.prototype.push.apply(r,p)}const p=new Set,f=this.definitionStore.match(t,o),_=this.options.maxItems||T;let m=!1;for(let t of f)if((512!==t.kind||!p.has(t.name))&&(512===t.kind&&p.add(t.name),r.push(this._toCompletionItem(t,c,i.namespaceName,a,u,e.insertRange)),r.length>=_)){m=!0;break}return{items:r,isIncomplete:m}}_toCompletionItem(e,t,n,r,i,o){const a={kind:s.PhpSymbol.toLspCompletionItemKind(e),label:e.name,textEdit:{range:o,newText:e.name},data:b.fromDefinition(e)};(262144&e.modifiers)>0&&(a.deprecated=!0);const c=s.Definition.namespace(e.name);if(void 0!==r)a.label=e.name.slice(r),a.textEdit.newText=a.label,i&&(a.detail=v.createUseDeclarationDetail(i.fqn,i.name));else if((4096&e.modifiers)>0&&e.associated)a.detail=v.createUseDeclarationDetail(e.associated[0].name,s.Definition.shortName(e.name),e.kind),a.label=s.Definition.shortName(e.name),a.textEdit.newText=a.label,a.sortText="a"+a.label;else if(512===e.kind||!n&&!c||8===e.kind&&this._isMagicConstant(e.name));else if(n===c)a.detail=`namespace ${n}`,a.label=s.Definition.shortName(e.name),a.textEdit.newText=a.label;else if(8!==e.kind&&64!==e.kind||!n||c)if(this.options.insertUseDeclaration){a.label=s.Definition.shortName(e.name),a.textEdit.newText=a.label;let r=void 0;if(t.findUseSymbolByLocalName(s.Definition.nameJoin(n,a.label),e.kind)){if(!(r=s.Definition.createAlias(e,t,n)))return a.textEdit.newText="\\"+e.name,this.setSortText(e,a);a.textEdit.newText=r}a.detail=v.createUseDeclarationDetail(e.name,r||a.label,e.kind),a.additionalTextEdits=[t.getUseDeclarationInsertTextEdit(e,r)]}else 512!==e.kind&&(a.label=s.Definition.shortName(e.name)),a.textEdit.newText="\\"+e.name,a.detail=e.name;else a.label=e.name,this.options.fullyQualifyGlobalConstantsAndFunctions?a.textEdit.newText="\\"+e.name:a.textEdit.newText=a.label;if(64===e.kind){a.textEdit.newText||(a.textEdit.newText=a.label);let t=this.definitionStore.table(e.uriId);t&&(a.detail=v.signatureString(e,t)),this.options.triggerParameterHints&&this.options.enableSnippets&&(t&&t.definitionChildren(e).filter(s.Definition.isParameter).length?(a.textEdit.newText+="($0)",a.insertTextFormat=u.InsertTextFormat.Snippet,a.command=v.TRIGGER_PARAMETER_HINTS_CMD):a.textEdit.newText+="()")}else 8===e.kind&&void 0!==e.value&&(a.detail=`${e.name} = ${e.value}`);return this.setSortText(e,a)}setSortText(e,t){return t.sortText||((65536&e.modifiers)>0?t.sortText="z"+t.label:t.sortText=t.label),t}_isMagicConstant(e){switch(e){case"__DIR__":case"__FILE__":case"__CLASS__":case"__LINE__":case"__FUNCTION__":case"__TRAIT__":case"__METHOD__":case"__NAMESPACE__":return!0;default:return!1}}_isNamePhrase(e){switch(e.kind){case 1136:case 1079:case 1139:return!0;default:return!1}}}E.NAME_PHRASE_KINDS=[1079,1136,1139];class S extends E{canSuggest(e){const t=v.correctForKeywordAndOrTrailingBackslash(e);if(t)switch(t.node.kind){case 41:return!0;case 82:e=t;break;default:return!1}return c.NodeUtils.isPhraseOfKind(e.parent(),[1116])&&c.NodeUtils.isPhraseOfKind(e.parent(),S.NAME_PHRASE_KINDS)&&c.NodeUtils.isPhraseOfKind(e.parent(),[1096])}getDefinitionFilter(e){return e=>(515&e.kind)>0&&!(512&e.modifiers)}_getKeywords(e){return S.KEYWORDS}}S.KEYWORDS=["namespace","self"];class k extends E{canSuggest(e){const t=v.correctForKeywordAndOrTrailingBackslash(e);if(t)switch(t.node.kind){case 50:return!0;case 82:e=t;break;default:return!1}return c.NodeUtils.isPhraseOfKind(e.parent(),[1116])&&c.NodeUtils.isPhraseOfKind(e.parent(),k.NAME_PHRASE_KINDS)&&c.NodeUtils.isPhraseOfKind(e.parent(),[1034])}getDefinitionFilter(e){return f.Metadata.isMetadataNamespace(e.parseTreeTraverser.getNameResolver().namespaceName)?e=>(515&e.kind)>0&&!(512&e.modifiers):e=>(513&e.kind)>0&&!(528&e.modifiers)}_getKeywords(e){return k.KEYWORDS}_toCompletionItem(e,t,n,r,i,o){const a=super._toCompletionItem(e,t,n,r,i,o);if(512===e.kind)return a;const c=h.TypeDefinition.fromDefinition(e,this.definitionStore),l=c?c.findMember("__construct",2048):void 0;if(a.kind=u.CompletionItemKind.Constructor,!l)return a;const d=this.definitionStore.table(l.uriId);return d&&d.definitionChildren(l).filter(s.Definition.isParameter).length&&(a.textEdit.newText||(a.textEdit.newText=a.label),a.data=b.fromDefinition(l),this.options.triggerParameterHints&&this.options.enableSnippets&&(a.textEdit.newText+="($0)",a.insertTextFormat=u.InsertTextFormat.Snippet,a.command=v.TRIGGER_PARAMETER_HINTS_CMD)),a}}k.KEYWORDS=["class","static","namespace","self"];class w{constructor(e,t,n){this.options=e,this.definitionStore=t,this.documentStore=n}canSuggest(e){return this.isInAnonymousFunctionUseClause(e.clone())||this.isDollarCurlyOpenVariable(e.clone())||c.NodeUtils.isTokenOfKind(e.node,[89,83])&&c.NodeUtils.isPhraseOfKind(e.parent(),[1152])}completions(e){const t=e.parseTreeTraverser.clone();let n;if(!e.word)return v.NO_COMPLETION_RESPONSE;this.isInAnonymousFunctionUseClause(e.parseTreeTraverser.clone())&&(89===t.node.kind&&t.prevToken(),t.ancestor(c.NodeUtils.isScopeNode)),n=t.ancestor(c.NodeUtils.isScopeNode);let r=a.PackedPosition.fromLspPosition(e.position);const i=t.getDefinitions(e=>0!=(384&e.kind)&&!!e.range&&r!==e.range.end,e=>!1),h=t.references(e=>0!=(384&e.kind)&&!!e.range&&r!==e.range.end,e=>!1),d=a.PackedPosition.fromLspPosition(e.position),p=t.references(e=>0!=(4096&e.kind)&&!!e.range&&e.range.start<d,e=>!1).map(e=>this.documentStore.id(e.name)).filter(e=>!!e),f=new Map(i.map(e=>[e.name,[e,void 0]]));h.forEach(e=>{const t=f.get(e.name);t?t[1]=e:f.set(e.name,[void 0,e])}),p.forEach(e=>{const t=this.definitionStore.table(e);if(t)for(let e of t.definitions)if(256===e.kind&&0!=(2097152&e.modifiers)&&!(16781312&e.modifiers)){const t=f.get(e.name);t?t[0]=e:f.set(e.name,[e,void 0])}});const _=this.definitionStore.match(e.word,this.isSuperGlobal),m=new Set;for(let e of _)f.set(e.name,[e,void 0]),m.add(e.name);let g=this.isInStaticContext(e.parseTreeTraverser);if(g&&f.delete("$this"),!f.has("$this")&&!g){const t=e.parseTreeTraverser.thisName,n={kind:256,name:"$this",uriId:0,modifiers:0};t&&(n.type=o.TypeString.fromString(t)),f.set("$this",[void 0,n])}let y,b=Array.from(f.values());if(n&&1148===n.kind&&e.word.length>1){const t=this.definitionStore.match(e.word,e=>!(256!==e.kind||e.scope||0==(2097152&e.modifiers)||20971520&e.modifiers||f.has(e.name)));for(let e of t)b.push([e,void 0])}this.isInArgumentList(e.parseTreeTraverser.clone())&&(y=this.determineArgumentType(e));let E=this.options.maxItems||T,S=!1;const k=[],w=[];let N,A,x;const C=e.word.toLowerCase(),R=this.isDollarCurlyOpenVariable(e.parseTreeTraverser);let I,O;for(let[t,n]of b){if(t)A=t.name;else{if(!n)continue;A=n.name}if(x=void 0,I=R?A.slice(1):A,t&&(x=s.Definition.typeAsTypeString(t)),n&&!x&&(x=n.type),!(l.contSubstringMatch(C,A.toLowerCase())<0)&&(O=x?o.TypeString.toString(x):void 0,t&&t.uriId!==e.document.id&&(O=(O=this.documentStore.uri(t.uriId)).slice(O.lastIndexOf("/")+1)),(N={label:I,kind:u.CompletionItemKind.Variable,textEdit:{range:e.insertRange,newText:I},detail:O,sortText:m.has(A)||t&&t.uriId!==e.document.id?"z"+I:I}).data=t?s.DefinitionId.fromDefinition(t):void 0,y&&o.TypeString.isEqualOrOverlaps(x,y)&&!m.has(A)&&w.push(N),k.push(N),k.length>=E)){S=!0;break}}return 1===w.length&&(w[0].preselect=!0),{items:k,isIncomplete:S}}isInStaticContext(e){e=e.clone();let t,n=e=>{switch(e.kind){case 1081:case 1108:case 1004:return!0;default:return!1}},r=!1;do{if((t=e.ancestor(n))&&1004===t.kind){r=58!==t.children[0].children[0].kind}}while(t&&r);if(!t)return!1;switch(t.kind){case 1081:case 1004:return!0;case 1108:{let e=t.children[0].children[0];if(1105===e.kind)return void 0!==e.children.find(e=>58===e.kind)}return!1;default:return!1}}isDollarCurlyOpenVariable(e){return 83===(e=e.clone()).node.kind&&c.NodeUtils.isTokenOfKind(e.prevToken(),[130])}isInArgumentList(e){return c.NodeUtils.isPhraseOfKind(e.parent(),[1152])&&c.NodeUtils.isPhraseOfKind(e.parent(),[1008])}isInAnonymousFunctionUseClause(e){if(89===e.node.kind){const t=e.prevToken();return c.NodeUtils.isTokenOfKind(t,w.CLOSURE_USE_TOKENS)&&c.NodeUtils.isPhraseOfKind(e.parent(),w.CLOSURE_USE_PHRASES)}return!(83!==e.node.kind||!c.NodeUtils.isPhraseOfKind(e.parent(),[1007]))}determineArgumentType(e){const t=e.parseTreeTraverser.clone(),n=t.parent(),r=t.parent();let i=0;for(let e=0;e<r.children.length&&r.children[e]!==n;++e)92===r.children[e].kind&&++i;t.prevSibling(),t.prevSibling();const a=t.reference();if(!(a&&2144&a.kind))return;const c=this.definitionStore.findByReference(a);let u,l,h;for(let e=0;e<c.length;++e)h=c[e],(u=this.definitionStore.getDefinitionChildren(h).filter(s.Definition.isParameter)).length>i&&(l=o.TypeString.union(l,s.Definition.typeAsTypeString(u[i])));return l}isSuperGlobal(e){return 256===e.kind&&(4194304&e.modifiers)>0}}w.CLOSURE_USE_PHRASES=[1007,1006,1036],w.CLOSURE_USE_TOKENS=[92,117,102];class N{constructor(e,t,n){this.options=e,this.definitionStore=t,this.documentStore=n}canSuggest(e){let t=e.prevToken();return!!t&&(34===t.kind||!(92!==t.kind||!e.parent()||1173!==e.node.kind))}completions(e){const t=e.parseTreeTraverser.clone();t.ancestor(c.NodeUtils.isScopeNode);let n,r=a.PackedPosition.fromLspPosition(e.position),i=t.getDefinitions(e=>0!=(384&e.kind)&&!!e.range&&r!==e.range.end,e=>!1),o=new Set(i.map(e=>e.name)),l=this.definitionStore.match(e.word),h=[],d=!1;for(let t of l)if(256!==t.kind||t.scope||0==(2097152&t.modifiers)||20975616&t.modifiers||o.has(t.name)||(n=this.documentStore.uri(t.uriId),h.push({kind:u.CompletionItemKind.Variable,label:t.name,textEdit:{range:e.insertRange,newText:t.name},detail:n.slice(n.lastIndexOf("/")+1),deprecated:0!=(262144&t.modifiers),data:s.DefinitionId.fromDefinition(t)})),h.length>(this.options.maxItems||T)){d=!0;break}return{isIncomplete:d,items:h}}}class A extends E{canSuggest(e){return!!i.isKeyword(e.node.kind)||(e=this.correctForTrailingBackslash(e),c.NodeUtils.isPhraseOfKind(e.parent(),[1116])&&void 0!==e.ancestor(this._isNamePhrase))}completions(e){return e.word?"p"!==e.word&&"ph"!==e.word&&"php"!==e.word||0!==c.NodeUtils.leadingTriviaLength(e.parseTreeTraverser.node)||!c.NodeUtils.isTokenOfKind(e.parseTreeTraverser.clone().prevToken(),[156])?super.completions(e):{isIncomplete:!1,items:[{label:"<?php",kind:u.CompletionItemKind.Keyword,textEdit:{range:e.insertRange,newText:"php"},sortText:"<?php"}]}:v.NO_COMPLETION_RESPONSE}_getKeywords(e){let t=[];Array.prototype.push.apply(t,A.EXPRESSION_KEYWORDS);let n=e.prevToken()||{kind:0,length:0,previous:void 0};switch(n.kind){case 67:t.push("from");break;case 156:case 87:case 118:case 159:e.clone().ancestor(this.isControlStructure)&&Array.prototype.push.apply(t,this.controlStructureKeywords(n.kind));case 115:this.isInMethodOrFunctionBody(e.clone())||Array.prototype.push.apply(t,A.TOP_STATEMENT_LIST_KEYWORDS),Array.prototype.push.apply(t,A.STATEMENT_KEYWORDS)}return t}isInMethodOrFunctionBody(e){if(118===e.node.kind&&this.isMethodOrFunctionBody(e.parent())){let t=e.clone(),n=t.parent();if(n&&1082===n.kind)return!1;if(n&&1039===n.kind&&t.parent()&&1109===t.node.kind)return!1}return void 0!==e.ancestor(this.isMethodOrFunctionBody)}isMethodOrFunctionBody(e){return!!e&&(1109===e.kind||1082===e.kind)}isControlStructure(e){switch(e.kind){case 1091:case 1073:case 1078:case 1175:case 1050:case 1157:case 1168:case 1047:return!0;default:return!1}}controlStructureKeywords(e){switch(e){case 1091:return["elseif","else","endif"];case 1073:return["endforeach"];case 1078:return["endfor"];case 1175:return["endwhile"];case 1157:return["case","default","endswitch"];case 1168:return["catch","finally"];case 1047:return["enddeclare"];default:return[]}}getDefinitionFilter(e){return e=>(e.kind&A.KIND_MASK)>0&&!(512&e.modifiers)}}A.TOP_STATEMENT_LIST_KEYWORDS=["__halt_compiler","abstract","const","final","interface","trait"],A.STATEMENT_KEYWORDS=["break","class","continue","declare","die","do","echo","for","foreach","global","goto","if","list","namespace","return","switch","throw","try","unset","use","while"],A.EXPRESSION_KEYWORDS=["array","clone","empty","eval","exit","function","include","include_once","isset","new","parent","print","require","require_once","static","yield","self"],A.KIND_MASK=591;class x{constructor(e,t,n,r){this.options=e,this.definitionStore=t,this.typeAndValueDelegate=n,this.metadataStore=r}completions(e){let t=e.parseTreeTraverser.clone();const n=t.ancestor(this.isMemberAccessExpr);t.nthChild(0);const r=t.thisName,i=r?h.TypeDefinition.fromName(r,this.definitionStore):void 0;if(!e.parseTree.nodeMaps.nodeReferenceMap)return v.NO_COMPLETION_RESPONSE;const s=new y.ResolveScopeTypeVisitor(e.parseTree.nodeMaps.nodeReferenceMap,this.definitionStore,this.typeAndValueDelegate,this.metadataStore,e.parseTree.getNodeUtils());let a,c,d,p=t.clone().traverse(s).type,f=o.TypeString.objectNames(o.TypeString.resolveThisOrStatic(p,o.TypeString.fromString(r)));if(!f)return v.NO_COMPLETION_RESPONSE;let _=[];for(let t=0,n=f.length;t<n;++t)a=f[t],(d=i&&i.name.toLowerCase()===a.toLowerCase()?i:h.TypeDefinition.fromName(a,this.definitionStore))&&(c=this.createMemberPredicate(a,e,i),Array.prototype.push.apply(_,Array.from(d.getMembers()).filter(c)));const m=[];!n||1024!==n.kind&&1145!==n.kind&&1147!==n.kind||e.word&&!(l.contSubstringMatch(e.word.toLowerCase(),"class")>-1)||m.push({label:"class",kind:u.CompletionItemKind.Constant,textEdit:{range:e.insertRange,newText:"class"}});const g=new Set;let b;for(let t=0,n=_.length,r=this.options.maxItems||T;t<n&&m.length<r;++t)b=_[t],g.has(b.fqsenHash)||(g.add(b.fqsenHash),m.push(this.toCompletionItem(b,e.insertRange)));return{isIncomplete:m.length>=(this.options.maxItems||T),items:m}}isMemberAccessExpr(e){switch(e.kind){case 1145:case 1024:case 1147:case 1131:case 1107:return!0;default:return!1}}toCompletionItem(e,t){switch(e.kind){case 1024:return this.toClassConstantCompletionItem(e,t);case 32:case 2048:return this.toMethodCompletionItem(e,t);case 16:return this.toPropertyCompletionItem(e,t);default:throw Error("Invalid Argument")}}toMethodCompletionItem(e,t){let n=this.definitionStore.table(e.uriId),r={kind:u.CompletionItemKind.Method,label:e.name,detail:n?v.signatureString(e,n):void 0};if((262144&e.modifiers)>0&&(r.deprecated=!0),"__"===e.name.slice(0,2)?r.sortText="z"+r.label:r.sortText=r.label,this.options.triggerParameterHints&&this.options.enableSnippets){this.definitionStore.getDefinitionChildren(e).filter(s.Definition.isParameter).length?(r.textEdit={range:t,newText:e.name+"($0)"},r.insertTextFormat=u.InsertTextFormat.Snippet,r.command=v.TRIGGER_PARAMETER_HINTS_CMD):r.textEdit={range:t,newText:e.name+"()"}}else r.textEdit={range:t,newText:e.name};return r.data=b.fromDefinition(e),r}toClassConstantCompletionItem(e,t){let n={kind:u.CompletionItemKind.Constant,label:e.name};return(262144&e.modifiers)>0&&(n.deprecated=!0),void 0!==e.value&&(n.detail=`${e.name} = ${e.value}`),n.sortText=n.label,n.textEdit={range:t,newText:n.label},n.data=b.fromDefinition(e),n}toPropertyCompletionItem(e,t){let n={kind:u.CompletionItemKind.Property,label:(32&e.modifiers)>0?e.name:e.name.slice(1),detail:o.TypeString.toString(s.Definition.typeAsTypeString(e))||"mixed"};return(262144&e.modifiers)>0&&(n.deprecated=!0),n.sortText=n.label,n.textEdit={range:t,newText:n.label},n.data=b.fromDefinition(e),n}}class C extends x{canSuggest(e){return c.NodeUtils.isTokenOfKind(e.node,[132])?c.NodeUtils.isPhraseOfKind(e.parent(),C.SCOPED_ACCESS_PHRASES):c.NodeUtils.isTokenOfKind(e.node,[83])?c.NodeUtils.isPhraseOfKind(e.parent(),[1146]):c.NodeUtils.isTokenOfKind(e.node,[89])?c.NodeUtils.isPhraseOfKind(e.parent(),[1152])&&c.NodeUtils.isPhraseOfKind(e.parent(),[1146]):c.NodeUtils.isPhraseOfKind(e.parent(),[1090])&&c.NodeUtils.isPhraseOfKind(e.parent(),[1146])}isParentScope(e){let t=e.parseTreeTraverser.clone();return 132!==t.node.kind&&t.prevToken(),t.prevToken(),"parent"===t.text.toLowerCase()&&void 0===t.prevSibling()}createMemberPredicate(e,t,n){const r=t.word.toLowerCase(),i=e.toLowerCase();if(f.Metadata.isMetadataNamespace(t.parseTreeTraverser.getNameResolver().namespaceName))return e=>!r||l.contSubstringMatch(r,e.name.toLowerCase())>0;if(n&&i===n.name.toLowerCase())return e=>(32&e.modifiers)>0&&(!r||l.contSubstringMatch(r,e.name.toLowerCase()))>0;if(this.isParentScope(t))return e=>(32===e.kind||(32&e.modifiers)>0)&&!(4&e.modifiers)&&(!r||l.contSubstringMatch(r,e.name.toLowerCase())>0);if(n&&n.isAssociated(e))return e=>(32&e.modifiers)>0&&!(4&e.modifiers)&&(!r||l.contSubstringMatch(r,e.name.toLowerCase())>0);{const e=33;return t=>(t.modifiers&e)===e&&(!r||l.contSubstringMatch(r,t.name.toLowerCase())>0)}}}C.SCOPED_ACCESS_PHRASES=[1145,1024,1147];class R extends x{canSuggest(e){return c.NodeUtils.isTokenOfKind(e.node,[114])?c.NodeUtils.isPhraseOfKind(e.parent(),[1131,1107]):c.NodeUtils.isPhraseOfKind(e.parent(),[1106])}createMemberPredicate(e,t,n){const r=t.word.toLowerCase();if(n&&e.toLowerCase()===n.name.toLowerCase())return e=>!(32&e.modifiers&&32!==e.kind||r&&!(l.contSubstringMatch(r,e.name.toLowerCase())>0));if(n&&n.isAssociated(e)){const e=4;return t=>!(t.modifiers&e||32&t.modifiers&&32!==t.kind||r&&!(l.contSubstringMatch(r,t.name.toLowerCase())>0))}{const e=6;return t=>!(t.modifiers&e||32&t.modifiers&&32!==t.kind||r&&!(l.contSubstringMatch(r,t.name.toLowerCase())>0))}}}class I extends E{canSuggest(e){const t=v.correctForKeywordAndOrTrailingBackslash(e);if(t){switch(t.node.kind){case 86:return c.NodeUtils.isPhraseOfKind(t.parent(),[1144]);case 92:return c.NodeUtils.isPhraseOfKind(t.parent(),[1125]);case 117:return c.NodeUtils.isPhraseOfKind(t.parent(),I.HEADER_PHRASE_KINDS);case 82:e=t;default:return!1}}return c.NodeUtils.isTokenOfKind(e.node,I.TOKEN_KINDS)&&void 0!==e.ancestor(e=>1169===e.kind)}_getKeywords(e){return I.KEYWORDS}getDefinitionFilter(e){return e=>(515&e.kind)>0}}I.KEYWORDS=["self","array","callable","bool","float","int","string","iterable","object","void"],I.HEADER_PHRASE_KINDS=[1110,1083,1005],I.TOKEN_KINDS=[82,146,3,6];class O extends E{canSuggest(e){const t=v.correctForKeywordAndOrTrailingBackslash(e);if(t)switch(t.node.kind){case 28:return c.NodeUtils.isPhraseOfKind(t.parent(),[1023]);case 82:e=t;break;default:return!1}return c.NodeUtils.isTokenOfKind(e.node,[146,82])&&void 0!==e.ancestor(e=>1023===e.kind)}_getKeywords(e){return[]}getDefinitionFilter(e){return e=>(513&e.kind)>0&&!(8&e.modifiers)}}class D extends E{canSuggest(e){const t=v.correctForKeywordAndOrTrailingBackslash(e);if(t)switch(t.node.kind){case 38:case 28:case 92:case 82:return void 0!==t.ancestor(this.isInterfaceClause);default:return!1}return c.NodeUtils.isTokenOfKind(e.node,[146,82])&&void 0!==e.ancestor(this.isInterfaceClause)}_getKeywords(e){return[]}getDefinitionFilter(e){return e=>(514&e.kind)>0}isInterfaceClause(e){return 1031===e.kind||1097===e.kind}}class P extends E{canSuggest(e){const t=v.correctForKeywordAndOrTrailingBackslash(e);if(t){switch(t.node.kind){case 64:return c.NodeUtils.isPhraseOfKind(t.parent(),[1166]);case 92:return c.NodeUtils.isPhraseOfKind(t.parent(),[1137])&&c.NodeUtils.isPhraseOfKind(t.parent(),[1166]);case 82:e=t;break;default:return!1}}return c.NodeUtils.isTokenOfKind(e.node,[146,82])&&void 0!==e.ancestor(e=>1137===e.kind)&&c.NodeUtils.isPhraseOfKind(e.parent(),[1166])}_getKeywords(e){return[]}getDefinitionFilter(e){return e=>(516&e.kind)>0}}class L{constructor(e,t){this.options=e,this.definitionStore=t}canSuggest(e){const t=v.correctForKeywordAndOrTrailingBackslash(e);if(t)switch(t.node.kind){case 49:return c.NodeUtils.isPhraseOfKind(t.parent(),[1115]);case 82:e=t;break;default:return!1}return c.NodeUtils.isTokenOfKind(e.node,[146,82])&&c.NodeUtils.isPhraseOfKind(e.parent(),[1116])&&c.NodeUtils.isPhraseOfKind(e.parent(),[1115])}completions(e){if(!e.word)return v.NO_COMPLETION_RESPONSE;const t=[],n=new Set,r=this.definitionStore.match(e.word,this._symbolFilter);let i=!1;const s=e.word.lastIndexOf("\\")+1,o=e.insertRange;let a;o.start.character+=s;for(let e of r)if(!n.has(e.name.toLowerCase())&&(n.add(e.name.toLowerCase()),(a={label:e.name.slice(s),kind:u.CompletionItemKind.Module}).textEdit={range:o,newText:a.label},t.push(a),t.length>=(this.options.maxItems||T))){i=!0;break}return{items:t,isIncomplete:i}}_symbolFilter(e){return 512===e.kind}}class M{constructor(e,t){this.options=e,this.definitionStore=t}canSuggest(e){const t=v.correctForKeywordAndOrTrailingBackslash(e);if(t)switch(t.node.kind){case 92:return c.NodeUtils.isPhraseOfKind(e.parent(),[1118]);case 64:case 33:case 11:case 9:return c.NodeUtils.isPhraseOfKind(e.parent(),[1119]);case 82:e=t;break;default:return!1}return c.NodeUtils.isTokenOfKind(e.node,[146,82])&&c.NodeUtils.isPhraseOfKind(e.parent(),[1116])&&c.NodeUtils.isPhraseOfKind(e.parent(),[1119,1117])}completions(e){if(!e.word)return v.NO_COMPLETION_RESPONSE;let t=[];const n=e.parseTreeTraverser.clone();i.isKeyword(n.node.kind)&&n.prevToken(),c.NodeUtils.isTokenOfKind(n.node,[146])&&n.prevToken(),n.ancestor(this.isNamespaceUseDeclaration);const r=new d.UseDeclarationHelper(e.parseTree,e.definitionTable,e.position),s=new Set;r.useDeclarationDefinitions.forEach(e=>{let t=h.UseDefinition.create(e,this.definitionStore);t&&t.external&&s.add(t.external)});const o=n.child(this.isModifier),a=this.modifierToSymbolKind(o),u=this.definitionStore.match(e.word,e=>(e.kind&a)>0&&!(4096&e.modifiers)&&!s.has(e)),l=new Set;let p=!1;const f=e.word.lastIndexOf("\\")+1,_=e.word.toLowerCase(),m=e.insertRange;let g;m.start.character+=f,o||f||Array.prototype.push.apply(t,v.keywordCompletionItems(["function","const"],e.word,m));for(let e of u){if(512===e.kind){if(g=e.name.toLowerCase(),l.has(g))continue;l.add(g)}if(t.push(this._toCompletionItem(e,_,f,m)),t.length>=(this.options.maxItems||T)){p=!0;break}}return{isIncomplete:p,items:t}}_toCompletionItem(e,t,n,r){const i=e.name.slice(0,t.length).toLowerCase()===t;let o={kind:s.PhpSymbol.toLspCompletionItemKind(e),label:i?e.name.slice(n):s.Definition.shortName(e.name)};return(262144&e.modifiers)>0&&(o.deprecated=!0),512===e.kind||i?o.textEdit={range:r,newText:o.label}:(o.detail=e.name,o.textEdit={range:r,newText:e.name}),o.data=b.fromDefinition(e),o}isNamespaceUseDeclaration(e){return 1119===e.kind}modifierToSymbolKind(e){if(!e)return 519;switch(e.kind){case 33:return 576;case 11:return 520;default:return 519}}isModifier(e){switch(e.kind){case 9:case 33:case 11:return!0;default:return!1}}}class U{constructor(e,t){this.options=e,this.definitionStore=t}canSuggest(e){const t=v.correctForKeywordAndOrTrailingBackslash(e);if(t)switch(t.node.kind){case 92:return c.NodeUtils.isPhraseOfKind(e.parent(),[1121]);case 115:return c.NodeUtils.isPhraseOfKind(e.parent(),[1119]);case 33:case 11:case 9:return c.NodeUtils.isPhraseOfKind(e.parent(),[1120]);case 82:e=t;break;default:return!1}return c.NodeUtils.isTokenOfKind(e.node,[146,82])&&c.NodeUtils.isPhraseOfKind(e.parent(),[1116])&&c.NodeUtils.isPhraseOfKind(e.parent(),[1120])}completions(e){if(!e.word)return v.NO_COMPLETION_RESPONSE;let t=[];const n=e.parseTreeTraverser.clone();let r;i.isKeyword(n.node.kind)&&n.prevToken(),146===n.node.kind&&n.prevToken(),n.ancestor(this._isNamespaceUseGroupClause)&&(r=n.child(this._isModifier)),n.ancestor(this._isNamespaceUseDeclaration);let s=n.child(this._isModifier),o=this._modifierToSymbolKind(r||s),a="";s&&n.parent(),n.child(this._isNamespaceName)&&(a=n.text);const c=new d.UseDeclarationHelper(e.parseTree,e.definitionTable,e.position),u=new Set;c.useDeclarationDefinitions.forEach(e=>{let t=h.UseDefinition.create(e,this.definitionStore);t&&t.external&&u.add(t.external)});const l=e.word.indexOf("\\")>-1;let p,f=e.word;if(l)f=a+"\\"+e.word,p=e=>(e.kind&o)>0&&!(4096&e.modifiers)&&!u.has(e);else{const e=a.toLowerCase();p=t=>(t.kind&o)>0&&!(4096&t.modifiers)&&!u.has(t)&&t.name.toLowerCase().slice(0,e.length)===e}const _=this.definitionStore.match(f,p),m=new Set;let g=!1;const y=a.length+1,b=e.insertRange;let E;!r&&!s&&e.word.indexOf("\\")<0&&Array.prototype.push.apply(t,v.keywordCompletionItems(["function","const"],e.word,b));for(let e of _){if(512===e.kind){if(E=e.name.toLowerCase(),m.has(E))continue;m.add(E)}if(t.push(this._toCompletionItem(e,y,b)),t.length>=(this.options.maxItems||T)){g=!0;break}}return{isIncomplete:g,items:t}}_toCompletionItem(e,t,n){let r={kind:s.PhpSymbol.toLspCompletionItemKind(e),label:e.name.slice(t),detail:e.name};return(262144&e.modifiers)>0&&(r.deprecated=!0),r.textEdit={range:n,newText:r.label},r.data=b.fromDefinition(e),r}_isNamespaceUseGroupClause(e){return 1120===e.kind}_isNamespaceUseDeclaration(e){return 1119===e.kind}_isModifier(e){switch(e.kind){case 9:case 33:case 11:return!0;default:return!1}}_isNamespaceName(e){return 1116===e.kind}_modifierToSymbolKind(e){if(!e)return 519;switch(e.kind){case 33:return 576;case 11:return 520;default:return 519}}}class q{constructor(e){this.options=e}canSuggest(e){const t=e.clone();if(c.NodeUtils.isPhraseOfKind(t.parent(),[1061])){const n=e.prevToken();return!c.NodeUtils.isTokenOfKind(n,[65,64])&&(!!c.NodeUtils.isPhraseOfKind(e.parent(),[1105])||(!(!n||115!==n.kind||!c.NodeUtils.isPhraseOfKind(e.clone().parent(),q.DECLARATION_KINDS))||c.NodeUtils.isPhraseOfKind(t.parent(),q.PHRASE_KINDS)))}return c.NodeUtils.isPhraseOfKind(e.parent(),q.PHRASE_KINDS)}completions(e){if(!e.word)return v.NO_COMPLETION_RESPONSE;let t=q.KEYWORDS;const n=this.memberModifiers(e.parseTreeTraverser.clone());if(this.isInterface(e.parseTreeTraverser.clone()))t=n.length?l.arrayDifference(["function","public","static"],n):["const","public","static","function"];else if(n.length>0){t=["public","private","protected","function","static"];const e=n.indexOf("abstract")>-1,r=n.indexOf("final")>-1;e||r||t.push("abstract","final"),t=l.arrayDifference(t,n)}return{items:v.keywordCompletionItems(q.KEYWORDS,e.word,e.insertRange)}}isInterface(e){return e.parent(),c.NodeUtils.isPhraseOfKind(e.node,[1061])&&c.NodeUtils.isPhraseOfKind(e.parent(),[1099,1101])}memberModifiers(e){e.prevToken();const t=e.parent(),n=[];if(!t||1105!==t.kind)return n;let r;for(let e=0;e<t.children.length;++e)(r=this.memberModifierTokenToText(t.children[e]))&&n.push(r);return n}memberModifierTokenToText(e){switch(e.kind){case 53:return"public";case 54:return"protected";case 52:return"private";case 29:return"final";case 58:return"static";case 2:return"abstract";case 29:return"final";default:return""}}}q.PHRASE_KINDS=[1029,1099,1162,1032,1164,1101],q.DECLARATION_KINDS=[1028,1161,1002,1098],q.KEYWORDS=["var","public","private","protected","final","function","abstract","use","static","const"];class F{constructor(e,t){this.options=e,this.definitionStore=t}canSuggest(e){return e.prevToken(),33===e.node.kind&&c.NodeUtils.isPhraseOfKind(e.parent(),[1110])&&void 0!==e.ancestor(this.isClassMemberDeclarationList)}completions(e){if(!e.word)return v.NO_COMPLETION_RESPONSE;const t=e.parseTreeTraverser;t.ancestor(this._isMethodDeclarationHeader);const n=t.nthChild(0);let r=0;if(1105===n.kind&&(r=n.children.reduce((e,t)=>e|this.memberModifierTokenToSymbolModifier(t),0)),20&r)return v.NO_COMPLETION_RESPONSE;r&=3;let i=t.thisDefinition,s=e.definitionTable,o=i?s.definitionChildren(i).filter(this._isMethod):[],a=new Set(o.map(this._toName));const c=e.word.toLowerCase();const u=i?h.TypeDefinition.fromDefinition(i,this.definitionStore):void 0,d=u?Array.from(u.getMembers()).filter(e=>32===e.kind&&(!r||(e.modifiers&r)>0)&&!(12&e.modifiers)&&!a.has(e.name.toLowerCase())&&l.contSubstringMatch(c,e.name.toLowerCase())>0):[],p=[];let f;for(let t=0,n=d.length,r=this.options.maxItems||T;t<n&&t<r;++t)(f=d[t]).name&&"_"===f.name[0]&&a.add(f.name),p.push(this._toCompletionItem(f,e.insertRange));return Array.prototype.push.apply(p,this._magicMethodCompletionItems(e.word,a,e.insertRange)),{isIncomplete:p.length>=(this.options.maxItems||T),items:p}}memberModifierTokenToSymbolModifier(e){if(!e)return 0;switch(e.kind){case 53:return 1;case 54:return 2;case 52:return 4;case 2:return 16;case 29:return 8;case 58:return 32;default:return 0}}_magicMethodCompletionItems(e,t,n){let r;const i=[],s=Object.keys(F.MAGIC_METHODS),o=e.toLowerCase();for(let e=0;e<s.length;++e)r=s[e],l.contSubstringMatch(o,r.toLowerCase())<0||t.has(r)||i.push({kind:u.CompletionItemKind.Method,label:r,textEdit:{range:n,newText:this.options.enableSnippets?F.MAGIC_METHODS[r]:r},insertTextFormat:this.options.enableSnippets?u.InsertTextFormat.Snippet:u.InsertTextFormat.PlainText});return i}_toCompletionItem(e,t){let n=this.definitionStore.getDefinitionChildren(e).filter(s.Definition.isParameter),r=[];for(let e=0,t=n.length;e<t;++e)r.push(this._parameterToString(n[e]));let i=r.join(", "),o=this._returnType(e);this.options.enableSnippets&&(i=v.snippetEscape(i),o=v.snippetEscape(o));let a=`${e.name}(${i})${o}`;this.options.enableSnippets&&(a+="\n{\n\t$0\n\\}");let c=this.definitionStore.getDefinitionScope(e);return{kind:u.CompletionItemKind.Method,label:e.name,textEdit:{range:t,newText:a},insertTextFormat:this.options.enableSnippets?u.InsertTextFormat.Snippet:u.InsertTextFormat.PlainText,detail:`${c?c.name:"mixed"}::${e.name}`,data:b.fromDefinition(e)}}_returnType(e){if(e.type&&e.type.declared){return`: ${o.TypeString.toTypeDeclarationString(e.type.declared,e)}`}return""}_parameterToString(e){let t=[];if(e.type&&e.type.declared){const n=o.TypeString.toTypeDeclarationString(e.type.declared,e);t.push(n)}return t.push(e.name),e.value&&t.push(`= ${e.value}`),t.join(" ")}_isMethodDeclarationHeader(e){return 1110===e.kind}_isMethod(e){return 32===e.kind}_toName(e){return e.name.toLowerCase()}isClassMemberDeclarationList(e){return 1032===e.kind}}F.MAGIC_METHODS={__construct:"__construct($1)\n{\n\t$0\n\\}",__destruct:"__destruct()\n{\n\t$0\n\\}",__call:"__call(\\$name, \\$arguments)\n{\n\t$0\n\\}",__callStatic:"__callStatic(\\$name, \\$arguments)\n{\n\t$0\n\\}",__get:"__get(\\$name)\n{\n\t$0\n\\}",__set:"__set(\\$name, \\$value)\n{\n\t$0\n\\}",__isset:"__isset(\\$name)\n{\n\t$0\n\\}",__unset:"__unset(\\$name)\n{\n\t$0\n\\}",__sleep:"__sleep()\n{\n\t$0\n\\}",__wakeup:"__wakeup()\n{\n\t$0\n\\}",__toString:"__toString()\n{\n\t$0\n\\}",__invoke:"__invoke($1)\n{\n\t$0\n\\}",__set_state:"__set_state(\\$properties)\n{\n\t$0\n\\}",__clone:"__clone()\n{\n\t$0\n\\}",__debugInfo:"__debugInfo()\n{\n\t$0\n\\}"};class B{constructor(e,t){this.options=e,this.definitionStore=t}canSuggest(e){const t=e.node;return e.prevToken(),102!==e.node.kind&&133!==e.node.kind||e.prevToken(),102!==e.node.kind&&133!==e.node.kind||e.prevToken(),(83===t.kind||89===t.kind)&&void 0!==e.ancestor(e=>1169===e.kind)&&void 0!==e.ancestor(e=>1124===e.kind)}completions(e){const t=e.parseTreeTraverser.clone();t.prevToken(),102!==t.node.kind&&133!==t.node.kind||t.prevToken(),102!==t.node.kind&&133!==t.node.kind||t.prevToken();const n=t.reference();if(!n)return v.NO_COMPLETION_RESPONSE;const r="$"+l.lcFirst(s.Definition.shortName(n.name));return{items:[{label:r,kind:u.CompletionItemKind.Variable,textEdit:{range:e.insertRange,newText:r}}],isIncomplete:!1}}}class H{constructor(e,t){this.options=e,this.definitionStore=t}canSuggest(e){return void 0!==e.ancestor(e=>1111===e.kind)}completions(e){let t,n=e.parseTreeTraverser.clone();if(n.prevToken()&&132===n.node.kind){n.prevToken();const r=n.reference();let i;if(r&&r.name&&(i=h.TypeDefinition.fromName(r.name,this.definitionStore,4)),!i)return v.NO_COMPLETION_RESPONSE;t=this.findMembers(i,e.word);const o=[];let a=!1,c=this.options.maxItems||T;for(let n of t)if(o.push({label:n.name,kind:u.CompletionItemKind.Method,textEdit:{range:e.insertRange,newText:n.name},detail:s.Definition.fqsen(n.name,i.name,32),deprecated:(262144&n.modifiers)>0,data:b.fromDefinition(n)}),o.length>c){a=!0;break}return{isIncomplete:a,items:o}}{(n=e.parseTreeTraverser.clone()).ancestor(e=>1166===e.kind);const r=v.traitUseClauseDefinitions(n,this.definitionStore);let i=this.definitionStore.table(e.parseTree.id);if(!i)return v.NO_COMPLETION_RESPONSE;const o=new d.UseDeclarationHelper(e.parseTree,i,e.position),a=new Map;o.useDeclarationDefinitions.forEach(e=>{e.associated&&e.associated.length&&a.set(e.associated[0].name,e)});let c=!1;const h=[];let p,f,_=e.word.toLowerCase(),m=this.options.maxItems||T;for(let n of r){p=n.name,(f=a.get(p))&&l.contSubstringMatch(_,f.name.toLowerCase())>-1?h.push({label:f.name,kind:u.CompletionItemKind.Module,textEdit:{range:e.insertRange,newText:f.name},deprecated:(262144&n.modifiers)>0,detail:v.createUseDeclarationDetail(p,s.Definition.shortName(f.name)),data:b.fromDefinition(n)}):l.contSubstringMatch(_,n.name.toLowerCase())>-1&&h.push({label:n.name,kind:u.CompletionItemKind.Module,textEdit:{range:e.insertRange,newText:n.name},deprecated:(262144&n.modifiers)>0,data:b.fromDefinition(n)}),t=this.findMembers(n,e.word);for(let r of t)if(h.push({label:r.name,kind:u.CompletionItemKind.Method,textEdit:{range:e.insertRange,newText:(f?f.name:n.name)+"::"+r.name},detail:(f?f.name:n.name)+"::"+r.name,deprecated:(262144&r.modifiers)>0,data:b.fromDefinition(r)}),h.length>m){c=!0;break}if(h.length>m){c=!0;break}}return{isIncomplete:c,items:h}}}findMembers(e,t){let n=t.toLowerCase(),r=[];for(let t of e.getMembers())32===t.kind&&l.contSubstringMatch(n,t.name.toLowerCase())>-1&&r.push(t);return r}}class j{constructor(e){this.options=e}canSuggest(e){let t=e.prevToken();return!(!t||82!==t.kind)&&(void 0!==e.ancestor(e=>1023===e.kind)||!!(t=e.prevToken())&&(43===t.kind||9===t.kind))}completions(e){const t=e.parseTreeTraverser.clone();if(c.NodeUtils.isTokenOfKind(t.prevToken(),[82])){if(void 0!==t.ancestor(e=>1023===e.kind))return{isIncomplete:!1,items:v.keywordCompletionItems(["implements"],e.word,e.insertRange)};const n=t.prevToken();if(c.NodeUtils.isTokenOfKind(n,[43]))return{isIncomplete:!1,items:v.keywordCompletionItems(["extends"],e.word,e.insertRange)};if(c.NodeUtils.isTokenOfKind(n,[9]))return{isIncomplete:!1,items:v.keywordCompletionItems(["implements","extends"],e.word,e.insertRange)}}return v.NO_COMPLETION_RESPONSE}}class G{constructor(e,t){this.options=e,this.definitionStore=t}canSuggest(e){return e.prevToken(),void 0!==e.ancestor(e=>1111===e.kind)}completions(e){return{isIncomplete:!1,items:v.keywordCompletionItems(["insteadof","as"],e.word,e.insertRange)}}}class V{constructor(e){this.options=e}canSuggest(e){let t=e.node;if(82!==t.kind&&41!==t.kind)return!1;if(!(t=e.prevToken()))return!1;let n=e.parent();switch(t.kind){case 120:case 119:case 118:case 83:return!!n&&_.PHP.isExpression(n);case 82:return void 0!==e.ancestor(_.PHP.isExpression);default:return!!i.isKeyword(t.kind)&&(!!n&&1106===n.kind)}}completions(e){return{isIncomplete:!1,items:v.keywordCompletionItems(["instanceof"],e.word,e.insertRange)}}}class K{constructor(e){this.options=e}canSuggest(e){let t=e.prevToken();return!(!t||86!==t.kind&&115!==t.kind||!e.parent()||1157!==e.node.kind)}completions(e){return{isIncomplete:!1,items:v.keywordCompletionItems(["case","default"],e.word,e.insertRange)}}}class ${constructor(e,t){this.options=e,this.definitionStore=t}canSuggest(e){let t=e.prevToken();return!!t&&4===t.kind&&void 0!==e.ancestor(e=>1160===e.kind)}completions(e){return{isIncomplete:!1,items:v.keywordCompletionItems(["public","protected","private"],e.word,e.insertRange)}}}class W{constructor(e,t){this.options=e,this.definitionStore=t}canSuggest(e){if(void 0!==e.clone().ancestor(e=>1137===e.kind)&&void 0!==e.ancestor(e=>1165===e.kind))return!0;let t=e.prevToken();return!!t&&42===t.kind&&void 0!==e.ancestor(e=>1165===e.kind)}completions(e){let t=e.parseTreeTraverser.clone();t.prevToken();const n=t.clone();n.ancestor(e=>1166===e.kind);let r=v.traitUseClauseDefinitions(n,this.definitionStore);t.prevSibling(),t.nthChild(0),t.lastChild();const i=t.reference();i&&(r=r.filter(e=>e.name!==i.name));let o=this.definitionStore.table(e.parseTree.id);if(!o)return v.NO_COMPLETION_RESPONSE;const a=new d.UseDeclarationHelper(e.parseTree,o,e.position),c=new Map;a.useDeclarationDefinitions.forEach(e=>{e.associated&&e.associated.length&&c.set(e.associated[0].name,e)});const h=[];let p,f,_=e.word.toLowerCase();for(let t of r)p=t.name,(f=c.get(p))&&l.contSubstringMatch(_,f.name.toLowerCase())>-1?h.push({label:f.name,kind:u.CompletionItemKind.Module,textEdit:{range:e.insertRange,newText:f.name},deprecated:(262144&t.modifiers)>0,detail:v.createUseDeclarationDetail(p,s.Definition.shortName(f.name)),data:b.fromDefinition(t)}):l.contSubstringMatch(_,t.name.toLowerCase())>-1&&h.push({label:t.name,kind:u.CompletionItemKind.Module,textEdit:{range:e.insertRange,newText:t.name},deprecated:(262144&t.modifiers)>0,data:b.fromDefinition(t)});return{isIncomplete:!1,items:h}}}class Y extends E{constructor(e,t){super(e,t),this.options=e,this.definitionStore=t}canSuggest(e){return 159===e.node.kind}completions(e){let t=e.document.textToLeftOfOffset(e.offset,e.offset-e.document.lineOffset(e.position.line));if(t.match(Y.TYPE_TAG_PATTERN)||t.match(Y.METHOD_PARAM_PATTERN)){let t=e.document.wordToLeftOfOffset(e.offset,Y.CLASS_NAME_PATTERN);const n=u.Range.create(u.Position.create(e.position.line,e.position.character-t.length),e.position);if("\\"===t)return v.NO_COMPLETION_RESPONSE;if("$"===t[0])return{isIncomplete:!1,items:[{label:"$this",kind:u.CompletionItemKind.Variable,textEdit:{range:n,newText:"$this"}}]};{const r=e.parseTreeTraverser.getNameResolver(),i=new d.UseDeclarationHelper(e.parseTree,e.definitionTable,e.position);let o=!1,a=t.indexOf("\\");const c=v.keywordCompletionItems(Y.KEYWORDS,t,n),u=new Set,p=515,f=!r.namespaceName,_=t.toLowerCase();let m,g,y;a>-1?(0===t.indexOf("namespace")?(o=!0,t=t.replace("namespace",r.namespaceName)):0===a?t=t.slice(1):(m=r.matchUnqualified(t.slice(0,a),1),t=r.resolveNotFullyQualified(t)),y=t.lastIndexOf("\\")+1,g=e=>(e.kind&p)>0):(i.useDeclarationDefinitions.filter(e=>l.contSubstringMatch(_,s.Definition.shortName(e.name).toLowerCase())>0).forEach(t=>{let n=h.UseDefinition.create(t,this.definitionStore);if(n)return n.external&&u.add(n.external),c.push(this._toCompletionItem(n,i,r.namespaceName,void 0,void 0,e.insertRange)),n}),g=e=>(e.kind&p)>0&&!u.has(e)&&(f||512!==e.kind)&&(512===e.kind||s.Definition.shortName(e.name).toLowerCase().indexOf(_)>-1));const b=new Set,E=this.definitionStore.match(t,g);let S=!1,k=this.options.maxItems||T;for(let t of E)if((512!==t.kind||!b.has(t.name))&&(512===t.kind&&b.add(t.name),c.push(this._toCompletionItem(t,i,r.namespaceName,y,m,e.insertRange)),c.length>=k)){S=!0;break}return{items:c,isIncomplete:S}}}if(t.match(Y.TAG_PATTERN)){const t=e.document.wordToLeftOfOffset(e.offset,Y.TAG_NAME_PATTERN);return{isIncomplete:!1,items:v.keywordCompletionItems(Y.TAG_NAMES,t.toLowerCase(),u.Range.create(u.Position.create(e.position.line,e.position.character-t.length),e.position))}}return v.NO_COMPLETION_RESPONSE}getDefinitionFilter(e){return e=>!0}_getKeywords(e){return Y.KEYWORDS}}Y.TYPE_TAG_PATTERN=/@(?:method(?:\s+static)?|global|param|property(?:-(?:read|write))?|return|throws|var)\s+\$?[\\a-zA-Z_\x80-\uffff][\\a-zA-Z0-9_\x80-\uffff]*$/,Y.METHOD_PARAM_PATTERN=/@method(?:\s+static)?\s+(?:\$?[\\a-zA-Z_\x80-\uffff][\\a-zA-Z0-9_\x80-\uffff]*\s+)?[a-zA-Z_\x80-\uffff]+\s*\((?:[^,)]+,)*\s*\$?[\\a-zA-Z_\x80-\uffff][\\a-zA-Z0-9_\x80-\uffff]*$/,Y.TAG_PATTERN=/^(?:\/\*+|[\t ]*\*+)?[\t ]*@[a-zA-Z]*$/,Y.TAG_NAME_PATTERN=/@[a-zA-Z]*$/,Y.CLASS_NAME_PATTERN=/\$?[\\a-zA-Z_\x80-\uffff][\\a-zA-Z0-9_\x80-\uffff]*$/,Y.TAG_NAMES=["@api","@author","@category","@copyright","@deprecated","@example","@filesource","@global","@ignore","@inheritdoc","@internal","@license","@link","@method","@package","@param","@property","@property-read","@property-write","@return","@see","@since","@source","@subpackage","@throws","@todo","@uses","@var","@version"],Y.KEYWORDS=["self","array","callable","bool","float","int","string","iterable","object","void"];class z{constructor(e,t,n,r){this.options=e,this.documentStore=t,this.environment=n,this.typeAndValueDelegate=r}canSuggest(e){let t=e.node;if(77!==t.kind)return!1;const n=e.text;for(;(t=e.parent())&&(1001===t.kind||1057===t.kind););return!!t&&(1092===t.kind||1093===t.kind||1141===t.kind||1142===t.kind||(1026===t.kind||1043===t.kind||1151===t.kind&&1152===t.children[0].kind)&&(n.indexOf("/")>=0||n.indexOf("\\")>=0))}completions(e){let t;const n=e.parseTreeTraverser.clone();if(n.ancestor(this.isScriptInclusion)){const e=n.reference();if(!e)return v.NO_COMPLETION_RESPONSE;t=e.unresolvedName}else{if(!n.ancestor(this.isConstOrAssignment))return v.NO_COMPLETION_RESPONSE;{1151===n.node.kind&&n.nthChild(0);let e=n.definition;if(!e)return v.NO_COMPLETION_RESPONSE;let r=this.typeAndValueDelegate(e);if(!r||!r.value)return v.NO_COMPLETION_RESPONSE;t=r.value.toString()}}const r=this.computeInsertRange(e.parseTreeTraverser.clone(),e.position);if(!r)return v.NO_COMPLETION_RESPONSE;let i,s,o,a,c,h,d,p,f=g.dirname(m.URI.parse(e.parseTree.uri).fsPath),y=_.PHP.resolveIncludePath(t,this.environment.documentRoot||"",f,this.environment.includePaths||[]),b=new Set;const E=[];let S=this.options.maxItems||T;for(let e=0;e<y.length;++e){i=y[e],a=(s=m.URI.file(i).toString()).lastIndexOf("/")+1,d=s.slice(a).toLowerCase(),s=s.slice(0,a),o=this.documentStore.match(s);for(let e=0;e<o.length&&E.length<S;++e)(c=(h=o[e]).indexOf("/",a))<0&&(c=h.length),p=h.slice(a,c),d&&!(l.contSubstringMatch(d,p.toLowerCase())>-1)||b.has(p)||(b.add(p),E.push({kind:c<h.length?u.CompletionItemKind.Folder:u.CompletionItemKind.File,label:p,textEdit:{newText:p,range:r}}))}return{items:E,isIncomplete:E.length>=S}}computeInsertRange(e,t){let n=e.range;if(0===t.character-n.end.character)return;let r=e.text.lastIndexOf("/"),i=1;return r<0&&l.isWindows()&&(r=e.text.lastIndexOf("\\\\"),++i),r<0?u.Range.create(u.Position.create(n.start.line,n.start.character+1),t):u.Range.create(u.Position.create(n.start.line,n.start.character+r+i),t)}isConstOrAssignment(e){switch(e.kind){case 1043:case 1026:case 1151:return!0;default:return!1}}isScriptInclusion(e){switch(e.kind){case 1092:case 1093:case 1141:case 1142:return!0;default:return!1}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(67),i=n(113),s=n(215);!function(e){function t(e){switch(e.kind){case 112:return[48,2];case 134:case 128:case 85:case 151:case 152:case 149:case 155:case 150:case 147:case 148:case 93:return[47,2];case 41:return[46,0];case 88:return[45,2];case 100:case 90:case 91:return[44,1];case 110:case 142:case 125:return[43,1];case 105:case 107:return[42,1];case 98:case 99:case 140:case 136:return[41,0];case 135:case 137:case 138:case 139:case 141:return[40,0];case 102:return[39,1];case 124:return[38,1];case 122:return[37,1];case 101:return[36,1];case 123:return[35,1];case 121:return[34,2];case 95:return[33,1];case 84:case 126:case 111:case 143:case 145:case 129:case 144:case 113:case 103:case 109:case 104:case 106:case 108:return[32,2];case 46:return[31,1];case 48:return[30,1];case 47:return[29,1];default:throw new Error(`Unexpected token: ${r.tokenKindToString(e.kind)}`)}}function n(e){switch(e.kind){case 53:case 54:case 52:case 58:case 2:case 29:case 33:case 65:case 11:case 64:case 118:return!0;default:return!1}}function o(e){switch(e.kind){case 95:return 1040;case 125:case 110:case 142:return 1001;case 122:case 102:case 124:return 1014;case 100:case 90:case 91:return 1112;case 112:return 1065;case 105:case 107:return 1150;case 101:case 123:case 46:case 47:case 48:return 1104;case 137:case 139:case 135:case 138:return 1060;case 98:case 140:case 99:case 136:case 141:return 1138;case 121:return 1037;case 84:return 1151;case 111:case 143:case 145:case 113:case 129:case 126:case 144:case 103:case 109:case 104:case 106:case 108:return 1038;case 41:return 1095;default:return 1e3}}var a,c,u,l=0,h=-1;function d(e){return e===T().kind?f():void 0}function p(e){return e.indexOf(T().kind)>-1?f():void 0}function f(e){let t;do{t=a.length>0?a.shift():r.Lexer.lex(),l+=t.length,e&&162===t.kind&&(t.kind=159)}while(t.kind>159);return h=-1,t}function _(){return h<0&&(h=l+function(e){let t=0;if(!e)return 0;for(;(e=e.previous)&&e.kind>=160;)t+=e.length;return t}(T())),h}function m(e){let t=l-e;return t>0?t:0}function g(e){let t=T();if(t.kind===e)return f();if(87===e&&158===t.kind)return f();{const n=s.ProblemFactory.unexpectedToken(t,e);let r;if(T(1).kind===e){const e=_();r=i.Phrase.createParseError([f(),f()],m(e))}else r=i.Phrase.createParseError([]);return u.set(r,n),r}}function y(e){let t=T();if(e.indexOf(t.kind)>-1)return f();if(e.indexOf(87)>-1&&158===t.kind)return f();{const n=s.ProblemFactory.unexpectedToken(t);let r;if(e.indexOf(T(1).kind)>-1){const e=_();r=i.Phrase.createParseError([f(),f()],m(e))}return r=i.Phrase.createParseError([]),u.set(r,n),r}}function T(e,t){e=e?e+1:1;let n,i=-1;do{++i===a.length&&a.push(r.Lexer.lex()),n=a[i],t&&162===n.kind&&(n.kind=159),n.kind<160&&--e}while(1!==n.kind&&e>0);return n}function b(e,t){let n=T(),r=[];for(;!e(n)&&1!==n.kind;)r.push(f()),n=T();return t&&1!==n.kind&&r.push(f()),r}function v(e,t,n,r,o,a){const l=_();let h,d=[];for(o&&c.push(o);;)if(n(h=T(0,a)))d.push(t());else{if(!r||r.indexOf(h.kind)>-1)break;{let e=T(1,a),t=_();const c=s.ProblemFactory.unexpectedToken(h);let l;if(E(h)){l=i.Phrase.createParseError([],m(t)),d.push(l),u.set(l,c);break}if(n(e)||r&&r.indexOf(e.kind)>-1)h=f(a),l=i.Phrase.createParseError([h],m(t)),d.push(l),u.set(l,c);else{const e=b(E),n=i.Phrase.createParseError(e,m(t));if(d.push(n),u.set(n,c),h=T(0,a),!o||!o(h))break}}}return o&&c.pop(),i.Phrase.create(e,m(l),d)}function E(e){let t;for(let n=c.length-1;n>=0;--n)if((t=c[n])&&t(e))return!0;return!1}function S(){return b(E)}function k(e){return v(1153,ce,Rt,e,t=>(function(e){switch(e.kind){case 64:case 11:case 33:case 9:case 2:case 29:case 61:case 43:case 115:case 37:case 66:case 15:case 31:case 59:case 5:case 12:case 57:case 34:case 58:case 16:case 63:case 32:case 13:case 62:case 60:case 35:case 87:case 158:case 157:case 80:case 156:return!0;default:return!1}})(t)||e.indexOf(t.kind)>-1,!0)}function w(e){return 92===e.kind||87===e.kind||158===e.kind}function N(e){return 82===e.kind||Ct(e)}function A(e){return 82===e.kind}function x(){const e=_(),t=g(82),n=g(84),r=R(0);return i.Phrase.create(1043,m(e),[t,n,r])}function C(e){switch(e.kind){case 1152:case 1156:case 1147:case 1131:case 1080:case 1107:case 1145:return!0;default:return!1}}function R(e){let n,r;const a=_();let c,l=function(){let e=T();switch(e.kind){case 58:return 33===T(1).kind?We():O();case 77:return L(T(1))?O():f();case 83:case 89:case 3:case 116:case 146:case 82:case 49:case 117:return O();case 134:return Ke(1129);case 128:return Ke(1128);case 110:case 142:case 88:case 85:return Ke(1170);case 93:return Ke(1062);case 151:case 152:case 149:case 155:case 150:case 147:case 148:return Ke(1019);case 45:return function(){const e=_(),t=f(),n=g(117);if(!Ve(T())){const r=g(120);return i.Phrase.create(1103,m(e),[t,n,r])}const r=ft(120,dt),s=g(120);return i.Phrase.create(1103,m(e),[t,n,r,s])}();case 10:return function(){const e=_(),t=f(),n=R(0);return i.Phrase.create(1035,m(e),[t,n])}();case 50:return function(){const e=_(),t=f();if(9===T().kind){const n=function(){const e=_(),t=function(){const e=_(),t=[];t.push(f());const n=d(117);n&&(t.push(n),ct(T())&&t.push(at()),t.push(g(120)));28===T().kind&&t.push(oe());38===T().kind&&t.push(H());return i.Phrase.create(1003,m(e),t)}(),n=J(1029,j);return i.Phrase.create(1002,m(e),[t,n])}();return i.Phrase.create(1123,m(e),[t,n])}const n=je(1034),r=d(117);if(!r)return i.Phrase.create(1123,m(e),[t,n]);if(!ct(T())){const s=g(120);return i.Phrase.create(1123,m(e),[t,n,r,s])}const s=at(),o=g(120);return i.Phrase.create(1123,m(e),[t,n,r,s,o])}();case 78:case 81:case 71:case 70:case 69:case 75:case 73:case 72:case 74:case 76:return f();case 153:return function(){const e=_(),t=f(),n=U(154),r=g(154);return i.Phrase.create(1089,m(e),[t,n,r])}();case 96:return function(){const e=_(),t=f(),n=U(96),r=g(96);return i.Phrase.create(1051,m(e),[t,n,r])}();case 94:return function(){const e=_(),t=f(),n=U(94),r=g(94);return i.Phrase.create(1149,m(e),[t,n,r])}();case 51:return function(){const e=_(),t=f(),n=R(0);return i.Phrase.create(1130,m(e),[t,n])}();case 67:return function(){const e=_(),t=f();if(!Le(T()))return i.Phrase.create(1176,m(e),[t]);const n=R(0),r=d(131);if(!r)return i.Phrase.create(1176,m(e),[t,n]);const s=R(0);return i.Phrase.create(1176,m(e),[t,n,r,s])}();case 68:return function(){const e=_(),t=f(),n=R(0);return i.Phrase.create(1177,m(e),[t,n])}();case 33:return We();case 39:return M(1092);case 40:return M(1093);case 55:return M(1141);case 56:return M(1142);case 26:return function(){const e=_(),t=f(),n=g(117),r=R(0),s=g(120);return i.Phrase.create(1063,m(e),[t,n,r,s])}();case 19:return function(){const e=_(),t=f(),n=g(117),r=R(0),s=g(120);return i.Phrase.create(1056,m(e),[t,n,r,s])}();case 27:return function(){const e=_(),t=f(),n=d(117);if(!n)return i.Phrase.create(1064,m(e),[t]);if(!Le(T())){const r=g(120);return i.Phrase.create(1064,m(e),[t,n,r])}const r=R(0),s=g(120);return i.Phrase.create(1064,m(e),[t,n,r,s])}();case 44:return function(){const e=_(),t=f(),n=g(117),r=Te([120],Y),s=g(120);return i.Phrase.create(1102,m(e),[t,n,r,s])}();default:{const t=s.ProblemFactory.unexpectedToken(e),n=i.Phrase.createParseError([]);return u.set(n,t),n}}}(),h=T(),p=o(h);for(;1e3!==p&&([n,r]=t(h),!(n<e)||(1151===p||1038===p)&&C(l)||1151===p&&(1103===(y=l).kind||1009===y.kind&&y.children&&y.children.length&&116===y.children[0].kind));)if(1===r&&++n,1040!==p){if(h=f(),1095===p)c=je(1096),l=i.Phrase.create(p,m(a),[l,h,c]);else if(1151===p&&102===T().kind){const e=f();c=R(n),l=i.Phrase.create(1016,m(a),[l,h,e,c])}else c=R(n),l=i.Phrase.create(p,m(a),[l,h,c]);p=o(h=T())}else l=I(a,l),p=o(h=T());var y;return l}function I(e,t){const n=f();let r,s=d(86);if(s)return r=R(0),i.Phrase.create(1040,m(e),[t,n,s,r]);const o=R(0);return s=g(86),r=R(0),i.Phrase.create(1040,m(e),[t,n,o,s,r])}function O(){const e=_();let t=Tt(),n=1152===t.kind;if(L(T()))t=Je(e,t),n=!0;else switch(t.kind){case 1136:case 1079:case 1139:t=D(e,t)}if(!n)return t;let r=T();return 134===r.kind?P(e,1127,t):128===r.kind?P(e,1126,t):t}function D(e,t){return i.Phrase.create(1041,m(e),[t])}function P(e,t,n){const r=f();return i.Phrase.create(t,m(e),[n,r])}function L(e){switch(e.kind){case 116:case 115:case 114:case 117:case 132:return!0;default:return!1}}function M(e){const t=_(),n=f(),r=R(0);return i.Phrase.create(e,m(t),[n,r])}function U(e){return v(1059,F,q,[e],t=>(function(e){switch(e.kind){case 79:case 130:case 127:return!0;default:return!1}})(t)||t.kind===e)}function q(e){switch(e.kind){case 79:case 83:case 130:case 127:return!0;default:return!1}}function F(){let e=T();switch(e.kind){case 79:return f();case 83:{let e=T(1);return 116===e.kind?function(){const e=_(),t=bt(),n=f();let r;switch(T().kind){case 82:case 81:r=f();break;case 83:r=bt();break;case 142:{const e=_(),t=f(),n=g(81);r=i.Phrase.create(1170,m(e),[t,n])}break;default:r=i.Phrase.createParseError([]),u.set(r,s.ProblemFactory.unexpectedToken(T()))}const o=g(119);return i.Phrase.create(1156,m(e),[t,n,r,o])}():114===e.kind?function(){const e=_(),t=bt(),n=f(),r=g(82);return i.Phrase.create(1131,m(e),[t,n,i.Phrase.create(1106,r.length,[r])])}():bt()}case 130:return function(){const e=_(),t=f(),n=T();let r;if(83===n.kind)if(116===T(1).kind)r=function(){const e=_(),t=f(),n=f(),r=R(0),s=g(119);return i.Phrase.create(1156,m(e),[t,n,r,s])}();else{const e=_(),t=f();r=i.Phrase.create(1152,m(e),[t])}else if(Le(n))r=R(0);else{const e=s.ProblemFactory.unexpectedToken(n);r=i.Phrase.createParseError([]),u.set(r,e)}const o=g(118);return i.Phrase.create(1058,m(e),[t,r,o])}();case 127:return function(){const e=_(),t=f(),n=Je(e,Tt()),r=g(118);return i.Phrase.create(1058,m(e),[t,n,r])}();default:throw new Error(`Unexpected token: ${r.tokenKindToString(e.kind)}`)}}function B(e){return 92===e.kind||115===e.kind}function H(){const e=_(),t=f(),n=He([115],B);return i.Phrase.create(1031,m(e),[t,n])}function j(){return v(1032,V,G,[118],n,!0)}function G(e){switch(e.kind){case 53:case 54:case 52:case 58:case 2:case 29:case 33:case 65:case 11:case 64:case 159:return!0;default:return!1}}function V(){const e=_();let t=T();switch(t.kind){case 53:case 54:case 52:case 58:case 2:case 29:{const n=function(){const e=_();let t=[];for(;Be(T());)t.push(f());return i.Phrase.create(1105,m(e),t)}();if(83===(t=T()).kind)return qe(e,n);if(33===t.kind)return z(e,n);if(11===t.kind)return Pe(e,n);return n.children.findIndex(e=>2===e.kind||29===e.kind)>-1?z(e,n):qe(e,n)}case 33:return z(e);case 65:return qe(e,f());case 11:return Pe(e);case 64:return function(){const e=_(),t=f(),n=He([87,115],K),r=function(){const e=_(),t=y([87,115]);if(115!==t.kind)return i.Phrase.create(1167,m(e),[t]);if(!$(T())){const n=g(118);return i.Phrase.create(1167,m(e),[t,n])}const n=v(1159,W,$,[118],e=>118===e.kind),r=g(118);return i.Phrase.create(1167,m(e),[t,n,r])}();return i.Phrase.create(1166,m(e),[t,n,r])}();case 159:return f();default:throw new Error(`Unexpected token: ${r.tokenKindToString(t.kind)}`)}}function K(e){switch(e.kind){case 92:case 87:case 115:return!0;default:return!1}}function $(e){switch(e.kind){case 82:case 146:case 49:return!0;default:return Ct(e)}}function W(){const e=_(),t=function(){const e=_(),t=T(),n=T(1);if(146===t.kind||49===t.kind||82===t.kind&&(132===n.kind||146===n.kind)){const t=ut(),n=g(132),r=X();return i.Phrase.create(1111,m(e),[t,n,r])}{const t=X();return i.Phrase.create(1111,m(e),[t])}}();let n=y([4,42]);if(42===n.kind)return function(e,t){return t.push(He([87],w)),t.push(g(87)),i.Phrase.create(1165,m(e),t)}(e,[t,n]);if(4===n.kind)return function(e,t){let n=T();if(82===n.kind||xt(n))t.push(X());else if(Be(n))t.push(f()),(82===(n=T()).kind||Ct(n))&&t.push(X());else{const e=s.ProblemFactory.unexpectedToken(n),r=i.Phrase.createParseError([]);u.set(r,e),t.push(r)}return t.push(g(87)),i.Phrase.create(1160,m(e),t)}(e,[t,n]);{const r=1===t.children.length?1160:1165;return i.Phrase.create(r,m(e),[t,n,i.Phrase.createParseError([])])}}function Y(e){return 92===e.kind||120===e.kind}function z(e,t){const n=function(e,t){const n=[];t&&n.push(t),n.push(g(33));const r=d(102);r&&n.push(r),n.push(X());const s=g(117);return n.push(s),117===s.kind&&ie(T())&&n.push(St(1125,Qe,ie,92,[120],void 0,Y)),n.push(g(120)),86===T().kind&&n.push(Oe()),i.Phrase.create(1110,m(e),n)}(e,t),r=function(){const e=_();let t;t=87===T().kind?f():ae();return i.Phrase.create(1109,m(e),[t])}();return i.Phrase.create(1108,m(e),[n,r])}function X(){const e=_();let t=T();if(82===t.kind||Ct(t))t=f();else{const e=s.ProblemFactory.unexpectedToken(t);t=i.Phrase.createParseError([]),u.set(t,e)}return i.Phrase.create(1090,m(e),[t])}function Q(){const e=_(),t=function(){const e=_(),t=f(),n=g(82);if(28!==T().kind)return i.Phrase.create(1100,m(e),[t,n]);const r=function(){const e=_(),t=f(),n=He([115],B);return i.Phrase.create(1097,m(e),[t,n])}();return i.Phrase.create(1100,m(e),[t,n,r])}(),n=J(1099,Z);return i.Phrase.create(1098,m(e),[t,n])}function J(e,t){const n=_(),r=g(115);if(118===T(0,!0).kind){const t=g(118);return i.Phrase.create(e,m(n),[r,t])}const s=t(),o=g(118);return i.Phrase.create(e,m(n),[r,s,o])}function Z(){return v(1101,V,G,[118],n,!0)}function ee(){const e=_(),t=function(){const e=_(),t=f(),n=g(82);return i.Phrase.create(1163,m(e),[t,n])}(),n=J(1162,te);return i.Phrase.create(1161,m(e),[t,n])}function te(){return v(1164,V,G,[118],n,!0)}function ne(){const e=_(),t=function(){const e=_(),t=[];t.push(f());const n=d(102);n&&t.push(n);t.push(g(82));const r=g(117);t.push(r),117===r.kind&&ie(T())&&t.push(St(1125,Qe,ie,92,[120],void 0,Y));t.push(g(120)),86===T().kind&&t.push(Oe());return i.Phrase.create(1083,m(e),t)}(),n=re();return i.Phrase.create(1081,m(e),[t,n])}function re(){let e=ae();return e.kind=1082,e}function ie(e){switch(e.kind){case 102:case 133:case 83:return!0;default:return Xe(e)}}function se(){const e=_(),t=function(){const e=_(),t=[],n=p([2,29]);n&&t.push(n);t.push(g(9)),t.push(g(82)),28===T().kind&&t.push(oe());38===T().kind&&t.push(H());return i.Phrase.create(1030,m(e),t)}(),n=J(1029,j);return i.Phrase.create(1028,m(e),[t,n])}function oe(){const e=_(),t=f(),n=ut();return i.Phrase.create(1023,m(e),[t,n])}function ae(){const e=_(),t=g(115);if(!Rt(T(0,!0))){const n=g(118);return i.Phrase.create(1039,m(e),[t,n])}const n=k([118]),r=g(118);return i.Phrase.create(1039,m(e),[t,n,r])}function ce(e){switch(T(0,!e).kind){case 159:return f();case 49:return function(){const e=_(),t=f();let n;82===T().kind&&(n=At());const r=y([87,115]);if(87===r.kind)return n||(n=i.Phrase.createParseError([]),u.set(n,s.ProblemFactory.unexpectedToken(T(),115))),i.Phrase.create(1115,m(e),[t,n,r]);if(115!==r.kind){const r=i.Phrase.createParseError([]);return u.set(r,s.ProblemFactory.unexpectedToken(T())),i.Phrase.create(1115,m(e),n?[t,n,r]:[t,r])}const o=k([118]),a=g(118);return i.Phrase.create(1115,m(e),n?[t,n,r,o,a]:[t,r,o,a])}();case 64:return function(){const e=_(),t=[];t.push(f());const n=p([33,11]);n&&t.push(n);const r=_(),s=d(146),o=At();let a=T();if(146===a.kind||115===a.kind)return s&&t.push(s),t.push(o),t.push(g(146)),t.push(g(115)),t.push(St(1121,wt,kt,92,[118],void 0,vt)),t.push(g(118)),t.push(g(87)),i.Phrase.create(1119,m(e),t);return t.push(St(1118,function(e,t,n){return()=>{let r=t,s=n;if(r?(t=void 0,n=void 0):(e=_(),s=d(146),r=At()),4!==T().kind)return i.Phrase.create(1117,m(e),s?[s,r]:[r]);const o=Nt();return i.Phrase.create(1117,m(e),s?[s,r,o]:[r,o])}}(r,o,s),Et,92,[87],r,w)),t.push(g(87)),i.Phrase.create(1119,m(e),t)}();case 11:return function(){const e=_(),t=f(),n=St(1044,x,A,92,[87],void 0,w),r=g(87);return i.Phrase.create(1042,m(e),[t,n,r])}();case 33:return t=T(1),n=T(2),117===t.kind||102===t.kind&&117===n.kind?Ie():ne();case 9:case 2:case 29:return se();case 61:return ee();case 43:return Q();case 115:return ae();case 37:return function(){const e=_(),t=[],n=f();t.push(n),t.push(g(117)),t.push(R(0)),t.push(g(120));let r=T(),o=Ne,a=xe,c=!1;if(86===r.kind)t.push(f()),t.push(k([18,17,23])),o=Ae,a=Ce,c=!0;else if(Rt(r))t.push(ce(!0));else{const e=i.Phrase.createParseError([]);u.set(e,s.ProblemFactory.unexpectedToken(r)),t.push(e)}18===T().kind&&t.push(v(1055,o,Re));17===T().kind&&t.push(a());c&&(t.push(g(23)),t.push(g(87)));return i.Phrase.create(1091,m(e),t)}();case 66:return function(){const e=_(),t=f(),n=g(117),r=R(0),o=g(120);let a=T();if(86===a.kind){const s=f(),a=k([25]),c=g(25),u=g(87);return i.Phrase.create(1175,m(e),[t,n,r,o,s,a,c,u])}if(Rt(a)){const s=ce(!0);return i.Phrase.create(1175,m(e),[t,n,r,o,s])}{const c=i.Phrase.createParseError([]);return u.set(c,s.ProblemFactory.unexpectedToken(a)),i.Phrase.create(1175,m(e),[t,n,r,o,c])}}();case 15:return function(){const e=_(),t=f(),n=ce(!0),r=g(66),s=g(117),o=R(0),a=g(120),c=g(87);return i.Phrase.create(1050,m(e),[t,n,r,s,o,a,c])}();case 31:return function(){const e=_(),t=[];t.push(f()),t.push(g(117)),t.push(function(){const e=_(),t=[];Le(T())&&t.push(we(1077,[87],w));t.push(g(87)),Le(T())&&t.push(we(1069,[87],w));t.push(g(87)),Le(T())&&t.push(we(1075,[120],Y));return i.Phrase.create(1070,m(e),t)}()),t.push(g(120));let n=T();if(86===n.kind)t.push(f()),t.push(k([21])),t.push(g(21)),t.push(g(87));else if(Rt(T()))t.push(ce(!0));else{const e=i.Phrase.createParseError([]);u.set(e,s.ProblemFactory.unexpectedToken(n)),t.push(e)}return i.Phrase.create(1078,m(e),t)}();case 59:return function(){const e=_(),t=f(),n=g(117),r=R(0),o=g(120),a=y([86,115]);let l,h=T();7!==h.kind&&14!==h.kind||(l=function(e){const t=_();let n;const r=[],o=[7,14];o.push(e),c.push(pe);for(;;)if(7===(n=T()).kind)r.push(fe(o));else{if(14!==n.kind){if(e===n.kind)break;{let e=S(),t=_();const a=i.Phrase.createParseError(e,m(t));if(r.push(a),u.set(a,s.ProblemFactory.unexpectedToken(n)),o.indexOf(T().kind)>-1)continue;break}}r.push(_e(o))}return c.pop(),i.Phrase.create(1018,m(t),r)}(86===a.kind?24:118));if(86===a.kind){const s=g(24),c=g(87);return i.Phrase.create(1157,m(e),l?[t,n,r,o,a,l,s,c]:[t,n,r,o,a,s,c])}{const s=g(118);return i.Phrase.create(1157,m(e),l?[t,n,r,o,a,l,s]:[t,n,r,o,a,s])}}();case 5:return function(){const e=_(),t=f();if(!Le(T())){const n=g(87);return i.Phrase.create(1015,m(e),[t,n])}const n=R(0),r=g(87);return i.Phrase.create(1015,m(e),[t,n,r])}();case 12:return function(){const e=_(),t=f();if(!Le(T())){const n=g(87);return i.Phrase.create(1045,m(e),[t,n])}const n=R(0),r=g(87);return i.Phrase.create(1045,m(e),[t,n,r])}();case 57:return function(){const e=_(),t=f();if(!Le(T())){const n=g(87);return i.Phrase.create(1143,m(e),[t,n])}const n=R(0),r=g(87);return i.Phrase.create(1143,m(e),[t,n,r])}();case 34:return function(){const e=_(),t=f(),n=St(1173,bt,Se,92,[87],void 0,w),r=g(87);return i.Phrase.create(1086,m(e),[t,n,r])}();case 58:return function(e,t){return 83===e.kind&&(87===t.kind||92===t.kind||158===t.kind||84===t.kind)}(T(1),T(2))?function(){const e=_(),t=f(),n=St(1155,ke,Ee,92,[87],void 0,w),r=g(87);return i.Phrase.create(1084,m(e),[t,n,r])}():Ie();case 80:case 156:case 158:return function(){const e=_(),t=[],n=d(158),r=d(80),s=d(156);n&&t.push(n);r&&t.push(r);s&&t.push(s);return i.Phrase.create(1094,m(e),t)}();case 32:return function(){const e=_(),t=f(),n=g(117),r=function(){const e=_();let t=R(0);return i.Phrase.create(1071,m(e),[t])}(),o=g(4),a=102===T().kind?me():function(){const e=_(),t=R(0),n=d(131);if(!n)return i.Phrase.create(1074,m(e),[t]);return i.Phrase.create(1072,m(e),[t,n])}();let c;1072===a.kind&&(c=me());const l=g(120);let h=T();if(86===h.kind){const s=f(),u=k([22]),h=g(22),d=g(87);return i.Phrase.create(1073,m(e),c?[t,n,r,o,a,c,l,s,u,h,d]:[t,n,r,o,a,l,s,u,h,d])}if(Rt(h)){const s=ce(!0);return i.Phrase.create(1073,m(e),c?[t,n,r,o,a,c,l,s]:[t,n,r,o,a,l,s])}{const d=i.Phrase.createParseError([]);return u.set(d,s.ProblemFactory.unexpectedToken(h)),i.Phrase.create(1073,m(e),c?[t,n,r,o,a,c,l,d]:[t,n,r,o,a,l,d])}}();case 13:return function(){const e=_(),t=f(),n=g(117),r=function(){const e=_(),t=g(82),n=g(84),r=y([81,78,77]);return i.Phrase.create(1046,m(e),[t,n,r])}(),o=g(120);let a=T();if(86===a.kind){const s=f(),a=k([20]),c=g(20),u=g(87);return i.Phrase.create(1047,m(e),[t,n,r,o,s,a,c,u])}if(Rt(a)){const s=ce(!0);return i.Phrase.create(1047,m(e),[t,n,r,o,s])}if(87===a.kind){const s=f();return i.Phrase.create(1047,m(e),[t,n,r,o,s])}{const c=i.Phrase.createParseError([]);return u.set(c,s.ProblemFactory.unexpectedToken(a)),i.Phrase.create(1047,m(e),[t,n,r,o,c])}}();case 62:return function(){const e=_(),t=f(),n=ae();let r,o=T();if(8!==o.kind){if(30===o.kind)r=le();else{const e=s.ProblemFactory.unexpectedToken(o);r=i.Phrase.createParseError([]),u.set(r,e)}return i.Phrase.create(1168,m(e),[t,n,r])}r=v(1021,de,ue);if(30!==T().kind)return i.Phrase.create(1168,m(e),[t,n,r]);const a=le();return i.Phrase.create(1168,m(e),[t,n,r,a])}();case 60:return function(){const e=_(),t=f(),n=R(0),r=g(87);return i.Phrase.create(1158,m(e),[t,n,r])}();case 35:return function(){const e=_(),t=f(),n=g(82),r=g(87);return i.Phrase.create(1087,m(e),[t,n,r])}();case 16:case 157:return function(){const e=_(),t=f(),n=St(1066,be,Le,92,[87,158],void 0,ve),r=g(87);return i.Phrase.create(1052,m(e),[t,n,r])}();case 63:return function(){const e=_(),t=f(),n=g(117),r=Te([120],Y),s=g(120),o=g(87);return i.Phrase.create(1171,m(e),[t,n,r,s,o])}();case 87:return function(){const e=_(),t=f();return i.Phrase.create(1122,m(e),[t])}();case 82:if(86===T(1).kind)return function(){const e=_(),t=f(),n=f();return i.Phrase.create(1113,m(e),[t,n])}();default:return Ie()}var t,n}function ue(e){return 8===e.kind}function le(){const e=_(),t=f(),n=ae();return i.Phrase.create(1068,m(e),[t,n])}function he(e){return 122===e.kind||83===e.kind}function de(){const e=_(),t=f(),n=g(117),r=St(1022,ut,lt,122,[83],void 0,he),s=g(83),o=g(120),a=ae();return i.Phrase.create(1020,m(e),[t,n,r,s,o,a])}function pe(e){return 7===e.kind||14===e.kind}function fe(e){const t=_(),n=f(),r=R(0),s=y([86,87]);if(!Rt(T(0,!0)))return i.Phrase.create(1017,m(t),[n,r,s]);const o=k(e);return i.Phrase.create(1017,m(t),[n,r,s,o])}function _e(e){const t=_(),n=f(),r=y([86,87]);if(!Rt(T(0,!0)))return i.Phrase.create(1017,m(t),[n,r]);const s=k(e);return i.Phrase.create(1017,m(t),[n,r,s])}function me(){const e=_(),t=d(102),n=R(0);return i.Phrase.create(1074,m(e),t?[t,n]:[n])}function ge(e){switch(e.kind){case 83:case 89:case 117:case 3:case 116:case 77:case 58:case 82:case 49:case 146:return!0;default:return!1}}function ye(){return Je(_(),Tt())}function Te(e,t){return St(1172,ye,ge,92,e,void 0,t)}function be(){return R(0)}function ve(e){switch(e.kind){case 92:case 87:case 158:return!0;default:return!1}}function Ee(e){return 83===e.kind}function Se(e){return 83===e.kind||89===e.kind}function ke(){const e=_(),t=g(83);if(84!==T().kind)return i.Phrase.create(1154,m(e),[t]);const n=function(){const e=_(),t=f(),n=R(0);return i.Phrase.create(1085,m(e),[t,n])}();return i.Phrase.create(1154,m(e),[t,n])}function we(e,t,n){return St(e,be,Le,92,t,void 0,n)}function Ne(){const e=_(),t=f(),n=g(117),r=R(0),s=g(120),o=ce(!0);return i.Phrase.create(1054,m(e),[t,n,r,s,o])}function Ae(){const e=_(),t=f(),n=g(117),r=R(0),s=g(120),o=g(86),a=k([23,17,18]);return i.Phrase.create(1054,m(e),[t,n,r,s,o,a])}function xe(){const e=_(),t=f(),n=ce(!0);return i.Phrase.create(1053,m(e),[t,n])}function Ce(){const e=_(),t=f(),n=g(86),r=k([23]);return i.Phrase.create(1053,m(e),[t,n,r])}function Re(e){return 18===e.kind}function Ie(){const e=_(),t=R(0),n=g(87);return i.Phrase.create(1067,m(e),[t,n])}function Oe(){const e=_(),t=f(),n=De();return i.Phrase.create(1144,m(e),[t,n])}function De(){const e=_(),t=d(95);let n;switch(T().kind){case 6:case 3:n=f();break;case 82:case 49:case 146:n=ut();break;default:n=i.Phrase.createParseError([]),u.set(n,s.ProblemFactory.unexpectedToken(T()))}return i.Phrase.create(1169,m(e),t?[t,n]:[n])}function Pe(e,t){const n=f(),r=St(1027,Me,N,92,[87],void 0,w),s=g(87);return i.Phrase.create(1025,m(e),t?[t,n,r,s]:[n,r,s])}function Le(e){switch(e.kind){case 83:case 89:case 3:case 116:case 77:case 146:case 82:case 49:case 117:case 58:case 134:case 128:case 110:case 142:case 88:case 85:case 93:case 151:case 152:case 149:case 155:case 150:case 147:case 148:case 45:case 10:case 50:case 78:case 81:case 71:case 70:case 69:case 75:case 73:case 72:case 74:case 76:case 153:case 96:case 94:case 51:case 67:case 68:case 33:case 39:case 40:case 55:case 56:case 26:case 19:case 44:case 27:return!0;default:return!1}}function Me(){const e=_(),t=X(),n=g(84),r=R(0);return i.Phrase.create(1026,m(e),[t,n,r])}function Ue(e){return 83===e.kind}function qe(e,t){const n=St(1134,Fe,Ue,92,[87],void 0,w),r=g(87);return i.Phrase.create(1132,m(e),[t,n,r])}function Fe(){const e=_(),t=g(83);if(84!==T().kind)return i.Phrase.create(1133,m(e),[t]);const n=function(){const e=_(),t=f(),n=R(0);return i.Phrase.create(1135,m(e),[t,n])}();return i.Phrase.create(1133,m(e),[t,n])}function Be(e){switch(e.kind){case 53:case 54:case 52:case 58:case 2:case 29:return!0;default:return!1}}function He(e,t){return St(1137,ut,lt,92,e,void 0,t)}function je(e){const t=_();let n=function(){let e=T();switch(e.kind){case 58:return yt();case 83:case 89:return bt();case 82:case 49:case 146:return ut();default:{const t=i.Phrase.createParseError([]);return u.set(t,s.ProblemFactory.unexpectedToken(e)),t}}}();for(;;){switch(T().kind){case 116:n=st(t,n,119);continue;case 115:n=st(t,n,118);continue;case 114:n=nt(t,n);continue;case 132:{const e=f(),r=Ge();n=i.Phrase.create(1147,m(t),[n,e,r])}continue}break}return i.Phrase.create(e,m(t),[n])}function Ge(){const e=_();let t,n=T();switch(n.kind){case 83:t=f();break;case 89:t=bt();break;default:t=i.Phrase.createParseError([]),u.set(t,s.ProblemFactory.unexpectedToken(n))}return i.Phrase.create(1146,m(e),[t])}function Ve(e){return ht(e)||92===e.kind}function Ke(e){const n=_(),r=f();let s;switch(e){case 1128:case 1129:s=Je(n,Tt());break;default:s=R(t(r)[0])}return i.Phrase.create(e,m(n),[r,s])}function $e(){const e=_(),t=[],n=d(58);n&&t.push(n),t.push(f());const r=d(102);r&&t.push(r);const s=g(117);return t.push(s),117===s.kind&&ie(T())&&t.push(St(1125,Qe,ie,92,[120],void 0,Y)),t.push(g(120)),64===T().kind&&t.push(function(){const e=_(),t=f(),n=g(117),r=St(1036,ze,Ye,92,[120],void 0,Y),s=g(120);return i.Phrase.create(1006,m(e),[t,n,r,s])}()),86===T().kind&&t.push(Oe()),i.Phrase.create(1005,m(e),t)}function We(){const e=_(),t=$e(),n=re();return i.Phrase.create(1004,m(e),[t,n])}function Ye(e){return 83===e.kind||102===e.kind}function ze(){const e=_(),t=d(102),n=g(83);return i.Phrase.create(1007,m(e),t?[t,n]:[n])}function Xe(e){switch(e.kind){case 146:case 82:case 49:case 95:case 3:case 6:return!0;default:return!1}}function Qe(){const e=_(),t=[];Xe(T())&&t.push(De());const n=d(102);n&&t.push(n);const r=d(133);return r&&t.push(r),t.push(g(83)),84===T().kind&&t.push(function(){const e=_(),t=f(),n=R(0);return i.Phrase.create(1048,m(e),[t,n])}()),i.Phrase.create(1124,m(e),t)}function Je(e,t){let n;for(;;){switch((n=T()).kind){case 132:t=tt(e,t);continue;case 114:t=rt(e,t);continue;case 116:case 115:Ze(t)&&(t=D(e,t)),t=st(e,t,116===n.kind?119:118);continue;case 117:t=et(e,t);continue}break}return t}function Ze(e){switch(e.kind){case 1079:case 1139:case 1136:return!0;default:return!1}}function et(e,t){const n=g(117);if(!ct(T())){const r=g(120);return i.Phrase.create(1080,m(e),[t,n,r])}const r=at(),s=g(120);return i.Phrase.create(1080,m(e),[t,n,r,s])}function tt(e,t){const n=f(),r=function(){const e=_();let t=T();const n=[void 0,1145];let r;switch(t.kind){case 115:n[1]=1145,r=gt(115,118);break;case 83:n[1]=1147,r=f();break;case 89:r=bt(),n[1]=1147;break;default:82===t.kind||Ct(t)?(r=X(),n[1]=1024):(r=i.Phrase.createParseError([]),u.set(r,s.ProblemFactory.unexpectedToken(t)))}return n[0]=i.Phrase.create(1146,m(e),[r]),n}(),o=d(117);if(o){if(!ct(T())){const s=g(120);return i.Phrase.create(1145,m(e),[t,n,r[0],o,s])}const s=at(),a=g(120);return i.Phrase.create(1145,m(e),[t,n,r[0],o,s,a])}if(1145===r[1]){let o=i.Phrase.createParseError([]);return u.set(o,s.ProblemFactory.unexpectedToken(T(),117)),i.Phrase.create(1145,m(e),[t,n,r[0],o])}return i.Phrase.create(r[1],m(e),[t,n,r[0]])}function nt(e,t){const n=f(),r=it();return i.Phrase.create(1131,m(e),[t,n,r])}function rt(e,t){const n=f(),r=it(),s=d(117);if(!s)return i.Phrase.create(1131,m(e),[t,n,r]);if(!ct(T())){const o=g(120);return i.Phrase.create(1107,m(e),[t,n,r,s,o])}const o=at(),a=g(120);return i.Phrase.create(1107,m(e),[t,n,r,s,o,a])}function it(){const e=_();let t;switch(T().kind){case 82:t=f();break;case 115:t=gt(115,118);break;case 89:case 83:t=bt();break;default:t=i.Phrase.createParseError([]),u.set(t,s.ProblemFactory.unexpectedToken(T()))}return i.Phrase.create(1106,m(e),[t])}function st(e,t,n){const r=f();if(115===r.kind){const s=R(0),o=g(n);if(1061===o.kind){const e=_(),t=b(function(){let e=1;return t=>{if(115===t.kind)++e;else if(118===t.kind&&0==--e)return!0;return!1}}(),!0);Array.prototype.push.apply(o.children,t),o.length=m(e)}return i.Phrase.create(1156,m(e),[t,r,s,o])}if(!Le(T())){const s=g(n);return i.Phrase.create(1156,m(e),[t,r,s])}const s=R(0),o=g(n);return i.Phrase.create(1156,m(e),[t,r,s,o])}function ot(e){return 120===e.kind||92===e.kind}function at(){const e=_();let t;const n=[];for(c.push(ot);;){if(n.push(133===T().kind?function(){const e=_(),t=f(),n=R(0);return i.Phrase.create(1174,m(e),[t,n])}():R(0)),92!==(t=T()).kind){if(120!==t.kind){if(ct(t)){const e=i.Phrase.createParseError([]);n.push(e),u.set(e,s.ProblemFactory.unexpectedToken(t,92));continue}{const e=_(),r=S();if(92===T().kind){r.push(f());const o=i.Phrase.createParseError(r,m(e));if(n.push(o),u.set(o,s.ProblemFactory.unexpectedToken(t)),120===T().kind)break;continue}const o=i.Phrase.createParseError(r,m(e));n.push(o),u.set(o,s.ProblemFactory.unexpectedToken(t))}break}break}if(n.push(f()),120===T().kind)break}return c.pop(),i.Phrase.create(1008,m(e),n)}function ct(e){return 133===e.kind||Le(e)}function ut(){const e=_();let t,n=T();if(146===n.kind)return n=f(),t=At(),i.Phrase.create(1079,m(e),[n,t]);if(49===n.kind){n=f();const r=g(146);return t=At(),i.Phrase.create(1139,m(e),[n,r,t])}return t=At(),i.Phrase.create(1136,m(e),[t])}function lt(e){switch(e.kind){case 146:case 82:case 49:return!0;default:return!1}}function ht(e){return 102===e.kind||Le(e)}function dt(e){return 120===e.kind||92===e.kind}function pt(e){return 119===e.kind||92===e.kind}function ft(e,t){const n=_();let r=T();const o=[];c.push(t);do{if(ht(T())&&o.push(mt()),92===(r=T()).kind)o.push(f());else if(r.kind!==e){if(ht(r)){const e=i.Phrase.createParseError([]);u.set(e,s.ProblemFactory.unexpectedToken(r,92)),o.push(e);continue}{const e=_(),t=S(),n=i.Phrase.createParseError(t,m(e));if(o.push(n),u.set(n,s.ProblemFactory.unexpectedToken(r)),92===(r=T()).kind)continue}break}}while(r.kind!==e);return c.pop(),i.Phrase.create(1011,m(n),o)}function _t(){const e=_(),t=d(102),n=R(0);return i.Phrase.create(1013,m(e),t?[t,n]:[n])}function mt(){const e=_();if(102===T().kind){const t=_t();return i.Phrase.create(1010,m(e),[t])}let t=function(){const e=_(),t=R(0);return i.Phrase.create(1012,m(e),[t])}();const n=d(131);if(!n)return t.kind=1013,i.Phrase.create(1010,m(e),[t]);const r=_t();return i.Phrase.create(1010,m(e),[t,n,r])}function gt(e,t){const n=_(),r=g(e),s=R(0),o=g(t);return i.Phrase.create(1057,m(n),[r,s,o])}function yt(){const e=_(),t=f();return i.Phrase.create(1140,m(e),[t])}function Tt(){let e=T();switch(e.kind){case 83:case 89:return bt();case 117:return gt(117,120);case 3:return function(){const e=_(),t=f(),n=g(117);if(!Ve(T())){const r=g(120);return i.Phrase.create(1009,m(e),[t,n,r])}const r=ft(120,dt),s=g(120);return i.Phrase.create(1009,m(e),[t,n,r,s])}();case 116:return function(){const e=_(),t=f();if(!Ve(T())){const n=g(119);return i.Phrase.create(1009,m(e),[t,n])}const n=ft(119,pt),r=g(119);return i.Phrase.create(1009,m(e),[t,n,r])}();case 77:return f();case 58:return yt();case 82:case 49:case 146:return ut();default:{const t=i.Phrase.createParseError([]);return u.set(t,s.ProblemFactory.unexpectedToken(e)),t}}}function bt(){const e=_(),t=y([83,89]);if(89!==t.kind)return i.Phrase.create(1152,m(e),[t]);const n=T();let r;return 115===n.kind?r=gt(115,118):89===n.kind||83===n.kind?r=bt():(r=i.Phrase.createParseError([]),u.set(r,s.ProblemFactory.unexpectedToken(n))),i.Phrase.create(1152,m(e),[t,r])}function vt(e){return 92===e.kind||118===e.kind}function Et(e){return 82===e.kind||146===e.kind}function St(e,t,n,r,o,a,l){let h;void 0===a&&(a=_()),(o?o.slice(0):[]).push(r),l&&c.push(l);const d=[];for(;;){if(d.push(t()),(h=T()).kind!==r){if(!o||o.indexOf(h.kind)>-1)break;if(n(h)){const e=i.Phrase.createParseError([]);d.push(e),u.set(e,s.ProblemFactory.unexpectedToken(h,r));continue}{const e=_();let t=S();const n=s.ProblemFactory.unexpectedToken(h);if(T().kind===r){t.push(f());const r=i.Phrase.createParseError(t,m(e));d.push(r),u.set(r,n);continue}const o=i.Phrase.createParseError(t,m(e));d.push(o),u.set(o,n)}break}d.push(f())}return l&&c.pop(),i.Phrase.create(e,m(a),d)}function kt(e){switch(e.kind){case 11:case 33:case 82:return!0;default:return!1}}function wt(){const e=_(),t=p([33,11]),n=At();if(4!==T().kind)return i.Phrase.create(1120,m(e),t?[t,n]:[n]);const r=Nt();return i.Phrase.create(1120,m(e),t?[t,n,r]:[n,r])}function Nt(){const e=_(),t=f(),n=g(82);return i.Phrase.create(1114,m(e),[t,n])}function At(){const e=_(),t=[];for(t.push(g(82));146===T().kind&&82===T(1).kind;)t.push(f(),f());return i.Phrase.create(1116,m(e),t)}function xt(e){switch(e.kind){case 39:case 40:case 26:case 55:case 56:case 47:case 48:case 46:case 41:case 50:case 10:case 27:case 37:case 18:case 17:case 23:case 16:case 15:case 66:case 25:case 31:case 21:case 32:case 22:case 13:case 20:case 4:case 62:case 8:case 30:case 60:case 64:case 42:case 34:case 65:case 63:case 44:case 19:case 12:case 35:case 33:case 11:case 57:case 51:case 67:case 45:case 59:case 24:case 7:case 14:case 5:case 3:case 6:case 28:case 38:case 49:case 61:case 43:case 9:case 76:case 75:case 72:case 73:case 71:case 70:case 69:case 74:return!0;default:return!1}}function Ct(e){switch(e.kind){case 58:case 2:case 29:case 52:case 54:case 53:return!0;default:return xt(e)}}function Rt(e){switch(e.kind){case 49:case 64:case 11:case 33:case 9:case 2:case 29:case 61:case 43:case 115:case 37:case 66:case 15:case 31:case 59:case 5:case 12:case 57:case 34:case 58:case 16:case 63:case 32:case 13:case 62:case 60:case 35:case 82:case 87:case 158:case 80:case 156:case 157:case 159:return!0;default:return Le(e)}}e.parse=function(e){!function(e,t){u=new Map,r.Lexer.setInput(e,u,t),a=[],c=[]}(e);const t=_(),n=function(e){e.push(36);const t=k(e);if(t.kind=1178,36===T().kind){const e=function(){const e=_(),t=f(),n=g(117),r=g(120),s=g(87);return i.Phrase.create(1088,m(e),[t,n,r,s])}();t.children.push(e)}return t}([1]),s=f();return i.Phrase.create(1148,m(t),[n,s])},e.getNodeProblemMap=function(){return u}}(t.Parser||(t.Parser={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(67);!function(e){e.unexpectedToken=function(e,t){let n=`Unexpected '${r.tokenKindToString(e.kind)}'.`;t&&(n+=` Expected '${r.tokenKindToString(t)}'.`);const i={level:1,code:1,message:n};return i.unexpected=e,t&&(i.expected=t),i}}(t.ProblemFactory||(t.ProblemFactory={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(1),i=n(7),s=n(15),o=n(114),a=n(8);t.UseDeclarationHelper=class{constructor(e,t,n){this.parseTree=e,this.definitionTable=t,this._useDeclarationDefinitions=[];for(let e of t.definitions)this._isUseDeclarationSymbol(e)&&this._useDeclarationDefinitions.push(e);if(this.offset=e.getNodeUtils().positionToOffset(n),!this.parseTree.nodeMaps.nodeReferenceMap)throw new Error("Invalid Argument");const r=new c(this.offset,this.parseTree.getNodeUtils(),this.parseTree.nodeMaps.nodeReferenceMap);this.useDeclarationAppendAfterOptions=this.parseTree.traverse(r).useDeclarationPreceedingNodeOptions}get useDeclarationDefinitions(){return this._useDeclarationDefinitions.slice(0)}getUseDeclarationInsertTextEdit(e,t){const[n,r]=this.getUseDeclarationAppendAfter(e.name);let s,o="";if(n)o=",",r.shouldInsertNewlines?o+="\n":o+=" ",s=e.name.slice(n.length+1);else switch(o="\n",s=e.name,1115===r.preceedingNode.kind&&(o+="\n"),o+=r.indentText,o+="use ",e.kind){case 8:o+="const ";break;case 64:o+="function "}return o+=s,t&&(o+=" as "+t),1120!==r.preceedingNode.kind?o+=";\n\n":r.shouldInsertNewlines&&(o+="\n"),i.TextEdit.replace(r.range,o)}findUseSymbolByExternalName(e){let t=e.toLowerCase();return this._useDeclarationDefinitions.find(e=>e.associated&&e.associated.length>0&&e.associated[0].name.toLowerCase()===t)}findUseSymbolByLocalName(e,t){const n=r.Definition.fqsenHash(e,0,t);return this._useDeclarationDefinitions.find(e=>e.fqsenHash===n)}_isUseDeclarationSymbol(e){return(4096&e.modifiers)>0&&(73&e.kind)>0}getUseDeclarationAppendAfter(e){const t=e.toLowerCase(),n=Array.from(this.useDeclarationAppendAfterOptions.lastGroupUseClauseMap.entries()).filter(e=>0===t.indexOf(e[0]));return n.sort((e,t)=>t[0].length-e[0].length),n.length?n.shift():["",this.useDeclarationAppendAfterOptions.lastNamespaceUseDeclaration||this.useDeclarationAppendAfterOptions.lastNamespaceDefinition||this.useDeclarationAppendAfterOptions.firstInlineText||{indentText:"",preceedingNode:{kind:0,length:0},range:{start:{line:0,character:0},end:{line:0,character:0}},shouldInsertNewlines:!1}]}};class c{constructor(e,t,n){this.haltAtOffset=e,this.nodeUtils=t,this.nodeReferenceMap=n,this.offsetVisitor=new s.OffsetVisitor,this.IndentVisitor=new o.IndentVisitor(4,!0,this.nodeUtils),this.lastGroupUseClauseMap=new Map}get useDeclarationPreceedingNodeOptions(){return{firstInlineText:this.firstInlineText,lastNamespaceDefinition:this.lastNamespaceDefinition,lastNamespaceUseDeclaration:this.lastNamespaceUseDeclaration,lastGroupUseClauseMap:this.lastGroupUseClauseMap}}beforeTraverse(e,t){this.offsetVisitor.beforeTraverse(e,t)}preorder(e,t){if(this.offsetVisitor.preorder(e,t),this.IndentVisitor.preorder(e,t),this.offsetVisitor.offset>=this.haltAtOffset)return!1;let n=!0;switch(e.kind){case 1094:if(!this.firstInlineText){let[n,r]=this.getInsertData(e,t);this.firstInlineText={preceedingNode:e,range:n,shouldInsertNewlines:r,indentText:this.IndentVisitor.indentText}}break;case 1115:{const n=e.children.find(e=>115===e.kind);if(n){let[r,i]=this.getInsertData(e,t);this.lastNamespaceDefinition={preceedingNode:n,range:r,shouldInsertNewlines:i,indentText:this.IndentVisitor.indentText}}else{let[n,r]=this.getInsertData(e,t);this.lastNamespaceDefinition={preceedingNode:e,range:n,shouldInsertNewlines:r,indentText:this.IndentVisitor.indentText}}}break;case 1119:{let[r,i]=this.getInsertData(e,t);this.lastNamespaceUseDeclaration={preceedingNode:e,range:r,shouldInsertNewlines:i,indentText:this.IndentVisitor.indentText};const s=e.children.find(e=>1116===e.kind);if(s){let e=this.nodeReferenceMap.get(s);if(e){this.lastGroupUseClausePrefix=e.name.toLowerCase();break}}n=!1}break;case 1120:if(this.lastGroupUseClausePrefix){let[n,r]=this.getInsertData(e,t);this.lastGroupUseClauseMap.set(this.lastGroupUseClausePrefix,{preceedingNode:e,range:n,shouldInsertNewlines:r,indentText:this.IndentVisitor.indentText})}n=!1;break;case 1028:case 1161:case 1098:case 1002:case 1081:case 1004:case 1067:n=!1}return n}postorder(e,t){this.offsetVisitor.postorder(e,t),this.IndentVisitor.postorder(e,t)}getInsertData(e,t){const n=[...t,e];let r=this.nodeUtils.nodeRangeFromSpine(n).end,o=r;const c=new s.ParseTreeTraverser(n,this.nodeUtils.clone(),{}).trailingTrivia;let u=c.findIndex(e=>a.hasNewline(e.text));const l=1120!==e.kind||-1!==u;return u>0?(r=c[u].range.start,o=c[u].range.end):c.length>0&&163===c[0].token.kind&&(o=c[0].range.end),[i.Range.create(r,o),l]}}},function(e,t,n){"use strict";var r,i;r=[n(68),n(69),n(218)],void 0===(i=function(e,t,n){return function(e,t,n){var r=function(t,n){return e.js_beautify(t,n)};return r.js=e.js_beautify,r.css=t.css_beautify,r.html=n.html_beautify,r.js_beautify=e.js_beautify,r.css_beautify=t.css_beautify,r.html_beautify=n.html_beautify,r}(e,t,n)}.apply(t,r))||(e.exports=i)},function(e,t,n){var r,i,s;s=function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=18)}([,,function(e,t,n){"use strict";function r(e){this.__parent=e,this.__character_count=0,this.__indent_count=-1,this.__alignment_count=0,this.__wrap_point_index=0,this.__wrap_point_character_count=0,this.__wrap_point_indent_count=-1,this.__wrap_point_alignment_count=0,this.__items=[]}function i(e,t){this.__cache=[""],this.__indent_size=e.indent_size,this.__indent_string=e.indent_char,e.indent_with_tabs||(this.__indent_string=new Array(e.indent_size+1).join(e.indent_char)),t=t||"",e.indent_level>0&&(t=new Array(e.indent_level+1).join(this.__indent_string)),this.__base_string=t,this.__base_string_length=t.length}function s(e,t){this.__indent_cache=new i(e,t),this.raw=!1,this._end_with_newline=e.end_with_newline,this.indent_size=e.indent_size,this.wrap_line_length=e.wrap_line_length,this.indent_empty_lines=e.indent_empty_lines,this.__lines=[],this.previous_line=null,this.current_line=null,this.next_line=new r(this),this.space_before_token=!1,this.non_breaking_space=!1,this.previous_token_wrapped=!1,this.__add_outputline()}r.prototype.clone_empty=function(){var e=new r(this.__parent);return e.set_indent(this.__indent_count,this.__alignment_count),e},r.prototype.item=function(e){return e<0?this.__items[this.__items.length+e]:this.__items[e]},r.prototype.has_match=function(e){for(var t=this.__items.length-1;t>=0;t--)if(this.__items[t].match(e))return!0;return!1},r.prototype.set_indent=function(e,t){this.is_empty()&&(this.__indent_count=e||0,this.__alignment_count=t||0,this.__character_count=this.__parent.get_indent_size(this.__indent_count,this.__alignment_count))},r.prototype._set_wrap_point=function(){this.__parent.wrap_line_length&&(this.__wrap_point_index=this.__items.length,this.__wrap_point_character_count=this.__character_count,this.__wrap_point_indent_count=this.__parent.next_line.__indent_count,this.__wrap_point_alignment_count=this.__parent.next_line.__alignment_count)},r.prototype._should_wrap=function(){return this.__wrap_point_index&&this.__character_count>this.__parent.wrap_line_length&&this.__wrap_point_character_count>this.__parent.next_line.__character_count},r.prototype._allow_wrap=function(){if(this._should_wrap()){this.__parent.add_new_line();var e=this.__parent.current_line;return e.set_indent(this.__wrap_point_indent_count,this.__wrap_point_alignment_count),e.__items=this.__items.slice(this.__wrap_point_index),this.__items=this.__items.slice(0,this.__wrap_point_index),e.__character_count+=this.__character_count-this.__wrap_point_character_count,this.__character_count=this.__wrap_point_character_count," "===e.__items[0]&&(e.__items.splice(0,1),e.__character_count-=1),!0}return!1},r.prototype.is_empty=function(){return 0===this.__items.length},r.prototype.last=function(){return this.is_empty()?null:this.__items[this.__items.length-1]},r.prototype.push=function(e){this.__items.push(e);var t=e.lastIndexOf("\n");-1!==t?this.__character_count=e.length-t:this.__character_count+=e.length},r.prototype.pop=function(){var e=null;return this.is_empty()||(e=this.__items.pop(),this.__character_count-=e.length),e},r.prototype._remove_indent=function(){this.__indent_count>0&&(this.__indent_count-=1,this.__character_count-=this.__parent.indent_size)},r.prototype._remove_wrap_indent=function(){this.__wrap_point_indent_count>0&&(this.__wrap_point_indent_count-=1)},r.prototype.trim=function(){for(;" "===this.last();)this.__items.pop(),this.__character_count-=1},r.prototype.toString=function(){var e="";return this.is_empty()?this.__parent.indent_empty_lines&&(e=this.__parent.get_indent_string(this.__indent_count)):(e=this.__parent.get_indent_string(this.__indent_count,this.__alignment_count),e+=this.__items.join("")),e},i.prototype.get_indent_size=function(e,t){var n=this.__base_string_length;return t=t||0,e<0&&(n=0),n+=e*this.__indent_size,n+=t},i.prototype.get_indent_string=function(e,t){var n=this.__base_string;return t=t||0,e<0&&(e=0,n=""),t+=e*this.__indent_size,this.__ensure_cache(t),n+=this.__cache[t]},i.prototype.__ensure_cache=function(e){for(;e>=this.__cache.length;)this.__add_column()},i.prototype.__add_column=function(){var e=this.__cache.length,t=0,n="";this.__indent_size&&e>=this.__indent_size&&(e-=(t=Math.floor(e/this.__indent_size))*this.__indent_size,n=new Array(t+1).join(this.__indent_string)),e&&(n+=new Array(e+1).join(" ")),this.__cache.push(n)},s.prototype.__add_outputline=function(){this.previous_line=this.current_line,this.current_line=this.next_line.clone_empty(),this.__lines.push(this.current_line)},s.prototype.get_line_number=function(){return this.__lines.length},s.prototype.get_indent_string=function(e,t){return this.__indent_cache.get_indent_string(e,t)},s.prototype.get_indent_size=function(e,t){return this.__indent_cache.get_indent_size(e,t)},s.prototype.is_empty=function(){return!this.previous_line&&this.current_line.is_empty()},s.prototype.add_new_line=function(e){return!(this.is_empty()||!e&&this.just_added_newline())&&(this.raw||this.__add_outputline(),!0)},s.prototype.get_code=function(e){this.trim(!0);var t=this.current_line.pop();t&&("\n"===t[t.length-1]&&(t=t.replace(/\n+$/g,"")),this.current_line.push(t)),this._end_with_newline&&this.__add_outputline();var n=this.__lines.join("\n");return"\n"!==e&&(n=n.replace(/[\n]/g,e)),n},s.prototype.set_wrap_point=function(){this.current_line._set_wrap_point()},s.prototype.set_indent=function(e,t){return e=e||0,t=t||0,this.next_line.set_indent(e,t),this.__lines.length>1?(this.current_line.set_indent(e,t),!0):(this.current_line.set_indent(),!1)},s.prototype.add_raw_token=function(e){for(var t=0;t<e.newlines;t++)this.__add_outputline();this.current_line.set_indent(-1),this.current_line.push(e.whitespace_before),this.current_line.push(e.text),this.space_before_token=!1,this.non_breaking_space=!1,this.previous_token_wrapped=!1},s.prototype.add_token=function(e){this.__add_space_before_token(),this.current_line.push(e),this.space_before_token=!1,this.non_breaking_space=!1,this.previous_token_wrapped=this.current_line._allow_wrap()},s.prototype.__add_space_before_token=function(){this.space_before_token&&!this.just_added_newline()&&(this.non_breaking_space||this.set_wrap_point(),this.current_line.push(" "))},s.prototype.remove_indent=function(e){for(var t=this.__lines.length;e<t;)this.__lines[e]._remove_indent(),e++;this.current_line._remove_wrap_indent()},s.prototype.trim=function(e){for(e=void 0!==e&&e,this.current_line.trim();e&&this.__lines.length>1&&this.current_line.is_empty();)this.__lines.pop(),this.current_line=this.__lines[this.__lines.length-1],this.current_line.trim();this.previous_line=this.__lines.length>1?this.__lines[this.__lines.length-2]:null},s.prototype.just_added_newline=function(){return this.current_line.is_empty()},s.prototype.just_added_blankline=function(){return this.is_empty()||this.current_line.is_empty()&&this.previous_line.is_empty()},s.prototype.ensure_empty_line_above=function(e,t){for(var n=this.__lines.length-2;n>=0;){var i=this.__lines[n];if(i.is_empty())break;if(0!==i.item(0).indexOf(e)&&i.item(-1)!==t){this.__lines.splice(n+1,0,new r(this)),this.previous_line=this.__lines[this.__lines.length-2];break}n--}},e.exports.Output=s},function(e,t,n){"use strict";e.exports.Token=function(e,t,n,r){this.type=e,this.text=t,this.comments_before=null,this.newlines=n||0,this.whitespace_before=r||"",this.parent=null,this.next=null,this.previous=null,this.opened=null,this.closed=null,this.directives=null}},,,function(e,t,n){"use strict";function r(e,t){this.raw_options=i(e,t),this.disabled=this._get_boolean("disabled"),this.eol=this._get_characters("eol","auto"),this.end_with_newline=this._get_boolean("end_with_newline"),this.indent_size=this._get_number("indent_size",4),this.indent_char=this._get_characters("indent_char"," "),this.indent_level=this._get_number("indent_level"),this.preserve_newlines=this._get_boolean("preserve_newlines",!0),this.max_preserve_newlines=this._get_number("max_preserve_newlines",32786),this.preserve_newlines||(this.max_preserve_newlines=0),this.indent_with_tabs=this._get_boolean("indent_with_tabs","\t"===this.indent_char),this.indent_with_tabs&&(this.indent_char="\t",1===this.indent_size&&(this.indent_size=4)),this.wrap_line_length=this._get_number("wrap_line_length",this._get_number("max_char")),this.indent_empty_lines=this._get_boolean("indent_empty_lines"),this.templating=this._get_selection_list("templating",["auto","none","django","erb","handlebars","php"],["auto"])}function i(e,t){var n,r={};for(n in e=s(e))n!==t&&(r[n]=e[n]);if(t&&e[t])for(n in e[t])r[n]=e[t][n];return r}function s(e){var t,n={};for(t in e){n[t.replace(/-/g,"_")]=e[t]}return n}r.prototype._get_array=function(e,t){var n=this.raw_options[e],r=t||[];return"object"==typeof n?null!==n&&"function"==typeof n.concat&&(r=n.concat()):"string"==typeof n&&(r=n.split(/[^a-zA-Z0-9_\/\-]+/)),r},r.prototype._get_boolean=function(e,t){var n=this.raw_options[e];return void 0===n?!!t:!!n},r.prototype._get_characters=function(e,t){var n=this.raw_options[e],r=t||"";return"string"==typeof n&&(r=n.replace(/\\r/,"\r").replace(/\\n/,"\n").replace(/\\t/,"\t")),r},r.prototype._get_number=function(e,t){var n=this.raw_options[e];t=parseInt(t,10),isNaN(t)&&(t=0);var r=parseInt(n,10);return isNaN(r)&&(r=t),r},r.prototype._get_selection=function(e,t,n){var r=this._get_selection_list(e,t,n);if(1!==r.length)throw new Error("Invalid Option Value: The option '"+e+"' can only be one of the following values:\n"+t+"\nYou passed in: '"+this.raw_options[e]+"'");return r[0]},r.prototype._get_selection_list=function(e,t,n){if(!t||0===t.length)throw new Error("Selection list cannot be empty.");if(n=n||[t[0]],!this._is_valid_selection(n,t))throw new Error("Invalid Default Value!");var r=this._get_array(e,n);if(!this._is_valid_selection(r,t))throw new Error("Invalid Option Value: The option '"+e+"' can contain only the following values:\n"+t+"\nYou passed in: '"+this.raw_options[e]+"'");return r},r.prototype._is_valid_selection=function(e,t){return e.length&&t.length&&!e.some(function(e){return-1===t.indexOf(e)})},e.exports.Options=r,e.exports.normalizeOpts=s,e.exports.mergeOpts=i},,function(e,t,n){"use strict";var r=RegExp.prototype.hasOwnProperty("sticky");function i(e){this.__input=e||"",this.__input_length=this.__input.length,this.__position=0}i.prototype.restart=function(){this.__position=0},i.prototype.back=function(){this.__position>0&&(this.__position-=1)},i.prototype.hasNext=function(){return this.__position<this.__input_length},i.prototype.next=function(){var e=null;return this.hasNext()&&(e=this.__input.charAt(this.__position),this.__position+=1),e},i.prototype.peek=function(e){var t=null;return e=e||0,(e+=this.__position)>=0&&e<this.__input_length&&(t=this.__input.charAt(e)),t},i.prototype.__match=function(e,t){e.lastIndex=t;var n=e.exec(this.__input);return!n||r&&e.sticky||n.index!==t&&(n=null),n},i.prototype.test=function(e,t){return t=t||0,(t+=this.__position)>=0&&t<this.__input_length&&!!this.__match(e,t)},i.prototype.testChar=function(e,t){var n=this.peek(t);return e.lastIndex=0,null!==n&&e.test(n)},i.prototype.match=function(e){var t=this.__match(e,this.__position);return t?this.__position+=t[0].length:t=null,t},i.prototype.read=function(e,t,n){var r,i="";return e&&(r=this.match(e))&&(i+=r[0]),!t||!r&&e||(i+=this.readUntil(t,n)),i},i.prototype.readUntil=function(e,t){var n,r=this.__position;e.lastIndex=this.__position;var i=e.exec(this.__input);return i?(r=i.index,t&&(r+=i[0].length)):r=this.__input_length,n=this.__input.substring(this.__position,r),this.__position=r,n},i.prototype.readUntilAfter=function(e){return this.readUntil(e,!0)},i.prototype.get_regexp=function(e,t){var n=null,i="g";return t&&r&&(i="y"),"string"==typeof e&&""!==e?n=new RegExp(e,i):e&&(n=new RegExp(e.source,i)),n},i.prototype.get_literal_regexp=function(e){return RegExp(e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&"))},i.prototype.peekUntilAfter=function(e){var t=this.__position,n=this.readUntilAfter(e);return this.__position=t,n},i.prototype.lookBack=function(e){var t=this.__position-1;return t>=e.length&&this.__input.substring(t-e.length,t).toLowerCase()===e},e.exports.InputScanner=i},function(e,t,n){"use strict";var r=n(8).InputScanner,i=n(3).Token,s=n(10).TokenStream,o=n(11).WhitespacePattern,a={START:"TK_START",RAW:"TK_RAW",EOF:"TK_EOF"},c=function(e,t){this._input=new r(e),this._options=t||{},this.__tokens=null,this._patterns={},this._patterns.whitespace=new o(this._input)};c.prototype.tokenize=function(){var e;this._input.restart(),this.__tokens=new s,this._reset();for(var t=new i(a.START,""),n=null,r=[],o=new s;t.type!==a.EOF;){for(e=this._get_next_token(t,n);this._is_comment(e);)o.add(e),e=this._get_next_token(t,n);o.isEmpty()||(e.comments_before=o,o=new s),e.parent=n,this._is_opening(e)?(r.push(n),n=e):n&&this._is_closing(e,n)&&(e.opened=n,n.closed=e,n=r.pop(),e.parent=n),e.previous=t,t.next=e,this.__tokens.add(e),t=e}return this.__tokens},c.prototype._is_first_token=function(){return this.__tokens.isEmpty()},c.prototype._reset=function(){},c.prototype._get_next_token=function(e,t){this._readWhitespace();var n=this._input.read(/.+/g);return n?this._create_token(a.RAW,n):this._create_token(a.EOF,"")},c.prototype._is_comment=function(e){return!1},c.prototype._is_opening=function(e){return!1},c.prototype._is_closing=function(e,t){return!1},c.prototype._create_token=function(e,t){return new i(e,t,this._patterns.whitespace.newline_count,this._patterns.whitespace.whitespace_before_token)},c.prototype._readWhitespace=function(){return this._patterns.whitespace.read()},e.exports.Tokenizer=c,e.exports.TOKEN=a},function(e,t,n){"use strict";function r(e){this.__tokens=[],this.__tokens_length=this.__tokens.length,this.__position=0,this.__parent_token=e}r.prototype.restart=function(){this.__position=0},r.prototype.isEmpty=function(){return 0===this.__tokens_length},r.prototype.hasNext=function(){return this.__position<this.__tokens_length},r.prototype.next=function(){var e=null;return this.hasNext()&&(e=this.__tokens[this.__position],this.__position+=1),e},r.prototype.peek=function(e){var t=null;return e=e||0,(e+=this.__position)>=0&&e<this.__tokens_length&&(t=this.__tokens[e]),t},r.prototype.add=function(e){this.__parent_token&&(e.parent=this.__parent_token),this.__tokens.push(e),this.__tokens_length+=1},e.exports.TokenStream=r},function(e,t,n){"use strict";var r=n(12).Pattern;function i(e,t){r.call(this,e,t),t?this._line_regexp=this._input.get_regexp(t._line_regexp):this.__set_whitespace_patterns("",""),this.newline_count=0,this.whitespace_before_token=""}i.prototype=new r,i.prototype.__set_whitespace_patterns=function(e,t){e+="\\t ",t+="\\n\\r",this._match_pattern=this._input.get_regexp("["+e+t+"]+",!0),this._newline_regexp=this._input.get_regexp("\\r\\n|["+t+"]")},i.prototype.read=function(){this.newline_count=0,this.whitespace_before_token="";var e=this._input.read(this._match_pattern);if(" "===e)this.whitespace_before_token=" ";else if(e){var t=this.__split(this._newline_regexp,e);this.newline_count=t.length-1,this.whitespace_before_token=t[this.newline_count]}return e},i.prototype.matching=function(e,t){var n=this._create();return n.__set_whitespace_patterns(e,t),n._update(),n},i.prototype._create=function(){return new i(this._input,this)},i.prototype.__split=function(e,t){e.lastIndex=0;for(var n=0,r=[],i=e.exec(t);i;)r.push(t.substring(n,i.index)),n=i.index+i[0].length,i=e.exec(t);return n<t.length?r.push(t.substring(n,t.length)):r.push(""),r},e.exports.WhitespacePattern=i},function(e,t,n){"use strict";function r(e,t){this._input=e,this._starting_pattern=null,this._match_pattern=null,this._until_pattern=null,this._until_after=!1,t&&(this._starting_pattern=this._input.get_regexp(t._starting_pattern,!0),this._match_pattern=this._input.get_regexp(t._match_pattern,!0),this._until_pattern=this._input.get_regexp(t._until_pattern),this._until_after=t._until_after)}r.prototype.read=function(){var e=this._input.read(this._starting_pattern);return this._starting_pattern&&!e||(e+=this._input.read(this._match_pattern,this._until_pattern,this._until_after)),e},r.prototype.read_match=function(){return this._input.match(this._match_pattern)},r.prototype.until_after=function(e){var t=this._create();return t._until_after=!0,t._until_pattern=this._input.get_regexp(e),t._update(),t},r.prototype.until=function(e){var t=this._create();return t._until_after=!1,t._until_pattern=this._input.get_regexp(e),t._update(),t},r.prototype.starting_with=function(e){var t=this._create();return t._starting_pattern=this._input.get_regexp(e,!0),t._update(),t},r.prototype.matching=function(e){var t=this._create();return t._match_pattern=this._input.get_regexp(e,!0),t._update(),t},r.prototype._create=function(){return new r(this._input,this)},r.prototype._update=function(){},e.exports.Pattern=r},function(e,t,n){"use strict";function r(e,t){e="string"==typeof e?e:e.source,t="string"==typeof t?t:t.source,this.__directives_block_pattern=new RegExp(e+/ beautify( \w+[:]\w+)+ /.source+t,"g"),this.__directive_pattern=/ (\w+)[:](\w+)/g,this.__directives_end_ignore_pattern=new RegExp(e+/\sbeautify\signore:end\s/.source+t,"g")}r.prototype.get_directives=function(e){if(!e.match(this.__directives_block_pattern))return null;var t={};this.__directive_pattern.lastIndex=0;for(var n=this.__directive_pattern.exec(e);n;)t[n[1]]=n[2],n=this.__directive_pattern.exec(e);return t},r.prototype.readIgnored=function(e){return e.readUntilAfter(this.__directives_end_ignore_pattern)},e.exports.Directives=r},function(e,t,n){"use strict";var r=n(12).Pattern,i={django:!1,erb:!1,handlebars:!1,php:!1};function s(e,t){r.call(this,e,t),this.__template_pattern=null,this._disabled=Object.assign({},i),this._excluded=Object.assign({},i),t&&(this.__template_pattern=this._input.get_regexp(t.__template_pattern),this._excluded=Object.assign(this._excluded,t._excluded),this._disabled=Object.assign(this._disabled,t._disabled));var n=new r(e);this.__patterns={handlebars_comment:n.starting_with(/{{!--/).until_after(/--}}/),handlebars:n.starting_with(/{{/).until_after(/}}/),php:n.starting_with(/<\?(?:[=]|php)/).until_after(/\?>/),erb:n.starting_with(/<%[^%]/).until_after(/[^%]%>/),django:n.starting_with(/{%/).until_after(/%}/),django_value:n.starting_with(/{{/).until_after(/}}/),django_comment:n.starting_with(/{#/).until_after(/#}/)}}s.prototype=new r,s.prototype._create=function(){return new s(this._input,this)},s.prototype._update=function(){this.__set_templated_pattern()},s.prototype.disable=function(e){var t=this._create();return t._disabled[e]=!0,t._update(),t},s.prototype.read_options=function(e){var t=this._create();for(var n in i)t._disabled[n]=-1===e.templating.indexOf(n);return t._update(),t},s.prototype.exclude=function(e){var t=this._create();return t._excluded[e]=!0,t._update(),t},s.prototype.read=function(){var e="";e=this._match_pattern?this._input.read(this._starting_pattern):this._input.read(this._starting_pattern,this.__template_pattern);for(var t=this._read_template();t;)this._match_pattern?t+=this._input.read(this._match_pattern):t+=this._input.readUntil(this.__template_pattern),e+=t,t=this._read_template();return this._until_after&&(e+=this._input.readUntilAfter(this._until_pattern)),e},s.prototype.__set_templated_pattern=function(){var e=[];this._disabled.php||e.push(this.__patterns.php._starting_pattern.source),this._disabled.handlebars||e.push(this.__patterns.handlebars._starting_pattern.source),this._disabled.erb||e.push(this.__patterns.erb._starting_pattern.source),this._disabled.django||(e.push(this.__patterns.django._starting_pattern.source),e.push(this.__patterns.django_value._starting_pattern.source),e.push(this.__patterns.django_comment._starting_pattern.source)),this._until_pattern&&e.push(this._until_pattern.source),this.__template_pattern=this._input.get_regexp("(?:"+e.join("|")+")")},s.prototype._read_template=function(){var e="",t=this._input.peek();if("<"===t){var n=this._input.peek(1);this._disabled.php||this._excluded.php||"?"!==n||(e=e||this.__patterns.php.read()),this._disabled.erb||this._excluded.erb||"%"!==n||(e=e||this.__patterns.erb.read())}else"{"===t&&(this._disabled.handlebars||this._excluded.handlebars||(e=(e=e||this.__patterns.handlebars_comment.read())||this.__patterns.handlebars.read()),this._disabled.django||(this._excluded.django||this._excluded.handlebars||(e=e||this.__patterns.django_value.read()),this._excluded.django||(e=(e=e||this.__patterns.django_comment.read())||this.__patterns.django.read())));return e},e.exports.TemplatablePattern=s},,,,function(e,t,n){"use strict";var r=n(19).Beautifier,i=n(20).Options;e.exports=function(e,t,n,i){return new r(e,t,n,i).beautify()},e.exports.defaultOptions=function(){return new i}},function(e,t,n){"use strict";var r=n(20).Options,i=n(2).Output,s=n(21).Tokenizer,o=n(21).TOKEN,a=/\r\n|[\r\n]/,c=/\r\n|[\r\n]/g,u=function(e,t){this.indent_level=0,this.alignment_size=0,this.max_preserve_newlines=e.max_preserve_newlines,this.preserve_newlines=e.preserve_newlines,this._output=new i(e,t)};u.prototype.current_line_has_match=function(e){return this._output.current_line.has_match(e)},u.prototype.set_space_before_token=function(e,t){this._output.space_before_token=e,this._output.non_breaking_space=t},u.prototype.set_wrap_point=function(){this._output.set_indent(this.indent_level,this.alignment_size),this._output.set_wrap_point()},u.prototype.add_raw_token=function(e){this._output.add_raw_token(e)},u.prototype.print_preserved_newlines=function(e){var t=0;e.type!==o.TEXT&&e.previous.type!==o.TEXT&&(t=e.newlines?1:0),this.preserve_newlines&&(t=e.newlines<this.max_preserve_newlines+1?e.newlines:this.max_preserve_newlines+1);for(var n=0;n<t;n++)this.print_newline(n>0);return 0!==t},u.prototype.traverse_whitespace=function(e){return!(!e.whitespace_before&&!e.newlines)&&(this.print_preserved_newlines(e)||(this._output.space_before_token=!0),!0)},u.prototype.previous_token_wrapped=function(){return this._output.previous_token_wrapped},u.prototype.print_newline=function(e){this._output.add_new_line(e)},u.prototype.print_token=function(e){e.text&&(this._output.set_indent(this.indent_level,this.alignment_size),this._output.add_token(e.text))},u.prototype.indent=function(){this.indent_level++},u.prototype.get_full_indent=function(e){return(e=this.indent_level+(e||0))<1?"":this._output.get_indent_string(e)};var l=function(e,t){var n=null,r=null;return t.closed?("script"===e?n="text/javascript":"style"===e&&(n="text/css"),(n=function(e){for(var t=null,n=e.next;n.type!==o.EOF&&e.closed!==n;){if(n.type===o.ATTRIBUTE&&"type"===n.text){n.next&&n.next.type===o.EQUALS&&n.next.next&&n.next.next.type===o.VALUE&&(t=n.next.next.text);break}n=n.next}return t}(t)||n).search("text/css")>-1?r="css":n.search(/(text|application|dojo)\/(x-)?(javascript|ecmascript|jscript|livescript|(ld\+)?json|method|aspect)/)>-1?r="javascript":n.search(/(text|application|dojo)\/(x-)?(html)/)>-1?r="html":n.search(/test\/null/)>-1&&(r="null"),r):null};function h(e,t){return-1!==t.indexOf(e)}function d(e,t,n){this.parent=e||null,this.tag=t?t.tag_name:"",this.indent_level=n||0,this.parser_token=t||null}function p(e){this._printer=e,this._current_frame=null}function f(e,t,n,i){this._source_text=e||"",t=t||{},this._js_beautify=n,this._css_beautify=i,this._tag_stack=null;var s=new r(t,"html");this._options=s,this._is_wrap_attributes_force="force"===this._options.wrap_attributes.substr(0,"force".length),this._is_wrap_attributes_force_expand_multiline="force-expand-multiline"===this._options.wrap_attributes,this._is_wrap_attributes_force_aligned="force-aligned"===this._options.wrap_attributes,this._is_wrap_attributes_aligned_multiple="aligned-multiple"===this._options.wrap_attributes,this._is_wrap_attributes_preserve="preserve"===this._options.wrap_attributes.substr(0,"preserve".length),this._is_wrap_attributes_preserve_aligned="preserve-aligned"===this._options.wrap_attributes}p.prototype.get_parser_token=function(){return this._current_frame?this._current_frame.parser_token:null},p.prototype.record_tag=function(e){var t=new d(this._current_frame,e,this._printer.indent_level);this._current_frame=t},p.prototype._try_pop_frame=function(e){var t=null;return e&&(t=e.parser_token,this._printer.indent_level=e.indent_level,this._current_frame=e.parent),t},p.prototype._get_frame=function(e,t){for(var n=this._current_frame;n&&-1===e.indexOf(n.tag);){if(t&&-1!==t.indexOf(n.tag)){n=null;break}n=n.parent}return n},p.prototype.try_pop=function(e,t){var n=this._get_frame([e],t);return this._try_pop_frame(n)},p.prototype.indent_to_tag=function(e){var t=this._get_frame(e);t&&(this._printer.indent_level=t.indent_level)},f.prototype.beautify=function(){if(this._options.disabled)return this._source_text;var e=this._source_text,t=this._options.eol;"auto"===this._options.eol&&(t="\n",e&&a.test(e)&&(t=e.match(a)[0]));var n=(e=e.replace(c,"\n")).match(/^[\t ]*/)[0],r={text:"",type:""},i=new _,l=new u(this._options,n),h=new s(e,this._options).tokenize();this._tag_stack=new p(l);for(var d=null,f=h.next();f.type!==o.EOF;)f.type===o.TAG_OPEN||f.type===o.COMMENT?i=d=this._handle_tag_open(l,f,i,r):f.type===o.ATTRIBUTE||f.type===o.EQUALS||f.type===o.VALUE||f.type===o.TEXT&&!i.tag_complete?d=this._handle_inside_tag(l,f,i,h):f.type===o.TAG_CLOSE?d=this._handle_tag_close(l,f,i):f.type===o.TEXT?d=this._handle_text(l,f,i):l.add_raw_token(f),r=d,f=h.next();return l._output.get_code(t)},f.prototype._handle_tag_close=function(e,t,n){var r={text:t.text,type:t.type};return e.alignment_size=0,n.tag_complete=!0,e.set_space_before_token(t.newlines||""!==t.whitespace_before,!0),n.is_unformatted?e.add_raw_token(t):("<"===n.tag_start_char&&(e.set_space_before_token("/"===t.text[0],!0),this._is_wrap_attributes_force_expand_multiline&&n.has_wrapped_attrs&&e.print_newline(!1)),e.print_token(t)),!n.indent_content||n.is_unformatted||n.is_content_unformatted||(e.indent(),n.indent_content=!1),n.is_inline_element||n.is_unformatted||n.is_content_unformatted||e.set_wrap_point(),r},f.prototype._handle_inside_tag=function(e,t,n,r){var i=n.has_wrapped_attrs,s={text:t.text,type:t.type};if(e.set_space_before_token(t.newlines||""!==t.whitespace_before,!0),n.is_unformatted)e.add_raw_token(t);else if("{"===n.tag_start_char&&t.type===o.TEXT)e.print_preserved_newlines(t)?(t.newlines=0,e.add_raw_token(t)):e.print_token(t);else{if(t.type===o.ATTRIBUTE?(e.set_space_before_token(!0),n.attr_count+=1):t.type===o.EQUALS?e.set_space_before_token(!1):t.type===o.VALUE&&t.previous.type===o.EQUALS&&e.set_space_before_token(!1),t.type===o.ATTRIBUTE&&"<"===n.tag_start_char&&((this._is_wrap_attributes_preserve||this._is_wrap_attributes_preserve_aligned)&&(e.traverse_whitespace(t),i=i||0!==t.newlines),this._is_wrap_attributes_force)){var a=n.attr_count>1;if(this._is_wrap_attributes_force_expand_multiline&&1===n.attr_count){var c,u=!0,l=0;do{if((c=r.peek(l)).type===o.ATTRIBUTE){u=!1;break}l+=1}while(l<4&&c.type!==o.EOF&&c.type!==o.TAG_CLOSE);a=!u}a&&(e.print_newline(!1),i=!0)}e.print_token(t),i=i||e.previous_token_wrapped(),n.has_wrapped_attrs=i}return s},f.prototype._handle_text=function(e,t,n){var r={text:t.text,type:"TK_CONTENT"};return n.custom_beautifier_name?this._print_custom_beatifier_text(e,t,n):n.is_unformatted||n.is_content_unformatted?e.add_raw_token(t):(e.traverse_whitespace(t),e.print_token(t)),r},f.prototype._print_custom_beatifier_text=function(e,t,n){var r=this;if(""!==t.text){var i,s=t.text,o=1,a="",c="";"javascript"===n.custom_beautifier_name&&"function"==typeof this._js_beautify?i=this._js_beautify:"css"===n.custom_beautifier_name&&"function"==typeof this._css_beautify?i=this._css_beautify:"html"===n.custom_beautifier_name&&(i=function(e,t){return new f(e,t,r._js_beautify,r._css_beautify).beautify()}),"keep"===this._options.indent_scripts?o=0:"separate"===this._options.indent_scripts&&(o=-e.indent_level);var u=e.get_full_indent(o);if(s=s.replace(/\n[ \t]*$/,""),"html"!==n.custom_beautifier_name&&"<"===s[0]&&s.match(/^(<!--|<!\[CDATA\[)/)){var l=/^(<!--[^\n]*|<!\[CDATA\[)(\n?)([ \t\n]*)([\s\S]*)(-->|]]>)$/.exec(s);if(!l)return void e.add_raw_token(t);a=u+l[1]+"\n",s=l[4],l[5]&&(c=u+l[5]),s=s.replace(/\n[ \t]*$/,""),(l[2]||-1!==l[3].indexOf("\n"))&&(l=l[3].match(/[ \t]+$/))&&(t.whitespace_before=l[0])}if(s)if(i){var h=function(){this.eol="\n"};h.prototype=this._options.raw_options,s=i(u+s,new h)}else{var d=t.whitespace_before;d&&(s=s.replace(new RegExp("\n("+d+")?","g"),"\n")),s=u+s.replace(/\n/g,"\n"+u)}a&&(s=s?a+s+"\n"+c:a+c),e.print_newline(!1),s&&(t.text=s,t.whitespace_before="",t.newlines=0,e.add_raw_token(t),e.print_newline(!0))}},f.prototype._handle_tag_open=function(e,t,n,r){var i=this._get_tag_open_token(t);return(n.is_unformatted||n.is_content_unformatted)&&t.type===o.TAG_OPEN&&0===t.text.indexOf("</")?e.add_raw_token(t):(e.traverse_whitespace(t),this._set_tag_position(e,t,i,n,r),i.is_inline_element||e.set_wrap_point(),e.print_token(t)),(this._is_wrap_attributes_force_aligned||this._is_wrap_attributes_aligned_multiple||this._is_wrap_attributes_preserve_aligned)&&(i.alignment_size=t.text.length+1),i.tag_complete||i.is_unformatted||(e.alignment_size=i.alignment_size),i};var _=function(e,t){var n;(this.parent=e||null,this.text="",this.type="TK_TAG_OPEN",this.tag_name="",this.is_inline_element=!1,this.is_unformatted=!1,this.is_content_unformatted=!1,this.is_empty_element=!1,this.is_start_tag=!1,this.is_end_tag=!1,this.indent_content=!1,this.multiline_content=!1,this.custom_beautifier_name=null,this.start_tag_token=null,this.attr_count=0,this.has_wrapped_attrs=!1,this.alignment_size=0,this.tag_complete=!1,this.tag_start_char="",this.tag_check="",t)?(this.tag_start_char=t.text[0],this.text=t.text,"<"===this.tag_start_char?(n=t.text.match(/^<([^\s>]*)/),this.tag_check=n?n[1]:""):(n=t.text.match(/^{{[#\^]?([^\s}]+)/),this.tag_check=n?n[1]:""),this.tag_check=this.tag_check.toLowerCase(),t.type===o.COMMENT&&(this.tag_complete=!0),this.is_start_tag="/"!==this.tag_check.charAt(0),this.tag_name=this.is_start_tag?this.tag_check:this.tag_check.substr(1),this.is_end_tag=!this.is_start_tag||t.closed&&"/>"===t.closed.text,this.is_end_tag=this.is_end_tag||"{"===this.tag_start_char&&(this.text.length<3||/[^#\^]/.test(this.text.charAt(2)))):this.tag_complete=!0};f.prototype._get_tag_open_token=function(e){var t=new _(this._tag_stack.get_parser_token(),e);return t.alignment_size=this._options.wrap_attributes_indent_size,t.is_end_tag=t.is_end_tag||h(t.tag_check,this._options.void_elements),t.is_empty_element=t.tag_complete||t.is_start_tag&&t.is_end_tag,t.is_unformatted=!t.tag_complete&&h(t.tag_check,this._options.unformatted),t.is_content_unformatted=!t.is_empty_element&&h(t.tag_check,this._options.content_unformatted),t.is_inline_element=h(t.tag_name,this._options.inline)||"{"===t.tag_start_char,t},f.prototype._set_tag_position=function(e,t,n,r,i){if(n.is_empty_element||(n.is_end_tag?n.start_tag_token=this._tag_stack.try_pop(n.tag_name):(this._do_optional_end_element(n)&&(n.is_inline_element||(n.parent&&(n.parent.multiline_content=!0),e.print_newline(!1))),this._tag_stack.record_tag(n),"script"!==n.tag_name&&"style"!==n.tag_name||n.is_unformatted||n.is_content_unformatted||(n.custom_beautifier_name=l(n.tag_check,t)))),h(n.tag_check,this._options.extra_liners)&&(e.print_newline(!1),e._output.just_added_blankline()||e.print_newline(!0)),n.is_empty_element){if("{"===n.tag_start_char&&"else"===n.tag_check)this._tag_stack.indent_to_tag(["if","unless","each"]),n.indent_content=!0,e.current_line_has_match(/{{#if/)||e.print_newline(!1);"!--"===n.tag_name&&i.type===o.TAG_CLOSE&&r.is_end_tag&&-1===n.text.indexOf("\n")||n.is_inline_element||n.is_unformatted||e.print_newline(!1)}else n.is_unformatted||n.is_content_unformatted?n.is_inline_element||n.is_unformatted||e.print_newline(!1):n.is_end_tag?(n.start_tag_token&&n.start_tag_token.multiline_content||!(n.is_inline_element||r.is_inline_element||i.type===o.TAG_CLOSE&&n.start_tag_token===r||"TK_CONTENT"===i.type))&&e.print_newline(!1):(n.indent_content=!n.custom_beautifier_name,"<"===n.tag_start_char&&("html"===n.tag_name?n.indent_content=this._options.indent_inner_html:"head"===n.tag_name?n.indent_content=this._options.indent_head_inner_html:"body"===n.tag_name&&(n.indent_content=this._options.indent_body_inner_html)),n.is_inline_element||"TK_CONTENT"===i.type||(n.parent&&(n.parent.multiline_content=!0),e.print_newline(!1)))},f.prototype._do_optional_end_element=function(e){var t=null;if(!e.is_empty_element&&e.is_start_tag&&e.parent)return"body"===e.tag_name?t=t||this._tag_stack.try_pop("head"):"li"===e.tag_name?t=t||this._tag_stack.try_pop("li",["ol","ul"]):"dd"===e.tag_name||"dt"===e.tag_name?t=(t=t||this._tag_stack.try_pop("dt",["dl"]))||this._tag_stack.try_pop("dd",["dl"]):"rp"===e.tag_name||"rt"===e.tag_name?t=(t=t||this._tag_stack.try_pop("rt",["ruby","rtc"]))||this._tag_stack.try_pop("rp",["ruby","rtc"]):"optgroup"===e.tag_name?t=t||this._tag_stack.try_pop("optgroup",["select"]):"option"===e.tag_name?t=t||this._tag_stack.try_pop("option",["select","datalist","optgroup"]):"colgroup"===e.tag_name?t=t||this._tag_stack.try_pop("caption",["table"]):"thead"===e.tag_name?t=(t=t||this._tag_stack.try_pop("caption",["table"]))||this._tag_stack.try_pop("colgroup",["table"]):"tbody"===e.tag_name||"tfoot"===e.tag_name?t=(t=(t=(t=t||this._tag_stack.try_pop("caption",["table"]))||this._tag_stack.try_pop("colgroup",["table"]))||this._tag_stack.try_pop("thead",["table"]))||this._tag_stack.try_pop("tbody",["table"]):"tr"===e.tag_name?t=(t=(t=t||this._tag_stack.try_pop("caption",["table"]))||this._tag_stack.try_pop("colgroup",["table"]))||this._tag_stack.try_pop("tr",["table","thead","tbody","tfoot"]):"th"!==e.tag_name&&"td"!==e.tag_name||(t=(t=t||this._tag_stack.try_pop("td",["table","thead","tbody","tfoot","tr"]))||this._tag_stack.try_pop("th",["table","thead","tbody","tfoot","tr"])),e.parent=this._tag_stack.get_parser_token(),t},e.exports.Beautifier=f},function(e,t,n){"use strict";var r=n(6).Options;function i(e){r.call(this,e,"html"),1===this.templating.length&&"auto"===this.templating[0]&&(this.templating=["django","erb","handlebars","php"]),this.indent_inner_html=this._get_boolean("indent_inner_html"),this.indent_body_inner_html=this._get_boolean("indent_body_inner_html",!0),this.indent_head_inner_html=this._get_boolean("indent_head_inner_html",!0),this.indent_handlebars=this._get_boolean("indent_handlebars",!0),this.wrap_attributes=this._get_selection("wrap_attributes",["auto","force","force-aligned","force-expand-multiline","aligned-multiple","preserve","preserve-aligned"]),this.wrap_attributes_indent_size=this._get_number("wrap_attributes_indent_size",this.indent_size),this.extra_liners=this._get_array("extra_liners",["head","body","/html"]),this.inline=this._get_array("inline",["a","abbr","area","audio","b","bdi","bdo","br","button","canvas","cite","code","data","datalist","del","dfn","em","embed","i","iframe","img","input","ins","kbd","keygen","label","map","mark","math","meter","noscript","object","output","progress","q","ruby","s","samp","select","small","span","strong","sub","sup","svg","template","textarea","time","u","var","video","wbr","text","acronym","big","strike","tt"]),this.void_elements=this._get_array("void_elements",["area","base","br","col","embed","hr","img","input","keygen","link","menuitem","meta","param","source","track","wbr","!doctype","?xml","basefont","isindex"]),this.unformatted=this._get_array("unformatted",[]),this.content_unformatted=this._get_array("content_unformatted",["pre","textarea"]),this.unformatted_content_delimiter=this._get_characters("unformatted_content_delimiter"),this.indent_scripts=this._get_selection("indent_scripts",["normal","keep","separate"])}i.prototype=new r,e.exports.Options=i},function(e,t,n){"use strict";var r=n(9).Tokenizer,i=n(9).TOKEN,s=n(13).Directives,o=n(14).TemplatablePattern,a=n(12).Pattern,c={TAG_OPEN:"TK_TAG_OPEN",TAG_CLOSE:"TK_TAG_CLOSE",ATTRIBUTE:"TK_ATTRIBUTE",EQUALS:"TK_EQUALS",VALUE:"TK_VALUE",COMMENT:"TK_COMMENT",TEXT:"TK_TEXT",UNKNOWN:"TK_UNKNOWN",START:i.START,RAW:i.RAW,EOF:i.EOF},u=new s(/<\!--/,/-->/),l=function(e,t){r.call(this,e,t),this._current_tag_name="";var n=new o(this._input).read_options(this._options),i=new a(this._input);if(this.__patterns={word:n.until(/[\n\r\t <]/),single_quote:n.until_after(/'/),double_quote:n.until_after(/"/),attribute:n.until(/[\n\r\t =\/>]/),element_name:n.until(/[\n\r\t >\/]/),handlebars_comment:i.starting_with(/{{!--/).until_after(/--}}/),handlebars:i.starting_with(/{{/).until_after(/}}/),handlebars_open:i.until(/[\n\r\t }]/),handlebars_raw_close:i.until(/}}/),comment:i.starting_with(/<!--/).until_after(/-->/),cdata:i.starting_with(/<!\[CDATA\[/).until_after(/]]>/),conditional_comment:i.starting_with(/<!\[/).until_after(/]>/),processing:i.starting_with(/<\?/).until_after(/\?>/)},this._options.indent_handlebars&&(this.__patterns.word=this.__patterns.word.exclude("handlebars")),this._unformatted_content_delimiter=null,this._options.unformatted_content_delimiter){var s=this._input.get_literal_regexp(this._options.unformatted_content_delimiter);this.__patterns.unformatted_content_delimiter=i.matching(s).until_after(s)}};(l.prototype=new r)._is_comment=function(e){return!1},l.prototype._is_opening=function(e){return e.type===c.TAG_OPEN},l.prototype._is_closing=function(e,t){return e.type===c.TAG_CLOSE&&t&&((">"===e.text||"/>"===e.text)&&"<"===t.text[0]||"}}"===e.text&&"{"===t.text[0]&&"{"===t.text[1])},l.prototype._reset=function(){this._current_tag_name=""},l.prototype._get_next_token=function(e,t){var n=null;this._readWhitespace();var r=this._input.peek();return null===r?this._create_token(c.EOF,""):n=(n=(n=(n=(n=(n=(n=(n=(n=n||this._read_open_handlebars(r,t))||this._read_attribute(r,e,t))||this._read_raw_content(r,e,t))||this._read_close(r,t))||this._read_content_word(r))||this._read_comment_or_cdata(r))||this._read_processing(r))||this._read_open(r,t))||this._create_token(c.UNKNOWN,this._input.next())},l.prototype._read_comment_or_cdata=function(e){var t=null,n=null,r=null;"<"===e&&("!"===this._input.peek(1)&&((n=this.__patterns.comment.read())?(r=u.get_directives(n))&&"start"===r.ignore&&(n+=u.readIgnored(this._input)):n=this.__patterns.cdata.read()),n&&((t=this._create_token(c.COMMENT,n)).directives=r));return t},l.prototype._read_processing=function(e){var t=null,n=null;if("<"===e){var r=this._input.peek(1);"!"!==r&&"?"!==r||(n=(n=this.__patterns.conditional_comment.read())||this.__patterns.processing.read()),n&&((t=this._create_token(c.COMMENT,n)).directives=null)}return t},l.prototype._read_open=function(e,t){var n=null,r=null;return t||"<"===e&&(n=this._input.next(),"/"===this._input.peek()&&(n+=this._input.next()),n+=this.__patterns.element_name.read(),r=this._create_token(c.TAG_OPEN,n)),r},l.prototype._read_open_handlebars=function(e,t){var n=null,r=null;return t||this._options.indent_handlebars&&"{"===e&&"{"===this._input.peek(1)&&("!"===this._input.peek(2)?(n=(n=this.__patterns.handlebars_comment.read())||this.__patterns.handlebars.read(),r=this._create_token(c.COMMENT,n)):(n=this.__patterns.handlebars_open.read(),r=this._create_token(c.TAG_OPEN,n))),r},l.prototype._read_close=function(e,t){var n=null,r=null;return t&&("<"===t.text[0]&&(">"===e||"/"===e&&">"===this._input.peek(1))?(n=this._input.next(),"/"===e&&(n+=this._input.next()),r=this._create_token(c.TAG_CLOSE,n)):"{"===t.text[0]&&"}"===e&&"}"===this._input.peek(1)&&(this._input.next(),this._input.next(),r=this._create_token(c.TAG_CLOSE,"}}"))),r},l.prototype._read_attribute=function(e,t,n){var r=null,i="";if(n&&"<"===n.text[0])if("="===e)r=this._create_token(c.EQUALS,this._input.next());else if('"'===e||"'"===e){var s=this._input.next();s+='"'===e?this.__patterns.double_quote.read():this.__patterns.single_quote.read(),r=this._create_token(c.VALUE,s)}else(i=this.__patterns.attribute.read())&&(r=t.type===c.EQUALS?this._create_token(c.VALUE,i):this._create_token(c.ATTRIBUTE,i));return r},l.prototype._is_content_unformatted=function(e){return-1===this._options.void_elements.indexOf(e)&&(-1!==this._options.content_unformatted.indexOf(e)||-1!==this._options.unformatted.indexOf(e))},l.prototype._read_raw_content=function(e,t,n){var r="";if(n&&"{"===n.text[0])r=this.__patterns.handlebars_raw_close.read();else if(t.type===c.TAG_CLOSE&&"<"===t.opened.text[0]){var i=t.opened.text.substr(1).toLowerCase();if("script"===i||"style"===i){var s=this._read_comment_or_cdata(e);if(s)return s.type=c.TEXT,s;r=this._input.readUntil(new RegExp("</"+i+"[\\n\\r\\t ]*?>","ig"))}else this._is_content_unformatted(i)&&(r=this._input.readUntil(new RegExp("</"+i+"[\\n\\r\\t ]*?>","ig")))}return r?this._create_token(c.TEXT,r):null},l.prototype._read_content_word=function(e){var t="";if(this._options.unformatted_content_delimiter&&e===this._options.unformatted_content_delimiter[0]&&(t=this.__patterns.unformatted_content_delimiter.read()),t||(t=this.__patterns.word.read()),t)return this._create_token(c.TEXT,t)},e.exports.Tokenizer=l,e.exports.TOKEN=c}]),r=[n,n(68),n(69)],void 0===(i=function(e){var t=n(68),r=n(69);return{html_beautify:function(e,n){return s(e,n,t.js_beautify,r.css_beautify)}}}.apply(t,r))||(e.exports=i)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(2);t.DEFAULT_DIAGNOSTIC_OPTIONS={publishOnChange:!0};t.DiagnosticsProvider=class{constructor(e){this.stores=e,this._publishDiagnosticsEvent=new r.Event,this._options=Object.assign({},t.DEFAULT_DIAGNOSTIC_OPTIONS),this.diagnosticStoreChangedEventUnsubscribe=this.stores.diagnosticStore.diagnosticsChangedEvent.subscribe(e=>{this._options.publishOnChange&&this._publishDiagnosticsEvent.trigger(e)})}set options(e){this._options=e?Object.assign({},this._options,e):Object.assign({},t.DEFAULT_DIAGNOSTIC_OPTIONS)}get publishDiagnosticsEvent(){return this._publishDiagnosticsEvent}publish(e){const t=this.stores.diagnosticStore.find(e);this._publishDiagnosticsEvent.trigger(t||{uri:e,diagnostics:[]})}}},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,s){function o(e){try{c(r.next(e))}catch(e){s(e)}}function a(e){try{c(r.throw(e))}catch(e){s(e)}}function c(e){e.done?i(e.value):new n(function(t){t(e.value)}).then(o,a)}c((r=r.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0});const i=n(1),s=n(15),o=n(4),a=n(18),c=n(39);t.SignatureHelpProvider=class{constructor(e,t,n){this.signatureHelpFactory=t,this.resolveScopeTypeVisitorFactory=n,this.definitionStore=e.definitionStore,this.parseTreeStore=e.parseTreeStore,this._options={}}set options(e){this._options=e?Object.assign({},this._options,e):{}}provideSignatureHelp(e,t,n){const r=this.parseTreeStore.find(e);if(!r)return void c.Log.warn("Could not find parse tree for "+e);const i=r.getTraverser(),s=r.getNodeUtils().positionToOffset(t)-1;if(i.seek(s),!this.shouldSuggest(i.clone(),t))return;120===i.node.kind&&this.isCallableExpr(i.clone().parent())&&(i.parent(),i.parent()),this.isCallableExpr(i.node)||i.ancestor(this.isCallableExpr);let o=this.getDefinitions(i.clone(),r),a=this.getArgNumber(i.clone(),t);return this.signatureHelpFactory.getSignatureHelp(o,a,n)}getArgNumber(e,t){if(!e.child(e=>1008===e.kind))return 0;let n=0,r=e.nthChild(0),i=r?e.range:void 0;for(;r&&i&&(t.line>i.start.line||t.line===i.start.line&&t.character>i.start.character);)92===r.kind&&++n,i=(r=e.nextSibling())?e.range:void 0;return n}shouldSuggest(e,t){if(120===e.node.kind&&this.isCallableExpr(e.clone().parent())&&(e.parent(),e.parent()),!this.isCallableExpr(e.node)&&!e.ancestor(this.isCallableExpr))return!1;if(!e.child(e=>117===e.kind))return!1;const n=e.range;if(t.line<n.end.line||t.line===n.end.line&&t.character<n.end.character)return!1;if(s.NodeUtils.isTokenOfKind(e.nextSibling(),[120])||e.nextSibling(),!s.NodeUtils.isTokenOfKind(e.node,[120]))return!0;const r=e.range;return t.line<r.start.line||t.line===r.start.line&&t.character<=r.start.character}getDefinitions(e,t){let n;switch(e.node.kind){case 1080:if(e.nthChild(0),!s.NodeUtils.isNamePhrase(e.node)){let t=this.resolveScopeTypeVisitorFactory(e.uri);if(!t)return[];let n=e.traverse(t).type;if(o.TypeString.isEqualOrOverlaps(n,o.TypeString.CLOSURE_TYPE_STRING)){const e=o.TypeString.objectNames(n),t=[];let r;for(let n=0,s=e.length;n<s;++n)r=e[n],Array.prototype.push.apply(t,this.definitionStore.find(r,i.Definition.isAnonFunction));return t}return[]}e.lastChild(),n=e.reference();break;case 1107:e.child(e=>1106===e.kind)&&e.child(e=>82===e.kind)&&(n=e.reference());break;case 1145:e.child(e=>1146===e.kind)&&e.child(e=>1090===e.kind)&&(n=e.reference());break;case 1123:e.child(e=>1034===e.kind)&&e.child(this.isNamePhraseOrRelativeScope)&&(1140===e.node.kind?n=e.reference():(e.lastChild(),n=e.reference()));break;default:return[]}return n&&!Array.isArray(n)?this.definitionStore.findByReference(n):[]}isCallableExpr(e){if(!e)return!1;switch(e.kind){case 1080:case 1107:case 1145:case 1123:return!0;default:return!1}}isNamePhraseOrRelativeScope(e){switch(e.kind){case 1079:case 1139:case 1136:case 1140:return!0;default:return!1}}};t.SignatureHelpFactory=class{constructor(e,t,n){this.documentationService=e,this.documentationFormatter=t,this.definitionStore=n}getSignatureHelp(e,t,n){return r(this,void 0,void 0,function*(){const r=[];let i;for(let t=0;t<e.length&&!n.isCancellationRequested;++t)(i=yield this.toSignatureInformation(e[t],n))&&r.push(i);if(r.length<1)return;let s=r.findIndex(e=>e.parameters&&(e.parameters.length>t||e.parameters[e.parameters.length-1].label.indexOf("...")>-1));return s<0&&(s=0),r.length>0&&r[s]&&r[s].parameters&&t>=r[s].parameters.length&&(t=r[s].parameters.length-1),{activeParameter:t,activeSignature:s,signatures:r}})}toSignatureInformation(e,t){return r(this,void 0,void 0,function*(){let n;const r=this.definitionStore.table(e.uriId);if(!r)return;switch(e.kind){case 64:n=r.definitionChildren(e).filter(e=>128===e.kind);break;case 32:case 2048:{const t=a.MethodDefinition.fromDefinition(e,this.definitionStore);t&&(n=t.parameters)}break;default:throw new Error("Invalid Argument")}if(!n||n.length<1)return;const i=yield this.documentationService.getDocumentation(e,t);let s=i?this.toParameterInformationArray(n,i):[],o="(";return o+=s.map(e=>e.label).join(", "),{label:o+=")",parameters:s}})}toParameterInformationArray(e,t){let n,r,i=[];const s=t.hasHtmlDescription();for(let o=0,a=e.length;o<a;++o)n=e[o],(r=t.tags.find(e=>e.strippedElementName===n.name))&&i.push(this.toParameterInformation(n,r,s));return i}toParameterInformation(e,t,n){let r=[];e.type&&e.type.declared&&r.push(o.TypeString.toTypeDeclarationString(e.type.declared,e));let i=e.name;return(2048&e.modifiers)>0&&(i="..."+i),(1024&e.modifiers)>0&&(i="&"+i),r.push(i),void 0!==e.value&&r.push("=",e.value),{label:r.join(" "),documentation:t?{kind:this.documentationFormatter.getLspMarkupKind(),value:this.documentationFormatter.formatTagText(t,n)}:void 0}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(2),i=n(18);t.DefinitionProvider=class{constructor(e){this.stores=e,this.definitionStore=e.definitionStore,this.parseTreeStore=e.parseTreeStore,this._options={}}set options(e){this._options=e?Object.assign({},this._options,e):{}}provideDefinition(e,t){const n=this.parseTreeStore.find(e);if(!n)return null;const i=n.findReferenceAtPosition(t);if(!i)return null;const s=i.reference;let o;256===s.kind&&(o=i.traverser.fileReferences().map(e=>this.stores.documentStore.id(e.name)).filter(e=>void 0!==e));let a=this.definitionStore.findByReference(s,o);if(2048===s.kind){const e=this.definitionStore.find(s.name,e=>1===e.kind);Array.prototype.push.apply(e,a),a=e}let c,u=[];for(let e=0;e<a.length;++e)(24576&(c=a[e]).modifiers)>0&&(c=this.getTraitDefinition(c)),c&&(!c.range||65536&c.modifiers||u.push({uri:this.stores.documentStore.uri(c.uriId),range:r.PackedRange.toLspRange(c.range)}));return 1===u.length?u[0]:u}getTraitDefinition(e){if(!(e instanceof i.MethodDefinition)){let t=i.MemberDefinition.fromDefinition(e,this.definitionStore);t&&(e=t)}return(24576&e.modifiers)>0&&e.traitMethod?e.traitMethod:e}}},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,s){function o(e){try{c(r.next(e))}catch(e){s(e)}}function a(e){try{c(r.throw(e))}catch(e){s(e)}}function c(e){e.done?i(e.value):new n(function(t){t(e.value)}).then(o,a)}c((r=r.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0});const i=n(15),s=n(18),o=n(4);t.ReferenceProvider=class{constructor(e){this.parseTreeStore=e.parseTreeStore,this.definitionStore=e.definitionStore,this.referenceStore=e.referenceStore,this._options={}}set options(e){this._options=e?Object.assign({},this._options,e):{}}provideReferences(e,t,n,i){return r(this,void 0,void 0,function*(){const r=this.parseTreeStore.find(e);if(!r)return[];const s=r.findReferenceAtPosition(t);if(!s)return[];const o=s.reference;switch(o.kind){case 128:case 256:return this.getVariableReferences(s.traverser,r,o,n.includeDeclaration);case 1:case 2:case 4:case 2048:{const e=2055;return this.referenceStore.find(o.name,t=>(t.kind&e)>0&&(n.includeDeclaration||!(2097152&t.modifiers))&&"self"!==t.unresolvedName&&"static"!==t.unresolvedName&&"parent"!==t.unresolvedName,i)}case 64:case 8:{let e=o.name;return this.definitionStore.find(e,e=>e.kind===o.kind).length<1&&o.unresolvedName&&(e=o.unresolvedName),this.referenceStore.find(e,e=>e.kind===o.kind&&(n.includeDeclaration||!(2097152&e.modifiers)),i)}case 16:case 1024:case 32:return this.referenceStore.find(o.name,this.createMemberReferenceFilterFn(this.definitionStore.findByReference(o),n.includeDeclaration),i);default:return Promise.resolve([])}})}createMemberReferenceFilterFn(e,t){const n=this.definitionStore,r={},i=new Set;let a=0;e.forEach(e=>{a=e.kind;const t=s.MemberDefinition.fromDefinition(e,n);t&&t.definitions.forEach(e=>{i.add(e);const t=n.getDefinitionScope(e);t&&(r[t.name.toLowerCase()]=!0)})});const c=(e,t)=>e||i.has(t);return e=>{if(!(e.kind&a)||!e.scope||!t&&(2097152&e.modifiers)>0)return!1;const i=o.TypeString.objectNames(e.scope);let u,l,h;for(let t=0;t<i.length;++t)if(l=(u=i[t]).toLowerCase(),void 0!==r[l]){if(r[l])return!0}else{if(!(h=s.TypeDefinition.fromName(u,n)))continue;const t=h.findMember(e.name,a);if(!t)continue;if(r[l]=t.definitions.reduce(c,!1),r[l])return!0}return!1}}getVariableReferences(e,t,n,r){const s=[],o=e=>(256===e.kind||128===e.kind)&&e.name===n.name&&(r||!(2097152&e.modifiers));if(159!==e.node.kind){if(!e.scope(n.name))return[];e.prevSibling(),159!==e.node.kind&&e.nextSibling()}if(159===e.node.kind){const t=e.reference;Array.isArray(t)&&Array.prototype.push.apply(s,t.filter(o)),e.nextSibling()}return e.references(o,e=>i.NodeUtils.hasAnonymousFunctionUseVariable(e,n.name,t.nodeMaps,t.getNodeUtils()))}}},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,s){function o(e){try{c(r.next(e))}catch(e){s(e)}}function a(e){try{c(r.throw(e))}catch(e){s(e)}}function c(e){e.done?i(e.value):new n(function(t){t(e.value)}).then(o,a)}c((r=r.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0});const i=n(7),s=n(117),o=n(2),a=n(4),c=n(10);t.HoverProvider=class{constructor(e,t,n){this.stores=e,this.formatter=t,this.documentationService=n,this.parseTreeStore=e.parseTreeStore,this.definitionStore=e.definitionStore,this._options={}}set options(e){this._options=e?Object.assign({},this._options,e):{}}provideHover(e,t,n){return r(this,void 0,void 0,function*(){const r=this.parseTreeStore.find(e);if(!r)return null;const s=r.findReferenceAtPosition(t);if(!s||c.PHP.isReservedName(s.reference.name))return null;let a,u=s.reference;2048===u.kind&&"__construct"!==u.name&&(u=Object.assign({},u,{kind:1})),256===u.kind&&(a=s.traverser.fileReferences().map(e=>this.stores.documentStore.id(e.name)).filter(e=>void 0!==e));const l=e=>!(e.uriId===r.id&&0!=(16777216&e.modifiers)||4096&e.modifiers),h=this.definitionStore.findByReference(u,a).filter(l);if(u!==s.reference&&Array.prototype.push.apply(h,this.definitionStore.findByReference(s.reference).filter(l)),h.length<1)return null;const d=new Set;let p,f;for(let e=0;e<h.length&&(!n||!n.isCancellationRequested);++e)f=h[e],(p=yield this.getformattedDocumentation(f,u,n))&&d.add(p);const _=this.formatter.getLspMarkupKind()===i.MarkupKind.PlainText?Array.from(d).join("\n\n\n"):Array.from(d).join("\n\n---\n\n");return _?{contents:{kind:this.formatter.getLspMarkupKind(),value:_},range:o.PackedRange.toLspRange(s.reference.range||{start:0,end:0})}:null})}getformattedDocumentation(e,t,n){return r(this,void 0,void 0,function*(){let r=yield this.documentationService.getDocumentation(e,n);if(256===e.kind||16===e.kind){r||(r=new s.Documentation(e,void 0,void 0,[]));const n=t.type,i=r.tags.find(e=>1008===e.kind);i?i.typeName=a.TypeString.toString(n):r.tags.push({kind:1008,tagName:"@var",typeName:a.TypeString.toString(n),elementName:e.name})}else if(128===e.kind){r||(r=new s.Documentation(e,void 0,void 0,[]));const n=t.type,i=r.tags.find(e=>1007===e.kind);i?i.typeName=a.TypeString.toString(n):r.tags.push({kind:1007,tagName:"@param",typeName:a.TypeString.toString(n),elementName:e.name})}return r?this.formatter.format(r):""})}}},function(e,t,n){"use strict";function r(e,t){return Array(t+1).join(e)}var i=["address","article","aside","audio","blockquote","body","canvas","center","dd","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frameset","h1","h2","h3","h4","h5","h6","header","hgroup","hr","html","isindex","li","main","menu","nav","noframes","noscript","ol","output","p","pre","section","table","tbody","td","tfoot","th","thead","tr","ul"];function s(e){return-1!==i.indexOf(e.nodeName.toLowerCase())}var o=["area","base","br","col","command","embed","hr","img","input","keygen","link","meta","param","source","track","wbr"];function a(e){return-1!==o.indexOf(e.nodeName.toLowerCase())}var c={};function u(e){for(var t in this.options=e,this._keep=[],this._remove=[],this.blankRule={replacement:e.blankReplacement},this.keepReplacement=e.keepReplacement,this.defaultRule={replacement:e.defaultReplacement},this.array=[],e.rules)this.array.push(e.rules[t])}function l(e,t,n){for(var r=0;r<e.length;r++){var i=e[r];if(h(i,t,n))return i}}function h(e,t,n){var r=e.filter;if("string"==typeof r){if(r===t.nodeName.toLowerCase())return!0}else if(Array.isArray(r)){if(r.indexOf(t.nodeName.toLowerCase())>-1)return!0}else{if("function"!=typeof r)throw new TypeError("`filter` needs to be a string, array, or function");if(r.call(e,t,n))return!0}}function d(e){var t=e.nextSibling||e.parentNode;return e.parentNode.removeChild(e),t}function p(e,t,n){return e&&e.parentNode===t||n(t)?t.nextSibling||t.parentNode:t.firstChild||t.nextSibling||t.parentNode}c.paragraph={filter:"p",replacement:function(e){return"\n\n"+e+"\n\n"}},c.lineBreak={filter:"br",replacement:function(e,t,n){return n.br+"\n"}},c.heading={filter:["h1","h2","h3","h4","h5","h6"],replacement:function(e,t,n){var i=Number(t.nodeName.charAt(1));return"setext"===n.headingStyle&&i<3?"\n\n"+e+"\n"+r(1===i?"=":"-",e.length)+"\n\n":"\n\n"+r("#",i)+" "+e+"\n\n"}},c.blockquote={filter:"blockquote",replacement:function(e){return"\n\n"+(e=(e=e.replace(/^\n+|\n+$/g,"")).replace(/^/gm,"> "))+"\n\n"}},c.list={filter:["ul","ol"],replacement:function(e,t){var n=t.parentNode,r=n.children,i=r[r.length-1];return"LI"===n.nodeName&&t===i?"\n"+e:"\n\n"+e+"\n\n"}},c.listItem={filter:"li",replacement:function(e,t,n){e=e.replace(/^\n+/,"").replace(/\n+$/,"\n").replace(/\n/gm,"\n    ");var r=n.bulletListMarker+"   ",i=t.parentNode;if("OL"===i.nodeName){var s=i.getAttribute("start"),o=Array.prototype.indexOf.call(i.children,t);r=(s?Number(s)+o:o+1)+".  "}return r+e+(t.nextSibling&&!/\n$/.test(e)?"\n":"")}},c.indentedCodeBlock={filter:function(e,t){return"indented"===t.codeBlockStyle&&"PRE"===e.nodeName&&e.firstChild&&"CODE"===e.firstChild.nodeName},replacement:function(e,t,n){return"\n\n    "+t.firstChild.textContent.replace(/\n/g,"\n    ")+"\n\n"}},c.fencedCodeBlock={filter:function(e,t){return"fenced"===t.codeBlockStyle&&"PRE"===e.nodeName&&e.firstChild&&"CODE"===e.firstChild.nodeName},replacement:function(e,t,n){var r=((t.firstChild.getAttribute("class")||"").match(/language-(\S+)/)||[null,""])[1];return"\n\n"+n.fence+r+"\n"+t.firstChild.textContent+"\n"+n.fence+"\n\n"}},c.horizontalRule={filter:"hr",replacement:function(e,t,n){return"\n\n"+n.hr+"\n\n"}},c.inlineLink={filter:function(e,t){return"inlined"===t.linkStyle&&"A"===e.nodeName&&e.getAttribute("href")},replacement:function(e,t){return"["+e+"]("+t.getAttribute("href")+(t.getAttribute("title")?' "'+t.getAttribute("title")+'"':"")+")"}},c.referenceLink={filter:function(e,t){return"referenced"===t.linkStyle&&"A"===e.nodeName&&e.getAttribute("href")},replacement:function(e,t,n){var r,i,s=t.getAttribute("href"),o=t.title?' "'+t.title+'"':"";switch(n.linkReferenceStyle){case"collapsed":r="["+e+"][]",i="["+e+"]: "+s+o;break;case"shortcut":r="["+e+"]",i="["+e+"]: "+s+o;break;default:var a=this.references.length+1;r="["+e+"]["+a+"]",i="["+a+"]: "+s+o}return this.references.push(i),r},references:[],append:function(e){var t="";return this.references.length&&(t="\n\n"+this.references.join("\n")+"\n\n",this.references=[]),t}},c.emphasis={filter:["em","i"],replacement:function(e,t,n){return e.trim()?n.emDelimiter+e+n.emDelimiter:""}},c.strong={filter:["strong","b"],replacement:function(e,t,n){return e.trim()?n.strongDelimiter+e+n.strongDelimiter:""}},c.code={filter:function(e){var t=e.previousSibling||e.nextSibling,n="PRE"===e.parentNode.nodeName&&!t;return"CODE"===e.nodeName&&!n},replacement:function(e){if(!e.trim())return"";var t="`",n="",r="",i=e.match(/`+/gm);if(i)for(/^`/.test(e)&&(n=" "),/`$/.test(e)&&(r=" ");-1!==i.indexOf(t);)t+="`";return t+n+e+r+t}},c.image={filter:"img",replacement:function(e,t){var n=t.getAttribute("alt")||"",r=t.getAttribute("src")||"",i=t.getAttribute("title")||"";return r?"!["+n+"]("+r+(i?' "'+i+'"':"")+")":""}},u.prototype={add:function(e,t){this.array.unshift(t)},keep:function(e){this._keep.unshift({filter:e,replacement:this.keepReplacement})},remove:function(e){this._remove.unshift({filter:e,replacement:function(){return""}})},forNode:function(e){return e.isBlank?this.blankRule:(t=l(this.array,e,this.options))?t:(t=l(this._keep,e,this.options))?t:(t=l(this._remove,e,this.options))?t:this.defaultRule;var t},forEach:function(e){for(var t=0;t<this.array.length;t++)e(this.array[t],t)}};var f="undefined"!=typeof window?window:{};var _,m,g,y=function(){var e=f.DOMParser,t=!1;try{(new e).parseFromString("","text/html")&&(t=!0)}catch(e){}return t}()?f.DOMParser:(_=function(){},m=n(225),_.prototype.parseFromString=function(e){return m(e)},_);function T(e){var t;"string"==typeof e?t=(g=g||new y).parseFromString('<x-turndown id="turndown-root">'+e+"</x-turndown>","text/html").getElementsByTagName("x-turndown")[0]:t=e.cloneNode(!0);return function(e){var t=e.element,n=e.isBlock,r=e.isVoid,i=e.isPre||function(e){return"PRE"===e.nodeName};if(t.firstChild&&!i(t)){for(var s=null,o=!1,a=null,c=p(a,t,i);c!==t;){if(3===c.nodeType||4===c.nodeType){var u=c.data.replace(/[ \r\n\t]+/g," ");if(s&&!/ $/.test(s.data)||o||" "!==u[0]||(u=u.substr(1)),!u){c=d(c);continue}c.data=u,s=c}else{if(1!==c.nodeType){c=d(c);continue}n(c)||"BR"===c.nodeName?(s&&(s.data=s.data.replace(/ $/,"")),s=null,o=!1):r(c)&&(s=null,o=!0)}var l=p(a,c,i);a=c,c=l}s&&(s.data=s.data.replace(/ $/,""),s.data||d(s))}}({element:t,isBlock:s,isVoid:a}),t}function b(e){return e.isBlock=s(e),e.isCode="code"===e.nodeName.toLowerCase()||e.parentNode.isCode,e.isBlank=function(e){return-1===["A","TH","TD","IFRAME","SCRIPT","AUDIO","VIDEO"].indexOf(e.nodeName)&&/^\s*$/i.test(e.textContent)&&!a(e)&&!function(e){return e.getElementsByTagName&&o.some(function(t){return e.getElementsByTagName(t).length})}(e)}(e),e.flankingWhitespace=function(e){var t="",n="";if(!e.isBlock){var r=/^[ \r\n\t]/.test(e.textContent),i=/[ \r\n\t]$/.test(e.textContent);r&&!v("left",e)&&(t=" "),i&&!v("right",e)&&(n=" ")}return{leading:t,trailing:n}}(e),e}function v(e,t){var n,r,i;return"left"===e?(n=t.previousSibling,r=/ $/):(n=t.nextSibling,r=/^ /),n&&(3===n.nodeType?i=r.test(n.nodeValue):1!==n.nodeType||s(n)||(i=r.test(n.textContent))),i}var E=Array.prototype.reduce,S=/^\n*/,k=/\n*$/,w=[[/\\/g,"\\\\"],[/\*/g,"\\*"],[/^-/g,"\\-"],[/^\+ /g,"\\+ "],[/^(=+)/g,"\\$1"],[/^(#{1,6}) /g,"\\$1 "],[/`/g,"\\`"],[/^~~~/g,"\\~~~"],[/\[/g,"\\["],[/\]/g,"\\]"],[/^>/g,"\\>"],[/_/g,"\\_"],[/^(\d+)\. /g,"$1\\. "]];function N(e){if(!(this instanceof N))return new N(e);var t={rules:c,headingStyle:"setext",hr:"* * *",bulletListMarker:"*",codeBlockStyle:"indented",fence:"```",emDelimiter:"_",strongDelimiter:"**",linkStyle:"inlined",linkReferenceStyle:"full",br:"  ",blankReplacement:function(e,t){return t.isBlock?"\n\n":""},keepReplacement:function(e,t){return t.isBlock?"\n\n"+t.outerHTML+"\n\n":t.outerHTML},defaultReplacement:function(e,t){return t.isBlock?"\n\n"+e+"\n\n":e}};this.options=function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)n.hasOwnProperty(r)&&(e[r]=n[r])}return e}({},t,e),this.rules=new u(this.options)}function A(e){var t=this;return E.call(e.childNodes,function(e,n){var r="";return 3===(n=new b(n)).nodeType?r=n.isCode?n.nodeValue:t.escape(n.nodeValue):1===n.nodeType&&(r=function(e){var t=this.rules.forNode(e),n=A.call(this,e),r=e.flankingWhitespace;(r.leading||r.trailing)&&(n=n.trim());return r.leading+t.replacement(n,e,this.options)+r.trailing}.call(t,n)),x(e,r)},"")}function x(e,t){var n,r,i,s=(n=t,r=[e.match(k)[0],n.match(S)[0]].sort(),(i=r[r.length-1]).length<2?i:"\n\n");return(e=e.replace(k,""))+s+(t=t.replace(S,""))}N.prototype={turndown:function(e){if(!function(e){return null!=e&&("string"==typeof e||e.nodeType&&(1===e.nodeType||9===e.nodeType||11===e.nodeType))}(e))throw new TypeError(e+" is not a string, or an element/document/fragment node.");if(""===e)return"";var t=A.call(this,new T(e));return function(e){var t=this;return this.rules.forEach(function(n){"function"==typeof n.append&&(e=x(e,n.append(t.options)))}),e.replace(/^[\t\r\n]+/,"").replace(/[\t\r\n\s]+$/,"")}.call(this,t)},use:function(e){if(Array.isArray(e))for(var t=0;t<e.length;t++)this.use(e[t]);else{if("function"!=typeof e)throw new TypeError("plugin must be a Function or an Array of Functions");e(this)}return this},addRule:function(e,t){return this.rules.add(e,t),this},keep:function(e){return this.rules.keep(e),this},remove:function(e){return this.rules.remove(e),this},escape:function(e){return w.reduce(function(e,t){return e.replace(t[0],t[1])},e)}},e.exports=N},function(e,t,n){var r=n(226),i=n(239),s=n(241);e.exports=function(e){e||(e="<!doctype html><html><head></head><body></body></html>");var t=new i(s);return r.parse(e,{treeAdapter:t}),t.document}},function(e,t,n){"use strict";const r=n(227),i=n(238);t.parse=function(e,t){return new r(t).parse(e)},t.parseFragment=function(e,t,n){return"string"==typeof e&&(n=t,t=e,e=null),new r(n).parseFragment(t,e)},t.serialize=function(e,t){return new i(e,t).serialize()}},function(e,t,n){"use strict";const r=n(52),i=n(230),s=n(231),o=n(232),a=n(234),c=n(21),u=n(121),l=n(122),h=n(123),d=n(237),p=n(71),f=n(70),_=n(26),m=_.TAG_NAMES,g=_.NAMESPACES,y=_.ATTRS,T={scriptingEnabled:!0,sourceCodeLocationInfo:!1,onParseError:null,treeAdapter:u},b="hidden",v=8,E=3,S="INITIAL_MODE",k="BEFORE_HTML_MODE",w="BEFORE_HEAD_MODE",N="IN_HEAD_MODE",A="IN_HEAD_NO_SCRIPT_MODE",x="AFTER_HEAD_MODE",C="IN_BODY_MODE",R="TEXT_MODE",I="IN_TABLE_MODE",O="IN_TABLE_TEXT_MODE",D="IN_CAPTION_MODE",P="IN_COLUMN_GROUP_MODE",L="IN_TABLE_BODY_MODE",M="IN_ROW_MODE",U="IN_CELL_MODE",q="IN_SELECT_MODE",F="IN_SELECT_IN_TABLE_MODE",B="IN_TEMPLATE_MODE",H="AFTER_BODY_MODE",j="IN_FRAMESET_MODE",G="AFTER_FRAMESET_MODE",V="AFTER_AFTER_BODY_MODE",K="AFTER_AFTER_FRAMESET_MODE",$={[m.TR]:M,[m.TBODY]:L,[m.THEAD]:L,[m.TFOOT]:L,[m.CAPTION]:D,[m.COLGROUP]:P,[m.TABLE]:I,[m.BODY]:C,[m.FRAMESET]:j},W={[m.CAPTION]:I,[m.COLGROUP]:I,[m.TBODY]:I,[m.TFOOT]:I,[m.THEAD]:I,[m.COL]:P,[m.TR]:L,[m.TD]:M,[m.TH]:M},Y={[S]:{[r.CHARACTER_TOKEN]:ce,[r.NULL_CHARACTER_TOKEN]:ce,[r.WHITESPACE_CHARACTER_TOKEN]:ne,[r.COMMENT_TOKEN]:ie,[r.DOCTYPE_TOKEN]:function(e,t){e._setDocumentType(t);const n=t.forceQuirks?_.DOCUMENT_MODE.QUIRKS:h.getDocumentMode(t);h.isConforming(t)||e._err(p.nonConformingDoctype);e.treeAdapter.setDocumentMode(e.document,n),e.insertionMode=k},[r.START_TAG_TOKEN]:ce,[r.END_TAG_TOKEN]:ce,[r.EOF_TOKEN]:ce},[k]:{[r.CHARACTER_TOKEN]:ue,[r.NULL_CHARACTER_TOKEN]:ue,[r.WHITESPACE_CHARACTER_TOKEN]:ne,[r.COMMENT_TOKEN]:ie,[r.DOCTYPE_TOKEN]:ne,[r.START_TAG_TOKEN]:function(e,t){t.tagName===m.HTML?(e._insertElement(t,g.HTML),e.insertionMode=w):ue(e,t)},[r.END_TAG_TOKEN]:function(e,t){const n=t.tagName;n!==m.HTML&&n!==m.HEAD&&n!==m.BODY&&n!==m.BR||ue(e,t)},[r.EOF_TOKEN]:ue},[w]:{[r.CHARACTER_TOKEN]:le,[r.NULL_CHARACTER_TOKEN]:le,[r.WHITESPACE_CHARACTER_TOKEN]:ne,[r.COMMENT_TOKEN]:ie,[r.DOCTYPE_TOKEN]:re,[r.START_TAG_TOKEN]:function(e,t){const n=t.tagName;n===m.HTML?xe(e,t):n===m.HEAD?(e._insertElement(t,g.HTML),e.headElement=e.openElements.current,e.insertionMode=N):le(e,t)},[r.END_TAG_TOKEN]:function(e,t){const n=t.tagName;n===m.HEAD||n===m.BODY||n===m.HTML||n===m.BR?le(e,t):e._err(p.endTagWithoutMatchingOpenElement)},[r.EOF_TOKEN]:le},[N]:{[r.CHARACTER_TOKEN]:pe,[r.NULL_CHARACTER_TOKEN]:pe,[r.WHITESPACE_CHARACTER_TOKEN]:oe,[r.COMMENT_TOKEN]:ie,[r.DOCTYPE_TOKEN]:re,[r.START_TAG_TOKEN]:he,[r.END_TAG_TOKEN]:de,[r.EOF_TOKEN]:pe},[A]:{[r.CHARACTER_TOKEN]:fe,[r.NULL_CHARACTER_TOKEN]:fe,[r.WHITESPACE_CHARACTER_TOKEN]:oe,[r.COMMENT_TOKEN]:ie,[r.DOCTYPE_TOKEN]:re,[r.START_TAG_TOKEN]:function(e,t){const n=t.tagName;n===m.HTML?xe(e,t):n===m.BASEFONT||n===m.BGSOUND||n===m.HEAD||n===m.LINK||n===m.META||n===m.NOFRAMES||n===m.STYLE?he(e,t):n===m.NOSCRIPT?e._err(p.nestedNoscriptInHead):fe(e,t)},[r.END_TAG_TOKEN]:function(e,t){const n=t.tagName;n===m.NOSCRIPT?(e.openElements.pop(),e.insertionMode=N):n===m.BR?fe(e,t):e._err(p.endTagWithoutMatchingOpenElement)},[r.EOF_TOKEN]:fe},[x]:{[r.CHARACTER_TOKEN]:_e,[r.NULL_CHARACTER_TOKEN]:_e,[r.WHITESPACE_CHARACTER_TOKEN]:oe,[r.COMMENT_TOKEN]:ie,[r.DOCTYPE_TOKEN]:re,[r.START_TAG_TOKEN]:function(e,t){const n=t.tagName;n===m.HTML?xe(e,t):n===m.BODY?(e._insertElement(t,g.HTML),e.framesetOk=!1,e.insertionMode=C):n===m.FRAMESET?(e._insertElement(t,g.HTML),e.insertionMode=j):n===m.BASE||n===m.BASEFONT||n===m.BGSOUND||n===m.LINK||n===m.META||n===m.NOFRAMES||n===m.SCRIPT||n===m.STYLE||n===m.TEMPLATE||n===m.TITLE?(e._err(p.abandonedHeadElementChild),e.openElements.push(e.headElement),he(e,t),e.openElements.remove(e.headElement)):n===m.HEAD?e._err(p.misplacedStartTagForHeadElement):_e(e,t)},[r.END_TAG_TOKEN]:function(e,t){const n=t.tagName;n===m.BODY||n===m.HTML||n===m.BR?_e(e,t):n===m.TEMPLATE?de(e,t):e._err(p.endTagWithoutMatchingOpenElement)},[r.EOF_TOKEN]:_e},[C]:{[r.CHARACTER_TOKEN]:ge,[r.NULL_CHARACTER_TOKEN]:ne,[r.WHITESPACE_CHARACTER_TOKEN]:me,[r.COMMENT_TOKEN]:ie,[r.DOCTYPE_TOKEN]:ne,[r.START_TAG_TOKEN]:xe,[r.END_TAG_TOKEN]:Oe,[r.EOF_TOKEN]:De},[R]:{[r.CHARACTER_TOKEN]:oe,[r.NULL_CHARACTER_TOKEN]:oe,[r.WHITESPACE_CHARACTER_TOKEN]:oe,[r.COMMENT_TOKEN]:ne,[r.DOCTYPE_TOKEN]:ne,[r.START_TAG_TOKEN]:ne,[r.END_TAG_TOKEN]:function(e,t){t.tagName===m.SCRIPT&&(e.pendingScript=e.openElements.current);e.openElements.pop(),e.insertionMode=e.originalInsertionMode},[r.EOF_TOKEN]:function(e,t){e._err(p.eofInElementThatCanContainOnlyText),e.openElements.pop(),e.insertionMode=e.originalInsertionMode,e._processToken(t)}},[I]:{[r.CHARACTER_TOKEN]:Pe,[r.NULL_CHARACTER_TOKEN]:Pe,[r.WHITESPACE_CHARACTER_TOKEN]:Pe,[r.COMMENT_TOKEN]:ie,[r.DOCTYPE_TOKEN]:ne,[r.START_TAG_TOKEN]:Le,[r.END_TAG_TOKEN]:Me,[r.EOF_TOKEN]:De},[O]:{[r.CHARACTER_TOKEN]:function(e,t){e.pendingCharacterTokens.push(t),e.hasNonWhitespacePendingCharacterToken=!0},[r.NULL_CHARACTER_TOKEN]:ne,[r.WHITESPACE_CHARACTER_TOKEN]:function(e,t){e.pendingCharacterTokens.push(t)},[r.COMMENT_TOKEN]:qe,[r.DOCTYPE_TOKEN]:qe,[r.START_TAG_TOKEN]:qe,[r.END_TAG_TOKEN]:qe,[r.EOF_TOKEN]:qe},[D]:{[r.CHARACTER_TOKEN]:ge,[r.NULL_CHARACTER_TOKEN]:ne,[r.WHITESPACE_CHARACTER_TOKEN]:me,[r.COMMENT_TOKEN]:ie,[r.DOCTYPE_TOKEN]:ne,[r.START_TAG_TOKEN]:function(e,t){const n=t.tagName;n===m.CAPTION||n===m.COL||n===m.COLGROUP||n===m.TBODY||n===m.TD||n===m.TFOOT||n===m.TH||n===m.THEAD||n===m.TR?e.openElements.hasInTableScope(m.CAPTION)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(m.CAPTION),e.activeFormattingElements.clearToLastMarker(),e.insertionMode=I,e._processToken(t)):xe(e,t)},[r.END_TAG_TOKEN]:function(e,t){const n=t.tagName;n===m.CAPTION||n===m.TABLE?e.openElements.hasInTableScope(m.CAPTION)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(m.CAPTION),e.activeFormattingElements.clearToLastMarker(),e.insertionMode=I,n===m.TABLE&&e._processToken(t)):n!==m.BODY&&n!==m.COL&&n!==m.COLGROUP&&n!==m.HTML&&n!==m.TBODY&&n!==m.TD&&n!==m.TFOOT&&n!==m.TH&&n!==m.THEAD&&n!==m.TR&&Oe(e,t)},[r.EOF_TOKEN]:De},[P]:{[r.CHARACTER_TOKEN]:Fe,[r.NULL_CHARACTER_TOKEN]:Fe,[r.WHITESPACE_CHARACTER_TOKEN]:oe,[r.COMMENT_TOKEN]:ie,[r.DOCTYPE_TOKEN]:ne,[r.START_TAG_TOKEN]:function(e,t){const n=t.tagName;n===m.HTML?xe(e,t):n===m.COL?(e._appendElement(t,g.HTML),t.ackSelfClosing=!0):n===m.TEMPLATE?he(e,t):Fe(e,t)},[r.END_TAG_TOKEN]:function(e,t){const n=t.tagName;n===m.COLGROUP?e.openElements.currentTagName===m.COLGROUP&&(e.openElements.pop(),e.insertionMode=I):n===m.TEMPLATE?de(e,t):n!==m.COL&&Fe(e,t)},[r.EOF_TOKEN]:De},[L]:{[r.CHARACTER_TOKEN]:Pe,[r.NULL_CHARACTER_TOKEN]:Pe,[r.WHITESPACE_CHARACTER_TOKEN]:Pe,[r.COMMENT_TOKEN]:ie,[r.DOCTYPE_TOKEN]:ne,[r.START_TAG_TOKEN]:function(e,t){const n=t.tagName;n===m.TR?(e.openElements.clearBackToTableBodyContext(),e._insertElement(t,g.HTML),e.insertionMode=M):n===m.TH||n===m.TD?(e.openElements.clearBackToTableBodyContext(),e._insertFakeElement(m.TR),e.insertionMode=M,e._processToken(t)):n===m.CAPTION||n===m.COL||n===m.COLGROUP||n===m.TBODY||n===m.TFOOT||n===m.THEAD?e.openElements.hasTableBodyContextInTableScope()&&(e.openElements.clearBackToTableBodyContext(),e.openElements.pop(),e.insertionMode=I,e._processToken(t)):Le(e,t)},[r.END_TAG_TOKEN]:function(e,t){const n=t.tagName;n===m.TBODY||n===m.TFOOT||n===m.THEAD?e.openElements.hasInTableScope(n)&&(e.openElements.clearBackToTableBodyContext(),e.openElements.pop(),e.insertionMode=I):n===m.TABLE?e.openElements.hasTableBodyContextInTableScope()&&(e.openElements.clearBackToTableBodyContext(),e.openElements.pop(),e.insertionMode=I,e._processToken(t)):(n!==m.BODY&&n!==m.CAPTION&&n!==m.COL&&n!==m.COLGROUP||n!==m.HTML&&n!==m.TD&&n!==m.TH&&n!==m.TR)&&Me(e,t)},[r.EOF_TOKEN]:De},[M]:{[r.CHARACTER_TOKEN]:Pe,[r.NULL_CHARACTER_TOKEN]:Pe,[r.WHITESPACE_CHARACTER_TOKEN]:Pe,[r.COMMENT_TOKEN]:ie,[r.DOCTYPE_TOKEN]:ne,[r.START_TAG_TOKEN]:function(e,t){const n=t.tagName;n===m.TH||n===m.TD?(e.openElements.clearBackToTableRowContext(),e._insertElement(t,g.HTML),e.insertionMode=U,e.activeFormattingElements.insertMarker()):n===m.CAPTION||n===m.COL||n===m.COLGROUP||n===m.TBODY||n===m.TFOOT||n===m.THEAD||n===m.TR?e.openElements.hasInTableScope(m.TR)&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=L,e._processToken(t)):Le(e,t)},[r.END_TAG_TOKEN]:function(e,t){const n=t.tagName;n===m.TR?e.openElements.hasInTableScope(m.TR)&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=L):n===m.TABLE?e.openElements.hasInTableScope(m.TR)&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=L,e._processToken(t)):n===m.TBODY||n===m.TFOOT||n===m.THEAD?(e.openElements.hasInTableScope(n)||e.openElements.hasInTableScope(m.TR))&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=L,e._processToken(t)):(n!==m.BODY&&n!==m.CAPTION&&n!==m.COL&&n!==m.COLGROUP||n!==m.HTML&&n!==m.TD&&n!==m.TH)&&Me(e,t)},[r.EOF_TOKEN]:De},[U]:{[r.CHARACTER_TOKEN]:ge,[r.NULL_CHARACTER_TOKEN]:ne,[r.WHITESPACE_CHARACTER_TOKEN]:me,[r.COMMENT_TOKEN]:ie,[r.DOCTYPE_TOKEN]:ne,[r.START_TAG_TOKEN]:function(e,t){const n=t.tagName;n===m.CAPTION||n===m.COL||n===m.COLGROUP||n===m.TBODY||n===m.TD||n===m.TFOOT||n===m.TH||n===m.THEAD||n===m.TR?(e.openElements.hasInTableScope(m.TD)||e.openElements.hasInTableScope(m.TH))&&(e._closeTableCell(),e._processToken(t)):xe(e,t)},[r.END_TAG_TOKEN]:function(e,t){const n=t.tagName;n===m.TD||n===m.TH?e.openElements.hasInTableScope(n)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(n),e.activeFormattingElements.clearToLastMarker(),e.insertionMode=M):n===m.TABLE||n===m.TBODY||n===m.TFOOT||n===m.THEAD||n===m.TR?e.openElements.hasInTableScope(n)&&(e._closeTableCell(),e._processToken(t)):n!==m.BODY&&n!==m.CAPTION&&n!==m.COL&&n!==m.COLGROUP&&n!==m.HTML&&Oe(e,t)},[r.EOF_TOKEN]:De},[q]:{[r.CHARACTER_TOKEN]:oe,[r.NULL_CHARACTER_TOKEN]:ne,[r.WHITESPACE_CHARACTER_TOKEN]:oe,[r.COMMENT_TOKEN]:ie,[r.DOCTYPE_TOKEN]:ne,[r.START_TAG_TOKEN]:Be,[r.END_TAG_TOKEN]:He,[r.EOF_TOKEN]:De},[F]:{[r.CHARACTER_TOKEN]:oe,[r.NULL_CHARACTER_TOKEN]:ne,[r.WHITESPACE_CHARACTER_TOKEN]:oe,[r.COMMENT_TOKEN]:ie,[r.DOCTYPE_TOKEN]:ne,[r.START_TAG_TOKEN]:function(e,t){const n=t.tagName;n===m.CAPTION||n===m.TABLE||n===m.TBODY||n===m.TFOOT||n===m.THEAD||n===m.TR||n===m.TD||n===m.TH?(e.openElements.popUntilTagNamePopped(m.SELECT),e._resetInsertionMode(),e._processToken(t)):Be(e,t)},[r.END_TAG_TOKEN]:function(e,t){const n=t.tagName;n===m.CAPTION||n===m.TABLE||n===m.TBODY||n===m.TFOOT||n===m.THEAD||n===m.TR||n===m.TD||n===m.TH?e.openElements.hasInTableScope(n)&&(e.openElements.popUntilTagNamePopped(m.SELECT),e._resetInsertionMode(),e._processToken(t)):He(e,t)},[r.EOF_TOKEN]:De},[B]:{[r.CHARACTER_TOKEN]:ge,[r.NULL_CHARACTER_TOKEN]:ne,[r.WHITESPACE_CHARACTER_TOKEN]:me,[r.COMMENT_TOKEN]:ie,[r.DOCTYPE_TOKEN]:ne,[r.START_TAG_TOKEN]:function(e,t){const n=t.tagName;if(n===m.BASE||n===m.BASEFONT||n===m.BGSOUND||n===m.LINK||n===m.META||n===m.NOFRAMES||n===m.SCRIPT||n===m.STYLE||n===m.TEMPLATE||n===m.TITLE)he(e,t);else{const r=W[n]||C;e._popTmplInsertionMode(),e._pushTmplInsertionMode(r),e.insertionMode=r,e._processToken(t)}},[r.END_TAG_TOKEN]:function(e,t){t.tagName===m.TEMPLATE&&de(e,t)},[r.EOF_TOKEN]:je},[H]:{[r.CHARACTER_TOKEN]:Ge,[r.NULL_CHARACTER_TOKEN]:Ge,[r.WHITESPACE_CHARACTER_TOKEN]:me,[r.COMMENT_TOKEN]:function(e,t){e._appendCommentNode(t,e.openElements.items[0])},[r.DOCTYPE_TOKEN]:ne,[r.START_TAG_TOKEN]:function(e,t){t.tagName===m.HTML?xe(e,t):Ge(e,t)},[r.END_TAG_TOKEN]:function(e,t){t.tagName===m.HTML?e.fragmentContext||(e.insertionMode=V):Ge(e,t)},[r.EOF_TOKEN]:ae},[j]:{[r.CHARACTER_TOKEN]:ne,[r.NULL_CHARACTER_TOKEN]:ne,[r.WHITESPACE_CHARACTER_TOKEN]:oe,[r.COMMENT_TOKEN]:ie,[r.DOCTYPE_TOKEN]:ne,[r.START_TAG_TOKEN]:function(e,t){const n=t.tagName;n===m.HTML?xe(e,t):n===m.FRAMESET?e._insertElement(t,g.HTML):n===m.FRAME?(e._appendElement(t,g.HTML),t.ackSelfClosing=!0):n===m.NOFRAMES&&he(e,t)},[r.END_TAG_TOKEN]:function(e,t){t.tagName!==m.FRAMESET||e.openElements.isRootHtmlElementCurrent()||(e.openElements.pop(),e.fragmentContext||e.openElements.currentTagName===m.FRAMESET||(e.insertionMode=G))},[r.EOF_TOKEN]:ae},[G]:{[r.CHARACTER_TOKEN]:ne,[r.NULL_CHARACTER_TOKEN]:ne,[r.WHITESPACE_CHARACTER_TOKEN]:oe,[r.COMMENT_TOKEN]:ie,[r.DOCTYPE_TOKEN]:ne,[r.START_TAG_TOKEN]:function(e,t){const n=t.tagName;n===m.HTML?xe(e,t):n===m.NOFRAMES&&he(e,t)},[r.END_TAG_TOKEN]:function(e,t){t.tagName===m.HTML&&(e.insertionMode=K)},[r.EOF_TOKEN]:ae},[V]:{[r.CHARACTER_TOKEN]:Ve,[r.NULL_CHARACTER_TOKEN]:Ve,[r.WHITESPACE_CHARACTER_TOKEN]:me,[r.COMMENT_TOKEN]:se,[r.DOCTYPE_TOKEN]:ne,[r.START_TAG_TOKEN]:function(e,t){t.tagName===m.HTML?xe(e,t):Ve(e,t)},[r.END_TAG_TOKEN]:Ve,[r.EOF_TOKEN]:ae},[K]:{[r.CHARACTER_TOKEN]:ne,[r.NULL_CHARACTER_TOKEN]:ne,[r.WHITESPACE_CHARACTER_TOKEN]:me,[r.COMMENT_TOKEN]:se,[r.DOCTYPE_TOKEN]:ne,[r.START_TAG_TOKEN]:function(e,t){const n=t.tagName;n===m.HTML?xe(e,t):n===m.NOFRAMES&&he(e,t)},[r.END_TAG_TOKEN]:ne,[r.EOF_TOKEN]:ae}};function z(e,t){let n=e.activeFormattingElements.getElementEntryInScopeWithTagName(t.tagName);return n?e.openElements.contains(n.element)?e.openElements.hasInScope(t.tagName)||(n=null):(e.activeFormattingElements.removeEntry(n),n=null):Ie(e,t),n}function X(e,t){let n=null;for(let r=e.openElements.stackTop;r>=0;r--){const i=e.openElements.items[r];if(i===t.element)break;e._isSpecialElement(i)&&(n=i)}return n||(e.openElements.popUntilElementPopped(t.element),e.activeFormattingElements.removeEntry(t)),n}function Q(e,t,n){let r=t,i=e.openElements.getCommonAncestor(t);for(let s=0,o=i;o!==n;s++,o=i){i=e.openElements.getCommonAncestor(o);const n=e.activeFormattingElements.getElementEntry(o),a=n&&s>=E;!n||a?(a&&e.activeFormattingElements.removeEntry(n),e.openElements.remove(o)):(o=J(e,n),r===t&&(e.activeFormattingElements.bookmark=n),e.treeAdapter.detachNode(r),e.treeAdapter.appendChild(o,r),r=o)}return r}function J(e,t){const n=e.treeAdapter.getNamespaceURI(t.element),r=e.treeAdapter.createElement(t.token.tagName,n,t.token.attrs);return e.openElements.replace(t.element,r),t.element=r,r}function Z(e,t,n){if(e._isElementCausesFosterParenting(t))e._fosterParentElement(n);else{const r=e.treeAdapter.getTagName(t),i=e.treeAdapter.getNamespaceURI(t);r===m.TEMPLATE&&i===g.HTML&&(t=e.treeAdapter.getTemplateContent(t)),e.treeAdapter.appendChild(t,n)}}function ee(e,t,n){const r=e.treeAdapter.getNamespaceURI(n.element),i=n.token,s=e.treeAdapter.createElement(i.tagName,r,i.attrs);e._adoptNodes(t,s),e.treeAdapter.appendChild(t,s),e.activeFormattingElements.insertElementAfterBookmark(s,n.token),e.activeFormattingElements.removeEntry(n),e.openElements.remove(n.element),e.openElements.insertAfter(t,s)}function te(e,t){let n;for(let r=0;r<v&&(n=z(e,t));r++){const t=X(e,n);if(!t)break;e.activeFormattingElements.bookmark=n;const r=Q(e,t,n.element),i=e.openElements.getCommonAncestor(n.element);e.treeAdapter.detachNode(r),Z(e,i,r),ee(e,t,n)}}function ne(){}function re(e){e._err(p.misplacedDoctype)}function ie(e,t){e._appendCommentNode(t,e.openElements.currentTmplContent||e.openElements.current)}function se(e,t){e._appendCommentNode(t,e.document)}function oe(e,t){e._insertCharacters(t)}function ae(e){e.stopped=!0}function ce(e,t){e._err(p.missingDoctype,{beforeToken:!0}),e.treeAdapter.setDocumentMode(e.document,_.DOCUMENT_MODE.QUIRKS),e.insertionMode=k,e._processToken(t)}function ue(e,t){e._insertFakeRootElement(),e.insertionMode=w,e._processToken(t)}function le(e,t){e._insertFakeElement(m.HEAD),e.headElement=e.openElements.current,e.insertionMode=N,e._processToken(t)}function he(e,t){const n=t.tagName;n===m.HTML?xe(e,t):n===m.BASE||n===m.BASEFONT||n===m.BGSOUND||n===m.LINK||n===m.META?(e._appendElement(t,g.HTML),t.ackSelfClosing=!0):n===m.TITLE?e._switchToTextParsing(t,r.MODE.RCDATA):n===m.NOSCRIPT?e.options.scriptingEnabled?e._switchToTextParsing(t,r.MODE.RAWTEXT):(e._insertElement(t,g.HTML),e.insertionMode=A):n===m.NOFRAMES||n===m.STYLE?e._switchToTextParsing(t,r.MODE.RAWTEXT):n===m.SCRIPT?e._switchToTextParsing(t,r.MODE.SCRIPT_DATA):n===m.TEMPLATE?(e._insertTemplate(t,g.HTML),e.activeFormattingElements.insertMarker(),e.framesetOk=!1,e.insertionMode=B,e._pushTmplInsertionMode(B)):n===m.HEAD?e._err(p.misplacedStartTagForHeadElement):pe(e,t)}function de(e,t){const n=t.tagName;n===m.HEAD?(e.openElements.pop(),e.insertionMode=x):n===m.BODY||n===m.BR||n===m.HTML?pe(e,t):n===m.TEMPLATE&&e.openElements.tmplCount>0?(e.openElements.generateImpliedEndTagsThoroughly(),e.openElements.currentTagName!==m.TEMPLATE&&e._err(p.closingOfElementWithOpenChildElements),e.openElements.popUntilTagNamePopped(m.TEMPLATE),e.activeFormattingElements.clearToLastMarker(),e._popTmplInsertionMode(),e._resetInsertionMode()):e._err(p.endTagWithoutMatchingOpenElement)}function pe(e,t){e.openElements.pop(),e.insertionMode=x,e._processToken(t)}function fe(e,t){const n=t.type===r.EOF_TOKEN?p.openElementsLeftAfterEof:p.disallowedContentInNoscriptInHead;e._err(n),e.openElements.pop(),e.insertionMode=N,e._processToken(t)}function _e(e,t){e._insertFakeElement(m.BODY),e.insertionMode=C,e._processToken(t)}function me(e,t){e._reconstructActiveFormattingElements(),e._insertCharacters(t)}function ge(e,t){e._reconstructActiveFormattingElements(),e._insertCharacters(t),e.framesetOk=!1}function ye(e,t){e.openElements.hasInButtonScope(m.P)&&e._closePElement(),e._insertElement(t,g.HTML)}function Te(e,t){e.openElements.hasInButtonScope(m.P)&&e._closePElement(),e._insertElement(t,g.HTML),e.skipNextNewLine=!0,e.framesetOk=!1}function be(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,g.HTML),e.activeFormattingElements.pushElement(e.openElements.current,t)}function ve(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,g.HTML),e.activeFormattingElements.insertMarker(),e.framesetOk=!1}function Ee(e,t){e._reconstructActiveFormattingElements(),e._appendElement(t,g.HTML),e.framesetOk=!1,t.ackSelfClosing=!0}function Se(e,t){e._appendElement(t,g.HTML),t.ackSelfClosing=!0}function ke(e,t){e._switchToTextParsing(t,r.MODE.RAWTEXT)}function we(e,t){e.openElements.currentTagName===m.OPTION&&e.openElements.pop(),e._reconstructActiveFormattingElements(),e._insertElement(t,g.HTML)}function Ne(e,t){e.openElements.hasInScope(m.RUBY)&&e.openElements.generateImpliedEndTags(),e._insertElement(t,g.HTML)}function Ae(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,g.HTML)}function xe(e,t){const n=t.tagName;switch(n.length){case 1:n===m.I||n===m.S||n===m.B||n===m.U?be(e,t):n===m.P?ye(e,t):n===m.A?function(e,t){const n=e.activeFormattingElements.getElementEntryInScopeWithTagName(m.A);n&&(te(e,t),e.openElements.remove(n.element),e.activeFormattingElements.removeEntry(n)),e._reconstructActiveFormattingElements(),e._insertElement(t,g.HTML),e.activeFormattingElements.pushElement(e.openElements.current,t)}(e,t):Ae(e,t);break;case 2:n===m.DL||n===m.OL||n===m.UL?ye(e,t):n===m.H1||n===m.H2||n===m.H3||n===m.H4||n===m.H5||n===m.H6?function(e,t){e.openElements.hasInButtonScope(m.P)&&e._closePElement();const n=e.openElements.currentTagName;n!==m.H1&&n!==m.H2&&n!==m.H3&&n!==m.H4&&n!==m.H5&&n!==m.H6||e.openElements.pop(),e._insertElement(t,g.HTML)}(e,t):n===m.LI||n===m.DD||n===m.DT?function(e,t){e.framesetOk=!1;const n=t.tagName;for(let t=e.openElements.stackTop;t>=0;t--){const r=e.openElements.items[t],i=e.treeAdapter.getTagName(r);let s=null;if(n===m.LI&&i===m.LI?s=m.LI:n!==m.DD&&n!==m.DT||i!==m.DD&&i!==m.DT||(s=i),s){e.openElements.generateImpliedEndTagsWithExclusion(s),e.openElements.popUntilTagNamePopped(s);break}if(i!==m.ADDRESS&&i!==m.DIV&&i!==m.P&&e._isSpecialElement(r))break}e.openElements.hasInButtonScope(m.P)&&e._closePElement(),e._insertElement(t,g.HTML)}(e,t):n===m.EM||n===m.TT?be(e,t):n===m.BR?Ee(e,t):n===m.HR?function(e,t){e.openElements.hasInButtonScope(m.P)&&e._closePElement(),e._appendElement(t,g.HTML),e.framesetOk=!1,e.ackSelfClosing=!0}(e,t):n===m.RB?Ne(e,t):n===m.RT||n===m.RP?function(e,t){e.openElements.hasInScope(m.RUBY)&&e.openElements.generateImpliedEndTagsWithExclusion(m.RTC),e._insertElement(t,g.HTML)}(e,t):n!==m.TH&&n!==m.TD&&n!==m.TR&&Ae(e,t);break;case 3:n===m.DIV||n===m.DIR||n===m.NAV?ye(e,t):n===m.PRE?Te(e,t):n===m.BIG?be(e,t):n===m.IMG||n===m.WBR?Ee(e,t):n===m.XMP?function(e,t){e.openElements.hasInButtonScope(m.P)&&e._closePElement(),e._reconstructActiveFormattingElements(),e.framesetOk=!1,e._switchToTextParsing(t,r.MODE.RAWTEXT)}(e,t):n===m.SVG?function(e,t){e._reconstructActiveFormattingElements(),d.adjustTokenSVGAttrs(t),d.adjustTokenXMLAttrs(t),t.selfClosing?e._appendElement(t,g.SVG):e._insertElement(t,g.SVG),t.ackSelfClosing=!0}(e,t):n===m.RTC?Ne(e,t):n!==m.COL&&Ae(e,t);break;case 4:n===m.HTML?function(e,t){0===e.openElements.tmplCount&&e.treeAdapter.adoptAttributes(e.openElements.items[0],t.attrs)}(e,t):n===m.BASE||n===m.LINK||n===m.META?he(e,t):n===m.BODY?function(e,t){const n=e.openElements.tryPeekProperlyNestedBodyElement();n&&0===e.openElements.tmplCount&&(e.framesetOk=!1,e.treeAdapter.adoptAttributes(n,t.attrs))}(e,t):n===m.MAIN||n===m.MENU?ye(e,t):n===m.FORM?function(e,t){const n=e.openElements.tmplCount>0;e.formElement&&!n||(e.openElements.hasInButtonScope(m.P)&&e._closePElement(),e._insertElement(t,g.HTML),n||(e.formElement=e.openElements.current))}(e,t):n===m.CODE||n===m.FONT?be(e,t):n===m.NOBR?function(e,t){e._reconstructActiveFormattingElements(),e.openElements.hasInScope(m.NOBR)&&(te(e,t),e._reconstructActiveFormattingElements()),e._insertElement(t,g.HTML),e.activeFormattingElements.pushElement(e.openElements.current,t)}(e,t):n===m.AREA?Ee(e,t):n===m.MATH?function(e,t){e._reconstructActiveFormattingElements(),d.adjustTokenMathMLAttrs(t),d.adjustTokenXMLAttrs(t),t.selfClosing?e._appendElement(t,g.MATHML):e._insertElement(t,g.MATHML),t.ackSelfClosing=!0}(e,t):n===m.MENU?function(e,t){e.openElements.hasInButtonScope(m.P)&&e._closePElement(),e._insertElement(t,g.HTML)}(e,t):n!==m.HEAD&&Ae(e,t);break;case 5:n===m.STYLE||n===m.TITLE?he(e,t):n===m.ASIDE?ye(e,t):n===m.SMALL?be(e,t):n===m.TABLE?function(e,t){e.treeAdapter.getDocumentMode(e.document)!==_.DOCUMENT_MODE.QUIRKS&&e.openElements.hasInButtonScope(m.P)&&e._closePElement(),e._insertElement(t,g.HTML),e.framesetOk=!1,e.insertionMode=I}(e,t):n===m.EMBED?Ee(e,t):n===m.INPUT?function(e,t){e._reconstructActiveFormattingElements(),e._appendElement(t,g.HTML);const n=r.getTokenAttr(t,y.TYPE);n&&n.toLowerCase()===b||(e.framesetOk=!1),t.ackSelfClosing=!0}(e,t):n===m.PARAM||n===m.TRACK?Se(e,t):n===m.IMAGE?function(e,t){t.tagName=m.IMG,Ee(e,t)}(e,t):n!==m.FRAME&&n!==m.TBODY&&n!==m.TFOOT&&n!==m.THEAD&&Ae(e,t);break;case 6:n===m.SCRIPT?he(e,t):n===m.CENTER||n===m.FIGURE||n===m.FOOTER||n===m.HEADER||n===m.HGROUP||n===m.DIALOG?ye(e,t):n===m.BUTTON?function(e,t){e.openElements.hasInScope(m.BUTTON)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(m.BUTTON)),e._reconstructActiveFormattingElements(),e._insertElement(t,g.HTML),e.framesetOk=!1}(e,t):n===m.STRIKE||n===m.STRONG?be(e,t):n===m.APPLET||n===m.OBJECT?ve(e,t):n===m.KEYGEN?Ee(e,t):n===m.SOURCE?Se(e,t):n===m.IFRAME?function(e,t){e.framesetOk=!1,e._switchToTextParsing(t,r.MODE.RAWTEXT)}(e,t):n===m.SELECT?function(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,g.HTML),e.framesetOk=!1,e.insertionMode===I||e.insertionMode===D||e.insertionMode===L||e.insertionMode===M||e.insertionMode===U?e.insertionMode=F:e.insertionMode=q}(e,t):n===m.OPTION?we(e,t):Ae(e,t);break;case 7:n===m.BGSOUND?he(e,t):n===m.DETAILS||n===m.ADDRESS||n===m.ARTICLE||n===m.SECTION||n===m.SUMMARY?ye(e,t):n===m.LISTING?Te(e,t):n===m.MARQUEE?ve(e,t):n===m.NOEMBED?ke(e,t):n!==m.CAPTION&&Ae(e,t);break;case 8:n===m.BASEFONT?he(e,t):n===m.FRAMESET?function(e,t){const n=e.openElements.tryPeekProperlyNestedBodyElement();e.framesetOk&&n&&(e.treeAdapter.detachNode(n),e.openElements.popAllUpToHtmlElement(),e._insertElement(t,g.HTML),e.insertionMode=j)}(e,t):n===m.FIELDSET?ye(e,t):n===m.TEXTAREA?function(e,t){e._insertElement(t,g.HTML),e.skipNextNewLine=!0,e.tokenizer.state=r.MODE.RCDATA,e.originalInsertionMode=e.insertionMode,e.framesetOk=!1,e.insertionMode=R}(e,t):n===m.TEMPLATE?he(e,t):n===m.NOSCRIPT?e.options.scriptingEnabled?ke(e,t):Ae(e,t):n===m.OPTGROUP?we(e,t):n!==m.COLGROUP&&Ae(e,t);break;case 9:n===m.PLAINTEXT?function(e,t){e.openElements.hasInButtonScope(m.P)&&e._closePElement(),e._insertElement(t,g.HTML),e.tokenizer.state=r.MODE.PLAINTEXT}(e,t):Ae(e,t);break;case 10:n===m.BLOCKQUOTE||n===m.FIGCAPTION?ye(e,t):Ae(e,t);break;default:Ae(e,t)}}function Ce(e,t){const n=t.tagName;e.openElements.hasInScope(n)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(n))}function Re(e,t){const n=t.tagName;e.openElements.hasInScope(n)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(n),e.activeFormattingElements.clearToLastMarker())}function Ie(e,t){const n=t.tagName;for(let t=e.openElements.stackTop;t>0;t--){const r=e.openElements.items[t];if(e.treeAdapter.getTagName(r)===n){e.openElements.generateImpliedEndTagsWithExclusion(n),e.openElements.popUntilElementPopped(r);break}if(e._isSpecialElement(r))break}}function Oe(e,t){const n=t.tagName;switch(n.length){case 1:n===m.A||n===m.B||n===m.I||n===m.S||n===m.U?te(e,t):n===m.P?function(e){e.openElements.hasInButtonScope(m.P)||e._insertFakeElement(m.P),e._closePElement()}(e):Ie(e,t);break;case 2:n===m.DL||n===m.UL||n===m.OL?Ce(e,t):n===m.LI?function(e){e.openElements.hasInListItemScope(m.LI)&&(e.openElements.generateImpliedEndTagsWithExclusion(m.LI),e.openElements.popUntilTagNamePopped(m.LI))}(e):n===m.DD||n===m.DT?function(e,t){const n=t.tagName;e.openElements.hasInScope(n)&&(e.openElements.generateImpliedEndTagsWithExclusion(n),e.openElements.popUntilTagNamePopped(n))}(e,t):n===m.H1||n===m.H2||n===m.H3||n===m.H4||n===m.H5||n===m.H6?function(e){e.openElements.hasNumberedHeaderInScope()&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilNumberedHeaderPopped())}(e):n===m.BR?function(e){e._reconstructActiveFormattingElements(),e._insertFakeElement(m.BR),e.openElements.pop(),e.framesetOk=!1}(e):n===m.EM||n===m.TT?te(e,t):Ie(e,t);break;case 3:n===m.BIG?te(e,t):n===m.DIR||n===m.DIV||n===m.NAV||n===m.PRE?Ce(e,t):Ie(e,t);break;case 4:n===m.BODY?function(e){e.openElements.hasInScope(m.BODY)&&(e.insertionMode=H)}(e):n===m.HTML?function(e,t){e.openElements.hasInScope(m.BODY)&&(e.insertionMode=H,e._processToken(t))}(e,t):n===m.FORM?function(e){const t=e.openElements.tmplCount>0,n=e.formElement;t||(e.formElement=null),(n||t)&&e.openElements.hasInScope(m.FORM)&&(e.openElements.generateImpliedEndTags(),t?e.openElements.popUntilTagNamePopped(m.FORM):e.openElements.remove(n))}(e):n===m.CODE||n===m.FONT||n===m.NOBR?te(e,t):n===m.MAIN||n===m.MENU?Ce(e,t):Ie(e,t);break;case 5:n===m.ASIDE?Ce(e,t):n===m.SMALL?te(e,t):Ie(e,t);break;case 6:n===m.CENTER||n===m.FIGURE||n===m.FOOTER||n===m.HEADER||n===m.HGROUP||n===m.DIALOG?Ce(e,t):n===m.APPLET||n===m.OBJECT?Re(e,t):n===m.STRIKE||n===m.STRONG?te(e,t):Ie(e,t);break;case 7:n===m.ADDRESS||n===m.ARTICLE||n===m.DETAILS||n===m.SECTION||n===m.SUMMARY||n===m.LISTING?Ce(e,t):n===m.MARQUEE?Re(e,t):Ie(e,t);break;case 8:n===m.FIELDSET?Ce(e,t):n===m.TEMPLATE?de(e,t):Ie(e,t);break;case 10:n===m.BLOCKQUOTE||n===m.FIGCAPTION?Ce(e,t):Ie(e,t);break;default:Ie(e,t)}}function De(e,t){e.tmplInsertionModeStackTop>-1?je(e,t):e.stopped=!0}function Pe(e,t){const n=e.openElements.currentTagName;n===m.TABLE||n===m.TBODY||n===m.TFOOT||n===m.THEAD||n===m.TR?(e.pendingCharacterTokens=[],e.hasNonWhitespacePendingCharacterToken=!1,e.originalInsertionMode=e.insertionMode,e.insertionMode=O,e._processToken(t)):Ue(e,t)}function Le(e,t){const n=t.tagName;switch(n.length){case 2:n===m.TD||n===m.TH||n===m.TR?function(e,t){e.openElements.clearBackToTableContext(),e._insertFakeElement(m.TBODY),e.insertionMode=L,e._processToken(t)}(e,t):Ue(e,t);break;case 3:n===m.COL?function(e,t){e.openElements.clearBackToTableContext(),e._insertFakeElement(m.COLGROUP),e.insertionMode=P,e._processToken(t)}(e,t):Ue(e,t);break;case 4:n===m.FORM?function(e,t){e.formElement||0!==e.openElements.tmplCount||(e._insertElement(t,g.HTML),e.formElement=e.openElements.current,e.openElements.pop())}(e,t):Ue(e,t);break;case 5:n===m.TABLE?function(e,t){e.openElements.hasInTableScope(m.TABLE)&&(e.openElements.popUntilTagNamePopped(m.TABLE),e._resetInsertionMode(),e._processToken(t))}(e,t):n===m.STYLE?he(e,t):n===m.TBODY||n===m.TFOOT||n===m.THEAD?function(e,t){e.openElements.clearBackToTableContext(),e._insertElement(t,g.HTML),e.insertionMode=L}(e,t):n===m.INPUT?function(e,t){const n=r.getTokenAttr(t,y.TYPE);n&&n.toLowerCase()===b?e._appendElement(t,g.HTML):Ue(e,t),t.ackSelfClosing=!0}(e,t):Ue(e,t);break;case 6:n===m.SCRIPT?he(e,t):Ue(e,t);break;case 7:n===m.CAPTION?function(e,t){e.openElements.clearBackToTableContext(),e.activeFormattingElements.insertMarker(),e._insertElement(t,g.HTML),e.insertionMode=D}(e,t):Ue(e,t);break;case 8:n===m.COLGROUP?function(e,t){e.openElements.clearBackToTableContext(),e._insertElement(t,g.HTML),e.insertionMode=P}(e,t):n===m.TEMPLATE?he(e,t):Ue(e,t);break;default:Ue(e,t)}}function Me(e,t){const n=t.tagName;n===m.TABLE?e.openElements.hasInTableScope(m.TABLE)&&(e.openElements.popUntilTagNamePopped(m.TABLE),e._resetInsertionMode()):n===m.TEMPLATE?de(e,t):n!==m.BODY&&n!==m.CAPTION&&n!==m.COL&&n!==m.COLGROUP&&n!==m.HTML&&n!==m.TBODY&&n!==m.TD&&n!==m.TFOOT&&n!==m.TH&&n!==m.THEAD&&n!==m.TR&&Ue(e,t)}function Ue(e,t){const n=e.fosterParentingEnabled;e.fosterParentingEnabled=!0,e._processTokenInBodyMode(t),e.fosterParentingEnabled=n}function qe(e,t){let n=0;if(e.hasNonWhitespacePendingCharacterToken)for(;n<e.pendingCharacterTokens.length;n++)Ue(e,e.pendingCharacterTokens[n]);else for(;n<e.pendingCharacterTokens.length;n++)e._insertCharacters(e.pendingCharacterTokens[n]);e.insertionMode=e.originalInsertionMode,e._processToken(t)}function Fe(e,t){e.openElements.currentTagName===m.COLGROUP&&(e.openElements.pop(),e.insertionMode=I,e._processToken(t))}function Be(e,t){const n=t.tagName;n===m.HTML?xe(e,t):n===m.OPTION?(e.openElements.currentTagName===m.OPTION&&e.openElements.pop(),e._insertElement(t,g.HTML)):n===m.OPTGROUP?(e.openElements.currentTagName===m.OPTION&&e.openElements.pop(),e.openElements.currentTagName===m.OPTGROUP&&e.openElements.pop(),e._insertElement(t,g.HTML)):n===m.INPUT||n===m.KEYGEN||n===m.TEXTAREA||n===m.SELECT?e.openElements.hasInSelectScope(m.SELECT)&&(e.openElements.popUntilTagNamePopped(m.SELECT),e._resetInsertionMode(),n!==m.SELECT&&e._processToken(t)):n!==m.SCRIPT&&n!==m.TEMPLATE||he(e,t)}function He(e,t){const n=t.tagName;if(n===m.OPTGROUP){const t=e.openElements.items[e.openElements.stackTop-1],n=t&&e.treeAdapter.getTagName(t);e.openElements.currentTagName===m.OPTION&&n===m.OPTGROUP&&e.openElements.pop(),e.openElements.currentTagName===m.OPTGROUP&&e.openElements.pop()}else n===m.OPTION?e.openElements.currentTagName===m.OPTION&&e.openElements.pop():n===m.SELECT&&e.openElements.hasInSelectScope(m.SELECT)?(e.openElements.popUntilTagNamePopped(m.SELECT),e._resetInsertionMode()):n===m.TEMPLATE&&de(e,t)}function je(e,t){e.openElements.tmplCount>0?(e.openElements.popUntilTagNamePopped(m.TEMPLATE),e.activeFormattingElements.clearToLastMarker(),e._popTmplInsertionMode(),e._resetInsertionMode(),e._processToken(t)):e.stopped=!0}function Ge(e,t){e.insertionMode=C,e._processToken(t)}function Ve(e,t){e.insertionMode=C,e._processToken(t)}e.exports=class{constructor(e){this.options=l(T,e),this.treeAdapter=this.options.treeAdapter,this.pendingScript=null,this.options.sourceCodeLocationInfo&&c.install(this,o),this.options.onParseError&&c.install(this,a,{onParseError:this.options.onParseError})}parse(e){const t=this.treeAdapter.createDocument();return this._bootstrap(t,null),this.tokenizer.write(e,!0),this._runParsingLoop(null),t}parseFragment(e,t){t||(t=this.treeAdapter.createElement(m.TEMPLATE,g.HTML,[]));const n=this.treeAdapter.createElement("documentmock",g.HTML,[]);this._bootstrap(n,t),this.treeAdapter.getTagName(t)===m.TEMPLATE&&this._pushTmplInsertionMode(B),this._initTokenizerForFragmentParsing(),this._insertFakeRootElement(),this._resetInsertionMode(),this._findFormInFragmentContext(),this.tokenizer.write(e,!0),this._runParsingLoop(null);const r=this.treeAdapter.getFirstChild(n),i=this.treeAdapter.createDocumentFragment();return this._adoptNodes(r,i),i}_bootstrap(e,t){this.tokenizer=new r(this.options),this.stopped=!1,this.insertionMode=S,this.originalInsertionMode="",this.document=e,this.fragmentContext=t,this.headElement=null,this.formElement=null,this.openElements=new i(this.document,this.treeAdapter),this.activeFormattingElements=new s(this.treeAdapter),this.tmplInsertionModeStack=[],this.tmplInsertionModeStackTop=-1,this.currentTmplInsertionMode=null,this.pendingCharacterTokens=[],this.hasNonWhitespacePendingCharacterToken=!1,this.framesetOk=!0,this.skipNextNewLine=!1,this.fosterParentingEnabled=!1}_err(){}_runParsingLoop(e){for(;!this.stopped;){this._setupTokenizerCDATAMode();const t=this.tokenizer.getNextToken();if(t.type===r.HIBERNATION_TOKEN)break;if(this.skipNextNewLine&&(this.skipNextNewLine=!1,t.type===r.WHITESPACE_CHARACTER_TOKEN&&"\n"===t.chars[0])){if(1===t.chars.length)continue;t.chars=t.chars.substr(1)}if(this._processInputToken(t),e&&this.pendingScript)break}}runParsingLoopForCurrentChunk(e,t){if(this._runParsingLoop(t),t&&this.pendingScript){const e=this.pendingScript;return this.pendingScript=null,void t(e)}e&&e()}_setupTokenizerCDATAMode(){const e=this._getAdjustedCurrentElement();this.tokenizer.allowCDATA=e&&e!==this.document&&this.treeAdapter.getNamespaceURI(e)!==g.HTML&&!this._isIntegrationPoint(e)}_switchToTextParsing(e,t){this._insertElement(e,g.HTML),this.tokenizer.state=t,this.originalInsertionMode=this.insertionMode,this.insertionMode=R}switchToPlaintextParsing(){this.insertionMode=R,this.originalInsertionMode=C,this.tokenizer.state=r.MODE.PLAINTEXT}_getAdjustedCurrentElement(){return 0===this.openElements.stackTop&&this.fragmentContext?this.fragmentContext:this.openElements.current}_findFormInFragmentContext(){let e=this.fragmentContext;do{if(this.treeAdapter.getTagName(e)===m.FORM){this.formElement=e;break}e=this.treeAdapter.getParentNode(e)}while(e)}_initTokenizerForFragmentParsing(){if(this.treeAdapter.getNamespaceURI(this.fragmentContext)===g.HTML){const e=this.treeAdapter.getTagName(this.fragmentContext);e===m.TITLE||e===m.TEXTAREA?this.tokenizer.state=r.MODE.RCDATA:e===m.STYLE||e===m.XMP||e===m.IFRAME||e===m.NOEMBED||e===m.NOFRAMES||e===m.NOSCRIPT?this.tokenizer.state=r.MODE.RAWTEXT:e===m.SCRIPT?this.tokenizer.state=r.MODE.SCRIPT_DATA:e===m.PLAINTEXT&&(this.tokenizer.state=r.MODE.PLAINTEXT)}}_setDocumentType(e){const t=e.name||"",n=e.publicId||"",r=e.systemId||"";this.treeAdapter.setDocumentType(this.document,t,n,r)}_attachElementToTree(e){if(this._shouldFosterParentOnInsertion())this._fosterParentElement(e);else{const t=this.openElements.currentTmplContent||this.openElements.current;this.treeAdapter.appendChild(t,e)}}_appendElement(e,t){const n=this.treeAdapter.createElement(e.tagName,t,e.attrs);this._attachElementToTree(n)}_insertElement(e,t){const n=this.treeAdapter.createElement(e.tagName,t,e.attrs);this._attachElementToTree(n),this.openElements.push(n)}_insertFakeElement(e){const t=this.treeAdapter.createElement(e,g.HTML,[]);this._attachElementToTree(t),this.openElements.push(t)}_insertTemplate(e){const t=this.treeAdapter.createElement(e.tagName,g.HTML,e.attrs),n=this.treeAdapter.createDocumentFragment();this.treeAdapter.setTemplateContent(t,n),this._attachElementToTree(t),this.openElements.push(t)}_insertFakeRootElement(){const e=this.treeAdapter.createElement(m.HTML,g.HTML,[]);this.treeAdapter.appendChild(this.openElements.current,e),this.openElements.push(e)}_appendCommentNode(e,t){const n=this.treeAdapter.createCommentNode(e.data);this.treeAdapter.appendChild(t,n)}_insertCharacters(e){if(this._shouldFosterParentOnInsertion())this._fosterParentText(e.chars);else{const t=this.openElements.currentTmplContent||this.openElements.current;this.treeAdapter.insertText(t,e.chars)}}_adoptNodes(e,t){for(let n=this.treeAdapter.getFirstChild(e);n;n=this.treeAdapter.getFirstChild(e))this.treeAdapter.detachNode(n),this.treeAdapter.appendChild(t,n)}_shouldProcessTokenInForeignContent(e){const t=this._getAdjustedCurrentElement();if(!t||t===this.document)return!1;const n=this.treeAdapter.getNamespaceURI(t);if(n===g.HTML)return!1;if(this.treeAdapter.getTagName(t)===m.ANNOTATION_XML&&n===g.MATHML&&e.type===r.START_TAG_TOKEN&&e.tagName===m.SVG)return!1;const i=e.type===r.CHARACTER_TOKEN||e.type===r.NULL_CHARACTER_TOKEN||e.type===r.WHITESPACE_CHARACTER_TOKEN;return!((e.type===r.START_TAG_TOKEN&&e.tagName!==m.MGLYPH&&e.tagName!==m.MALIGNMARK||i)&&this._isIntegrationPoint(t,g.MATHML)||(e.type===r.START_TAG_TOKEN||i)&&this._isIntegrationPoint(t,g.HTML)||e.type===r.EOF_TOKEN)}_processToken(e){Y[this.insertionMode][e.type](this,e)}_processTokenInBodyMode(e){Y[C][e.type](this,e)}_processTokenInForeignContent(e){e.type===r.CHARACTER_TOKEN?function(e,t){e._insertCharacters(t),e.framesetOk=!1}(this,e):e.type===r.NULL_CHARACTER_TOKEN?function(e,t){t.chars=f.REPLACEMENT_CHARACTER,e._insertCharacters(t)}(this,e):e.type===r.WHITESPACE_CHARACTER_TOKEN?oe(this,e):e.type===r.COMMENT_TOKEN?ie(this,e):e.type===r.START_TAG_TOKEN?function(e,t){if(d.causesExit(t)&&!e.fragmentContext){for(;e.treeAdapter.getNamespaceURI(e.openElements.current)!==g.HTML&&!e._isIntegrationPoint(e.openElements.current);)e.openElements.pop();e._processToken(t)}else{const n=e._getAdjustedCurrentElement(),r=e.treeAdapter.getNamespaceURI(n);r===g.MATHML?d.adjustTokenMathMLAttrs(t):r===g.SVG&&(d.adjustTokenSVGTagName(t),d.adjustTokenSVGAttrs(t)),d.adjustTokenXMLAttrs(t),t.selfClosing?e._appendElement(t,r):e._insertElement(t,r),t.ackSelfClosing=!0}}(this,e):e.type===r.END_TAG_TOKEN&&function(e,t){for(let n=e.openElements.stackTop;n>0;n--){const r=e.openElements.items[n];if(e.treeAdapter.getNamespaceURI(r)===g.HTML){e._processToken(t);break}if(e.treeAdapter.getTagName(r).toLowerCase()===t.tagName){e.openElements.popUntilElementPopped(r);break}}}(this,e)}_processInputToken(e){this._shouldProcessTokenInForeignContent(e)?this._processTokenInForeignContent(e):this._processToken(e),e.type===r.START_TAG_TOKEN&&e.selfClosing&&!e.ackSelfClosing&&this._err(p.nonVoidHtmlElementStartTagWithTrailingSolidus)}_isIntegrationPoint(e,t){const n=this.treeAdapter.getTagName(e),r=this.treeAdapter.getNamespaceURI(e),i=this.treeAdapter.getAttrList(e);return d.isIntegrationPoint(n,r,i,t)}_reconstructActiveFormattingElements(){const e=this.activeFormattingElements.length;if(e){let t=e,n=null;do{if(t--,(n=this.activeFormattingElements.entries[t]).type===s.MARKER_ENTRY||this.openElements.contains(n.element)){t++;break}}while(t>0);for(let r=t;r<e;r++)n=this.activeFormattingElements.entries[r],this._insertElement(n.token,this.treeAdapter.getNamespaceURI(n.element)),n.element=this.openElements.current}}_closeTableCell(){this.openElements.generateImpliedEndTags(),this.openElements.popUntilTableCellPopped(),this.activeFormattingElements.clearToLastMarker(),this.insertionMode=M}_closePElement(){this.openElements.generateImpliedEndTagsWithExclusion(m.P),this.openElements.popUntilTagNamePopped(m.P)}_resetInsertionMode(){for(let e=this.openElements.stackTop,t=!1;e>=0;e--){let n=this.openElements.items[e];0===e&&(t=!0,this.fragmentContext&&(n=this.fragmentContext));const r=this.treeAdapter.getTagName(n),i=$[r];if(i){this.insertionMode=i;break}if(!(t||r!==m.TD&&r!==m.TH)){this.insertionMode=U;break}if(!t&&r===m.HEAD){this.insertionMode=N;break}if(r===m.SELECT){this._resetInsertionModeForSelect(e);break}if(r===m.TEMPLATE){this.insertionMode=this.currentTmplInsertionMode;break}if(r===m.HTML){this.insertionMode=this.headElement?x:w;break}if(t){this.insertionMode=C;break}}}_resetInsertionModeForSelect(e){if(e>0)for(let t=e-1;t>0;t--){const e=this.openElements.items[t],n=this.treeAdapter.getTagName(e);if(n===m.TEMPLATE)break;if(n===m.TABLE)return void(this.insertionMode=F)}this.insertionMode=q}_pushTmplInsertionMode(e){this.tmplInsertionModeStack.push(e),this.tmplInsertionModeStackTop++,this.currentTmplInsertionMode=e}_popTmplInsertionMode(){this.tmplInsertionModeStack.pop(),this.tmplInsertionModeStackTop--,this.currentTmplInsertionMode=this.tmplInsertionModeStack[this.tmplInsertionModeStackTop]}_isElementCausesFosterParenting(e){const t=this.treeAdapter.getTagName(e);return t===m.TABLE||t===m.TBODY||t===m.TFOOT||t===m.THEAD||t===m.TR}_shouldFosterParentOnInsertion(){return this.fosterParentingEnabled&&this._isElementCausesFosterParenting(this.openElements.current)}_findFosterParentingLocation(){const e={parent:null,beforeElement:null};for(let t=this.openElements.stackTop;t>=0;t--){const n=this.openElements.items[t],r=this.treeAdapter.getTagName(n),i=this.treeAdapter.getNamespaceURI(n);if(r===m.TEMPLATE&&i===g.HTML){e.parent=this.treeAdapter.getTemplateContent(n);break}if(r===m.TABLE){e.parent=this.treeAdapter.getParentNode(n),e.parent?e.beforeElement=n:e.parent=this.openElements.items[t-1];break}}return e.parent||(e.parent=this.openElements.items[0]),e}_fosterParentElement(e){const t=this._findFosterParentingLocation();t.beforeElement?this.treeAdapter.insertBefore(t.parent,e,t.beforeElement):this.treeAdapter.appendChild(t.parent,e)}_fosterParentText(e){const t=this._findFosterParentingLocation();t.beforeElement?this.treeAdapter.insertTextBefore(t.parent,e,t.beforeElement):this.treeAdapter.insertText(t.parent,e)}_isSpecialElement(e){const t=this.treeAdapter.getTagName(e),n=this.treeAdapter.getNamespaceURI(e);return _.SPECIAL_ELEMENTS[n][t]}}},function(e,t,n){"use strict";const r=n(70),i=n(71),s=r.CODE_POINTS,o=65536;e.exports=class{constructor(){this.html=null,this.pos=-1,this.lastGapPos=-1,this.lastCharPos=-1,this.gapStack=[],this.skipNextNewLine=!1,this.lastChunkWritten=!1,this.endOfChunkHit=!1,this.bufferWaterline=o}_err(){}_addGap(){this.gapStack.push(this.lastGapPos),this.lastGapPos=this.pos}_processSurrogate(e){if(this.pos!==this.lastCharPos){const t=this.html.charCodeAt(this.pos+1);if(r.isSurrogatePair(t))return this.pos++,this._addGap(),r.getSurrogatePairCodePoint(e,t)}else if(!this.lastChunkWritten)return this.endOfChunkHit=!0,s.EOF;return this._err(i.surrogateInInputStream),e}dropParsedChunk(){this.pos>this.bufferWaterline&&(this.lastCharPos-=this.pos,this.html=this.html.substring(this.pos),this.pos=0,this.lastGapPos=-1,this.gapStack=[])}write(e,t){this.html?this.html+=e:this.html=e,this.lastCharPos=this.html.length-1,this.endOfChunkHit=!1,this.lastChunkWritten=t}insertHtmlAtCurrentPos(e){this.html=this.html.substring(0,this.pos+1)+e+this.html.substring(this.pos+1,this.html.length),this.lastCharPos=this.html.length-1,this.endOfChunkHit=!1}advance(){if(this.pos++,this.pos>this.lastCharPos)return this.endOfChunkHit=!this.lastChunkWritten,s.EOF;let e=this.html.charCodeAt(this.pos);return this.skipNextNewLine&&e===s.LINE_FEED?(this.skipNextNewLine=!1,this._addGap(),this.advance()):e===s.CARRIAGE_RETURN?(this.skipNextNewLine=!0,s.LINE_FEED):(this.skipNextNewLine=!1,r.isSurrogate(e)&&(e=this._processSurrogate(e)),e>31&&e<127||e===s.LINE_FEED||e===s.CARRIAGE_RETURN||e>159&&e<64976||this._checkForProblematicCharacters(e),e)}_checkForProblematicCharacters(e){r.isControlCodePoint(e)?this._err(i.controlCharacterInInputStream):r.isUndefinedCodePoint(e)&&this._err(i.noncharacterInInputStream)}retreat(){this.pos===this.lastGapPos&&(this.lastGapPos=this.gapStack.pop(),this.pos--),this.pos--}}},function(e,t,n){"use strict";e.exports=new Uint16Array([4,52,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,106,303,412,810,1432,1701,1796,1987,2114,2360,2420,2484,3170,3251,4140,4393,4575,4610,5106,5512,5728,6117,6274,6315,6345,6427,6516,7002,7910,8733,9323,9870,10170,10631,10893,11318,11386,11467,12773,13092,14474,14922,15448,15542,16419,17666,18166,18611,19004,19095,19298,19397,4,16,69,77,97,98,99,102,103,108,109,110,111,112,114,115,116,117,140,150,158,169,176,194,199,210,216,222,226,242,256,266,283,294,108,105,103,5,198,1,59,148,1,198,80,5,38,1,59,156,1,38,99,117,116,101,5,193,1,59,167,1,193,114,101,118,101,59,1,258,4,2,105,121,182,191,114,99,5,194,1,59,189,1,194,59,1,1040,114,59,3,55349,56580,114,97,118,101,5,192,1,59,208,1,192,112,104,97,59,1,913,97,99,114,59,1,256,100,59,1,10835,4,2,103,112,232,237,111,110,59,1,260,102,59,3,55349,56632,112,108,121,70,117,110,99,116,105,111,110,59,1,8289,105,110,103,5,197,1,59,264,1,197,4,2,99,115,272,277,114,59,3,55349,56476,105,103,110,59,1,8788,105,108,100,101,5,195,1,59,292,1,195,109,108,5,196,1,59,301,1,196,4,8,97,99,101,102,111,114,115,117,321,350,354,383,388,394,400,405,4,2,99,114,327,336,107,115,108,97,115,104,59,1,8726,4,2,118,119,342,345,59,1,10983,101,100,59,1,8966,121,59,1,1041,4,3,99,114,116,362,369,379,97,117,115,101,59,1,8757,110,111,117,108,108,105,115,59,1,8492,97,59,1,914,114,59,3,55349,56581,112,102,59,3,55349,56633,101,118,101,59,1,728,99,114,59,1,8492,109,112,101,113,59,1,8782,4,14,72,79,97,99,100,101,102,104,105,108,111,114,115,117,442,447,456,504,542,547,569,573,577,616,678,784,790,796,99,121,59,1,1063,80,89,5,169,1,59,454,1,169,4,3,99,112,121,464,470,497,117,116,101,59,1,262,4,2,59,105,476,478,1,8914,116,97,108,68,105,102,102,101,114,101,110,116,105,97,108,68,59,1,8517,108,101,121,115,59,1,8493,4,4,97,101,105,111,514,520,530,535,114,111,110,59,1,268,100,105,108,5,199,1,59,528,1,199,114,99,59,1,264,110,105,110,116,59,1,8752,111,116,59,1,266,4,2,100,110,553,560,105,108,108,97,59,1,184,116,101,114,68,111,116,59,1,183,114,59,1,8493,105,59,1,935,114,99,108,101,4,4,68,77,80,84,591,596,603,609,111,116,59,1,8857,105,110,117,115,59,1,8854,108,117,115,59,1,8853,105,109,101,115,59,1,8855,111,4,2,99,115,623,646,107,119,105,115,101,67,111,110,116,111,117,114,73,110,116,101,103,114,97,108,59,1,8754,101,67,117,114,108,121,4,2,68,81,658,671,111,117,98,108,101,81,117,111,116,101,59,1,8221,117,111,116,101,59,1,8217,4,4,108,110,112,117,688,701,736,753,111,110,4,2,59,101,696,698,1,8759,59,1,10868,4,3,103,105,116,709,717,722,114,117,101,110,116,59,1,8801,110,116,59,1,8751,111,117,114,73,110,116,101,103,114,97,108,59,1,8750,4,2,102,114,742,745,59,1,8450,111,100,117,99,116,59,1,8720,110,116,101,114,67,108,111,99,107,119,105,115,101,67,111,110,116,111,117,114,73,110,116,101,103,114,97,108,59,1,8755,111,115,115,59,1,10799,99,114,59,3,55349,56478,112,4,2,59,67,803,805,1,8915,97,112,59,1,8781,4,11,68,74,83,90,97,99,101,102,105,111,115,834,850,855,860,865,888,903,916,921,1011,1415,4,2,59,111,840,842,1,8517,116,114,97,104,100,59,1,10513,99,121,59,1,1026,99,121,59,1,1029,99,121,59,1,1039,4,3,103,114,115,873,879,883,103,101,114,59,1,8225,114,59,1,8609,104,118,59,1,10980,4,2,97,121,894,900,114,111,110,59,1,270,59,1,1044,108,4,2,59,116,910,912,1,8711,97,59,1,916,114,59,3,55349,56583,4,2,97,102,927,998,4,2,99,109,933,992,114,105,116,105,99,97,108,4,4,65,68,71,84,950,957,978,985,99,117,116,101,59,1,180,111,4,2,116,117,964,967,59,1,729,98,108,101,65,99,117,116,101,59,1,733,114,97,118,101,59,1,96,105,108,100,101,59,1,732,111,110,100,59,1,8900,102,101,114,101,110,116,105,97,108,68,59,1,8518,4,4,112,116,117,119,1021,1026,1048,1249,102,59,3,55349,56635,4,3,59,68,69,1034,1036,1041,1,168,111,116,59,1,8412,113,117,97,108,59,1,8784,98,108,101,4,6,67,68,76,82,85,86,1065,1082,1101,1189,1211,1236,111,110,116,111,117,114,73,110,116,101,103,114,97,108,59,1,8751,111,4,2,116,119,1089,1092,59,1,168,110,65,114,114,111,119,59,1,8659,4,2,101,111,1107,1141,102,116,4,3,65,82,84,1117,1124,1136,114,114,111,119,59,1,8656,105,103,104,116,65,114,114,111,119,59,1,8660,101,101,59,1,10980,110,103,4,2,76,82,1149,1177,101,102,116,4,2,65,82,1158,1165,114,114,111,119,59,1,10232,105,103,104,116,65,114,114,111,119,59,1,10234,105,103,104,116,65,114,114,111,119,59,1,10233,105,103,104,116,4,2,65,84,1199,1206,114,114,111,119,59,1,8658,101,101,59,1,8872,112,4,2,65,68,1218,1225,114,114,111,119,59,1,8657,111,119,110,65,114,114,111,119,59,1,8661,101,114,116,105,99,97,108,66,97,114,59,1,8741,110,4,6,65,66,76,82,84,97,1264,1292,1299,1352,1391,1408,114,114,111,119,4,3,59,66,85,1276,1278,1283,1,8595,97,114,59,1,10515,112,65,114,114,111,119,59,1,8693,114,101,118,101,59,1,785,101,102,116,4,3,82,84,86,1310,1323,1334,105,103,104,116,86,101,99,116,111,114,59,1,10576,101,101,86,101,99,116,111,114,59,1,10590,101,99,116,111,114,4,2,59,66,1345,1347,1,8637,97,114,59,1,10582,105,103,104,116,4,2,84,86,1362,1373,101,101,86,101,99,116,111,114,59,1,10591,101,99,116,111,114,4,2,59,66,1384,1386,1,8641,97,114,59,1,10583,101,101,4,2,59,65,1399,1401,1,8868,114,114,111,119,59,1,8615,114,114,111,119,59,1,8659,4,2,99,116,1421,1426,114,59,3,55349,56479,114,111,107,59,1,272,4,16,78,84,97,99,100,102,103,108,109,111,112,113,115,116,117,120,1466,1470,1478,1489,1515,1520,1525,1536,1544,1593,1609,1617,1650,1664,1668,1677,71,59,1,330,72,5,208,1,59,1476,1,208,99,117,116,101,5,201,1,59,1487,1,201,4,3,97,105,121,1497,1503,1512,114,111,110,59,1,282,114,99,5,202,1,59,1510,1,202,59,1,1069,111,116,59,1,278,114,59,3,55349,56584,114,97,118,101,5,200,1,59,1534,1,200,101,109,101,110,116,59,1,8712,4,2,97,112,1550,1555,99,114,59,1,274,116,121,4,2,83,86,1563,1576,109,97,108,108,83,113,117,97,114,101,59,1,9723,101,114,121,83,109,97,108,108,83,113,117,97,114,101,59,1,9643,4,2,103,112,1599,1604,111,110,59,1,280,102,59,3,55349,56636,115,105,108,111,110,59,1,917,117,4,2,97,105,1624,1640,108,4,2,59,84,1631,1633,1,10869,105,108,100,101,59,1,8770,108,105,98,114,105,117,109,59,1,8652,4,2,99,105,1656,1660,114,59,1,8496,109,59,1,10867,97,59,1,919,109,108,5,203,1,59,1675,1,203,4,2,105,112,1683,1689,115,116,115,59,1,8707,111,110,101,110,116,105,97,108,69,59,1,8519,4,5,99,102,105,111,115,1713,1717,1722,1762,1791,121,59,1,1060,114,59,3,55349,56585,108,108,101,100,4,2,83,86,1732,1745,109,97,108,108,83,113,117,97,114,101,59,1,9724,101,114,121,83,109,97,108,108,83,113,117,97,114,101,59,1,9642,4,3,112,114,117,1770,1775,1781,102,59,3,55349,56637,65,108,108,59,1,8704,114,105,101,114,116,114,102,59,1,8497,99,114,59,1,8497,4,12,74,84,97,98,99,100,102,103,111,114,115,116,1822,1827,1834,1848,1855,1877,1882,1887,1890,1896,1978,1984,99,121,59,1,1027,5,62,1,59,1832,1,62,109,109,97,4,2,59,100,1843,1845,1,915,59,1,988,114,101,118,101,59,1,286,4,3,101,105,121,1863,1869,1874,100,105,108,59,1,290,114,99,59,1,284,59,1,1043,111,116,59,1,288,114,59,3,55349,56586,59,1,8921,112,102,59,3,55349,56638,101,97,116,101,114,4,6,69,70,71,76,83,84,1915,1933,1944,1953,1959,1971,113,117,97,108,4,2,59,76,1925,1927,1,8805,101,115,115,59,1,8923,117,108,108,69,113,117,97,108,59,1,8807,114,101,97,116,101,114,59,1,10914,101,115,115,59,1,8823,108,97,110,116,69,113,117,97,108,59,1,10878,105,108,100,101,59,1,8819,99,114,59,3,55349,56482,59,1,8811,4,8,65,97,99,102,105,111,115,117,2005,2012,2026,2032,2036,2049,2073,2089,82,68,99,121,59,1,1066,4,2,99,116,2018,2023,101,107,59,1,711,59,1,94,105,114,99,59,1,292,114,59,1,8460,108,98,101,114,116,83,112,97,99,101,59,1,8459,4,2,112,114,2055,2059,102,59,1,8461,105,122,111,110,116,97,108,76,105,110,101,59,1,9472,4,2,99,116,2079,2083,114,59,1,8459,114,111,107,59,1,294,109,112,4,2,68,69,2097,2107,111,119,110,72,117,109,112,59,1,8782,113,117,97,108,59,1,8783,4,14,69,74,79,97,99,100,102,103,109,110,111,115,116,117,2144,2149,2155,2160,2171,2189,2194,2198,2209,2245,2307,2329,2334,2341,99,121,59,1,1045,108,105,103,59,1,306,99,121,59,1,1025,99,117,116,101,5,205,1,59,2169,1,205,4,2,105,121,2177,2186,114,99,5,206,1,59,2184,1,206,59,1,1048,111,116,59,1,304,114,59,1,8465,114,97,118,101,5,204,1,59,2207,1,204,4,3,59,97,112,2217,2219,2238,1,8465,4,2,99,103,2225,2229,114,59,1,298,105,110,97,114,121,73,59,1,8520,108,105,101,115,59,1,8658,4,2,116,118,2251,2281,4,2,59,101,2257,2259,1,8748,4,2,103,114,2265,2271,114,97,108,59,1,8747,115,101,99,116,105,111,110,59,1,8898,105,115,105,98,108,101,4,2,67,84,2293,2300,111,109,109,97,59,1,8291,105,109,101,115,59,1,8290,4,3,103,112,116,2315,2320,2325,111,110,59,1,302,102,59,3,55349,56640,97,59,1,921,99,114,59,1,8464,105,108,100,101,59,1,296,4,2,107,109,2347,2352,99,121,59,1,1030,108,5,207,1,59,2358,1,207,4,5,99,102,111,115,117,2372,2386,2391,2397,2414,4,2,105,121,2378,2383,114,99,59,1,308,59,1,1049,114,59,3,55349,56589,112,102,59,3,55349,56641,4,2,99,101,2403,2408,114,59,3,55349,56485,114,99,121,59,1,1032,107,99,121,59,1,1028,4,7,72,74,97,99,102,111,115,2436,2441,2446,2452,2467,2472,2478,99,121,59,1,1061,99,121,59,1,1036,112,112,97,59,1,922,4,2,101,121,2458,2464,100,105,108,59,1,310,59,1,1050,114,59,3,55349,56590,112,102,59,3,55349,56642,99,114,59,3,55349,56486,4,11,74,84,97,99,101,102,108,109,111,115,116,2508,2513,2520,2562,2585,2981,2986,3004,3011,3146,3167,99,121,59,1,1033,5,60,1,59,2518,1,60,4,5,99,109,110,112,114,2532,2538,2544,2548,2558,117,116,101,59,1,313,98,100,97,59,1,923,103,59,1,10218,108,97,99,101,116,114,102,59,1,8466,114,59,1,8606,4,3,97,101,121,2570,2576,2582,114,111,110,59,1,317,100,105,108,59,1,315,59,1,1051,4,2,102,115,2591,2907,116,4,10,65,67,68,70,82,84,85,86,97,114,2614,2663,2672,2728,2735,2760,2820,2870,2888,2895,4,2,110,114,2620,2633,103,108,101,66,114,97,99,107,101,116,59,1,10216,114,111,119,4,3,59,66,82,2644,2646,2651,1,8592,97,114,59,1,8676,105,103,104,116,65,114,114,111,119,59,1,8646,101,105,108,105,110,103,59,1,8968,111,4,2,117,119,2679,2692,98,108,101,66,114,97,99,107,101,116,59,1,10214,110,4,2,84,86,2699,2710,101,101,86,101,99,116,111,114,59,1,10593,101,99,116,111,114,4,2,59,66,2721,2723,1,8643,97,114,59,1,10585,108,111,111,114,59,1,8970,105,103,104,116,4,2,65,86,2745,2752,114,114,111,119,59,1,8596,101,99,116,111,114,59,1,10574,4,2,101,114,2766,2792,101,4,3,59,65,86,2775,2777,2784,1,8867,114,114,111,119,59,1,8612,101,99,116,111,114,59,1,10586,105,97,110,103,108,101,4,3,59,66,69,2806,2808,2813,1,8882,97,114,59,1,10703,113,117,97,108,59,1,8884,112,4,3,68,84,86,2829,2841,2852,111,119,110,86,101,99,116,111,114,59,1,10577,101,101,86,101,99,116,111,114,59,1,10592,101,99,116,111,114,4,2,59,66,2863,2865,1,8639,97,114,59,1,10584,101,99,116,111,114,4,2,59,66,2881,2883,1,8636,97,114,59,1,10578,114,114,111,119,59,1,8656,105,103,104,116,97,114,114,111,119,59,1,8660,115,4,6,69,70,71,76,83,84,2922,2936,2947,2956,2962,2974,113,117,97,108,71,114,101,97,116,101,114,59,1,8922,117,108,108,69,113,117,97,108,59,1,8806,114,101,97,116,101,114,59,1,8822,101,115,115,59,1,10913,108,97,110,116,69,113,117,97,108,59,1,10877,105,108,100,101,59,1,8818,114,59,3,55349,56591,4,2,59,101,2992,2994,1,8920,102,116,97,114,114,111,119,59,1,8666,105,100,111,116,59,1,319,4,3,110,112,119,3019,3110,3115,103,4,4,76,82,108,114,3030,3058,3070,3098,101,102,116,4,2,65,82,3039,3046,114,114,111,119,59,1,10229,105,103,104,116,65,114,114,111,119,59,1,10231,105,103,104,116,65,114,114,111,119,59,1,10230,101,102,116,4,2,97,114,3079,3086,114,114,111,119,59,1,10232,105,103,104,116,97,114,114,111,119,59,1,10234,105,103,104,116,97,114,114,111,119,59,1,10233,102,59,3,55349,56643,101,114,4,2,76,82,3123,3134,101,102,116,65,114,114,111,119,59,1,8601,105,103,104,116,65,114,114,111,119,59,1,8600,4,3,99,104,116,3154,3158,3161,114,59,1,8466,59,1,8624,114,111,107,59,1,321,59,1,8810,4,8,97,99,101,102,105,111,115,117,3188,3192,3196,3222,3227,3237,3243,3248,112,59,1,10501,121,59,1,1052,4,2,100,108,3202,3213,105,117,109,83,112,97,99,101,59,1,8287,108,105,110,116,114,102,59,1,8499,114,59,3,55349,56592,110,117,115,80,108,117,115,59,1,8723,112,102,59,3,55349,56644,99,114,59,1,8499,59,1,924,4,9,74,97,99,101,102,111,115,116,117,3271,3276,3283,3306,3422,3427,4120,4126,4137,99,121,59,1,1034,99,117,116,101,59,1,323,4,3,97,101,121,3291,3297,3303,114,111,110,59,1,327,100,105,108,59,1,325,59,1,1053,4,3,103,115,119,3314,3380,3415,97,116,105,118,101,4,3,77,84,86,3327,3340,3365,101,100,105,117,109,83,112,97,99,101,59,1,8203,104,105,4,2,99,110,3348,3357,107,83,112,97,99,101,59,1,8203,83,112,97,99,101,59,1,8203,101,114,121,84,104,105,110,83,112,97,99,101,59,1,8203,116,101,100,4,2,71,76,3389,3405,114,101,97,116,101,114,71,114,101,97,116,101,114,59,1,8811,101,115,115,76,101,115,115,59,1,8810,76,105,110,101,59,1,10,114,59,3,55349,56593,4,4,66,110,112,116,3437,3444,3460,3464,114,101,97,107,59,1,8288,66,114,101,97,107,105,110,103,83,112,97,99,101,59,1,160,102,59,1,8469,4,13,59,67,68,69,71,72,76,78,80,82,83,84,86,3492,3494,3517,3536,3578,3657,3685,3784,3823,3860,3915,4066,4107,1,10988,4,2,111,117,3500,3510,110,103,114,117,101,110,116,59,1,8802,112,67,97,112,59,1,8813,111,117,98,108,101,86,101,114,116,105,99,97,108,66,97,114,59,1,8742,4,3,108,113,120,3544,3552,3571,101,109,101,110,116,59,1,8713,117,97,108,4,2,59,84,3561,3563,1,8800,105,108,100,101,59,3,8770,824,105,115,116,115,59,1,8708,114,101,97,116,101,114,4,7,59,69,70,71,76,83,84,3600,3602,3609,3621,3631,3637,3650,1,8815,113,117,97,108,59,1,8817,117,108,108,69,113,117,97,108,59,3,8807,824,114,101,97,116,101,114,59,3,8811,824,101,115,115,59,1,8825,108,97,110,116,69,113,117,97,108,59,3,10878,824,105,108,100,101,59,1,8821,117,109,112,4,2,68,69,3666,3677,111,119,110,72,117,109,112,59,3,8782,824,113,117,97,108,59,3,8783,824,101,4,2,102,115,3692,3724,116,84,114,105,97,110,103,108,101,4,3,59,66,69,3709,3711,3717,1,8938,97,114,59,3,10703,824,113,117,97,108,59,1,8940,115,4,6,59,69,71,76,83,84,3739,3741,3748,3757,3764,3777,1,8814,113,117,97,108,59,1,8816,114,101,97,116,101,114,59,1,8824,101,115,115,59,3,8810,824,108,97,110,116,69,113,117,97,108,59,3,10877,824,105,108,100,101,59,1,8820,101,115,116,101,100,4,2,71,76,3795,3812,114,101,97,116,101,114,71,114,101,97,116,101,114,59,3,10914,824,101,115,115,76,101,115,115,59,3,10913,824,114,101,99,101,100,101,115,4,3,59,69,83,3838,3840,3848,1,8832,113,117,97,108,59,3,10927,824,108,97,110,116,69,113,117,97,108,59,1,8928,4,2,101,105,3866,3881,118,101,114,115,101,69,108,101,109,101,110,116,59,1,8716,103,104,116,84,114,105,97,110,103,108,101,4,3,59,66,69,3900,3902,3908,1,8939,97,114,59,3,10704,824,113,117,97,108,59,1,8941,4,2,113,117,3921,3973,117,97,114,101,83,117,4,2,98,112,3933,3952,115,101,116,4,2,59,69,3942,3945,3,8847,824,113,117,97,108,59,1,8930,101,114,115,101,116,4,2,59,69,3963,3966,3,8848,824,113,117,97,108,59,1,8931,4,3,98,99,112,3981,4e3,4045,115,101,116,4,2,59,69,3990,3993,3,8834,8402,113,117,97,108,59,1,8840,99,101,101,100,115,4,4,59,69,83,84,4015,4017,4025,4037,1,8833,113,117,97,108,59,3,10928,824,108,97,110,116,69,113,117,97,108,59,1,8929,105,108,100,101,59,3,8831,824,101,114,115,101,116,4,2,59,69,4056,4059,3,8835,8402,113,117,97,108,59,1,8841,105,108,100,101,4,4,59,69,70,84,4080,4082,4089,4100,1,8769,113,117,97,108,59,1,8772,117,108,108,69,113,117,97,108,59,1,8775,105,108,100,101,59,1,8777,101,114,116,105,99,97,108,66,97,114,59,1,8740,99,114,59,3,55349,56489,105,108,100,101,5,209,1,59,4135,1,209,59,1,925,4,14,69,97,99,100,102,103,109,111,112,114,115,116,117,118,4170,4176,4187,4205,4212,4217,4228,4253,4259,4292,4295,4316,4337,4346,108,105,103,59,1,338,99,117,116,101,5,211,1,59,4185,1,211,4,2,105,121,4193,4202,114,99,5,212,1,59,4200,1,212,59,1,1054,98,108,97,99,59,1,336,114,59,3,55349,56594,114,97,118,101,5,210,1,59,4226,1,210,4,3,97,101,105,4236,4241,4246,99,114,59,1,332,103,97,59,1,937,99,114,111,110,59,1,927,112,102,59,3,55349,56646,101,110,67,117,114,108,121,4,2,68,81,4272,4285,111,117,98,108,101,81,117,111,116,101,59,1,8220,117,111,116,101,59,1,8216,59,1,10836,4,2,99,108,4301,4306,114,59,3,55349,56490,97,115,104,5,216,1,59,4314,1,216,105,4,2,108,109,4323,4332,100,101,5,213,1,59,4330,1,213,101,115,59,1,10807,109,108,5,214,1,59,4344,1,214,101,114,4,2,66,80,4354,4380,4,2,97,114,4360,4364,114,59,1,8254,97,99,4,2,101,107,4372,4375,59,1,9182,101,116,59,1,9140,97,114,101,110,116,104,101,115,105,115,59,1,9180,4,9,97,99,102,104,105,108,111,114,115,4413,4422,4426,4431,4435,4438,4448,4471,4561,114,116,105,97,108,68,59,1,8706,121,59,1,1055,114,59,3,55349,56595,105,59,1,934,59,1,928,117,115,77,105,110,117,115,59,1,177,4,2,105,112,4454,4467,110,99,97,114,101,112,108,97,110,101,59,1,8460,102,59,1,8473,4,4,59,101,105,111,4481,4483,4526,4531,1,10939,99,101,100,101,115,4,4,59,69,83,84,4498,4500,4507,4519,1,8826,113,117,97,108,59,1,10927,108,97,110,116,69,113,117,97,108,59,1,8828,105,108,100,101,59,1,8830,109,101,59,1,8243,4,2,100,112,4537,4543,117,99,116,59,1,8719,111,114,116,105,111,110,4,2,59,97,4555,4557,1,8759,108,59,1,8733,4,2,99,105,4567,4572,114,59,3,55349,56491,59,1,936,4,4,85,102,111,115,4585,4594,4599,4604,79,84,5,34,1,59,4592,1,34,114,59,3,55349,56596,112,102,59,1,8474,99,114,59,3,55349,56492,4,12,66,69,97,99,101,102,104,105,111,114,115,117,4636,4642,4650,4681,4704,4763,4767,4771,5047,5069,5081,5094,97,114,114,59,1,10512,71,5,174,1,59,4648,1,174,4,3,99,110,114,4658,4664,4668,117,116,101,59,1,340,103,59,1,10219,114,4,2,59,116,4675,4677,1,8608,108,59,1,10518,4,3,97,101,121,4689,4695,4701,114,111,110,59,1,344,100,105,108,59,1,342,59,1,1056,4,2,59,118,4710,4712,1,8476,101,114,115,101,4,2,69,85,4722,4748,4,2,108,113,4728,4736,101,109,101,110,116,59,1,8715,117,105,108,105,98,114,105,117,109,59,1,8651,112,69,113,117,105,108,105,98,114,105,117,109,59,1,10607,114,59,1,8476,111,59,1,929,103,104,116,4,8,65,67,68,70,84,85,86,97,4792,4840,4849,4905,4912,4972,5022,5040,4,2,110,114,4798,4811,103,108,101,66,114,97,99,107,101,116,59,1,10217,114,111,119,4,3,59,66,76,4822,4824,4829,1,8594,97,114,59,1,8677,101,102,116,65,114,114,111,119,59,1,8644,101,105,108,105,110,103,59,1,8969,111,4,2,117,119,4856,4869,98,108,101,66,114,97,99,107,101,116,59,1,10215,110,4,2,84,86,4876,4887,101,101,86,101,99,116,111,114,59,1,10589,101,99,116,111,114,4,2,59,66,4898,4900,1,8642,97,114,59,1,10581,108,111,111,114,59,1,8971,4,2,101,114,4918,4944,101,4,3,59,65,86,4927,4929,4936,1,8866,114,114,111,119,59,1,8614,101,99,116,111,114,59,1,10587,105,97,110,103,108,101,4,3,59,66,69,4958,4960,4965,1,8883,97,114,59,1,10704,113,117,97,108,59,1,8885,112,4,3,68,84,86,4981,4993,5004,111,119,110,86,101,99,116,111,114,59,1,10575,101,101,86,101,99,116,111,114,59,1,10588,101,99,116,111,114,4,2,59,66,5015,5017,1,8638,97,114,59,1,10580,101,99,116,111,114,4,2,59,66,5033,5035,1,8640,97,114,59,1,10579,114,114,111,119,59,1,8658,4,2,112,117,5053,5057,102,59,1,8477,110,100,73,109,112,108,105,101,115,59,1,10608,105,103,104,116,97,114,114,111,119,59,1,8667,4,2,99,104,5087,5091,114,59,1,8475,59,1,8625,108,101,68,101,108,97,121,101,100,59,1,10740,4,13,72,79,97,99,102,104,105,109,111,113,115,116,117,5134,5150,5157,5164,5198,5203,5259,5265,5277,5283,5374,5380,5385,4,2,67,99,5140,5146,72,99,121,59,1,1065,121,59,1,1064,70,84,99,121,59,1,1068,99,117,116,101,59,1,346,4,5,59,97,101,105,121,5176,5178,5184,5190,5195,1,10940,114,111,110,59,1,352,100,105,108,59,1,350,114,99,59,1,348,59,1,1057,114,59,3,55349,56598,111,114,116,4,4,68,76,82,85,5216,5227,5238,5250,111,119,110,65,114,114,111,119,59,1,8595,101,102,116,65,114,114,111,119,59,1,8592,105,103,104,116,65,114,114,111,119,59,1,8594,112,65,114,114,111,119,59,1,8593,103,109,97,59,1,931,97,108,108,67,105,114,99,108,101,59,1,8728,112,102,59,3,55349,56650,4,2,114,117,5289,5293,116,59,1,8730,97,114,101,4,4,59,73,83,85,5306,5308,5322,5367,1,9633,110,116,101,114,115,101,99,116,105,111,110,59,1,8851,117,4,2,98,112,5329,5347,115,101,116,4,2,59,69,5338,5340,1,8847,113,117,97,108,59,1,8849,101,114,115,101,116,4,2,59,69,5358,5360,1,8848,113,117,97,108,59,1,8850,110,105,111,110,59,1,8852,99,114,59,3,55349,56494,97,114,59,1,8902,4,4,98,99,109,112,5395,5420,5475,5478,4,2,59,115,5401,5403,1,8912,101,116,4,2,59,69,5411,5413,1,8912,113,117,97,108,59,1,8838,4,2,99,104,5426,5468,101,101,100,115,4,4,59,69,83,84,5440,5442,5449,5461,1,8827,113,117,97,108,59,1,10928,108,97,110,116,69,113,117,97,108,59,1,8829,105,108,100,101,59,1,8831,84,104,97,116,59,1,8715,59,1,8721,4,3,59,101,115,5486,5488,5507,1,8913,114,115,101,116,4,2,59,69,5498,5500,1,8835,113,117,97,108,59,1,8839,101,116,59,1,8913,4,11,72,82,83,97,99,102,104,105,111,114,115,5536,5546,5552,5567,5579,5602,5607,5655,5695,5701,5711,79,82,78,5,222,1,59,5544,1,222,65,68,69,59,1,8482,4,2,72,99,5558,5563,99,121,59,1,1035,121,59,1,1062,4,2,98,117,5573,5576,59,1,9,59,1,932,4,3,97,101,121,5587,5593,5599,114,111,110,59,1,356,100,105,108,59,1,354,59,1,1058,114,59,3,55349,56599,4,2,101,105,5613,5631,4,2,114,116,5619,5627,101,102,111,114,101,59,1,8756,97,59,1,920,4,2,99,110,5637,5647,107,83,112,97,99,101,59,3,8287,8202,83,112,97,99,101,59,1,8201,108,100,101,4,4,59,69,70,84,5668,5670,5677,5688,1,8764,113,117,97,108,59,1,8771,117,108,108,69,113,117,97,108,59,1,8773,105,108,100,101,59,1,8776,112,102,59,3,55349,56651,105,112,108,101,68,111,116,59,1,8411,4,2,99,116,5717,5722,114,59,3,55349,56495,114,111,107,59,1,358,4,14,97,98,99,100,102,103,109,110,111,112,114,115,116,117,5758,5789,5805,5823,5830,5835,5846,5852,5921,5937,6089,6095,6101,6108,4,2,99,114,5764,5774,117,116,101,5,218,1,59,5772,1,218,114,4,2,59,111,5781,5783,1,8607,99,105,114,59,1,10569,114,4,2,99,101,5796,5800,121,59,1,1038,118,101,59,1,364,4,2,105,121,5811,5820,114,99,5,219,1,59,5818,1,219,59,1,1059,98,108,97,99,59,1,368,114,59,3,55349,56600,114,97,118,101,5,217,1,59,5844,1,217,97,99,114,59,1,362,4,2,100,105,5858,5905,101,114,4,2,66,80,5866,5892,4,2,97,114,5872,5876,114,59,1,95,97,99,4,2,101,107,5884,5887,59,1,9183,101,116,59,1,9141,97,114,101,110,116,104,101,115,105,115,59,1,9181,111,110,4,2,59,80,5913,5915,1,8899,108,117,115,59,1,8846,4,2,103,112,5927,5932,111,110,59,1,370,102,59,3,55349,56652,4,8,65,68,69,84,97,100,112,115,5955,5985,5996,6009,6026,6033,6044,6075,114,114,111,119,4,3,59,66,68,5967,5969,5974,1,8593,97,114,59,1,10514,111,119,110,65,114,114,111,119,59,1,8645,111,119,110,65,114,114,111,119,59,1,8597,113,117,105,108,105,98,114,105,117,109,59,1,10606,101,101,4,2,59,65,6017,6019,1,8869,114,114,111,119,59,1,8613,114,114,111,119,59,1,8657,111,119,110,97,114,114,111,119,59,1,8661,101,114,4,2,76,82,6052,6063,101,102,116,65,114,114,111,119,59,1,8598,105,103,104,116,65,114,114,111,119,59,1,8599,105,4,2,59,108,6082,6084,1,978,111,110,59,1,933,105,110,103,59,1,366,99,114,59,3,55349,56496,105,108,100,101,59,1,360,109,108,5,220,1,59,6115,1,220,4,9,68,98,99,100,101,102,111,115,118,6137,6143,6148,6152,6166,6250,6255,6261,6267,97,115,104,59,1,8875,97,114,59,1,10987,121,59,1,1042,97,115,104,4,2,59,108,6161,6163,1,8873,59,1,10982,4,2,101,114,6172,6175,59,1,8897,4,3,98,116,121,6183,6188,6238,97,114,59,1,8214,4,2,59,105,6194,6196,1,8214,99,97,108,4,4,66,76,83,84,6209,6214,6220,6231,97,114,59,1,8739,105,110,101,59,1,124,101,112,97,114,97,116,111,114,59,1,10072,105,108,100,101,59,1,8768,84,104,105,110,83,112,97,99,101,59,1,8202,114,59,3,55349,56601,112,102,59,3,55349,56653,99,114,59,3,55349,56497,100,97,115,104,59,1,8874,4,5,99,101,102,111,115,6286,6292,6298,6303,6309,105,114,99,59,1,372,100,103,101,59,1,8896,114,59,3,55349,56602,112,102,59,3,55349,56654,99,114,59,3,55349,56498,4,4,102,105,111,115,6325,6330,6333,6339,114,59,3,55349,56603,59,1,926,112,102,59,3,55349,56655,99,114,59,3,55349,56499,4,9,65,73,85,97,99,102,111,115,117,6365,6370,6375,6380,6391,6405,6410,6416,6422,99,121,59,1,1071,99,121,59,1,1031,99,121,59,1,1070,99,117,116,101,5,221,1,59,6389,1,221,4,2,105,121,6397,6402,114,99,59,1,374,59,1,1067,114,59,3,55349,56604,112,102,59,3,55349,56656,99,114,59,3,55349,56500,109,108,59,1,376,4,8,72,97,99,100,101,102,111,115,6445,6450,6457,6472,6477,6501,6505,6510,99,121,59,1,1046,99,117,116,101,59,1,377,4,2,97,121,6463,6469,114,111,110,59,1,381,59,1,1047,111,116,59,1,379,4,2,114,116,6483,6497,111,87,105,100,116,104,83,112,97,99,101,59,1,8203,97,59,1,918,114,59,1,8488,112,102,59,1,8484,99,114,59,3,55349,56501,4,16,97,98,99,101,102,103,108,109,110,111,112,114,115,116,117,119,6550,6561,6568,6612,6622,6634,6645,6672,6699,6854,6870,6923,6933,6963,6974,6983,99,117,116,101,5,225,1,59,6559,1,225,114,101,118,101,59,1,259,4,6,59,69,100,105,117,121,6582,6584,6588,6591,6600,6609,1,8766,59,3,8766,819,59,1,8767,114,99,5,226,1,59,6598,1,226,116,101,5,180,1,59,6607,1,180,59,1,1072,108,105,103,5,230,1,59,6620,1,230,4,2,59,114,6628,6630,1,8289,59,3,55349,56606,114,97,118,101,5,224,1,59,6643,1,224,4,2,101,112,6651,6667,4,2,102,112,6657,6663,115,121,109,59,1,8501,104,59,1,8501,104,97,59,1,945,4,2,97,112,6678,6692,4,2,99,108,6684,6688,114,59,1,257,103,59,1,10815,5,38,1,59,6697,1,38,4,2,100,103,6705,6737,4,5,59,97,100,115,118,6717,6719,6724,6727,6734,1,8743,110,100,59,1,10837,59,1,10844,108,111,112,101,59,1,10840,59,1,10842,4,7,59,101,108,109,114,115,122,6753,6755,6758,6762,6814,6835,6848,1,8736,59,1,10660,101,59,1,8736,115,100,4,2,59,97,6770,6772,1,8737,4,8,97,98,99,100,101,102,103,104,6790,6793,6796,6799,6802,6805,6808,6811,59,1,10664,59,1,10665,59,1,10666,59,1,10667,59,1,10668,59,1,10669,59,1,10670,59,1,10671,116,4,2,59,118,6821,6823,1,8735,98,4,2,59,100,6830,6832,1,8894,59,1,10653,4,2,112,116,6841,6845,104,59,1,8738,59,1,197,97,114,114,59,1,9084,4,2,103,112,6860,6865,111,110,59,1,261,102,59,3,55349,56658,4,7,59,69,97,101,105,111,112,6886,6888,6891,6897,6900,6904,6908,1,8776,59,1,10864,99,105,114,59,1,10863,59,1,8778,100,59,1,8779,115,59,1,39,114,111,120,4,2,59,101,6917,6919,1,8776,113,59,1,8778,105,110,103,5,229,1,59,6931,1,229,4,3,99,116,121,6941,6946,6949,114,59,3,55349,56502,59,1,42,109,112,4,2,59,101,6957,6959,1,8776,113,59,1,8781,105,108,100,101,5,227,1,59,6972,1,227,109,108,5,228,1,59,6981,1,228,4,2,99,105,6989,6997,111,110,105,110,116,59,1,8755,110,116,59,1,10769,4,16,78,97,98,99,100,101,102,105,107,108,110,111,112,114,115,117,7036,7041,7119,7135,7149,7155,7219,7224,7347,7354,7463,7489,7786,7793,7814,7866,111,116,59,1,10989,4,2,99,114,7047,7094,107,4,4,99,101,112,115,7058,7064,7073,7080,111,110,103,59,1,8780,112,115,105,108,111,110,59,1,1014,114,105,109,101,59,1,8245,105,109,4,2,59,101,7088,7090,1,8765,113,59,1,8909,4,2,118,119,7100,7105,101,101,59,1,8893,101,100,4,2,59,103,7113,7115,1,8965,101,59,1,8965,114,107,4,2,59,116,7127,7129,1,9141,98,114,107,59,1,9142,4,2,111,121,7141,7146,110,103,59,1,8780,59,1,1073,113,117,111,59,1,8222,4,5,99,109,112,114,116,7167,7181,7188,7193,7199,97,117,115,4,2,59,101,7176,7178,1,8757,59,1,8757,112,116,121,118,59,1,10672,115,105,59,1,1014,110,111,117,59,1,8492,4,3,97,104,119,7207,7210,7213,59,1,946,59,1,8502,101,101,110,59,1,8812,114,59,3,55349,56607,103,4,7,99,111,115,116,117,118,119,7241,7262,7288,7305,7328,7335,7340,4,3,97,105,117,7249,7253,7258,112,59,1,8898,114,99,59,1,9711,112,59,1,8899,4,3,100,112,116,7270,7275,7281,111,116,59,1,10752,108,117,115,59,1,10753,105,109,101,115,59,1,10754,4,2,113,116,7294,7300,99,117,112,59,1,10758,97,114,59,1,9733,114,105,97,110,103,108,101,4,2,100,117,7318,7324,111,119,110,59,1,9661,112,59,1,9651,112,108,117,115,59,1,10756,101,101,59,1,8897,101,100,103,101,59,1,8896,97,114,111,119,59,1,10509,4,3,97,107,111,7362,7436,7458,4,2,99,110,7368,7432,107,4,3,108,115,116,7377,7386,7394,111,122,101,110,103,101,59,1,10731,113,117,97,114,101,59,1,9642,114,105,97,110,103,108,101,4,4,59,100,108,114,7411,7413,7419,7425,1,9652,111,119,110,59,1,9662,101,102,116,59,1,9666,105,103,104,116,59,1,9656,107,59,1,9251,4,2,49,51,7442,7454,4,2,50,52,7448,7451,59,1,9618,59,1,9617,52,59,1,9619,99,107,59,1,9608,4,2,101,111,7469,7485,4,2,59,113,7475,7478,3,61,8421,117,105,118,59,3,8801,8421,116,59,1,8976,4,4,112,116,119,120,7499,7504,7517,7523,102,59,3,55349,56659,4,2,59,116,7510,7512,1,8869,111,109,59,1,8869,116,105,101,59,1,8904,4,12,68,72,85,86,98,100,104,109,112,116,117,118,7549,7571,7597,7619,7655,7660,7682,7708,7715,7721,7728,7750,4,4,76,82,108,114,7559,7562,7565,7568,59,1,9559,59,1,9556,59,1,9558,59,1,9555,4,5,59,68,85,100,117,7583,7585,7588,7591,7594,1,9552,59,1,9574,59,1,9577,59,1,9572,59,1,9575,4,4,76,82,108,114,7607,7610,7613,7616,59,1,9565,59,1,9562,59,1,9564,59,1,9561,4,7,59,72,76,82,104,108,114,7635,7637,7640,7643,7646,7649,7652,1,9553,59,1,9580,59,1,9571,59,1,9568,59,1,9579,59,1,9570,59,1,9567,111,120,59,1,10697,4,4,76,82,108,114,7670,7673,7676,7679,59,1,9557,59,1,9554,59,1,9488,59,1,9484,4,5,59,68,85,100,117,7694,7696,7699,7702,7705,1,9472,59,1,9573,59,1,9576,59,1,9516,59,1,9524,105,110,117,115,59,1,8863,108,117,115,59,1,8862,105,109,101,115,59,1,8864,4,4,76,82,108,114,7738,7741,7744,7747,59,1,9563,59,1,9560,59,1,9496,59,1,9492,4,7,59,72,76,82,104,108,114,7766,7768,7771,7774,7777,7780,7783,1,9474,59,1,9578,59,1,9569,59,1,9566,59,1,9532,59,1,9508,59,1,9500,114,105,109,101,59,1,8245,4,2,101,118,7799,7804,118,101,59,1,728,98,97,114,5,166,1,59,7812,1,166,4,4,99,101,105,111,7824,7829,7834,7846,114,59,3,55349,56503,109,105,59,1,8271,109,4,2,59,101,7841,7843,1,8765,59,1,8909,108,4,3,59,98,104,7855,7857,7860,1,92,59,1,10693,115,117,98,59,1,10184,4,2,108,109,7872,7885,108,4,2,59,101,7879,7881,1,8226,116,59,1,8226,112,4,3,59,69,101,7894,7896,7899,1,8782,59,1,10926,4,2,59,113,7905,7907,1,8783,59,1,8783,4,15,97,99,100,101,102,104,105,108,111,114,115,116,117,119,121,7942,8021,8075,8080,8121,8126,8157,8279,8295,8430,8446,8485,8491,8707,8726,4,3,99,112,114,7950,7956,8007,117,116,101,59,1,263,4,6,59,97,98,99,100,115,7970,7972,7977,7984,7998,8003,1,8745,110,100,59,1,10820,114,99,117,112,59,1,10825,4,2,97,117,7990,7994,112,59,1,10827,112,59,1,10823,111,116,59,1,10816,59,3,8745,65024,4,2,101,111,8013,8017,116,59,1,8257,110,59,1,711,4,4,97,101,105,117,8031,8046,8056,8061,4,2,112,114,8037,8041,115,59,1,10829,111,110,59,1,269,100,105,108,5,231,1,59,8054,1,231,114,99,59,1,265,112,115,4,2,59,115,8069,8071,1,10828,109,59,1,10832,111,116,59,1,267,4,3,100,109,110,8088,8097,8104,105,108,5,184,1,59,8095,1,184,112,116,121,118,59,1,10674,116,5,162,2,59,101,8112,8114,1,162,114,100,111,116,59,1,183,114,59,3,55349,56608,4,3,99,101,105,8134,8138,8154,121,59,1,1095,99,107,4,2,59,109,8146,8148,1,10003,97,114,107,59,1,10003,59,1,967,114,4,7,59,69,99,101,102,109,115,8174,8176,8179,8258,8261,8268,8273,1,9675,59,1,10691,4,3,59,101,108,8187,8189,8193,1,710,113,59,1,8791,101,4,2,97,100,8200,8223,114,114,111,119,4,2,108,114,8210,8216,101,102,116,59,1,8634,105,103,104,116,59,1,8635,4,5,82,83,97,99,100,8235,8238,8241,8246,8252,59,1,174,59,1,9416,115,116,59,1,8859,105,114,99,59,1,8858,97,115,104,59,1,8861,59,1,8791,110,105,110,116,59,1,10768,105,100,59,1,10991,99,105,114,59,1,10690,117,98,115,4,2,59,117,8288,8290,1,9827,105,116,59,1,9827,4,4,108,109,110,112,8305,8326,8376,8400,111,110,4,2,59,101,8313,8315,1,58,4,2,59,113,8321,8323,1,8788,59,1,8788,4,2,109,112,8332,8344,97,4,2,59,116,8339,8341,1,44,59,1,64,4,3,59,102,108,8352,8354,8358,1,8705,110,59,1,8728,101,4,2,109,120,8365,8371,101,110,116,59,1,8705,101,115,59,1,8450,4,2,103,105,8382,8395,4,2,59,100,8388,8390,1,8773,111,116,59,1,10861,110,116,59,1,8750,4,3,102,114,121,8408,8412,8417,59,3,55349,56660,111,100,59,1,8720,5,169,2,59,115,8424,8426,1,169,114,59,1,8471,4,2,97,111,8436,8441,114,114,59,1,8629,115,115,59,1,10007,4,2,99,117,8452,8457,114,59,3,55349,56504,4,2,98,112,8463,8474,4,2,59,101,8469,8471,1,10959,59,1,10961,4,2,59,101,8480,8482,1,10960,59,1,10962,100,111,116,59,1,8943,4,7,100,101,108,112,114,118,119,8507,8522,8536,8550,8600,8697,8702,97,114,114,4,2,108,114,8516,8519,59,1,10552,59,1,10549,4,2,112,115,8528,8532,114,59,1,8926,99,59,1,8927,97,114,114,4,2,59,112,8545,8547,1,8630,59,1,10557,4,6,59,98,99,100,111,115,8564,8566,8573,8587,8592,8596,1,8746,114,99,97,112,59,1,10824,4,2,97,117,8579,8583,112,59,1,10822,112,59,1,10826,111,116,59,1,8845,114,59,1,10821,59,3,8746,65024,4,4,97,108,114,118,8610,8623,8663,8672,114,114,4,2,59,109,8618,8620,1,8631,59,1,10556,121,4,3,101,118,119,8632,8651,8656,113,4,2,112,115,8639,8645,114,101,99,59,1,8926,117,99,99,59,1,8927,101,101,59,1,8910,101,100,103,101,59,1,8911,101,110,5,164,1,59,8670,1,164,101,97,114,114,111,119,4,2,108,114,8684,8690,101,102,116,59,1,8630,105,103,104,116,59,1,8631,101,101,59,1,8910,101,100,59,1,8911,4,2,99,105,8713,8721,111,110,105,110,116,59,1,8754,110,116,59,1,8753,108,99,116,121,59,1,9005,4,19,65,72,97,98,99,100,101,102,104,105,106,108,111,114,115,116,117,119,122,8773,8778,8783,8821,8839,8854,8887,8914,8930,8944,9036,9041,9058,9197,9227,9258,9281,9297,9305,114,114,59,1,8659,97,114,59,1,10597,4,4,103,108,114,115,8793,8799,8805,8809,103,101,114,59,1,8224,101,116,104,59,1,8504,114,59,1,8595,104,4,2,59,118,8816,8818,1,8208,59,1,8867,4,2,107,108,8827,8834,97,114,111,119,59,1,10511,97,99,59,1,733,4,2,97,121,8845,8851,114,111,110,59,1,271,59,1,1076,4,3,59,97,111,8862,8864,8880,1,8518,4,2,103,114,8870,8876,103,101,114,59,1,8225,114,59,1,8650,116,115,101,113,59,1,10871,4,3,103,108,109,8895,8902,8907,5,176,1,59,8900,1,176,116,97,59,1,948,112,116,121,118,59,1,10673,4,2,105,114,8920,8926,115,104,116,59,1,10623,59,3,55349,56609,97,114,4,2,108,114,8938,8941,59,1,8643,59,1,8642,4,5,97,101,103,115,118,8956,8986,8989,8996,9001,109,4,3,59,111,115,8965,8967,8983,1,8900,110,100,4,2,59,115,8975,8977,1,8900,117,105,116,59,1,9830,59,1,9830,59,1,168,97,109,109,97,59,1,989,105,110,59,1,8946,4,3,59,105,111,9009,9011,9031,1,247,100,101,5,247,2,59,111,9020,9022,1,247,110,116,105,109,101,115,59,1,8903,110,120,59,1,8903,99,121,59,1,1106,99,4,2,111,114,9048,9053,114,110,59,1,8990,111,112,59,1,8973,4,5,108,112,116,117,119,9070,9076,9081,9130,9144,108,97,114,59,1,36,102,59,3,55349,56661,4,5,59,101,109,112,115,9093,9095,9109,9116,9122,1,729,113,4,2,59,100,9102,9104,1,8784,111,116,59,1,8785,105,110,117,115,59,1,8760,108,117,115,59,1,8724,113,117,97,114,101,59,1,8865,98,108,101,98,97,114,119,101,100,103,101,59,1,8966,110,4,3,97,100,104,9153,9160,9172,114,114,111,119,59,1,8595,111,119,110,97,114,114,111,119,115,59,1,8650,97,114,112,111,111,110,4,2,108,114,9184,9190,101,102,116,59,1,8643,105,103,104,116,59,1,8642,4,2,98,99,9203,9211,107,97,114,111,119,59,1,10512,4,2,111,114,9217,9222,114,110,59,1,8991,111,112,59,1,8972,4,3,99,111,116,9235,9248,9252,4,2,114,121,9241,9245,59,3,55349,56505,59,1,1109,108,59,1,10742,114,111,107,59,1,273,4,2,100,114,9264,9269,111,116,59,1,8945,105,4,2,59,102,9276,9278,1,9663,59,1,9662,4,2,97,104,9287,9292,114,114,59,1,8693,97,114,59,1,10607,97,110,103,108,101,59,1,10662,4,2,99,105,9311,9315,121,59,1,1119,103,114,97,114,114,59,1,10239,4,18,68,97,99,100,101,102,103,108,109,110,111,112,113,114,115,116,117,120,9361,9376,9398,9439,9444,9447,9462,9495,9531,9585,9598,9614,9659,9755,9771,9792,9808,9826,4,2,68,111,9367,9372,111,116,59,1,10871,116,59,1,8785,4,2,99,115,9382,9392,117,116,101,5,233,1,59,9390,1,233,116,101,114,59,1,10862,4,4,97,105,111,121,9408,9414,9430,9436,114,111,110,59,1,283,114,4,2,59,99,9421,9423,1,8790,5,234,1,59,9428,1,234,108,111,110,59,1,8789,59,1,1101,111,116,59,1,279,59,1,8519,4,2,68,114,9453,9458,111,116,59,1,8786,59,3,55349,56610,4,3,59,114,115,9470,9472,9482,1,10906,97,118,101,5,232,1,59,9480,1,232,4,2,59,100,9488,9490,1,10902,111,116,59,1,10904,4,4,59,105,108,115,9505,9507,9515,9518,1,10905,110,116,101,114,115,59,1,9191,59,1,8467,4,2,59,100,9524,9526,1,10901,111,116,59,1,10903,4,3,97,112,115,9539,9544,9564,99,114,59,1,275,116,121,4,3,59,115,118,9554,9556,9561,1,8709,101,116,59,1,8709,59,1,8709,112,4,2,49,59,9571,9583,4,2,51,52,9577,9580,59,1,8196,59,1,8197,1,8195,4,2,103,115,9591,9594,59,1,331,112,59,1,8194,4,2,103,112,9604,9609,111,110,59,1,281,102,59,3,55349,56662,4,3,97,108,115,9622,9635,9640,114,4,2,59,115,9629,9631,1,8917,108,59,1,10723,117,115,59,1,10865,105,4,3,59,108,118,9649,9651,9656,1,949,111,110,59,1,949,59,1,1013,4,4,99,115,117,118,9669,9686,9716,9747,4,2,105,111,9675,9680,114,99,59,1,8790,108,111,110,59,1,8789,4,2,105,108,9692,9696,109,59,1,8770,97,110,116,4,2,103,108,9705,9710,116,114,59,1,10902,101,115,115,59,1,10901,4,3,97,101,105,9724,9729,9734,108,115,59,1,61,115,116,59,1,8799,118,4,2,59,68,9741,9743,1,8801,68,59,1,10872,112,97,114,115,108,59,1,10725,4,2,68,97,9761,9766,111,116,59,1,8787,114,114,59,1,10609,4,3,99,100,105,9779,9783,9788,114,59,1,8495,111,116,59,1,8784,109,59,1,8770,4,2,97,104,9798,9801,59,1,951,5,240,1,59,9806,1,240,4,2,109,114,9814,9822,108,5,235,1,59,9820,1,235,111,59,1,8364,4,3,99,105,112,9834,9838,9843,108,59,1,33,115,116,59,1,8707,4,2,101,111,9849,9859,99,116,97,116,105,111,110,59,1,8496,110,101,110,116,105,97,108,101,59,1,8519,4,12,97,99,101,102,105,106,108,110,111,112,114,115,9896,9910,9914,9921,9954,9960,9967,9989,9994,10027,10036,10164,108,108,105,110,103,100,111,116,115,101,113,59,1,8786,121,59,1,1092,109,97,108,101,59,1,9792,4,3,105,108,114,9929,9935,9950,108,105,103,59,1,64259,4,2,105,108,9941,9945,103,59,1,64256,105,103,59,1,64260,59,3,55349,56611,108,105,103,59,1,64257,108,105,103,59,3,102,106,4,3,97,108,116,9975,9979,9984,116,59,1,9837,105,103,59,1,64258,110,115,59,1,9649,111,102,59,1,402,4,2,112,114,1e4,10005,102,59,3,55349,56663,4,2,97,107,10011,10016,108,108,59,1,8704,4,2,59,118,10022,10024,1,8916,59,1,10969,97,114,116,105,110,116,59,1,10765,4,2,97,111,10042,10159,4,2,99,115,10048,10155,4,6,49,50,51,52,53,55,10062,10102,10114,10135,10139,10151,4,6,50,51,52,53,54,56,10076,10083,10086,10093,10096,10099,5,189,1,59,10081,1,189,59,1,8531,5,188,1,59,10091,1,188,59,1,8533,59,1,8537,59,1,8539,4,2,51,53,10108,10111,59,1,8532,59,1,8534,4,3,52,53,56,10122,10129,10132,5,190,1,59,10127,1,190,59,1,8535,59,1,8540,53,59,1,8536,4,2,54,56,10145,10148,59,1,8538,59,1,8541,56,59,1,8542,108,59,1,8260,119,110,59,1,8994,99,114,59,3,55349,56507,4,17,69,97,98,99,100,101,102,103,105,106,108,110,111,114,115,116,118,10206,10217,10247,10254,10268,10273,10358,10363,10374,10380,10385,10406,10458,10464,10470,10497,10610,4,2,59,108,10212,10214,1,8807,59,1,10892,4,3,99,109,112,10225,10231,10244,117,116,101,59,1,501,109,97,4,2,59,100,10239,10241,1,947,59,1,989,59,1,10886,114,101,118,101,59,1,287,4,2,105,121,10260,10265,114,99,59,1,285,59,1,1075,111,116,59,1,289,4,4,59,108,113,115,10283,10285,10288,10308,1,8805,59,1,8923,4,3,59,113,115,10296,10298,10301,1,8805,59,1,8807,108,97,110,116,59,1,10878,4,4,59,99,100,108,10318,10320,10324,10345,1,10878,99,59,1,10921,111,116,4,2,59,111,10332,10334,1,10880,4,2,59,108,10340,10342,1,10882,59,1,10884,4,2,59,101,10351,10354,3,8923,65024,115,59,1,10900,114,59,3,55349,56612,4,2,59,103,10369,10371,1,8811,59,1,8921,109,101,108,59,1,8503,99,121,59,1,1107,4,4,59,69,97,106,10395,10397,10400,10403,1,8823,59,1,10898,59,1,10917,59,1,10916,4,4,69,97,101,115,10416,10419,10434,10453,59,1,8809,112,4,2,59,112,10426,10428,1,10890,114,111,120,59,1,10890,4,2,59,113,10440,10442,1,10888,4,2,59,113,10448,10450,1,10888,59,1,8809,105,109,59,1,8935,112,102,59,3,55349,56664,97,118,101,59,1,96,4,2,99,105,10476,10480,114,59,1,8458,109,4,3,59,101,108,10489,10491,10494,1,8819,59,1,10894,59,1,10896,5,62,6,59,99,100,108,113,114,10512,10514,10527,10532,10538,10545,1,62,4,2,99,105,10520,10523,59,1,10919,114,59,1,10874,111,116,59,1,8919,80,97,114,59,1,10645,117,101,115,116,59,1,10876,4,5,97,100,101,108,115,10557,10574,10579,10599,10605,4,2,112,114,10563,10570,112,114,111,120,59,1,10886,114,59,1,10616,111,116,59,1,8919,113,4,2,108,113,10586,10592,101,115,115,59,1,8923,108,101,115,115,59,1,10892,101,115,115,59,1,8823,105,109,59,1,8819,4,2,101,110,10616,10626,114,116,110,101,113,113,59,3,8809,65024,69,59,3,8809,65024,4,10,65,97,98,99,101,102,107,111,115,121,10653,10658,10713,10718,10724,10760,10765,10786,10850,10875,114,114,59,1,8660,4,4,105,108,109,114,10668,10674,10678,10684,114,115,112,59,1,8202,102,59,1,189,105,108,116,59,1,8459,4,2,100,114,10690,10695,99,121,59,1,1098,4,3,59,99,119,10703,10705,10710,1,8596,105,114,59,1,10568,59,1,8621,97,114,59,1,8463,105,114,99,59,1,293,4,3,97,108,114,10732,10748,10754,114,116,115,4,2,59,117,10741,10743,1,9829,105,116,59,1,9829,108,105,112,59,1,8230,99,111,110,59,1,8889,114,59,3,55349,56613,115,4,2,101,119,10772,10779,97,114,111,119,59,1,10533,97,114,111,119,59,1,10534,4,5,97,109,111,112,114,10798,10803,10809,10839,10844,114,114,59,1,8703,116,104,116,59,1,8763,107,4,2,108,114,10816,10827,101,102,116,97,114,114,111,119,59,1,8617,105,103,104,116,97,114,114,111,119,59,1,8618,102,59,3,55349,56665,98,97,114,59,1,8213,4,3,99,108,116,10858,10863,10869,114,59,3,55349,56509,97,115,104,59,1,8463,114,111,107,59,1,295,4,2,98,112,10881,10887,117,108,108,59,1,8259,104,101,110,59,1,8208,4,15,97,99,101,102,103,105,106,109,110,111,112,113,115,116,117,10925,10936,10958,10977,10990,11001,11039,11045,11101,11192,11220,11226,11237,11285,11299,99,117,116,101,5,237,1,59,10934,1,237,4,3,59,105,121,10944,10946,10955,1,8291,114,99,5,238,1,59,10953,1,238,59,1,1080,4,2,99,120,10964,10968,121,59,1,1077,99,108,5,161,1,59,10975,1,161,4,2,102,114,10983,10986,59,1,8660,59,3,55349,56614,114,97,118,101,5,236,1,59,10999,1,236,4,4,59,105,110,111,11011,11013,11028,11034,1,8520,4,2,105,110,11019,11024,110,116,59,1,10764,116,59,1,8749,102,105,110,59,1,10716,116,97,59,1,8489,108,105,103,59,1,307,4,3,97,111,112,11053,11092,11096,4,3,99,103,116,11061,11065,11088,114,59,1,299,4,3,101,108,112,11073,11076,11082,59,1,8465,105,110,101,59,1,8464,97,114,116,59,1,8465,104,59,1,305,102,59,1,8887,101,100,59,1,437,4,5,59,99,102,111,116,11113,11115,11121,11136,11142,1,8712,97,114,101,59,1,8453,105,110,4,2,59,116,11129,11131,1,8734,105,101,59,1,10717,100,111,116,59,1,305,4,5,59,99,101,108,112,11154,11156,11161,11179,11186,1,8747,97,108,59,1,8890,4,2,103,114,11167,11173,101,114,115,59,1,8484,99,97,108,59,1,8890,97,114,104,107,59,1,10775,114,111,100,59,1,10812,4,4,99,103,112,116,11202,11206,11211,11216,121,59,1,1105,111,110,59,1,303,102,59,3,55349,56666,97,59,1,953,114,111,100,59,1,10812,117,101,115,116,5,191,1,59,11235,1,191,4,2,99,105,11243,11248,114,59,3,55349,56510,110,4,5,59,69,100,115,118,11261,11263,11266,11271,11282,1,8712,59,1,8953,111,116,59,1,8949,4,2,59,118,11277,11279,1,8948,59,1,8947,59,1,8712,4,2,59,105,11291,11293,1,8290,108,100,101,59,1,297,4,2,107,109,11305,11310,99,121,59,1,1110,108,5,239,1,59,11316,1,239,4,6,99,102,109,111,115,117,11332,11346,11351,11357,11363,11380,4,2,105,121,11338,11343,114,99,59,1,309,59,1,1081,114,59,3,55349,56615,97,116,104,59,1,567,112,102,59,3,55349,56667,4,2,99,101,11369,11374,114,59,3,55349,56511,114,99,121,59,1,1112,107,99,121,59,1,1108,4,8,97,99,102,103,104,106,111,115,11404,11418,11433,11438,11445,11450,11455,11461,112,112,97,4,2,59,118,11413,11415,1,954,59,1,1008,4,2,101,121,11424,11430,100,105,108,59,1,311,59,1,1082,114,59,3,55349,56616,114,101,101,110,59,1,312,99,121,59,1,1093,99,121,59,1,1116,112,102,59,3,55349,56668,99,114,59,3,55349,56512,4,23,65,66,69,72,97,98,99,100,101,102,103,104,106,108,109,110,111,112,114,115,116,117,118,11515,11538,11544,11555,11560,11721,11780,11818,11868,12136,12160,12171,12203,12208,12246,12275,12327,12509,12523,12569,12641,12732,12752,4,3,97,114,116,11523,11528,11532,114,114,59,1,8666,114,59,1,8656,97,105,108,59,1,10523,97,114,114,59,1,10510,4,2,59,103,11550,11552,1,8806,59,1,10891,97,114,59,1,10594,4,9,99,101,103,109,110,112,113,114,116,11580,11586,11594,11600,11606,11624,11627,11636,11694,117,116,101,59,1,314,109,112,116,121,118,59,1,10676,114,97,110,59,1,8466,98,100,97,59,1,955,103,4,3,59,100,108,11615,11617,11620,1,10216,59,1,10641,101,59,1,10216,59,1,10885,117,111,5,171,1,59,11634,1,171,114,4,8,59,98,102,104,108,112,115,116,11655,11657,11669,11673,11677,11681,11685,11690,1,8592,4,2,59,102,11663,11665,1,8676,115,59,1,10527,115,59,1,10525,107,59,1,8617,112,59,1,8619,108,59,1,10553,105,109,59,1,10611,108,59,1,8610,4,3,59,97,101,11702,11704,11709,1,10923,105,108,59,1,10521,4,2,59,115,11715,11717,1,10925,59,3,10925,65024,4,3,97,98,114,11729,11734,11739,114,114,59,1,10508,114,107,59,1,10098,4,2,97,107,11745,11758,99,4,2,101,107,11752,11755,59,1,123,59,1,91,4,2,101,115,11764,11767,59,1,10635,108,4,2,100,117,11774,11777,59,1,10639,59,1,10637,4,4,97,101,117,121,11790,11796,11811,11815,114,111,110,59,1,318,4,2,100,105,11802,11807,105,108,59,1,316,108,59,1,8968,98,59,1,123,59,1,1083,4,4,99,113,114,115,11828,11832,11845,11864,97,59,1,10550,117,111,4,2,59,114,11840,11842,1,8220,59,1,8222,4,2,100,117,11851,11857,104,97,114,59,1,10599,115,104,97,114,59,1,10571,104,59,1,8626,4,5,59,102,103,113,115,11880,11882,12008,12011,12031,1,8804,116,4,5,97,104,108,114,116,11895,11913,11935,11947,11996,114,114,111,119,4,2,59,116,11905,11907,1,8592,97,105,108,59,1,8610,97,114,112,111,111,110,4,2,100,117,11925,11931,111,119,110,59,1,8637,112,59,1,8636,101,102,116,97,114,114,111,119,115,59,1,8647,105,103,104,116,4,3,97,104,115,11959,11974,11984,114,114,111,119,4,2,59,115,11969,11971,1,8596,59,1,8646,97,114,112,111,111,110,115,59,1,8651,113,117,105,103,97,114,114,111,119,59,1,8621,104,114,101,101,116,105,109,101,115,59,1,8907,59,1,8922,4,3,59,113,115,12019,12021,12024,1,8804,59,1,8806,108,97,110,116,59,1,10877,4,5,59,99,100,103,115,12043,12045,12049,12070,12083,1,10877,99,59,1,10920,111,116,4,2,59,111,12057,12059,1,10879,4,2,59,114,12065,12067,1,10881,59,1,10883,4,2,59,101,12076,12079,3,8922,65024,115,59,1,10899,4,5,97,100,101,103,115,12095,12103,12108,12126,12131,112,112,114,111,120,59,1,10885,111,116,59,1,8918,113,4,2,103,113,12115,12120,116,114,59,1,8922,103,116,114,59,1,10891,116,114,59,1,8822,105,109,59,1,8818,4,3,105,108,114,12144,12150,12156,115,104,116,59,1,10620,111,111,114,59,1,8970,59,3,55349,56617,4,2,59,69,12166,12168,1,8822,59,1,10897,4,2,97,98,12177,12198,114,4,2,100,117,12184,12187,59,1,8637,4,2,59,108,12193,12195,1,8636,59,1,10602,108,107,59,1,9604,99,121,59,1,1113,4,5,59,97,99,104,116,12220,12222,12227,12235,12241,1,8810,114,114,59,1,8647,111,114,110,101,114,59,1,8990,97,114,100,59,1,10603,114,105,59,1,9722,4,2,105,111,12252,12258,100,111,116,59,1,320,117,115,116,4,2,59,97,12267,12269,1,9136,99,104,101,59,1,9136,4,4,69,97,101,115,12285,12288,12303,12322,59,1,8808,112,4,2,59,112,12295,12297,1,10889,114,111,120,59,1,10889,4,2,59,113,12309,12311,1,10887,4,2,59,113,12317,12319,1,10887,59,1,8808,105,109,59,1,8934,4,8,97,98,110,111,112,116,119,122,12345,12359,12364,12421,12446,12467,12474,12490,4,2,110,114,12351,12355,103,59,1,10220,114,59,1,8701,114,107,59,1,10214,103,4,3,108,109,114,12373,12401,12409,101,102,116,4,2,97,114,12382,12389,114,114,111,119,59,1,10229,105,103,104,116,97,114,114,111,119,59,1,10231,97,112,115,116,111,59,1,10236,105,103,104,116,97,114,114,111,119,59,1,10230,112,97,114,114,111,119,4,2,108,114,12433,12439,101,102,116,59,1,8619,105,103,104,116,59,1,8620,4,3,97,102,108,12454,12458,12462,114,59,1,10629,59,3,55349,56669,117,115,59,1,10797,105,109,101,115,59,1,10804,4,2,97,98,12480,12485,115,116,59,1,8727,97,114,59,1,95,4,3,59,101,102,12498,12500,12506,1,9674,110,103,101,59,1,9674,59,1,10731,97,114,4,2,59,108,12517,12519,1,40,116,59,1,10643,4,5,97,99,104,109,116,12535,12540,12548,12561,12564,114,114,59,1,8646,111,114,110,101,114,59,1,8991,97,114,4,2,59,100,12556,12558,1,8651,59,1,10605,59,1,8206,114,105,59,1,8895,4,6,97,99,104,105,113,116,12583,12589,12594,12597,12614,12635,113,117,111,59,1,8249,114,59,3,55349,56513,59,1,8624,109,4,3,59,101,103,12606,12608,12611,1,8818,59,1,10893,59,1,10895,4,2,98,117,12620,12623,59,1,91,111,4,2,59,114,12630,12632,1,8216,59,1,8218,114,111,107,59,1,322,5,60,8,59,99,100,104,105,108,113,114,12660,12662,12675,12680,12686,12692,12698,12705,1,60,4,2,99,105,12668,12671,59,1,10918,114,59,1,10873,111,116,59,1,8918,114,101,101,59,1,8907,109,101,115,59,1,8905,97,114,114,59,1,10614,117,101,115,116,59,1,10875,4,2,80,105,12711,12716,97,114,59,1,10646,4,3,59,101,102,12724,12726,12729,1,9667,59,1,8884,59,1,9666,114,4,2,100,117,12739,12746,115,104,97,114,59,1,10570,104,97,114,59,1,10598,4,2,101,110,12758,12768,114,116,110,101,113,113,59,3,8808,65024,69,59,3,8808,65024,4,14,68,97,99,100,101,102,104,105,108,110,111,112,115,117,12803,12809,12893,12908,12914,12928,12933,12937,13011,13025,13032,13049,13052,13069,68,111,116,59,1,8762,4,4,99,108,112,114,12819,12827,12849,12887,114,5,175,1,59,12825,1,175,4,2,101,116,12833,12836,59,1,9794,4,2,59,101,12842,12844,1,10016,115,101,59,1,10016,4,2,59,115,12855,12857,1,8614,116,111,4,4,59,100,108,117,12869,12871,12877,12883,1,8614,111,119,110,59,1,8615,101,102,116,59,1,8612,112,59,1,8613,107,101,114,59,1,9646,4,2,111,121,12899,12905,109,109,97,59,1,10793,59,1,1084,97,115,104,59,1,8212,97,115,117,114,101,100,97,110,103,108,101,59,1,8737,114,59,3,55349,56618,111,59,1,8487,4,3,99,100,110,12945,12954,12985,114,111,5,181,1,59,12952,1,181,4,4,59,97,99,100,12964,12966,12971,12976,1,8739,115,116,59,1,42,105,114,59,1,10992,111,116,5,183,1,59,12983,1,183,117,115,4,3,59,98,100,12995,12997,13e3,1,8722,59,1,8863,4,2,59,117,13006,13008,1,8760,59,1,10794,4,2,99,100,13017,13021,112,59,1,10971,114,59,1,8230,112,108,117,115,59,1,8723,4,2,100,112,13038,13044,101,108,115,59,1,8871,102,59,3,55349,56670,59,1,8723,4,2,99,116,13058,13063,114,59,3,55349,56514,112,111,115,59,1,8766,4,3,59,108,109,13077,13079,13087,1,956,116,105,109,97,112,59,1,8888,97,112,59,1,8888,4,24,71,76,82,86,97,98,99,100,101,102,103,104,105,106,108,109,111,112,114,115,116,117,118,119,13142,13165,13217,13229,13247,13330,13359,13414,13420,13508,13513,13579,13602,13626,13631,13762,13767,13855,13936,13995,14214,14285,14312,14432,4,2,103,116,13148,13152,59,3,8921,824,4,2,59,118,13158,13161,3,8811,8402,59,3,8811,824,4,3,101,108,116,13173,13200,13204,102,116,4,2,97,114,13181,13188,114,114,111,119,59,1,8653,105,103,104,116,97,114,114,111,119,59,1,8654,59,3,8920,824,4,2,59,118,13210,13213,3,8810,8402,59,3,8810,824,105,103,104,116,97,114,114,111,119,59,1,8655,4,2,68,100,13235,13241,97,115,104,59,1,8879,97,115,104,59,1,8878,4,5,98,99,110,112,116,13259,13264,13270,13275,13308,108,97,59,1,8711,117,116,101,59,1,324,103,59,3,8736,8402,4,5,59,69,105,111,112,13287,13289,13293,13298,13302,1,8777,59,3,10864,824,100,59,3,8779,824,115,59,1,329,114,111,120,59,1,8777,117,114,4,2,59,97,13316,13318,1,9838,108,4,2,59,115,13325,13327,1,9838,59,1,8469,4,2,115,117,13336,13344,112,5,160,1,59,13342,1,160,109,112,4,2,59,101,13352,13355,3,8782,824,59,3,8783,824,4,5,97,101,111,117,121,13371,13385,13391,13407,13411,4,2,112,114,13377,13380,59,1,10819,111,110,59,1,328,100,105,108,59,1,326,110,103,4,2,59,100,13399,13401,1,8775,111,116,59,3,10861,824,112,59,1,10818,59,1,1085,97,115,104,59,1,8211,4,7,59,65,97,100,113,115,120,13436,13438,13443,13466,13472,13478,13494,1,8800,114,114,59,1,8663,114,4,2,104,114,13450,13454,107,59,1,10532,4,2,59,111,13460,13462,1,8599,119,59,1,8599,111,116,59,3,8784,824,117,105,118,59,1,8802,4,2,101,105,13484,13489,97,114,59,1,10536,109,59,3,8770,824,105,115,116,4,2,59,115,13503,13505,1,8708,59,1,8708,114,59,3,55349,56619,4,4,69,101,115,116,13523,13527,13563,13568,59,3,8807,824,4,3,59,113,115,13535,13537,13559,1,8817,4,3,59,113,115,13545,13547,13551,1,8817,59,3,8807,824,108,97,110,116,59,3,10878,824,59,3,10878,824,105,109,59,1,8821,4,2,59,114,13574,13576,1,8815,59,1,8815,4,3,65,97,112,13587,13592,13597,114,114,59,1,8654,114,114,59,1,8622,97,114,59,1,10994,4,3,59,115,118,13610,13612,13623,1,8715,4,2,59,100,13618,13620,1,8956,59,1,8954,59,1,8715,99,121,59,1,1114,4,7,65,69,97,100,101,115,116,13647,13652,13656,13661,13665,13737,13742,114,114,59,1,8653,59,3,8806,824,114,114,59,1,8602,114,59,1,8229,4,4,59,102,113,115,13675,13677,13703,13725,1,8816,116,4,2,97,114,13684,13691,114,114,111,119,59,1,8602,105,103,104,116,97,114,114,111,119,59,1,8622,4,3,59,113,115,13711,13713,13717,1,8816,59,3,8806,824,108,97,110,116,59,3,10877,824,4,2,59,115,13731,13734,3,10877,824,59,1,8814,105,109,59,1,8820,4,2,59,114,13748,13750,1,8814,105,4,2,59,101,13757,13759,1,8938,59,1,8940,105,100,59,1,8740,4,2,112,116,13773,13778,102,59,3,55349,56671,5,172,3,59,105,110,13787,13789,13829,1,172,110,4,4,59,69,100,118,13800,13802,13806,13812,1,8713,59,3,8953,824,111,116,59,3,8949,824,4,3,97,98,99,13820,13823,13826,59,1,8713,59,1,8951,59,1,8950,105,4,2,59,118,13836,13838,1,8716,4,3,97,98,99,13846,13849,13852,59,1,8716,59,1,8958,59,1,8957,4,3,97,111,114,13863,13892,13899,114,4,4,59,97,115,116,13874,13876,13883,13888,1,8742,108,108,101,108,59,1,8742,108,59,3,11005,8421,59,3,8706,824,108,105,110,116,59,1,10772,4,3,59,99,101,13907,13909,13914,1,8832,117,101,59,1,8928,4,2,59,99,13920,13923,3,10927,824,4,2,59,101,13929,13931,1,8832,113,59,3,10927,824,4,4,65,97,105,116,13946,13951,13971,13982,114,114,59,1,8655,114,114,4,3,59,99,119,13961,13963,13967,1,8603,59,3,10547,824,59,3,8605,824,103,104,116,97,114,114,111,119,59,1,8603,114,105,4,2,59,101,13990,13992,1,8939,59,1,8941,4,7,99,104,105,109,112,113,117,14011,14036,14060,14080,14085,14090,14106,4,4,59,99,101,114,14021,14023,14028,14032,1,8833,117,101,59,1,8929,59,3,10928,824,59,3,55349,56515,111,114,116,4,2,109,112,14045,14050,105,100,59,1,8740,97,114,97,108,108,101,108,59,1,8742,109,4,2,59,101,14067,14069,1,8769,4,2,59,113,14075,14077,1,8772,59,1,8772,105,100,59,1,8740,97,114,59,1,8742,115,117,4,2,98,112,14098,14102,101,59,1,8930,101,59,1,8931,4,3,98,99,112,14114,14157,14171,4,4,59,69,101,115,14124,14126,14130,14133,1,8836,59,3,10949,824,59,1,8840,101,116,4,2,59,101,14141,14144,3,8834,8402,113,4,2,59,113,14151,14153,1,8840,59,3,10949,824,99,4,2,59,101,14164,14166,1,8833,113,59,3,10928,824,4,4,59,69,101,115,14181,14183,14187,14190,1,8837,59,3,10950,824,59,1,8841,101,116,4,2,59,101,14198,14201,3,8835,8402,113,4,2,59,113,14208,14210,1,8841,59,3,10950,824,4,4,103,105,108,114,14224,14228,14238,14242,108,59,1,8825,108,100,101,5,241,1,59,14236,1,241,103,59,1,8824,105,97,110,103,108,101,4,2,108,114,14254,14269,101,102,116,4,2,59,101,14263,14265,1,8938,113,59,1,8940,105,103,104,116,4,2,59,101,14279,14281,1,8939,113,59,1,8941,4,2,59,109,14291,14293,1,957,4,3,59,101,115,14301,14303,14308,1,35,114,111,59,1,8470,112,59,1,8199,4,9,68,72,97,100,103,105,108,114,115,14332,14338,14344,14349,14355,14369,14376,14408,14426,97,115,104,59,1,8877,97,114,114,59,1,10500,112,59,3,8781,8402,97,115,104,59,1,8876,4,2,101,116,14361,14365,59,3,8805,8402,59,3,62,8402,110,102,105,110,59,1,10718,4,3,65,101,116,14384,14389,14393,114,114,59,1,10498,59,3,8804,8402,4,2,59,114,14399,14402,3,60,8402,105,101,59,3,8884,8402,4,2,65,116,14414,14419,114,114,59,1,10499,114,105,101,59,3,8885,8402,105,109,59,3,8764,8402,4,3,65,97,110,14440,14445,14468,114,114,59,1,8662,114,4,2,104,114,14452,14456,107,59,1,10531,4,2,59,111,14462,14464,1,8598,119,59,1,8598,101,97,114,59,1,10535,4,18,83,97,99,100,101,102,103,104,105,108,109,111,112,114,115,116,117,118,14512,14515,14535,14560,14597,14603,14618,14643,14657,14662,14701,14741,14747,14769,14851,14877,14907,14916,59,1,9416,4,2,99,115,14521,14531,117,116,101,5,243,1,59,14529,1,243,116,59,1,8859,4,2,105,121,14541,14557,114,4,2,59,99,14548,14550,1,8858,5,244,1,59,14555,1,244,59,1,1086,4,5,97,98,105,111,115,14572,14577,14583,14587,14591,115,104,59,1,8861,108,97,99,59,1,337,118,59,1,10808,116,59,1,8857,111,108,100,59,1,10684,108,105,103,59,1,339,4,2,99,114,14609,14614,105,114,59,1,10687,59,3,55349,56620,4,3,111,114,116,14626,14630,14640,110,59,1,731,97,118,101,5,242,1,59,14638,1,242,59,1,10689,4,2,98,109,14649,14654,97,114,59,1,10677,59,1,937,110,116,59,1,8750,4,4,97,99,105,116,14672,14677,14693,14698,114,114,59,1,8634,4,2,105,114,14683,14687,114,59,1,10686,111,115,115,59,1,10683,110,101,59,1,8254,59,1,10688,4,3,97,101,105,14709,14714,14719,99,114,59,1,333,103,97,59,1,969,4,3,99,100,110,14727,14733,14736,114,111,110,59,1,959,59,1,10678,117,115,59,1,8854,112,102,59,3,55349,56672,4,3,97,101,108,14755,14759,14764,114,59,1,10679,114,112,59,1,10681,117,115,59,1,8853,4,7,59,97,100,105,111,115,118,14785,14787,14792,14831,14837,14841,14848,1,8744,114,114,59,1,8635,4,4,59,101,102,109,14802,14804,14817,14824,1,10845,114,4,2,59,111,14811,14813,1,8500,102,59,1,8500,5,170,1,59,14822,1,170,5,186,1,59,14829,1,186,103,111,102,59,1,8886,114,59,1,10838,108,111,112,101,59,1,10839,59,1,10843,4,3,99,108,111,14859,14863,14873,114,59,1,8500,97,115,104,5,248,1,59,14871,1,248,108,59,1,8856,105,4,2,108,109,14884,14893,100,101,5,245,1,59,14891,1,245,101,115,4,2,59,97,14901,14903,1,8855,115,59,1,10806,109,108,5,246,1,59,14914,1,246,98,97,114,59,1,9021,4,12,97,99,101,102,104,105,108,109,111,114,115,117,14948,14992,14996,15033,15038,15068,15090,15189,15192,15222,15427,15441,114,4,4,59,97,115,116,14959,14961,14976,14989,1,8741,5,182,2,59,108,14968,14970,1,182,108,101,108,59,1,8741,4,2,105,108,14982,14986,109,59,1,10995,59,1,11005,59,1,8706,121,59,1,1087,114,4,5,99,105,109,112,116,15009,15014,15019,15024,15027,110,116,59,1,37,111,100,59,1,46,105,108,59,1,8240,59,1,8869,101,110,107,59,1,8241,114,59,3,55349,56621,4,3,105,109,111,15046,15057,15063,4,2,59,118,15052,15054,1,966,59,1,981,109,97,116,59,1,8499,110,101,59,1,9742,4,3,59,116,118,15076,15078,15087,1,960,99,104,102,111,114,107,59,1,8916,59,1,982,4,2,97,117,15096,15119,110,4,2,99,107,15103,15115,107,4,2,59,104,15110,15112,1,8463,59,1,8462,118,59,1,8463,115,4,9,59,97,98,99,100,101,109,115,116,15140,15142,15148,15151,15156,15168,15171,15179,15184,1,43,99,105,114,59,1,10787,59,1,8862,105,114,59,1,10786,4,2,111,117,15162,15165,59,1,8724,59,1,10789,59,1,10866,110,5,177,1,59,15177,1,177,105,109,59,1,10790,119,111,59,1,10791,59,1,177,4,3,105,112,117,15200,15208,15213,110,116,105,110,116,59,1,10773,102,59,3,55349,56673,110,100,5,163,1,59,15220,1,163,4,10,59,69,97,99,101,105,110,111,115,117,15244,15246,15249,15253,15258,15334,15347,15367,15416,15421,1,8826,59,1,10931,112,59,1,10935,117,101,59,1,8828,4,2,59,99,15264,15266,1,10927,4,6,59,97,99,101,110,115,15280,15282,15290,15299,15303,15329,1,8826,112,112,114,111,120,59,1,10935,117,114,108,121,101,113,59,1,8828,113,59,1,10927,4,3,97,101,115,15311,15319,15324,112,112,114,111,120,59,1,10937,113,113,59,1,10933,105,109,59,1,8936,105,109,59,1,8830,109,101,4,2,59,115,15342,15344,1,8242,59,1,8473,4,3,69,97,115,15355,15358,15362,59,1,10933,112,59,1,10937,105,109,59,1,8936,4,3,100,102,112,15375,15378,15404,59,1,8719,4,3,97,108,115,15386,15392,15398,108,97,114,59,1,9006,105,110,101,59,1,8978,117,114,102,59,1,8979,4,2,59,116,15410,15412,1,8733,111,59,1,8733,105,109,59,1,8830,114,101,108,59,1,8880,4,2,99,105,15433,15438,114,59,3,55349,56517,59,1,968,110,99,115,112,59,1,8200,4,6,102,105,111,112,115,117,15462,15467,15472,15478,15485,15491,114,59,3,55349,56622,110,116,59,1,10764,112,102,59,3,55349,56674,114,105,109,101,59,1,8279,99,114,59,3,55349,56518,4,3,97,101,111,15499,15520,15534,116,4,2,101,105,15506,15515,114,110,105,111,110,115,59,1,8461,110,116,59,1,10774,115,116,4,2,59,101,15528,15530,1,63,113,59,1,8799,116,5,34,1,59,15540,1,34,4,21,65,66,72,97,98,99,100,101,102,104,105,108,109,110,111,112,114,115,116,117,120,15586,15609,15615,15620,15796,15855,15893,15931,15977,16001,16039,16183,16204,16222,16228,16285,16312,16318,16363,16408,16416,4,3,97,114,116,15594,15599,15603,114,114,59,1,8667,114,59,1,8658,97,105,108,59,1,10524,97,114,114,59,1,10511,97,114,59,1,10596,4,7,99,100,101,110,113,114,116,15636,15651,15656,15664,15687,15696,15770,4,2,101,117,15642,15646,59,3,8765,817,116,101,59,1,341,105,99,59,1,8730,109,112,116,121,118,59,1,10675,103,4,4,59,100,101,108,15675,15677,15680,15683,1,10217,59,1,10642,59,1,10661,101,59,1,10217,117,111,5,187,1,59,15694,1,187,114,4,11,59,97,98,99,102,104,108,112,115,116,119,15721,15723,15727,15739,15742,15746,15750,15754,15758,15763,15767,1,8594,112,59,1,10613,4,2,59,102,15733,15735,1,8677,115,59,1,10528,59,1,10547,115,59,1,10526,107,59,1,8618,112,59,1,8620,108,59,1,10565,105,109,59,1,10612,108,59,1,8611,59,1,8605,4,2,97,105,15776,15781,105,108,59,1,10522,111,4,2,59,110,15788,15790,1,8758,97,108,115,59,1,8474,4,3,97,98,114,15804,15809,15814,114,114,59,1,10509,114,107,59,1,10099,4,2,97,107,15820,15833,99,4,2,101,107,15827,15830,59,1,125,59,1,93,4,2,101,115,15839,15842,59,1,10636,108,4,2,100,117,15849,15852,59,1,10638,59,1,10640,4,4,97,101,117,121,15865,15871,15886,15890,114,111,110,59,1,345,4,2,100,105,15877,15882,105,108,59,1,343,108,59,1,8969,98,59,1,125,59,1,1088,4,4,99,108,113,115,15903,15907,15914,15927,97,59,1,10551,100,104,97,114,59,1,10601,117,111,4,2,59,114,15922,15924,1,8221,59,1,8221,104,59,1,8627,4,3,97,99,103,15939,15966,15970,108,4,4,59,105,112,115,15950,15952,15957,15963,1,8476,110,101,59,1,8475,97,114,116,59,1,8476,59,1,8477,116,59,1,9645,5,174,1,59,15975,1,174,4,3,105,108,114,15985,15991,15997,115,104,116,59,1,10621,111,111,114,59,1,8971,59,3,55349,56623,4,2,97,111,16007,16028,114,4,2,100,117,16014,16017,59,1,8641,4,2,59,108,16023,16025,1,8640,59,1,10604,4,2,59,118,16034,16036,1,961,59,1,1009,4,3,103,110,115,16047,16167,16171,104,116,4,6,97,104,108,114,115,116,16063,16081,16103,16130,16143,16155,114,114,111,119,4,2,59,116,16073,16075,1,8594,97,105,108,59,1,8611,97,114,112,111,111,110,4,2,100,117,16093,16099,111,119,110,59,1,8641,112,59,1,8640,101,102,116,4,2,97,104,16112,16120,114,114,111,119,115,59,1,8644,97,114,112,111,111,110,115,59,1,8652,105,103,104,116,97,114,114,111,119,115,59,1,8649,113,117,105,103,97,114,114,111,119,59,1,8605,104,114,101,101,116,105,109,101,115,59,1,8908,103,59,1,730,105,110,103,100,111,116,115,101,113,59,1,8787,4,3,97,104,109,16191,16196,16201,114,114,59,1,8644,97,114,59,1,8652,59,1,8207,111,117,115,116,4,2,59,97,16214,16216,1,9137,99,104,101,59,1,9137,109,105,100,59,1,10990,4,4,97,98,112,116,16238,16252,16257,16278,4,2,110,114,16244,16248,103,59,1,10221,114,59,1,8702,114,107,59,1,10215,4,3,97,102,108,16265,16269,16273,114,59,1,10630,59,3,55349,56675,117,115,59,1,10798,105,109,101,115,59,1,10805,4,2,97,112,16291,16304,114,4,2,59,103,16298,16300,1,41,116,59,1,10644,111,108,105,110,116,59,1,10770,97,114,114,59,1,8649,4,4,97,99,104,113,16328,16334,16339,16342,113,117,111,59,1,8250,114,59,3,55349,56519,59,1,8625,4,2,98,117,16348,16351,59,1,93,111,4,2,59,114,16358,16360,1,8217,59,1,8217,4,3,104,105,114,16371,16377,16383,114,101,101,59,1,8908,109,101,115,59,1,8906,105,4,4,59,101,102,108,16394,16396,16399,16402,1,9657,59,1,8885,59,1,9656,116,114,105,59,1,10702,108,117,104,97,114,59,1,10600,59,1,8478,4,19,97,98,99,100,101,102,104,105,108,109,111,112,113,114,115,116,117,119,122,16459,16466,16472,16572,16590,16672,16687,16746,16844,16850,16924,16963,16988,17115,17121,17154,17206,17614,17656,99,117,116,101,59,1,347,113,117,111,59,1,8218,4,10,59,69,97,99,101,105,110,112,115,121,16494,16496,16499,16513,16518,16531,16536,16556,16564,16569,1,8827,59,1,10932,4,2,112,114,16505,16508,59,1,10936,111,110,59,1,353,117,101,59,1,8829,4,2,59,100,16524,16526,1,10928,105,108,59,1,351,114,99,59,1,349,4,3,69,97,115,16544,16547,16551,59,1,10934,112,59,1,10938,105,109,59,1,8937,111,108,105,110,116,59,1,10771,105,109,59,1,8831,59,1,1089,111,116,4,3,59,98,101,16582,16584,16587,1,8901,59,1,8865,59,1,10854,4,7,65,97,99,109,115,116,120,16606,16611,16634,16642,16646,16652,16668,114,114,59,1,8664,114,4,2,104,114,16618,16622,107,59,1,10533,4,2,59,111,16628,16630,1,8600,119,59,1,8600,116,5,167,1,59,16640,1,167,105,59,1,59,119,97,114,59,1,10537,109,4,2,105,110,16659,16665,110,117,115,59,1,8726,59,1,8726,116,59,1,10038,114,4,2,59,111,16679,16682,3,55349,56624,119,110,59,1,8994,4,4,97,99,111,121,16697,16702,16716,16739,114,112,59,1,9839,4,2,104,121,16708,16713,99,121,59,1,1097,59,1,1096,114,116,4,2,109,112,16724,16729,105,100,59,1,8739,97,114,97,108,108,101,108,59,1,8741,5,173,1,59,16744,1,173,4,2,103,109,16752,16770,109,97,4,3,59,102,118,16762,16764,16767,1,963,59,1,962,59,1,962,4,8,59,100,101,103,108,110,112,114,16788,16790,16795,16806,16817,16828,16832,16838,1,8764,111,116,59,1,10858,4,2,59,113,16801,16803,1,8771,59,1,8771,4,2,59,69,16812,16814,1,10910,59,1,10912,4,2,59,69,16823,16825,1,10909,59,1,10911,101,59,1,8774,108,117,115,59,1,10788,97,114,114,59,1,10610,97,114,114,59,1,8592,4,4,97,101,105,116,16860,16883,16891,16904,4,2,108,115,16866,16878,108,115,101,116,109,105,110,117,115,59,1,8726,104,112,59,1,10803,112,97,114,115,108,59,1,10724,4,2,100,108,16897,16900,59,1,8739,101,59,1,8995,4,2,59,101,16910,16912,1,10922,4,2,59,115,16918,16920,1,10924,59,3,10924,65024,4,3,102,108,112,16932,16938,16958,116,99,121,59,1,1100,4,2,59,98,16944,16946,1,47,4,2,59,97,16952,16954,1,10692,114,59,1,9023,102,59,3,55349,56676,97,4,2,100,114,16970,16985,101,115,4,2,59,117,16978,16980,1,9824,105,116,59,1,9824,59,1,8741,4,3,99,115,117,16996,17028,17089,4,2,97,117,17002,17015,112,4,2,59,115,17009,17011,1,8851,59,3,8851,65024,112,4,2,59,115,17022,17024,1,8852,59,3,8852,65024,117,4,2,98,112,17035,17062,4,3,59,101,115,17043,17045,17048,1,8847,59,1,8849,101,116,4,2,59,101,17056,17058,1,8847,113,59,1,8849,4,3,59,101,115,17070,17072,17075,1,8848,59,1,8850,101,116,4,2,59,101,17083,17085,1,8848,113,59,1,8850,4,3,59,97,102,17097,17099,17112,1,9633,114,4,2,101,102,17106,17109,59,1,9633,59,1,9642,59,1,9642,97,114,114,59,1,8594,4,4,99,101,109,116,17131,17136,17142,17148,114,59,3,55349,56520,116,109,110,59,1,8726,105,108,101,59,1,8995,97,114,102,59,1,8902,4,2,97,114,17160,17172,114,4,2,59,102,17167,17169,1,9734,59,1,9733,4,2,97,110,17178,17202,105,103,104,116,4,2,101,112,17188,17197,112,115,105,108,111,110,59,1,1013,104,105,59,1,981,115,59,1,175,4,5,98,99,109,110,112,17218,17351,17420,17423,17427,4,9,59,69,100,101,109,110,112,114,115,17238,17240,17243,17248,17261,17267,17279,17285,17291,1,8834,59,1,10949,111,116,59,1,10941,4,2,59,100,17254,17256,1,8838,111,116,59,1,10947,117,108,116,59,1,10945,4,2,69,101,17273,17276,59,1,10955,59,1,8842,108,117,115,59,1,10943,97,114,114,59,1,10617,4,3,101,105,117,17299,17335,17339,116,4,3,59,101,110,17308,17310,17322,1,8834,113,4,2,59,113,17317,17319,1,8838,59,1,10949,101,113,4,2,59,113,17330,17332,1,8842,59,1,10955,109,59,1,10951,4,2,98,112,17345,17348,59,1,10965,59,1,10963,99,4,6,59,97,99,101,110,115,17366,17368,17376,17385,17389,17415,1,8827,112,112,114,111,120,59,1,10936,117,114,108,121,101,113,59,1,8829,113,59,1,10928,4,3,97,101,115,17397,17405,17410,112,112,114,111,120,59,1,10938,113,113,59,1,10934,105,109,59,1,8937,105,109,59,1,8831,59,1,8721,103,59,1,9834,4,13,49,50,51,59,69,100,101,104,108,109,110,112,115,17455,17462,17469,17476,17478,17481,17496,17509,17524,17530,17536,17548,17554,5,185,1,59,17460,1,185,5,178,1,59,17467,1,178,5,179,1,59,17474,1,179,1,8835,59,1,10950,4,2,111,115,17487,17491,116,59,1,10942,117,98,59,1,10968,4,2,59,100,17502,17504,1,8839,111,116,59,1,10948,115,4,2,111,117,17516,17520,108,59,1,10185,98,59,1,10967,97,114,114,59,1,10619,117,108,116,59,1,10946,4,2,69,101,17542,17545,59,1,10956,59,1,8843,108,117,115,59,1,10944,4,3,101,105,117,17562,17598,17602,116,4,3,59,101,110,17571,17573,17585,1,8835,113,4,2,59,113,17580,17582,1,8839,59,1,10950,101,113,4,2,59,113,17593,17595,1,8843,59,1,10956,109,59,1,10952,4,2,98,112,17608,17611,59,1,10964,59,1,10966,4,3,65,97,110,17622,17627,17650,114,114,59,1,8665,114,4,2,104,114,17634,17638,107,59,1,10534,4,2,59,111,17644,17646,1,8601,119,59,1,8601,119,97,114,59,1,10538,108,105,103,5,223,1,59,17664,1,223,4,13,97,98,99,100,101,102,104,105,111,112,114,115,119,17694,17709,17714,17737,17742,17749,17754,17860,17905,17957,17964,18090,18122,4,2,114,117,17700,17706,103,101,116,59,1,8982,59,1,964,114,107,59,1,9140,4,3,97,101,121,17722,17728,17734,114,111,110,59,1,357,100,105,108,59,1,355,59,1,1090,111,116,59,1,8411,108,114,101,99,59,1,8981,114,59,3,55349,56625,4,4,101,105,107,111,17764,17805,17836,17851,4,2,114,116,17770,17786,101,4,2,52,102,17777,17780,59,1,8756,111,114,101,59,1,8756,97,4,3,59,115,118,17795,17797,17802,1,952,121,109,59,1,977,59,1,977,4,2,99,110,17811,17831,107,4,2,97,115,17818,17826,112,112,114,111,120,59,1,8776,105,109,59,1,8764,115,112,59,1,8201,4,2,97,115,17842,17846,112,59,1,8776,105,109,59,1,8764,114,110,5,254,1,59,17858,1,254,4,3,108,109,110,17868,17873,17901,100,101,59,1,732,101,115,5,215,3,59,98,100,17884,17886,17898,1,215,4,2,59,97,17892,17894,1,8864,114,59,1,10801,59,1,10800,116,59,1,8749,4,3,101,112,115,17913,17917,17953,97,59,1,10536,4,4,59,98,99,102,17927,17929,17934,17939,1,8868,111,116,59,1,9014,105,114,59,1,10993,4,2,59,111,17945,17948,3,55349,56677,114,107,59,1,10970,97,59,1,10537,114,105,109,101,59,1,8244,4,3,97,105,112,17972,17977,18082,100,101,59,1,8482,4,7,97,100,101,109,112,115,116,17993,18051,18056,18059,18066,18072,18076,110,103,108,101,4,5,59,100,108,113,114,18009,18011,18017,18032,18035,1,9653,111,119,110,59,1,9663,101,102,116,4,2,59,101,18026,18028,1,9667,113,59,1,8884,59,1,8796,105,103,104,116,4,2,59,101,18045,18047,1,9657,113,59,1,8885,111,116,59,1,9708,59,1,8796,105,110,117,115,59,1,10810,108,117,115,59,1,10809,98,59,1,10701,105,109,101,59,1,10811,101,122,105,117,109,59,1,9186,4,3,99,104,116,18098,18111,18116,4,2,114,121,18104,18108,59,3,55349,56521,59,1,1094,99,121,59,1,1115,114,111,107,59,1,359,4,2,105,111,18128,18133,120,116,59,1,8812,104,101,97,100,4,2,108,114,18143,18154,101,102,116,97,114,114,111,119,59,1,8606,105,103,104,116,97,114,114,111,119,59,1,8608,4,18,65,72,97,98,99,100,102,103,104,108,109,111,112,114,115,116,117,119,18204,18209,18214,18234,18250,18268,18292,18308,18319,18343,18379,18397,18413,18504,18547,18553,18584,18603,114,114,59,1,8657,97,114,59,1,10595,4,2,99,114,18220,18230,117,116,101,5,250,1,59,18228,1,250,114,59,1,8593,114,4,2,99,101,18241,18245,121,59,1,1118,118,101,59,1,365,4,2,105,121,18256,18265,114,99,5,251,1,59,18263,1,251,59,1,1091,4,3,97,98,104,18276,18281,18287,114,114,59,1,8645,108,97,99,59,1,369,97,114,59,1,10606,4,2,105,114,18298,18304,115,104,116,59,1,10622,59,3,55349,56626,114,97,118,101,5,249,1,59,18317,1,249,4,2,97,98,18325,18338,114,4,2,108,114,18332,18335,59,1,8639,59,1,8638,108,107,59,1,9600,4,2,99,116,18349,18374,4,2,111,114,18355,18369,114,110,4,2,59,101,18363,18365,1,8988,114,59,1,8988,111,112,59,1,8975,114,105,59,1,9720,4,2,97,108,18385,18390,99,114,59,1,363,5,168,1,59,18395,1,168,4,2,103,112,18403,18408,111,110,59,1,371,102,59,3,55349,56678,4,6,97,100,104,108,115,117,18427,18434,18445,18470,18475,18494,114,114,111,119,59,1,8593,111,119,110,97,114,114,111,119,59,1,8597,97,114,112,111,111,110,4,2,108,114,18457,18463,101,102,116,59,1,8639,105,103,104,116,59,1,8638,117,115,59,1,8846,105,4,3,59,104,108,18484,18486,18489,1,965,59,1,978,111,110,59,1,965,112,97,114,114,111,119,115,59,1,8648,4,3,99,105,116,18512,18537,18542,4,2,111,114,18518,18532,114,110,4,2,59,101,18526,18528,1,8989,114,59,1,8989,111,112,59,1,8974,110,103,59,1,367,114,105,59,1,9721,99,114,59,3,55349,56522,4,3,100,105,114,18561,18566,18572,111,116,59,1,8944,108,100,101,59,1,361,105,4,2,59,102,18579,18581,1,9653,59,1,9652,4,2,97,109,18590,18595,114,114,59,1,8648,108,5,252,1,59,18601,1,252,97,110,103,108,101,59,1,10663,4,15,65,66,68,97,99,100,101,102,108,110,111,112,114,115,122,18643,18648,18661,18667,18847,18851,18857,18904,18909,18915,18931,18937,18943,18949,18996,114,114,59,1,8661,97,114,4,2,59,118,18656,18658,1,10984,59,1,10985,97,115,104,59,1,8872,4,2,110,114,18673,18679,103,114,116,59,1,10652,4,7,101,107,110,112,114,115,116,18695,18704,18711,18720,18742,18754,18810,112,115,105,108,111,110,59,1,1013,97,112,112,97,59,1,1008,111,116,104,105,110,103,59,1,8709,4,3,104,105,114,18728,18732,18735,105,59,1,981,59,1,982,111,112,116,111,59,1,8733,4,2,59,104,18748,18750,1,8597,111,59,1,1009,4,2,105,117,18760,18766,103,109,97,59,1,962,4,2,98,112,18772,18791,115,101,116,110,101,113,4,2,59,113,18784,18787,3,8842,65024,59,3,10955,65024,115,101,116,110,101,113,4,2,59,113,18803,18806,3,8843,65024,59,3,10956,65024,4,2,104,114,18816,18822,101,116,97,59,1,977,105,97,110,103,108,101,4,2,108,114,18834,18840,101,102,116,59,1,8882,105,103,104,116,59,1,8883,121,59,1,1074,97,115,104,59,1,8866,4,3,101,108,114,18865,18884,18890,4,3,59,98,101,18873,18875,18880,1,8744,97,114,59,1,8891,113,59,1,8794,108,105,112,59,1,8942,4,2,98,116,18896,18901,97,114,59,1,124,59,1,124,114,59,3,55349,56627,116,114,105,59,1,8882,115,117,4,2,98,112,18923,18927,59,3,8834,8402,59,3,8835,8402,112,102,59,3,55349,56679,114,111,112,59,1,8733,116,114,105,59,1,8883,4,2,99,117,18955,18960,114,59,3,55349,56523,4,2,98,112,18966,18981,110,4,2,69,101,18973,18977,59,3,10955,65024,59,3,8842,65024,110,4,2,69,101,18988,18992,59,3,10956,65024,59,3,8843,65024,105,103,122,97,103,59,1,10650,4,7,99,101,102,111,112,114,115,19020,19026,19061,19066,19072,19075,19089,105,114,99,59,1,373,4,2,100,105,19032,19055,4,2,98,103,19038,19043,97,114,59,1,10847,101,4,2,59,113,19050,19052,1,8743,59,1,8793,101,114,112,59,1,8472,114,59,3,55349,56628,112,102,59,3,55349,56680,59,1,8472,4,2,59,101,19081,19083,1,8768,97,116,104,59,1,8768,99,114,59,3,55349,56524,4,14,99,100,102,104,105,108,109,110,111,114,115,117,118,119,19125,19146,19152,19157,19173,19176,19192,19197,19202,19236,19252,19269,19286,19291,4,3,97,105,117,19133,19137,19142,112,59,1,8898,114,99,59,1,9711,112,59,1,8899,116,114,105,59,1,9661,114,59,3,55349,56629,4,2,65,97,19163,19168,114,114,59,1,10234,114,114,59,1,10231,59,1,958,4,2,65,97,19182,19187,114,114,59,1,10232,114,114,59,1,10229,97,112,59,1,10236,105,115,59,1,8955,4,3,100,112,116,19210,19215,19230,111,116,59,1,10752,4,2,102,108,19221,19225,59,3,55349,56681,117,115,59,1,10753,105,109,101,59,1,10754,4,2,65,97,19242,19247,114,114,59,1,10233,114,114,59,1,10230,4,2,99,113,19258,19263,114,59,3,55349,56525,99,117,112,59,1,10758,4,2,112,116,19275,19281,108,117,115,59,1,10756,114,105,59,1,9651,101,101,59,1,8897,101,100,103,101,59,1,8896,4,8,97,99,101,102,105,111,115,117,19316,19335,19349,19357,19362,19367,19373,19379,99,4,2,117,121,19323,19332,116,101,5,253,1,59,19330,1,253,59,1,1103,4,2,105,121,19341,19346,114,99,59,1,375,59,1,1099,110,5,165,1,59,19355,1,165,114,59,3,55349,56630,99,121,59,1,1111,112,102,59,3,55349,56682,99,114,59,3,55349,56526,4,2,99,109,19385,19389,121,59,1,1102,108,5,255,1,59,19395,1,255,4,10,97,99,100,101,102,104,105,111,115,119,19419,19426,19441,19446,19462,19467,19472,19480,19486,19492,99,117,116,101,59,1,378,4,2,97,121,19432,19438,114,111,110,59,1,382,59,1,1079,111,116,59,1,380,4,2,101,116,19452,19458,116,114,102,59,1,8488,97,59,1,950,114,59,3,55349,56631,99,121,59,1,1078,103,114,97,114,114,59,1,8669,112,102,59,3,55349,56683,99,114,59,3,55349,56527,4,2,106,110,19498,19501,59,1,8205,106,59,1,8204])},function(e,t,n){"use strict";const r=n(26),i=r.TAG_NAMES,s=r.NAMESPACES;function o(e){switch(e.length){case 1:return e===i.P;case 2:return e===i.RB||e===i.RP||e===i.RT||e===i.DD||e===i.DT||e===i.LI;case 3:return e===i.RTC;case 6:return e===i.OPTION;case 8:return e===i.OPTGROUP}return!1}function a(e){switch(e.length){case 1:return e===i.P;case 2:return e===i.RB||e===i.RP||e===i.RT||e===i.DD||e===i.DT||e===i.LI||e===i.TD||e===i.TH||e===i.TR;case 3:return e===i.RTC;case 5:return e===i.TBODY||e===i.TFOOT||e===i.THEAD;case 6:return e===i.OPTION;case 7:return e===i.CAPTION;case 8:return e===i.OPTGROUP||e===i.COLGROUP}return!1}function c(e,t){switch(e.length){case 2:if(e===i.TD||e===i.TH)return t===s.HTML;if(e===i.MI||e===i.MO||e===i.MN||e===i.MS)return t===s.MATHML;break;case 4:if(e===i.HTML)return t===s.HTML;if(e===i.DESC)return t===s.SVG;break;case 5:if(e===i.TABLE)return t===s.HTML;if(e===i.MTEXT)return t===s.MATHML;if(e===i.TITLE)return t===s.SVG;break;case 6:return(e===i.APPLET||e===i.OBJECT)&&t===s.HTML;case 7:return(e===i.CAPTION||e===i.MARQUEE)&&t===s.HTML;case 8:return e===i.TEMPLATE&&t===s.HTML;case 13:return e===i.FOREIGN_OBJECT&&t===s.SVG;case 14:return e===i.ANNOTATION_XML&&t===s.MATHML}return!1}e.exports=class{constructor(e,t){this.stackTop=-1,this.items=[],this.current=e,this.currentTagName=null,this.currentTmplContent=null,this.tmplCount=0,this.treeAdapter=t}_indexOf(e){let t=-1;for(let n=this.stackTop;n>=0;n--)if(this.items[n]===e){t=n;break}return t}_isInTemplate(){return this.currentTagName===i.TEMPLATE&&this.treeAdapter.getNamespaceURI(this.current)===s.HTML}_updateCurrentElement(){this.current=this.items[this.stackTop],this.currentTagName=this.current&&this.treeAdapter.getTagName(this.current),this.currentTmplContent=this._isInTemplate()?this.treeAdapter.getTemplateContent(this.current):null}push(e){this.items[++this.stackTop]=e,this._updateCurrentElement(),this._isInTemplate()&&this.tmplCount++}pop(){this.stackTop--,this.tmplCount>0&&this._isInTemplate()&&this.tmplCount--,this._updateCurrentElement()}replace(e,t){const n=this._indexOf(e);this.items[n]=t,n===this.stackTop&&this._updateCurrentElement()}insertAfter(e,t){const n=this._indexOf(e)+1;this.items.splice(n,0,t),n===++this.stackTop&&this._updateCurrentElement()}popUntilTagNamePopped(e){for(;this.stackTop>-1;){const t=this.currentTagName,n=this.treeAdapter.getNamespaceURI(this.current);if(this.pop(),t===e&&n===s.HTML)break}}popUntilElementPopped(e){for(;this.stackTop>-1;){const t=this.current;if(this.pop(),t===e)break}}popUntilNumberedHeaderPopped(){for(;this.stackTop>-1;){const e=this.currentTagName,t=this.treeAdapter.getNamespaceURI(this.current);if(this.pop(),e===i.H1||e===i.H2||e===i.H3||e===i.H4||e===i.H5||e===i.H6&&t===s.HTML)break}}popUntilTableCellPopped(){for(;this.stackTop>-1;){const e=this.currentTagName,t=this.treeAdapter.getNamespaceURI(this.current);if(this.pop(),e===i.TD||e===i.TH&&t===s.HTML)break}}popAllUpToHtmlElement(){this.stackTop=0,this._updateCurrentElement()}clearBackToTableContext(){for(;this.currentTagName!==i.TABLE&&this.currentTagName!==i.TEMPLATE&&this.currentTagName!==i.HTML||this.treeAdapter.getNamespaceURI(this.current)!==s.HTML;)this.pop()}clearBackToTableBodyContext(){for(;this.currentTagName!==i.TBODY&&this.currentTagName!==i.TFOOT&&this.currentTagName!==i.THEAD&&this.currentTagName!==i.TEMPLATE&&this.currentTagName!==i.HTML||this.treeAdapter.getNamespaceURI(this.current)!==s.HTML;)this.pop()}clearBackToTableRowContext(){for(;this.currentTagName!==i.TR&&this.currentTagName!==i.TEMPLATE&&this.currentTagName!==i.HTML||this.treeAdapter.getNamespaceURI(this.current)!==s.HTML;)this.pop()}remove(e){for(let t=this.stackTop;t>=0;t--)if(this.items[t]===e){this.items.splice(t,1),this.stackTop--,this._updateCurrentElement();break}}tryPeekProperlyNestedBodyElement(){const e=this.items[1];return e&&this.treeAdapter.getTagName(e)===i.BODY?e:null}contains(e){return this._indexOf(e)>-1}getCommonAncestor(e){let t=this._indexOf(e);return--t>=0?this.items[t]:null}isRootHtmlElementCurrent(){return 0===this.stackTop&&this.currentTagName===i.HTML}hasInScope(e){for(let t=this.stackTop;t>=0;t--){const n=this.treeAdapter.getTagName(this.items[t]),r=this.treeAdapter.getNamespaceURI(this.items[t]);if(n===e&&r===s.HTML)return!0;if(c(n,r))return!1}return!0}hasNumberedHeaderInScope(){for(let e=this.stackTop;e>=0;e--){const t=this.treeAdapter.getTagName(this.items[e]),n=this.treeAdapter.getNamespaceURI(this.items[e]);if((t===i.H1||t===i.H2||t===i.H3||t===i.H4||t===i.H5||t===i.H6)&&n===s.HTML)return!0;if(c(t,n))return!1}return!0}hasInListItemScope(e){for(let t=this.stackTop;t>=0;t--){const n=this.treeAdapter.getTagName(this.items[t]),r=this.treeAdapter.getNamespaceURI(this.items[t]);if(n===e&&r===s.HTML)return!0;if((n===i.UL||n===i.OL)&&r===s.HTML||c(n,r))return!1}return!0}hasInButtonScope(e){for(let t=this.stackTop;t>=0;t--){const n=this.treeAdapter.getTagName(this.items[t]),r=this.treeAdapter.getNamespaceURI(this.items[t]);if(n===e&&r===s.HTML)return!0;if(n===i.BUTTON&&r===s.HTML||c(n,r))return!1}return!0}hasInTableScope(e){for(let t=this.stackTop;t>=0;t--){const n=this.treeAdapter.getTagName(this.items[t]);if(this.treeAdapter.getNamespaceURI(this.items[t])===s.HTML){if(n===e)return!0;if(n===i.TABLE||n===i.TEMPLATE||n===i.HTML)return!1}}return!0}hasTableBodyContextInTableScope(){for(let e=this.stackTop;e>=0;e--){const t=this.treeAdapter.getTagName(this.items[e]);if(this.treeAdapter.getNamespaceURI(this.items[e])===s.HTML){if(t===i.TBODY||t===i.THEAD||t===i.TFOOT)return!0;if(t===i.TABLE||t===i.HTML)return!1}}return!0}hasInSelectScope(e){for(let t=this.stackTop;t>=0;t--){const n=this.treeAdapter.getTagName(this.items[t]);if(this.treeAdapter.getNamespaceURI(this.items[t])===s.HTML){if(n===e)return!0;if(n!==i.OPTION&&n!==i.OPTGROUP)return!1}}return!0}generateImpliedEndTags(){for(;o(this.currentTagName);)this.pop()}generateImpliedEndTagsThoroughly(){for(;a(this.currentTagName);)this.pop()}generateImpliedEndTagsWithExclusion(e){for(;o(this.currentTagName)&&this.currentTagName!==e;)this.pop()}}},function(e,t,n){"use strict";const r=3;class i{constructor(e){this.length=0,this.entries=[],this.treeAdapter=e,this.bookmark=null}_getNoahArkConditionCandidates(e){const t=[];if(this.length>=r){const n=this.treeAdapter.getAttrList(e).length,r=this.treeAdapter.getTagName(e),s=this.treeAdapter.getNamespaceURI(e);for(let e=this.length-1;e>=0;e--){const o=this.entries[e];if(o.type===i.MARKER_ENTRY)break;const a=o.element,c=this.treeAdapter.getAttrList(a);this.treeAdapter.getTagName(a)===r&&this.treeAdapter.getNamespaceURI(a)===s&&c.length===n&&t.push({idx:e,attrs:c})}}return t.length<r?[]:t}_ensureNoahArkCondition(e){const t=this._getNoahArkConditionCandidates(e);let n=t.length;if(n){const i=this.treeAdapter.getAttrList(e),s=i.length,o=Object.create(null);for(let e=0;e<s;e++){const t=i[e];o[t.name]=t.value}for(let e=0;e<s;e++)for(let i=0;i<n;i++){const s=t[i].attrs[e];if(o[s.name]!==s.value&&(t.splice(i,1),n--),t.length<r)return}for(let e=n-1;e>=r-1;e--)this.entries.splice(t[e].idx,1),this.length--}}insertMarker(){this.entries.push({type:i.MARKER_ENTRY}),this.length++}pushElement(e,t){this._ensureNoahArkCondition(e),this.entries.push({type:i.ELEMENT_ENTRY,element:e,token:t}),this.length++}insertElementAfterBookmark(e,t){let n=this.length-1;for(;n>=0&&this.entries[n]!==this.bookmark;n--);this.entries.splice(n+1,0,{type:i.ELEMENT_ENTRY,element:e,token:t}),this.length++}removeEntry(e){for(let t=this.length-1;t>=0;t--)if(this.entries[t]===e){this.entries.splice(t,1),this.length--;break}}clearToLastMarker(){for(;this.length;){const e=this.entries.pop();if(this.length--,e.type===i.MARKER_ENTRY)break}}getElementEntryInScopeWithTagName(e){for(let t=this.length-1;t>=0;t--){const n=this.entries[t];if(n.type===i.MARKER_ENTRY)return null;if(this.treeAdapter.getTagName(n.element)===e)return n}return null}getElementEntry(e){for(let t=this.length-1;t>=0;t--){const n=this.entries[t];if(n.type===i.ELEMENT_ENTRY&&n.element===e)return n}return null}}i.MARKER_ENTRY="MARKER_ENTRY",i.ELEMENT_ENTRY="ELEMENT_ENTRY",e.exports=i},function(e,t,n){"use strict";const r=n(21),i=n(52),s=n(119),o=n(233),a=n(26).TAG_NAMES;e.exports=class extends r{constructor(e){super(e),this.parser=e,this.treeAdapter=this.parser.treeAdapter,this.posTracker=null,this.lastStartTagToken=null,this.lastFosterParentingLocation=null,this.currentToken=null}_setStartLocation(e){let t=null;this.lastStartTagToken&&((t=Object.assign({},this.lastStartTagToken.location)).startTag=this.lastStartTagToken.location),this.treeAdapter.setNodeSourceCodeLocation(e,t)}_setEndLocation(e,t){const n=this.treeAdapter.getNodeSourceCodeLocation(e);if(n&&t.location){const r=t.location,s=this.treeAdapter.getTagName(e);t.type===i.END_TAG_TOKEN&&s===t.tagName?(n.endTag=Object.assign({},r),n.endLine=r.endLine,n.endCol=r.endCol,n.endOffset=r.endOffset):(n.endLine=r.startLine,n.endCol=r.startCol,n.endOffset=r.startOffset)}}_getOverriddenMethods(e,t){return{_bootstrap(n,i){t._bootstrap.call(this,n,i),e.lastStartTagToken=null,e.lastFosterParentingLocation=null,e.currentToken=null;const a=r.install(this.tokenizer,s);e.posTracker=a.posTracker,r.install(this.openElements,o,{onItemPop:function(t){e._setEndLocation(t,e.currentToken)}})},_runParsingLoop(n){t._runParsingLoop.call(this,n);for(let t=this.openElements.stackTop;t>=0;t--)e._setEndLocation(this.openElements.items[t],e.currentToken)},_processTokenInForeignContent(n){e.currentToken=n,t._processTokenInForeignContent.call(this,n)},_processToken(n){if(e.currentToken=n,t._processToken.call(this,n),n.type===i.END_TAG_TOKEN&&(n.tagName===a.HTML||n.tagName===a.BODY&&this.openElements.hasInScope(a.BODY)))for(let t=this.openElements.stackTop;t>=0;t--){const r=this.openElements.items[t];if(this.treeAdapter.getTagName(r)===n.tagName){e._setEndLocation(r,n);break}}},_setDocumentType(e){t._setDocumentType.call(this,e);const n=this.treeAdapter.getChildNodes(this.document),r=n.length;for(let t=0;t<r;t++){const r=n[t];if(this.treeAdapter.isDocumentTypeNode(r)){this.treeAdapter.setNodeSourceCodeLocation(r,e.location);break}}},_attachElementToTree(n){e._setStartLocation(n),e.lastStartTagToken=null,t._attachElementToTree.call(this,n)},_appendElement(n,r){e.lastStartTagToken=n,t._appendElement.call(this,n,r)},_insertElement(n,r){e.lastStartTagToken=n,t._insertElement.call(this,n,r)},_insertTemplate(n){e.lastStartTagToken=n,t._insertTemplate.call(this,n);const r=this.treeAdapter.getTemplateContent(this.openElements.current);this.treeAdapter.setNodeSourceCodeLocation(r,null)},_insertFakeRootElement(){t._insertFakeRootElement.call(this),this.treeAdapter.setNodeSourceCodeLocation(this.openElements.current,null)},_appendCommentNode(e,n){t._appendCommentNode.call(this,e,n);const r=this.treeAdapter.getChildNodes(n),i=r[r.length-1];this.treeAdapter.setNodeSourceCodeLocation(i,e.location)},_findFosterParentingLocation(){return e.lastFosterParentingLocation=t._findFosterParentingLocation.call(this),e.lastFosterParentingLocation},_insertCharacters(n){t._insertCharacters.call(this,n);const r=this._shouldFosterParentOnInsertion(),i=r&&e.lastFosterParentingLocation.parent||this.openElements.currentTmplContent||this.openElements.current,s=this.treeAdapter.getChildNodes(i),o=r&&e.lastFosterParentingLocation.beforeElement?s.indexOf(e.lastFosterParentingLocation.beforeElement)-1:s.length-1,a=s[o],c=this.treeAdapter.getNodeSourceCodeLocation(a);c?(c.endLine=n.location.endLine,c.endCol=n.location.endCol,c.endOffset=n.location.endOffset):this.treeAdapter.setNodeSourceCodeLocation(a,n.location)}}}}},function(e,t,n){"use strict";const r=n(21);e.exports=class extends r{constructor(e,t){super(e),this.onItemPop=t.onItemPop}_getOverriddenMethods(e,t){return{pop(){e.onItemPop(this.current),t.pop.call(this)},popAllUpToHtmlElement(){for(let t=this.stackTop;t>0;t--)e.onItemPop(this.items[t]);t.popAllUpToHtmlElement.call(this)},remove(n){e.onItemPop(this.current),t.remove.call(this,n)}}}}},function(e,t,n){"use strict";const r=n(72),i=n(235),s=n(119),o=n(21);e.exports=class extends r{constructor(e,t){super(e,t),this.opts=t,this.ctLoc=null,this.locBeforeToken=!1}_setErrorLocation(e){this.ctLoc&&(e.startLine=this.ctLoc.startLine,e.startCol=this.ctLoc.startCol,e.startOffset=this.ctLoc.startOffset,e.endLine=this.locBeforeToken?this.ctLoc.startLine:this.ctLoc.endLine,e.endCol=this.locBeforeToken?this.ctLoc.startCol:this.ctLoc.endCol,e.endOffset=this.locBeforeToken?this.ctLoc.startOffset:this.ctLoc.endOffset)}_getOverriddenMethods(e,t){return{_bootstrap(n,r){t._bootstrap.call(this,n,r),o.install(this.tokenizer,i,e.opts),o.install(this.tokenizer,s)},_processInputToken(n){e.ctLoc=n.location,t._processInputToken.call(this,n)},_err(t,n){e.locBeforeToken=n&&n.beforeToken,e._reportError(t)}}}}},function(e,t,n){"use strict";const r=n(72),i=n(236),s=n(21);e.exports=class extends r{constructor(e,t){super(e,t);const n=s.install(e.preprocessor,i,t);this.posTracker=n.posTracker}}},function(e,t,n){"use strict";const r=n(72),i=n(120),s=n(21);e.exports=class extends r{constructor(e,t){super(e,t),this.posTracker=s.install(e,i),this.lastErrOffset=-1}_reportError(e){this.lastErrOffset!==this.posTracker.offset&&(this.lastErrOffset=this.posTracker.offset,super._reportError(e))}}},function(e,t,n){"use strict";const r=n(52),i=n(26),s=i.TAG_NAMES,o=i.NAMESPACES,a=i.ATTRS,c={TEXT_HTML:"text/html",APPLICATION_XML:"application/xhtml+xml"},u={attributename:"attributeName",attributetype:"attributeType",basefrequency:"baseFrequency",baseprofile:"baseProfile",calcmode:"calcMode",clippathunits:"clipPathUnits",diffuseconstant:"diffuseConstant",edgemode:"edgeMode",filterunits:"filterUnits",glyphref:"glyphRef",gradienttransform:"gradientTransform",gradientunits:"gradientUnits",kernelmatrix:"kernelMatrix",kernelunitlength:"kernelUnitLength",keypoints:"keyPoints",keysplines:"keySplines",keytimes:"keyTimes",lengthadjust:"lengthAdjust",limitingconeangle:"limitingConeAngle",markerheight:"markerHeight",markerunits:"markerUnits",markerwidth:"markerWidth",maskcontentunits:"maskContentUnits",maskunits:"maskUnits",numoctaves:"numOctaves",pathlength:"pathLength",patterncontentunits:"patternContentUnits",patterntransform:"patternTransform",patternunits:"patternUnits",pointsatx:"pointsAtX",pointsaty:"pointsAtY",pointsatz:"pointsAtZ",preservealpha:"preserveAlpha",preserveaspectratio:"preserveAspectRatio",primitiveunits:"primitiveUnits",refx:"refX",refy:"refY",repeatcount:"repeatCount",repeatdur:"repeatDur",requiredextensions:"requiredExtensions",requiredfeatures:"requiredFeatures",specularconstant:"specularConstant",specularexponent:"specularExponent",spreadmethod:"spreadMethod",startoffset:"startOffset",stddeviation:"stdDeviation",stitchtiles:"stitchTiles",surfacescale:"surfaceScale",systemlanguage:"systemLanguage",tablevalues:"tableValues",targetx:"targetX",targety:"targetY",textlength:"textLength",viewbox:"viewBox",viewtarget:"viewTarget",xchannelselector:"xChannelSelector",ychannelselector:"yChannelSelector",zoomandpan:"zoomAndPan"},l={"xlink:actuate":{prefix:"xlink",name:"actuate",namespace:o.XLINK},"xlink:arcrole":{prefix:"xlink",name:"arcrole",namespace:o.XLINK},"xlink:href":{prefix:"xlink",name:"href",namespace:o.XLINK},"xlink:role":{prefix:"xlink",name:"role",namespace:o.XLINK},"xlink:show":{prefix:"xlink",name:"show",namespace:o.XLINK},"xlink:title":{prefix:"xlink",name:"title",namespace:o.XLINK},"xlink:type":{prefix:"xlink",name:"type",namespace:o.XLINK},"xml:base":{prefix:"xml",name:"base",namespace:o.XML},"xml:lang":{prefix:"xml",name:"lang",namespace:o.XML},"xml:space":{prefix:"xml",name:"space",namespace:o.XML},xmlns:{prefix:"",name:"xmlns",namespace:o.XMLNS},"xmlns:xlink":{prefix:"xmlns",name:"xlink",namespace:o.XMLNS}},h=t.SVG_TAG_NAMES_ADJUSTMENT_MAP={altglyph:"altGlyph",altglyphdef:"altGlyphDef",altglyphitem:"altGlyphItem",animatecolor:"animateColor",animatemotion:"animateMotion",animatetransform:"animateTransform",clippath:"clipPath",feblend:"feBlend",fecolormatrix:"feColorMatrix",fecomponenttransfer:"feComponentTransfer",fecomposite:"feComposite",feconvolvematrix:"feConvolveMatrix",fediffuselighting:"feDiffuseLighting",fedisplacementmap:"feDisplacementMap",fedistantlight:"feDistantLight",feflood:"feFlood",fefunca:"feFuncA",fefuncb:"feFuncB",fefuncg:"feFuncG",fefuncr:"feFuncR",fegaussianblur:"feGaussianBlur",feimage:"feImage",femerge:"feMerge",femergenode:"feMergeNode",femorphology:"feMorphology",feoffset:"feOffset",fepointlight:"fePointLight",fespecularlighting:"feSpecularLighting",fespotlight:"feSpotLight",fetile:"feTile",feturbulence:"feTurbulence",foreignobject:"foreignObject",glyphref:"glyphRef",lineargradient:"linearGradient",radialgradient:"radialGradient",textpath:"textPath"},d={[s.B]:!0,[s.BIG]:!0,[s.BLOCKQUOTE]:!0,[s.BODY]:!0,[s.BR]:!0,[s.CENTER]:!0,[s.CODE]:!0,[s.DD]:!0,[s.DIV]:!0,[s.DL]:!0,[s.DT]:!0,[s.EM]:!0,[s.EMBED]:!0,[s.H1]:!0,[s.H2]:!0,[s.H3]:!0,[s.H4]:!0,[s.H5]:!0,[s.H6]:!0,[s.HEAD]:!0,[s.HR]:!0,[s.I]:!0,[s.IMG]:!0,[s.LI]:!0,[s.LISTING]:!0,[s.MENU]:!0,[s.META]:!0,[s.NOBR]:!0,[s.OL]:!0,[s.P]:!0,[s.PRE]:!0,[s.RUBY]:!0,[s.S]:!0,[s.SMALL]:!0,[s.SPAN]:!0,[s.STRONG]:!0,[s.STRIKE]:!0,[s.SUB]:!0,[s.SUP]:!0,[s.TABLE]:!0,[s.TT]:!0,[s.U]:!0,[s.UL]:!0,[s.VAR]:!0};t.causesExit=function(e){const t=e.tagName;return!!(t===s.FONT&&(null!==r.getTokenAttr(e,a.COLOR)||null!==r.getTokenAttr(e,a.SIZE)||null!==r.getTokenAttr(e,a.FACE)))||d[t]},t.adjustTokenMathMLAttrs=function(e){for(let t=0;t<e.attrs.length;t++)if("definitionurl"===e.attrs[t].name){e.attrs[t].name="definitionURL";break}},t.adjustTokenSVGAttrs=function(e){for(let t=0;t<e.attrs.length;t++){const n=u[e.attrs[t].name];n&&(e.attrs[t].name=n)}},t.adjustTokenXMLAttrs=function(e){for(let t=0;t<e.attrs.length;t++){const n=l[e.attrs[t].name];n&&(e.attrs[t].prefix=n.prefix,e.attrs[t].name=n.name,e.attrs[t].namespace=n.namespace)}},t.adjustTokenSVGTagName=function(e){const t=h[e.tagName];t&&(e.tagName=t)},t.isIntegrationPoint=function(e,t,n,r){return!(r&&r!==o.HTML||!function(e,t,n){if(t===o.MATHML&&e===s.ANNOTATION_XML)for(let e=0;e<n.length;e++)if(n[e].name===a.ENCODING){const t=n[e].value.toLowerCase();return t===c.TEXT_HTML||t===c.APPLICATION_XML}return t===o.SVG&&(e===s.FOREIGN_OBJECT||e===s.DESC||e===s.TITLE)}(e,t,n))||!(r&&r!==o.MATHML||!function(e,t){return t===o.MATHML&&(e===s.MI||e===s.MO||e===s.MN||e===s.MS||e===s.MTEXT)}(e,t))}},function(e,t,n){"use strict";const r=n(121),i=n(122),s=n(123),o=n(26),a=o.TAG_NAMES,c=o.NAMESPACES,u={treeAdapter:r},l=/&/g,h=/\u00a0/g,d=/"/g,p=/</g,f=/>/g;class _{constructor(e,t){this.options=i(u,t),this.treeAdapter=this.options.treeAdapter,this.html="",this.startNode=e}serialize(){return this._serializeChildNodes(this.startNode),this.html}_serializeChildNodes(e){const t=this.treeAdapter.getChildNodes(e);if(t)for(let e=0,n=t.length;e<n;e++){const n=t[e];this.treeAdapter.isElementNode(n)?this._serializeElement(n):this.treeAdapter.isTextNode(n)?this._serializeTextNode(n):this.treeAdapter.isCommentNode(n)?this._serializeCommentNode(n):this.treeAdapter.isDocumentTypeNode(n)&&this._serializeDocumentTypeNode(n)}}_serializeElement(e){const t=this.treeAdapter.getTagName(e),n=this.treeAdapter.getNamespaceURI(e);if(this.html+="<"+t,this._serializeAttributes(e),this.html+=">",t!==a.AREA&&t!==a.BASE&&t!==a.BASEFONT&&t!==a.BGSOUND&&t!==a.BR&&t!==a.COL&&t!==a.EMBED&&t!==a.FRAME&&t!==a.HR&&t!==a.IMG&&t!==a.INPUT&&t!==a.KEYGEN&&t!==a.LINK&&t!==a.META&&t!==a.PARAM&&t!==a.SOURCE&&t!==a.TRACK&&t!==a.WBR){const r=t===a.TEMPLATE&&n===c.HTML?this.treeAdapter.getTemplateContent(e):e;this._serializeChildNodes(r),this.html+="</"+t+">"}}_serializeAttributes(e){const t=this.treeAdapter.getAttrList(e);for(let e=0,n=t.length;e<n;e++){const n=t[e],r=_.escapeString(n.value,!0);this.html+=" ",n.namespace?n.namespace===c.XML?this.html+="xml:"+n.name:n.namespace===c.XMLNS?("xmlns"!==n.name&&(this.html+="xmlns:"),this.html+=n.name):n.namespace===c.XLINK?this.html+="xlink:"+n.name:this.html+=n.namespace+":"+n.name:this.html+=n.name,this.html+='="'+r+'"'}}_serializeTextNode(e){const t=this.treeAdapter.getTextNodeContent(e),n=this.treeAdapter.getParentNode(e);let r=void 0;n&&this.treeAdapter.isElementNode(n)&&(r=this.treeAdapter.getTagName(n)),r===a.STYLE||r===a.SCRIPT||r===a.XMP||r===a.IFRAME||r===a.NOEMBED||r===a.NOFRAMES||r===a.PLAINTEXT||r===a.NOSCRIPT?this.html+=t:this.html+=_.escapeString(t,!1)}_serializeCommentNode(e){this.html+="\x3c!--"+this.treeAdapter.getCommentNodeContent(e)+"--\x3e"}_serializeDocumentTypeNode(e){const t=this.treeAdapter.getDocumentTypeNodeName(e);this.html+="<"+s.serializeContent(t,null,null)+">"}}_.escapeString=function(e,t){return e=e.replace(l,"&amp;").replace(h,"&nbsp;"),e=t?e.replace(d,"&quot;"):e.replace(p,"&lt;").replace(f,"&gt;")},e.exports=_},function(e,t,n){var r=n(124).domToHtml,i={contentType:"text/html"};function s(e){this.dom=e,this.document=null,this._quirksMode="no-quirks",this._reset=!1}e.exports=s,s.prototype={createDocument:function(){return this.document=new this.dom.Document(i)},createDocumentFragment:function(){return this.document.createDocumentFragment()},createElement:function(e,t,n){var r=this.document.createElement(e.toUpperCase());return Object.defineProperty(r,"namespaceURI",{configurable:!0,enumerable:!0,writable:!1,value:t}),this.adoptAttributes(r,n),r},createCommentNode:function(e){return this.document.createComment(e)},createTextNode:function(e){return this.document.createTextNode(e)},setDocumentType:function(e,t,n,i){var s=this.document.doctype;s||(s=new this.dom.DocumentType(e),e.doctype=s,this.document.appendChild(s)),s._name=t,Object.defineProperties(s,{publicId:{configurable:!0,enumerable:!0,writable:!1,value:n},systemId:{configurable:!0,enumerable:!0,writable:!1,value:i},toString:{configurable:!0,enumerable:!1,writable:!0,value:function(){return r(this)}}})},setDocumentMode:function(e,t){if(e!==this.document)throw new Error("Given document does not match handler document");this._quirksMode=t},getDocumentMode:function(e){if(e!==this.document)throw new Error("Given document does not match handler document");return this._quirksMode},appendChild:function(e,t){e.appendChild(t)},insertBefore:function(e,t,n){e.insertBefore(t,n)},detachNode:function(e){e.parentNode&&e.parentNode.removeChild(e)},insertText:function(e,t){var n=this.document,r=e.lastChild;r&&r.nodeType===n.TEXT_NODE?r.nodeValue+=t:e.appendChild(n.createTextNode(t))},insertTextBefore:function(e,t,n){var r=this.document;n.nodeType===r.TEXT_NODE?n.nodeValue=t+n.nodeValue:e.insertBefore(r.createTextNode(t),n)},adoptAttributes:function(e,t){if(t)for(var n=0,r=t.length;n<r;n++){var i=t[n];"string"==typeof i.prefix&&i.prefix.length>0&&(i.name=i.prefix+":"+i.name),null===e.getAttribute(i.name)&&e.setAttribute(i.name,i.value)}},getFirstChild:function(e){return e.firstChild},getParentNode:function(e){return e.parentNode},getAttrList:function(e){for(var t=[],n=e.attributes,r=0,i=n.length;r<i;r++)t.push({name:n[r].name,value:n[r].value});return t},getTagName:function(e){return e.tagName.toLowerCase()},getNamespaceURI:function(e){return e.namespaceURI}}},function(e,t){var n={quot:'"',amp:"&",apos:"'",lt:"<",gt:">",nbsp:"",iexcl:"",cent:"",pound:"",curren:"",yen:"",brvbar:"",sect:"",uml:"",copy:"",ordf:"",laquo:"",not:"",shy:"",reg:"",macr:"",strns:"",deg:"",plusmn:"",pm:"",sup2:"",sup3:"",acute:"",micro:"",para:"",middot:"",cedil:"",sup1:"",ordm:"",raquo:"",frac14:"",half:"",frac12:"",frac34:"",iquest:"",Agrave:"",Aacute:"",Acirc:"",Atilde:"",Auml:"",Aring:"",angst:"",AElig:"",Ccedil:"",Egrave:"",Eacute:"",Ecirc:"",Euml:"",Igrave:"",Iacute:"",Icirc:"",Iuml:"",ETH:"",Ntilde:"",Ograve:"",Oacute:"",Ocirc:"",Otilde:"",Ouml:"",times:"",Oslash:"",Ugrave:"",Uacute:"",Ucirc:"",Uuml:"",Yacute:"",THORN:"",szlig:"",agrave:"",aacute:"",acirc:"",atilde:"",auml:"",aring:"",aelig:"",ccedil:"",egrave:"",eacute:"",ecirc:"",euml:"",igrave:"",iacute:"",icirc:"",iuml:"",eth:"",ntilde:"",ograve:"",oacute:"",ocirc:"",otilde:"",ouml:"",divide:"",oslash:"",ugrave:"",uacute:"",ucirc:"",uuml:"",yacute:"",thorn:"",yuml:"",Amacr:"",amacr:"",Abreve:"",abreve:"",Aogon:"",aogon:"",Cacute:"",cacute:"",Ccirc:"",ccirc:"",Cdot:"",cdot:"",Ccaron:"",ccaron:"",Dcaron:"",dcaron:"",Dstrok:"",dstrok:"",Emacr:"",emacr:"",Edot:"",edot:"",Eogon:"",eogon:"",Ecaron:"",ecaron:"",Gcirc:"",gcirc:"",Gbreve:"",gbreve:"",Gdot:"",gdot:"",Gcedil:"",Hcirc:"",hcirc:"",Hstrok:"",hstrok:"",Itilde:"",itilde:"",Imacr:"",imacr:"",Iogon:"",iogon:"",Idot:"",inodot:"",IJlig:"",ijlig:"",Jcirc:"",jcirc:"",Kcedil:"",kcedil:"",kgreen:"",Lacute:"",lacute:"",Lcedil:"",lcedil:"",Lcaron:"",lcaron:"",Lmidot:"",lmidot:"",Lstrok:"",lstrok:"",Nacute:"",nacute:"",Ncedil:"",ncedil:"",Ncaron:"",ncaron:"",napos:"",ENG:"",eng:"",Omacr:"",omacr:"",Odblac:"",odblac:"",OElig:"",oelig:"",Racute:"",racute:"",Rcedil:"",rcedil:"",Rcaron:"",rcaron:"",Sacute:"",sacute:"",Scirc:"",scirc:"",Scedil:"",scedil:"",Scaron:"",scaron:"",Tcedil:"",tcedil:"",Tcaron:"",tcaron:"",Tstrok:"",tstrok:"",Utilde:"",utilde:"",Umacr:"",umacr:"",Ubreve:"",ubreve:"",Uring:"",uring:"",Udblac:"",udblac:"",Uogon:"",uogon:"",Wcirc:"",wcirc:"",Ycirc:"",ycirc:"",Yuml:"",Zacute:"",zacute:"",Zdot:"",zdot:"",Zcaron:"",zcaron:"",fnof:"",imped:"",gacute:"",jmath:"",circ:"",caron:"",breve:"",dot:"",ring:"",ogon:"",tilde:"",dblac:"",Alpha:"",Beta:"",Gamma:"",Delta:"",Epsilon:"",Zeta:"",Eta:"",Theta:"",Iota:"",Kappa:"",Lambda:"",Mu:"",Nu:"",Xi:"",Omicron:"",Pi:"",Rho:"",Sigma:"",Tau:"",Upsilon:"",Phi:"",Chi:"",Psi:"",Omega:"",ohm:"",alpha:"",beta:"",gamma:"",delta:"",epsilon:"",zeta:"",eta:"",theta:"",iota:"",kappa:"",lambda:"",mu:"",nu:"",xi:"",omicron:"",pi:"",rho:"",sigmaf:"",varsigma:"",sigma:"",tau:"",upsilon:"",phi:"",chi:"",psi:"",omega:"",thetasym:"",vartheta:"",upsih:"",varphi:"",piv:"",varpi:"",Gammad:"",gammad:"",varkappa:"",varrho:"",varepsilon:"",bepsi:"",IOcy:"",DJcy:"",GJcy:"",Jukcy:"",DScy:"",Iukcy:"",YIcy:"",Jsercy:"",LJcy:"",NJcy:"",TSHcy:"",KJcy:"",Ubrcy:"",DZcy:"",Acy:"",Bcy:"",Vcy:"",Gcy:"",Dcy:"",IEcy:"",ZHcy:"",Zcy:"",Icy:"",Jcy:"",Kcy:"",Lcy:"",Mcy:"",Ncy:"",Ocy:"",Pcy:"",Rcy:"",Scy:"",Tcy:"",Ucy:"",Fcy:"",KHcy:"",TScy:"",CHcy:"",SHcy:"",SHCHcy:"",HARDcy:"",Ycy:"",SOFTcy:"",Ecy:"",YUcy:"",YAcy:"",acy:"",bcy:"",vcy:"",gcy:"",dcy:"",iecy:"",zhcy:"",zcy:"",icy:"",jcy:"",kcy:"",lcy:"",mcy:"",ncy:"",ocy:"",pcy:"",rcy:"",scy:"",tcy:"",ucy:"",fcy:"",khcy:"",tscy:"",chcy:"",shcy:"",shchcy:"",hardcy:"",ycy:"",softcy:"",ecy:"",yucy:"",yacy:"",iocy:"",djcy:"",gjcy:"",jukcy:"",dscy:"",iukcy:"",yicy:"",jsercy:"",ljcy:"",njcy:"",tshcy:"",kjcy:"",ubrcy:"",dzcy:"",ensp:"",emsp:"",emsp13:"",emsp14:"",numsp:"",puncsp:"",thinsp:"",hairsp:"",ZeroWidthSpace:"",zwnj:"",zwj:"",lrm:"",rlm:"",hyphen:"",ndash:"",mdash:"",horbar:"",Vert:"",lsquo:"",rsquo:"",rsquor:"",sbquo:"",ldquo:"",rdquo:"",rdquor:"",ldquo:"",ldquor:"",dagger:"",Dagger:"",ddagger:"",bull:"",bullet:"",nldr:"",hellip:"",mldr:"",permil:"",pertenk:"",prime:"",Prime:"",tprime:"",bprime:"",lsaquo:"",rsaquo:"",oline:"",caret:"",hybull:"",frasl:"",bsemi:"",qprime:"",MediumSpace:"",NoBreak:"",af:"",it:"",ic:"",euro:"",complexes:"",incare:"",gscr:"",hamilt:"",Poincareplane:"",quaternions:"",planckh:"",plankv:"",imagline:"",image:"",imagpart:"",lagran:"",ell:"",naturals:"",numero:"",copysr:"",weierp:"",wp:"",primes:"",rationals:"",realine:"",real:"",realpart:"",reals:"",rx:"",trade:"",integers:"",mho:"",zeetrf:"",iiota:"",bernou:"",Cfr:"",escr:"",expectation:"",Fscr:"",phmmat:"",oscr:"",alefsym:"",aleph:"",beth:"",gimel:"",daleth:"",DD:"",dd:"",exponentiale:"",ii:"",frac13:"",frac23:"",frac15:"",frac25:"",frac35:"",frac45:"",frac16:"",frac56:"",frac18:"",frac38:"",frac58:"",frac78:"",larr:"",slarr:"",uarr:"",uparrow:"",rarr:"",srarr:"",darr:"",downarrow:"",harr:"",leftrightarrow:"",varr:"",nwarrow:"",nearrow:"",searrow:"",swarrow:"",nleftarrow:"",nrightarrow:"",rightsquigarrow:"",twoheadleftarrow:"",Uarr:"",twoheadrightarrow:"",Darr:"",leftarrowtail:"",rightarrowtail:"",mapstoleft:"",mapstoup:"",mapsto:"",mapstodown:"",larrhk:"",rarrhk:"",looparrowleft:"",rarrlp:"",leftrightsquigarrow:"",nleftrightarrow:"",lsh:"",rsh:"",ldsh:"",rdsh:"",crarr:"",curvearrowleft:"",curvearrowright:"",olarr:"",orarr:"",lharu:"",lhard:"",upharpoonright:"",upharpoonleft:"",rightharpoonup:"",rightharpoondown:"",downharpoonright:"",downharpoonleft:"",rlarr:"",udarr:"",lrarr:"",llarr:"",uuarr:"",rrarr:"",downdownarrows:"",lrhar:"",rlhar:"",nlArr:"",nhArr:"",nrArr:"",lArr:"",uArr:"",rArr:"",dArr:"",hArr:"",iff:"",vArr:"",nwArr:"",neArr:"",seArr:"",swArr:"",lAarr:"",rAarr:"",zigrarr:"",larrb:"",rarrb:"",duarr:"",loarr:"",roarr:"",hoarr:"",forall:"",complement:"",part:"",exist:"",nexists:"",empty:"",varnothing:"",nabla:"",isin:"",isinv:"",notin:"",notinva:"",ni:"",niv:"",notniva:"",prod:"",coprod:"",sum:"",minus:"",mp:"",plusdo:"",ssetmn:"",lowast:"",compfn:"",radic:"",prop:"",vprop:"",infin:"",angrt:"",ang:"",angle:"",measuredangle:"",angsph:"",smid:"",nsmid:"",spar:"",nspar:"",and:"",wedge:"",or:"",vee:"",cap:"",cup:"",int:"",Int:"",tint:"",oint:"",DoubleContourIntegral:"",Cconint:"",cwint:"",cwconint:"",awconint:"",there4:"",therefore:"",because:"",ratio:"",Proportion:"",minusd:"",mDDot:"",homtht:"",sim:"",thksim:"",bsim:"",mstpos:"",acd:"",wreath:"",nsim:"",esim:"",simeq:"",nsimeq:"",cong:"",simne:"",ncong:"",asymp:"",thkap:"",napprox:"",approxeq:"",apid:"",bcong:"",asympeq:"",bump:"",bumpeq:"",esdot:"",eDot:"",fallingdotseq:"",risingdotseq:"",coloneq:"",eqcolon:"",eqcirc:"",cire:"",wedgeq:"",veeeq:"",trie:"",questeq:"",ne:"",equiv:"",nequiv:"",le:"",leq:"",ge:"",geq:"",leqq:"",geqq:"",lneqq:"",gneqq:"",ll:"",gg:"",twixt:"",NotCupCap:"",nlt:"",ngtr:"",nleq:"",ngeq:"",lsim:"",gtrsim:"",nlsim:"",ngsim:"",lg:"",gtrless:"",ntlg:"",ntgl:"",prec:"",succ:"",preccurlyeq:"",succcurlyeq:"",prsim:"",succsim:"",nprec:"",nsucc:"",sub:"",subset:"",sup:"",supset:"",nsub:"",nsup:"",sube:"",subseteq:"",supe:"",supseteq:"",nsubseteq:"",nsupseteq:"",subsetneq:"",supsetneq:"",cupdot:"",uplus:"",sqsubset:"",sqsupset:"",sqsubseteq:"",sqsupseteq:"",sqcap:"",sqcup:"",oplus:"",ominus:"",otimes:"",osol:"",odot:"",ocir:"",oast:"",odash:"",plusb:"",minusb:"",timesb:"",sdotb:"",vdash:"",dashv:"",top:"",perp:"",models:"",vDash:"",Vdash:"",Vvdash:"",VDash:"",nvdash:"",nvDash:"",nVdash:"",nVDash:"",prurel:"",vltri:"",vrtri:"",trianglelefteq:"",trianglerighteq:"",origof:"",imof:"",mumap:"",hercon:"",intercal:"",veebar:"",barvee:"",angrtvb:"",lrtri:"",xwedge:"",xvee:"",xcap:"",xcup:"",diamond:"",sdot:"",sstarf:"",divonx:"",bowtie:"",ltimes:"",rtimes:"",lthree:"",rthree:"",bsime:"",cuvee:"",cuwed:"",Subset:"",Supset:"",Cap:"",Cup:"",pitchfork:"",epar:"",ltdot:"",gtrdot:"",Ll:"",ggg:"",lesseqgtr:"",gtreqless:"",curlyeqprec:"",curlyeqsucc:"",nprcue:"",nsccue:"",nsqsube:"",nsqsupe:"",lnsim:"",gnsim:"",prnsim:"",succnsim:"",ntriangleleft:"",ntriangleright:"",ntrianglelefteq:"",ntrianglerighteq:"",vellip:"",ctdot:"",utdot:"",dtdot:"",disin:"",isinsv:"",isins:"",isindot:"",notinvc:"",notinvb:"",isinE:"",nisd:"",xnis:"",nis:"",notnivc:"",notnivb:"",barwedge:"",doublebarwedge:"",lceil:"",rceil:"",lfloor:"",rfloor:"",drcrop:"",dlcrop:"",urcrop:"",ulcrop:"",bnot:"",profline:"",profsurf:"",telrec:"",target:"",ulcorner:"",urcorner:"",llcorner:"",lrcorner:"",sfrown:"",ssmile:"",lang:"",rang:"",cylcty:"",profalar:"",topbot:"",ovbar:"",solbar:"",angzarr:"",lmoustache:"",rmoustache:"",tbrk:"",bbrk:"",bbrktbrk:"",OverParenthesis:"",UnderParenthesis:"",OverBrace:"",UnderBrace:"",trpezium:"",elinters:"",blank:"",oS:"",boxh:"",boxv:"",boxdr:"",boxdl:"",boxur:"",boxul:"",boxvr:"",boxvl:"",boxhd:"",boxhu:"",boxvh:"",boxH:"",boxV:"",boxdR:"",boxDr:"",boxDR:"",boxdL:"",boxDl:"",boxDL:"",boxuR:"",boxUr:"",boxUR:"",boxuL:"",boxUl:"",boxUL:"",boxvR:"",boxVr:"",boxVR:"",boxvL:"",boxVl:"",boxVL:"",boxHd:"",boxhD:"",boxHD:"",boxHu:"",boxhU:"",boxHU:"",boxvH:"",boxVh:"",boxVH:"",uhblk:"",lhblk:"",block:"",blk14:"",blk12:"",blk34:"",square:"",squf:"",EmptyVerySmallSquare:"",rect:"",marker:"",fltns:"",xutri:"",utrif:"",utri:"",rtrif:"",triangleright:"",xdtri:"",dtrif:"",triangledown:"",ltrif:"",triangleleft:"",loz:"",lozenge:"",cir:"",tridot:"",xcirc:"",ultri:"",urtri:"",lltri:"",EmptySmallSquare:"",FilledSmallSquare:"",starf:"",star:"",phone:"",female:"",male:"",spades:"",spadesuit:"",clubs:"",clubsuit:"",hearts:"",heartsuit:"",diams:"",sung:"",flat:"",natural:"",sharp:"",checkmark:"",cross:"",maltese:"",sext:"",VerticalSeparator:"",lbbrk:"",rbbrk:"",bsolhsub:"",suphsol:"",lobrk:"",robrk:"",langle:"",rangle:"",Lang:"",Rang:"",loang:"",roang:"",xlarr:"",xrarr:"",xharr:"",xlArr:"",xrArr:"",xhArr:"",xmap:"",dzigrarr:"",nvlArr:"",nvrArr:"",nvHarr:"",Map:"",lbarr:"",rbarr:"",lBarr:"",rBarr:"",drbkarow:"",DDotrahd:"",UpArrowBar:"",DownArrowBar:"",Rarrtl:"",latail:"",ratail:"",lAtail:"",rAtail:"",larrfs:"",rarrfs:"",larrbfs:"",rarrbfs:"",nwarhk:"",nearhk:"",searhk:"",swarhk:"",nwnear:"",toea:"",tosa:"",swnwar:"",rarrc:"",cudarrr:"",ldca:"",rdca:"",cudarrl:"",larrpl:"",curarrm:"",cularrp:"",rarrpl:"",harrcir:"",Uarrocir:"",lurdshar:"",ldrushar:"",LeftRightVector:"",RightUpDownVector:"",DownLeftRightVector:"",LeftUpDownVector:"",LeftVectorBar:"",RightVectorBar:"",RightUpVectorBar:"",RightDownVectorBar:"",DownLeftVectorBar:"",DownRightVectorBar:"",LeftUpVectorBar:"",LeftDownVectorBar:"",LeftTeeVector:"",RightTeeVector:"",RightUpTeeVector:"",RightDownTeeVector:"",DownLeftTeeVector:"",DownRightTeeVector:"",LeftUpTeeVector:"",LeftDownTeeVector:"",lHar:"",uHar:"",rHar:"",dHar:"",luruhar:"",ldrdhar:"",ruluhar:"",rdldhar:"",lharul:"",llhard:"",rharul:"",lrhard:"",udhar:"",duhar:"",RoundImplies:"",erarr:"",simrarr:"",larrsim:"",rarrsim:"",rarrap:"",ltlarr:"",gtrarr:"",subrarr:"",suplarr:"",lfisht:"",rfisht:"",ufisht:"",dfisht:"",lopar:"",ropar:"",lbrke:"",rbrke:"",lbrkslu:"",rbrksld:"",lbrksld:"",rbrkslu:"",langd:"",rangd:"",lparlt:"",rpargt:"",gtlPar:"",ltrPar:"",vzigzag:"",vangrt:"",angrtvbd:"",ange:"",range:"",dwangle:"",uwangle:"",angmsdaa:"",angmsdab:"",angmsdac:"",angmsdad:"",angmsdae:"",angmsdaf:"",angmsdag:"",angmsdah:"",bemptyv:"",demptyv:"",cemptyv:"",raemptyv:"",laemptyv:"",ohbar:"",omid:"",opar:"",operp:"",olcross:"",odsold:"",olcir:"",ofcir:"",olt:"",ogt:"",cirscir:"",cirE:"",solb:"",bsolb:"",boxbox:"",trisb:"",rtriltri:"",LeftTriangleBar:"",RightTriangleBar:"",iinfin:"",infintie:"",nvinfin:"",eparsl:"",smeparsl:"",eqvparsl:"",lozf:"",RuleDelayed:"",dsol:"",xodot:"",xoplus:"",xotime:"",xuplus:"",xsqcup:"",qint:"",fpartint:"",cirfnint:"",awint:"",rppolint:"",scpolint:"",npolint:"",pointint:"",quatint:"",intlarhk:"",pluscir:"",plusacir:"",simplus:"",plusdu:"",plussim:"",plustwo:"",mcomma:"",minusdu:"",loplus:"",roplus:"",Cross:"",timesd:"",timesbar:"",smashp:"",lotimes:"",rotimes:"",otimesas:"",Otimes:"",odiv:"",triplus:"",triminus:"",tritime:"",iprod:"",amalg:"",capdot:"",ncup:"",ncap:"",capand:"",cupor:"",cupcap:"",capcup:"",cupbrcap:"",capbrcup:"",cupcup:"",capcap:"",ccups:"",ccaps:"",ccupssm:"",And:"",Or:"",andand:"",oror:"",orslope:"",andslope:"",andv:"",orv:"",andd:"",ord:"",wedbar:"",sdote:"",simdot:"",congdot:"",easter:"",apacir:"",apE:"",eplus:"",pluse:"",Esim:"",Colone:"",Equal:"",eDDot:"",equivDD:"",ltcir:"",gtcir:"",ltquest:"",gtquest:"",les:"",ges:"",lesdot:"",gesdot:"",lesdoto:"",gesdoto:"",lesdotor:"",gesdotol:"",lessapprox:"",gtrapprox:"",lneq:"",gneq:"",lnapprox:"",gnapprox:"",lesseqqgtr:"",gtreqqless:"",lsime:"",gsime:"",lsimg:"",gsiml:"",lgE:"",glE:"",lesges:"",gesles:"",eqslantless:"",eqslantgtr:"",elsdot:"",egsdot:"",el:"",eg:"",siml:"",simg:"",simlE:"",simgE:"",LessLess:"",GreaterGreater:"",glj:"",gla:"",ltcc:"",gtcc:"",lescc:"",gescc:"",smt:"",lat:"",smte:"",late:"",bumpE:"",preceq:"",succeq:"",prE:"",scE:"",prnE:"",succneqq:"",precapprox:"",succapprox:"",prnap:"",succnapprox:"",Pr:"",Sc:"",subdot:"",supdot:"",subplus:"",supplus:"",submult:"",supmult:"",subedot:"",supedot:"",subseteqq:"",supseteqq:"",subsim:"",supsim:"",subsetneqq:"",supsetneqq:"",csub:"",csup:"",csube:"",csupe:"",subsup:"",supsub:"",subsub:"",supsup:"",suphsub:"",supdsub:"",forkv:"",topfork:"",mlcp:"",DoubleLeftTee:"",Vdashl:"",Barv:"",vBar:"",vBarv:"",Vbar:"",Not:"",bNot:"",rnmid:"",cirmid:"",midcir:"",topcir:"",nhpar:"",parsim:"",parsl:"",fflig:"",filig:"",fllig:"",ffilig:"",ffllig:"",Ascr:"",Cscr:"",Dscr:"",Gscr:"",Jscr:"",Kscr:"",Nscr:"",Oscr:"",Pscr:"",Qscr:"",Sscr:"",Tscr:"",Uscr:"",Vscr:"",Wscr:"",Xscr:"",Yscr:"",Zscr:"",ascr:"",bscr:"",cscr:"",dscr:"",fscr:"",hscr:"",iscr:"",jscr:"",kscr:"",lscr:"",mscr:"",nscr:"",pscr:"",qscr:"",rscr:"",sscr:"",tscr:"",uscr:"",vscr:"",wscr:"",xscr:"",yscr:"",zscr:"",Afr:"",Bfr:"",Dfr:"",Efr:"",Ffr:"",Gfr:"",Jfr:"",Kfr:"",Lfr:"",Mfr:"",Nfr:"",Ofr:"",Pfr:"",Qfr:"",Sfr:"",Tfr:"",Ufr:"",Vfr:"",Wfr:"",Xfr:"",Yfr:"",afr:"",bfr:"",cfr:"",dfr:"",efr:"",ffr:"",gfr:"",hfr:"",ifr:"",jfr:"",kfr:"",lfr:"",mfr:"",nfr:"",ofr:"",pfr:"",qfr:"",rfr:"",sfr:"",tfr:"",ufr:"",vfr:"",wfr:"",xfr:"",yfr:"",zfr:"",Aopf:"",Bopf:"",Dopf:"",Eopf:"",Fopf:"",Gopf:"",Iopf:"",Jopf:"",Kopf:"",Lopf:"",Mopf:"",Oopf:"",Sopf:"",Topf:"",Uopf:"",Vopf:"",Wopf:"",Xopf:"",Yopf:"",aopf:"",bopf:"",copf:"",dopf:"",eopf:"",fopf:"",gopf:"",hopf:"",iopf:"",jopf:"",kopf:"",lopf:"",mopf:"",nopf:"",oopf:"",popf:"",qopf:"",ropf:"",sopf:"",topf:"",uopf:"",vopf:"",wopf:"",xopf:"",yopf:"",zopf:""},r={"&":"&amp;",'"':"&quot;","<":"&lt;",">":"&gt;","":"&nbsp;"},i=/&(?:#([0-9]+)|#x([0-9a-f]+)|([a-z0-9]+));/gi,s=/["&<>\xA0]/g,o=/[&<>\xA0]/g;function a(e){var t=r[e];return t||e}t.HTMLDecode=function(e){return e?e.replace(i,function(e,t,r,i){return t?String.fromCharCode(parseInt(t,10)):r?String.fromCharCode(parseInt(r,16)):n[i]||e}):""},t.HTMLEncode=function(e,t){return e?e.replace?t?e.replace(s,a):e.replace(o,a):e:""}},function(e,t,n){var r=n(73).dom.level1.core;n(242),n(243),e.exports=r},function(e,t,n){var r=Object.create(n(73).dom.level1.core);r.Node.prototype.__defineGetter__("textContent",function(){switch(this.nodeType){case this.COMMENT_NODE:case this.CDATA_SECTION_NODE:case this.PROCESSING_INSTRUCTION_NODE:case this.TEXT_NODE:return this.nodeValue;case this.ATTRIBUTE_NODE:case this.DOCUMENT_FRAGMENT_NODE:case this.ELEMENT_NODE:case this.ENTITY_NODE:case this.ENTITY_REFERENCE_NODE:for(var e="",t=0;t<this.childNodes.length;++t)this.childNodes[t].nodeType!==this.COMMENT_NODE&&this.childNodes[t].nodeType!==this.PROCESSING_INSTRUCTION_NODE&&(e+=this.childNodes[t].textContent||"");return e;default:return null}}),r.Node.prototype.__defineSetter__("textContent",function(e){for(var t=this.childNodes.length;--t>=0;)this.removeChild(this.childNodes.item(t));return""!==e&&null!=e&&this.appendChild(this._ownerDocument.createTextNode(e)),e}),t.dom={level3:{core:r}}},function(e,t,n){var r=Object.create(n(73).dom.level1.core),i=n(124).domToHtml;r.Document.prototype.__defineGetter__("outerHTML",function(){return i(this,!0)}),r.Element.prototype.__defineGetter__("outerHTML",function(){return i(this,!0)}),r.Element.prototype.__defineGetter__("innerHTML",function(){if(/^(?:script|style)$/.test(this._tagName)){var e=this.getAttribute("type");if(!e||/^text\//i.test(e)||/\/javascript$/i.test(e))return i(this._childNodes,!0,!0)}return i(this._childNodes,!0)})},function(e,t,n){"use strict";n.r(t),n.d(t,"gfm",function(){return p}),n.d(t,"highlightedCodeBlock",function(){return i}),n.d(t,"strikethrough",function(){return s}),n.d(t,"tables",function(){return h}),n.d(t,"taskListItems",function(){return d});var r=/highlight-(?:text|source)-([a-z0-9]+)/;function i(e){e.addRule("highlightedCodeBlock",{filter:function(e){var t=e.firstChild;return"DIV"===e.nodeName&&r.test(e.getAttribute("class"))&&t&&"PRE"===t.nodeName},replacement:function(e,t,n){var i=((t.getAttribute("class")||"").match(r)||[null,""])[1];return"\n\n"+n.fence+i+"\n"+t.firstChild.textContent+"\n"+n.fence+"\n\n"}})}function s(e){e.addRule("strikethrough",{filter:["del","s","strike"],replacement:function(e){return"~"+e+"~"}})}var o=Array.prototype.indexOf,a=Array.prototype.every,c={};function u(e){var t,n,r=e.parentNode;return"THEAD"===r.nodeName||r.firstChild===e&&("TABLE"===r.nodeName||(n=(t=r).previousSibling,"TBODY"===t.nodeName&&(!n||"THEAD"===n.nodeName&&/^\s*$/i.test(n.textContent))))&&a.call(e.childNodes,function(e){return"TH"===e.nodeName})}function l(e,t){var n=" ";return 0===o.call(t.parentNode.childNodes,t)&&(n="| "),n+e+" |"}function h(e){for(var t in e.keep(function(e){return"TABLE"===e.nodeName&&!u(e.getElementsByTagName("tr")[0])}),c)e.addRule(t,c[t])}function d(e){e.addRule("taskListItems",{filter:function(e){return"checkbox"===e.getAttribute("type")&&"LI"===e.parentNode.nodeName},replacement:function(e,t){return(null!==t.getAttribute("checked")?"[x]":"[ ]")+" "}})}function p(e){e.use([i,s,h,d])}c.tableCell={filter:["th","td"],replacement:function(e,t){return l(e,t)}},c.tableRow={filter:"tr",replacement:function(e,t){var n="",r={left:":--",right:"--:",center:":-:"};if(u(t))for(var i=0;i<t.childNodes.length;i++){var s="---",o=(t.childNodes[i].getAttribute("align")||"").toLowerCase();o&&(s=r[o]||s),n+=l(s,t.childNodes[i])}return"\n"+e+(n?"\n"+n:"")}},c.table={filter:function(e){return"TABLE"===e.nodeName&&u(e.getElementsByTagName("tr")[0])},replacement:function(e){return"\n\n"+(e=e.replace("\n\n","\n"))+"\n\n"}},c.tableSection={filter:["thead","tbody","tfoot"],replacement:function(e){return e}}},function(e,t,n){e.exports=n(246)},function(e,t,n){var r=n(247),i=n(128),s=n(54),o=n(144),a=n(321),c=["style","script"];function u(e,t,n){var r=null,i=o.splitCssSearchTag(n);return function e(t){r||t.forEach(function(t){if(!r){if(t.name===i.element){var n=t.attribs&&t.attribs.class?t.attribs.class.split(" "):[],s=t.attribs&&t.attribs.id?t.attribs.id.split(" "):[];if(i.classes.every(function(e){return n.indexOf(e)>=0})&&i.ids.every(function(e){return s.indexOf(e)>=0}))return void(r=[t])}t.children&&e(t.children)}})}(e),t.returnDomByDefault?r||e:r}function l(e,t,n){arguments.length<3&&(n="");var i=/\s$/,s=Object.assign({},a,t.format);return e?(e.forEach(function(e){switch(e.type){case"tag":switch(e.name.toLowerCase()){case"img":n+=s.image(e,t);break;case"a":e.trimLeadingSpace=i.test(n),n+=s.anchor(e,l,t);break;case"p":n+=s.paragraph(e,l,t);break;case"h1":case"h2":case"h3":case"h4":case"h5":case"h6":n+=s.heading(e,l,t);break;case"br":n+=s.lineBreak(e,l,t);break;case"hr":n+=s.horizontalLine(e,l,t);break;case"ul":n+=s.unorderedList(e,l,t);break;case"ol":n+=s.orderedList(e,l,t);break;case"pre":var o=Object.assign({},t);o.isInPre=!0,n+=s.paragraph(e,l,o);break;case"table":n=function(e,t){if(!0===t)return!0;function n(e){return e.substr(1)}function i(e,t){return e.filter(function(e){return function(t){return t.startsWith(e)}}(t)).map(n)}var s=i(t,"."),o=i(t,"#");return e&&(r(s,e.class)||r(o,e.id))}(e.attribs,t.tables)?n+s.table(e,l,t):l(e.children||[],t,n);break;case"blockquote":n+=s.blockquote(e,l,t);break;default:n=l(e.children||[],t,n)}break;case"text":"\r\n"!==e.data&&(e.trimLeadingSpace=i.test(n),n+=s.text(e,t));break;default:r(c,e.type)||(n=l(e.children||[],t,n))}t.lineCharCount=n.length-(n.lastIndexOf("\n")+1)}),n):n}t.fromString=function(e,t){return function(e,t){t=Object.assign({wordwrap:80,tables:[],preserveNewlines:!1,uppercaseHeadings:!0,singleNewLineParagraphs:!1,hideLinkHrefIfSameAsText:!1,linkHrefBaseUrl:null,noLinkBrackets:!1,noAnchorUrl:!0,baseElement:"body",returnDomByDefault:!0,format:{},decodeOptions:{isAttributeValue:!1,strict:!1},longWordSplit:{wrapCharacters:[],forceWrapOnLimit:!1},unorderedListItemPrefix:" * "},t||{});var n=new s.DefaultHandler(function(e,t){},{verbose:!0});new s.Parser(n).parseComplete(e),t.lineCharCount=0;for(var r="",o=Array.isArray(t.baseElement)?t.baseElement:[t.baseElement],a=0;a<o.length;++a)r+=l(u(n.dom,t,o[a]),t);return i(r)}(e,t||{})}},function(e,t,n){var r=n(74),i=n(75),s=n(253),o=n(80),a=n(256),c=Math.max;e.exports=function(e,t,n,u){e=i(e)?e:a(e),n=n&&!u?o(n):0;var l=e.length;return n<0&&(n=c(l+n,0)),s(e)?n<=l&&e.indexOf(t,n)>-1:!!l&&r(e,t,n)>-1}},function(e,t){e.exports=function(e,t,n,r){for(var i=e.length,s=n+(r?1:-1);r?s--:++s<i;)if(t(e[s],s,e))return s;return-1}},function(e,t){e.exports=function(e){return e!=e}},function(e,t){e.exports=function(e,t,n){for(var r=n-1,i=e.length;++r<i;)if(e[r]===t)return r;return-1}},function(e,t,n){var r=n(76),i=Object.prototype,s=i.hasOwnProperty,o=i.toString,a=r?r.toStringTag:void 0;e.exports=function(e){var t=s.call(e,a),n=e[a];try{e[a]=void 0;var r=!0}catch(e){}var i=o.call(e);return r&&(t?e[a]=n:delete e[a]),i}},function(e,t){var n=Object.prototype.toString;e.exports=function(e){return n.call(e)}},function(e,t,n){var r=n(41),i=n(79),s=n(29),o="[object String]";e.exports=function(e){return"string"==typeof e||!i(e)&&s(e)&&r(e)==o}},function(e,t,n){var r=n(255),i=1/0,s=1.7976931348623157e308;e.exports=function(e){return e?(e=r(e))===i||e===-i?(e<0?-1:1)*s:e==e?e:0:0===e?e:0}},function(e,t,n){var r=n(78),i=n(81),s=NaN,o=/^\s+|\s+$/g,a=/^[-+]0x[0-9a-f]+$/i,c=/^0b[01]+$/i,u=/^0o[0-7]+$/i,l=parseInt;e.exports=function(e){if("number"==typeof e)return e;if(i(e))return s;if(r(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=r(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(o,"");var n=c.test(e);return n||u.test(e)?l(e.slice(2),n?2:8):a.test(e)?s:+e}},function(e,t,n){var r=n(257),i=n(258);e.exports=function(e){return null==e?[]:r(e,i(e))}},function(e,t,n){var r=n(82);e.exports=function(e,t){return r(t,function(t){return e[t]})}},function(e,t,n){var r=n(259),i=n(269),s=n(75);e.exports=function(e){return s(e)?r(e):i(e)}},function(e,t,n){var r=n(83),i=n(260),s=n(79),o=n(262),a=n(264),c=n(265),u=Object.prototype.hasOwnProperty;e.exports=function(e,t){var n=s(e),l=!n&&i(e),h=!n&&!l&&o(e),d=!n&&!l&&!h&&c(e),p=n||l||h||d,f=p?r(e.length,String):[],_=f.length;for(var m in e)!t&&!u.call(e,m)||p&&("length"==m||h&&("offset"==m||"parent"==m)||d&&("buffer"==m||"byteLength"==m||"byteOffset"==m)||a(m,_))||f.push(m);return f}},function(e,t,n){var r=n(261),i=n(29),s=Object.prototype,o=s.hasOwnProperty,a=s.propertyIsEnumerable,c=r(function(){return arguments}())?r:function(e){return i(e)&&o.call(e,"callee")&&!a.call(e,"callee")};e.exports=c},function(e,t,n){var r=n(41),i=n(29),s="[object Arguments]";e.exports=function(e){return i(e)&&r(e)==s}},function(e,t,n){(function(e){var r=n(77),i=n(263),s=t&&!t.nodeType&&t,o=s&&"object"==typeof e&&e&&!e.nodeType&&e,a=o&&o.exports===s?r.Buffer:void 0,c=(a?a.isBuffer:void 0)||i;e.exports=c}).call(this,n(84)(e))},function(e,t){e.exports=function(){return!1}},function(e,t){var n=9007199254740991,r=/^(?:0|[1-9]\d*)$/;e.exports=function(e,t){var i=typeof e;return!!(t=null==t?n:t)&&("number"==i||"symbol"!=i&&r.test(e))&&e>-1&&e%1==0&&e<t}},function(e,t,n){var r=n(266),i=n(267),s=n(268),o=s&&s.isTypedArray,a=o?i(o):r;e.exports=a},function(e,t,n){var r=n(41),i=n(127),s=n(29),o={};o["[object Float32Array]"]=o["[object Float64Array]"]=o["[object Int8Array]"]=o["[object Int16Array]"]=o["[object Int32Array]"]=o["[object Uint8Array]"]=o["[object Uint8ClampedArray]"]=o["[object Uint16Array]"]=o["[object Uint32Array]"]=!0,o["[object Arguments]"]=o["[object Array]"]=o["[object ArrayBuffer]"]=o["[object Boolean]"]=o["[object DataView]"]=o["[object Date]"]=o["[object Error]"]=o["[object Function]"]=o["[object Map]"]=o["[object Number]"]=o["[object Object]"]=o["[object RegExp]"]=o["[object Set]"]=o["[object String]"]=o["[object WeakMap]"]=!1,e.exports=function(e){return s(e)&&i(e.length)&&!!o[r(e)]}},function(e,t){e.exports=function(e){return function(t){return e(t)}}},function(e,t,n){(function(e){var r=n(126),i=t&&!t.nodeType&&t,s=i&&"object"==typeof e&&e&&!e.nodeType&&e,o=s&&s.exports===i&&r.process,a=function(){try{var e=s&&s.require&&s.require("util").types;return e||o&&o.binding&&o.binding("util")}catch(e){}}();e.exports=a}).call(this,n(84)(e))},function(e,t,n){var r=n(270),i=n(271),s=Object.prototype.hasOwnProperty;e.exports=function(e){if(!r(e))return i(e);var t=[];for(var n in Object(e))s.call(e,n)&&"constructor"!=n&&t.push(n);return t}},function(e,t){var n=Object.prototype;e.exports=function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||n)}},function(e,t,n){var r=n(272)(Object.keys,Object);e.exports=r},function(e,t){e.exports=function(e,t){return function(n){return e(t(n))}}},function(e,t){e.exports=function(e,t,n){var r=-1,i=e.length;t<0&&(t=-t>i?0:i+t),(n=n>i?i:n)<0&&(n+=i),i=t>n?0:n-t>>>0,t>>>=0;for(var s=Array(i);++r<i;)s[r]=e[r+t];return s}},function(e,t,n){var r=n(74);e.exports=function(e,t){for(var n=e.length;n--&&r(t,e[n],0)>-1;);return n}},function(e,t){e.exports=function(e){return e.split("")}},function(e,t){var n="[\\ud800-\\udfff]",r="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",i="\\ud83c[\\udffb-\\udfff]",s="[^\\ud800-\\udfff]",o="(?:\\ud83c[\\udde6-\\uddff]){2}",a="[\\ud800-\\udbff][\\udc00-\\udfff]",c="(?:"+r+"|"+i+")"+"?",u="[\\ufe0e\\ufe0f]?"+c+("(?:\\u200d(?:"+[s,o,a].join("|")+")[\\ufe0e\\ufe0f]?"+c+")*"),l="(?:"+[s+r+"?",r,o,a,n].join("|")+")",h=RegExp(i+"(?="+i+")|"+l+u,"g");e.exports=function(e){return e.match(h)||[]}},function(e){e.exports=JSON.parse('{"0":65533,"128":8364,"130":8218,"131":402,"132":8222,"133":8230,"134":8224,"135":8225,"136":710,"137":8240,"138":352,"139":8249,"140":338,"142":381,"145":8216,"146":8217,"147":8220,"148":8221,"149":8226,"150":8211,"151":8212,"152":732,"153":8482,"154":353,"155":8250,"156":339,"158":382,"159":376}')},function(e,t){"function"==typeof Object.create?e.exports=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:e.exports=function(e,t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}},function(e,t,n){var r=n(134),i=e.exports=Object.create(r),s={tagName:"name"};Object.keys(s).forEach(function(e){var t=s[e];Object.defineProperty(i,e,{get:function(){return this[t]||null},set:function(e){return this[t]=e,e}})})},function(e,t,n){var r=n(133),i=n(135);function s(e,t){this.init(e,t)}function o(e,t){return i.getElementsByTagName(e,t,!0)}function a(e,t){return i.getElementsByTagName(e,t,!0,1)[0]}function c(e,t,n){return i.getText(i.getElementsByTagName(e,t,n,1)).trim()}function u(e,t,n,r,i){var s=c(n,r,i);s&&(e[t]=s)}n(22)(s,r),s.prototype.init=r;var l=function(e){return"rss"===e||"feed"===e||"rdf:RDF"===e};s.prototype.onend=function(){var e,t,n={},i=a(l,this.dom);i&&("feed"===i.name?(t=i.children,n.type="atom",u(n,"id","id",t),u(n,"title","title",t),(e=a("link",t))&&(e=e.attribs)&&(e=e.href)&&(n.link=e),u(n,"description","subtitle",t),(e=c("updated",t))&&(n.updated=new Date(e)),u(n,"author","email",t,!0),n.items=o("entry",t).map(function(e){var t,n={};return u(n,"id","id",e=e.children),u(n,"title","title",e),(t=a("link",e))&&(t=t.attribs)&&(t=t.href)&&(n.link=t),(t=c("summary",e)||c("content",e))&&(n.description=t),(t=c("updated",e))&&(n.pubDate=new Date(t)),n})):(t=a("channel",i.children).children,n.type=i.name.substr(0,3),n.id="",u(n,"title","title",t),u(n,"link","link",t),u(n,"description","description",t),(e=c("lastBuildDate",t))&&(n.updated=new Date(e)),u(n,"author","managingEditor",t,!0),n.items=o("item",i.children).map(function(e){var t,n={};return u(n,"id","guid",e=e.children),u(n,"title","title",e),u(n,"link","link",e),u(n,"description","description",e),(t=c("pubDate",e))&&(n.pubDate=new Date(t)),n}))),this.dom=n,r.prototype._handleCallback.call(this,i?null:Error("couldn't find root of feed"))},e.exports=s},function(e,t,n){var r=n(30),i=n(282),s=r.isTag;e.exports={getInnerHTML:function(e,t){return e.children?e.children.map(function(e){return i(e,t)}).join(""):""},getOuterHTML:i,getText:function e(t){if(Array.isArray(t))return t.map(e).join("");if(s(t))return"br"===t.name?"\n":e(t.children);if(t.type===r.CDATA)return e(t.children);if(t.type===r.Text)return t.data;return""}}},function(e,t,n){var r=n(30),i=n(283),s={__proto__:null,style:!0,script:!0,xmp:!0,iframe:!0,noembed:!0,noframes:!0,plaintext:!0,noscript:!0};var o={__proto__:null,area:!0,base:!0,basefont:!0,br:!0,col:!0,command:!0,embed:!0,frame:!0,hr:!0,img:!0,input:!0,isindex:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0},a=e.exports=function(e,t){Array.isArray(e)||e.cheerio||(e=[e]),t=t||{};for(var n="",i=0;i<e.length;i++){var s=e[i];"root"===s.type?n+=a(s.children,t):r.isTag(s)?n+=c(s,t):s.type===r.Directive?n+=u(s):s.type===r.Comment?n+=d(s):s.type===r.CDATA?n+=h(s):n+=l(s,t)}return n};function c(e,t){"svg"===e.name&&(t={decodeEntities:t.decodeEntities,xmlMode:!0});var n="<"+e.name,r=function(e,t){if(e){var n,r="";for(var s in e)r&&(r+=" "),r+=s,(null!==(n=e[s])&&""!==n||t.xmlMode)&&(r+='="'+(t.decodeEntities?i.encodeXML(n):n)+'"');return r}}(e.attribs,t);return r&&(n+=" "+r),!t.xmlMode||e.children&&0!==e.children.length?(n+=">",e.children&&(n+=a(e.children,t)),o[e.name]&&!t.xmlMode||(n+="</"+e.name+">")):n+="/>",n}function u(e){return"<"+e.data+">"}function l(e,t){var n=e.data||"";return!t.decodeEntities||e.parent&&e.parent.name in s||(n=i.encodeXML(n)),n}function h(e){return"<![CDATA["+e.children[0].data+"]]>"}function d(e){return"\x3c!--"+e.data+"--\x3e"}},function(e,t,n){var r=n(284),i=n(285);t.decode=function(e,t){return(!t||t<=0?i.XML:i.HTML)(e)},t.decodeStrict=function(e,t){return(!t||t<=0?i.XML:i.HTMLStrict)(e)},t.encode=function(e,t){return(!t||t<=0?r.XML:r.HTML)(e)},t.encodeXML=r.XML,t.encodeHTML4=t.encodeHTML5=t.encodeHTML=r.HTML,t.decodeXML=t.decodeXMLStrict=i.XML,t.decodeHTML4=t.decodeHTML5=t.decodeHTML=i.HTML,t.decodeHTML4Strict=t.decodeHTML5Strict=t.decodeHTMLStrict=i.HTMLStrict,t.escape=r.escape},function(e,t,n){var r=a(n(90)),i=c(r);t.XML=p(r,i);var s=a(n(89)),o=c(s);function a(e){return Object.keys(e).sort().reduce(function(t,n){return t[e[n]]="&"+n+";",t},{})}function c(e){var t=[],n=[];return Object.keys(e).forEach(function(e){1===e.length?t.push("\\"+e):n.push(e)}),n.unshift("["+t.join("")+"]"),new RegExp(n.join("|"),"g")}t.HTML=p(s,o);var u=/[^\0-\x7F]/g,l=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g;function h(e){return"&#x"+e.charCodeAt(0).toString(16).toUpperCase()+";"}function d(e){return"&#x"+(1024*(e.charCodeAt(0)-55296)+e.charCodeAt(1)-56320+65536).toString(16).toUpperCase()+";"}function p(e,t){function n(t){return e[t]}return function(e){return e.replace(t,n).replace(l,d).replace(u,h)}}var f=c(r);t.escape=function(e){return e.replace(f,h).replace(l,d).replace(u,h)}},function(e,t,n){var r=n(89),i=n(132),s=n(90),o=n(131),a=u(s),c=u(r);function u(e){var t=Object.keys(e).join("|"),n=d(e),r=new RegExp("&(?:"+(t+="|#[xX][\\da-fA-F]+|#\\d+")+");","g");return function(e){return String(e).replace(r,n)}}var l=function(){for(var e=Object.keys(i).sort(h),t=Object.keys(r).sort(h),n=0,s=0;n<t.length;n++)e[s]===t[n]?(t[n]+=";?",s++):t[n]+=";";var o=new RegExp("&(?:"+t.join("|")+"|#[xX][\\da-fA-F]+;?|#\\d+;?)","g"),a=d(r);function c(e){return";"!==e.substr(-1)&&(e+=";"),a(e)}return function(e){return String(e).replace(o,c)}}();function h(e,t){return e<t?1:-1}function d(e){return function(t){return"#"===t.charAt(1)?"X"===t.charAt(2)||"x"===t.charAt(2)?o(parseInt(t.substr(3),16)):o(parseInt(t.substr(2),10)):e[t.slice(1,-1)]}}e.exports={XML:a,HTML:l,HTMLStrict:c}},function(e,t){var n=t.getChildren=function(e){return e.children},r=t.getParent=function(e){return e.parent};t.getSiblings=function(e){var t=r(e);return t?n(t):[e]},t.getAttributeValue=function(e,t){return e.attribs&&e.attribs[t]},t.hasAttrib=function(e,t){return!!e.attribs&&hasOwnProperty.call(e.attribs,t)},t.getName=function(e){return e.name}},function(e,t){t.removeElement=function(e){if(e.prev&&(e.prev.next=e.next),e.next&&(e.next.prev=e.prev),e.parent){var t=e.parent.children;t.splice(t.lastIndexOf(e),1)}},t.replaceElement=function(e,t){var n=t.prev=e.prev;n&&(n.next=t);var r=t.next=e.next;r&&(r.prev=t);var i=t.parent=e.parent;if(i){var s=i.children;s[s.lastIndexOf(e)]=t}},t.appendChild=function(e,t){if(t.parent=e,1!==e.children.push(t)){var n=e.children[e.children.length-2];n.next=t,t.prev=n,t.next=null}},t.append=function(e,t){var n=e.parent,r=e.next;if(t.next=r,t.prev=e,e.next=t,t.parent=n,r){if(r.prev=t,n){var i=n.children;i.splice(i.lastIndexOf(r),0,t)}}else n&&n.children.push(t)},t.prepend=function(e,t){var n=e.parent;if(n){var r=n.children;r.splice(r.lastIndexOf(e),0,t)}e.prev&&(e.prev.next=t),t.parent=n,t.prev=e.prev,t.next=e,e.prev=t}},function(e,t,n){var r=n(30).isTag;function i(e,t,n,r){for(var s,o=[],a=0,c=t.length;a<c&&!(e(t[a])&&(o.push(t[a]),--r<=0))&&(s=t[a].children,!(n&&s&&s.length>0&&(s=i(e,s,n,r),o=o.concat(s),(r-=s.length)<=0)));a++);return o}e.exports={filter:function(e,t,n,r){Array.isArray(t)||(t=[t]);"number"==typeof r&&isFinite(r)||(r=1/0);return i(e,t,!1!==n,r)},find:i,findOneChild:function(e,t){for(var n=0,r=t.length;n<r;n++)if(e(t[n]))return t[n];return null},findOne:function e(t,n){var i=null;for(var s=0,o=n.length;s<o&&!i;s++)r(n[s])&&(t(n[s])?i=n[s]:n[s].children.length>0&&(i=e(t,n[s].children)));return i},existsOne:function e(t,n){for(var i=0,s=n.length;i<s;i++)if(r(n[i])&&(t(n[i])||n[i].children.length>0&&e(t,n[i].children)))return!0;return!1},findAll:function(e,t){var n=[],i=t.slice();for(;i.length;){var s=i.shift();r(s)&&(s.children&&s.children.length>0&&i.unshift.apply(i,s.children),e(s)&&n.push(s))}return n}}},function(e,t,n){var r=n(30),i=t.isTag=r.isTag;t.testElement=function(e,t){for(var n in e)if(e.hasOwnProperty(n)){if("tag_name"===n){if(!i(t)||!e.tag_name(t.name))return!1}else if("tag_type"===n){if(!e.tag_type(t.type))return!1}else if("tag_contains"===n){if(i(t)||!e.tag_contains(t.data))return!1}else if(!t.attribs||!e[n](t.attribs[n]))return!1}else;return!0};var s={tag_name:function(e){return"function"==typeof e?function(t){return i(t)&&e(t.name)}:"*"===e?i:function(t){return i(t)&&t.name===e}},tag_type:function(e){return"function"==typeof e?function(t){return e(t.type)}:function(t){return t.type===e}},tag_contains:function(e){return"function"==typeof e?function(t){return!i(t)&&e(t.data)}:function(t){return!i(t)&&t.data===e}}};function o(e,t){return"function"==typeof t?function(n){return n.attribs&&t(n.attribs[e])}:function(n){return n.attribs&&n.attribs[e]===t}}function a(e,t){return function(n){return e(n)||t(n)}}t.getElements=function(e,t,n,r){var i=Object.keys(e).map(function(t){var n=e[t];return t in s?s[t](n):o(t,n)});return 0===i.length?[]:this.filter(i.reduce(a),t,n,r)},t.getElementById=function(e,t,n){return Array.isArray(t)||(t=[t]),this.findOne(o("id",e),t,!1!==n)},t.getElementsByTagName=function(e,t,n,r){return this.filter(s.tag_name(e),t,n,r)},t.getElementsByTagType=function(e,t,n,r){return this.filter(s.tag_type(e),t,n,r)}},function(e,t){t.removeSubsets=function(e){for(var t,n,r,i=e.length;--i>-1;){for(t=n=e[i],e[i]=null,r=!0;n;){if(e.indexOf(n)>-1){r=!1,e.splice(i,1);break}n=n.parent}r&&(e[i]=t)}return e};var n=1,r=2,i=4,s=8,o=16,a=t.compareDocumentPosition=function(e,t){var a,c,u,l,h,d,p=[],f=[];if(e===t)return 0;for(a=e;a;)p.unshift(a),a=a.parent;for(a=t;a;)f.unshift(a),a=a.parent;for(d=0;p[d]===f[d];)d++;return 0===d?n:(u=(c=p[d-1]).children,l=p[d],h=f[d],u.indexOf(l)>u.indexOf(h)?c===t?i|o:i:c===e?r|s:r)};t.uniqueSort=function(e){var t,n,s=e.length;for(e=e.slice();--s>-1;)t=e[s],(n=e.indexOf(t))>-1&&n<s&&e.splice(s,1);return e.sort(function(e,t){var n=a(e,t);return n&r?-1:n&i?1:0}),e}},function(e,t,n){e.exports=i;var r=n(136);function i(e){r.call(this,new s(this),e)}function s(e){this.scope=e}n(22)(i,r),i.prototype.readable=!0;var o=n(54).EVENTS;Object.keys(o).forEach(function(e){if(0===o[e])s.prototype["on"+e]=function(){this.scope.emit(e)};else if(1===o[e])s.prototype["on"+e]=function(t){this.scope.emit(e,t)};else{if(2!==o[e])throw Error("wrong number of arguments!");s.prototype["on"+e]=function(t,n){this.scope.emit(e,t,n)}}})},function(e,t,n){var r=n(23);"disable"===process.env.READABLE_STREAM&&r?(e.exports=r.Readable,Object.assign(e.exports,r),e.exports.Stream=r):((t=e.exports=n(137)).Stream=r||t,t.Readable=t,t.Writable=n(141),t.Duplex=n(32),t.Transform=n(143),t.PassThrough=n(298),t.finished=n(91),t.pipeline=n(299))},function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var i=n(42).Buffer,s=n(16).inspect,o=s&&s.custom||"inspect";e.exports=function(){function e(){this.head=null,this.tail=null,this.length=0}var t=e.prototype;return t.push=function(e){var t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length},t.unshift=function(e){var t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length},t.shift=function(){if(0!==this.length){var e=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,e}},t.clear=function(){this.head=this.tail=null,this.length=0},t.join=function(e){if(0===this.length)return"";for(var t=this.head,n=""+t.data;t=t.next;)n+=e+t.data;return n},t.concat=function(e){if(0===this.length)return i.alloc(0);for(var t,n,r,s=i.allocUnsafe(e>>>0),o=this.head,a=0;o;)t=o.data,n=s,r=a,i.prototype.copy.call(t,n,r),a+=o.data.length,o=o.next;return s},t.consume=function(e,t){var n;return e<this.head.data.length?(n=this.head.data.slice(0,e),this.head.data=this.head.data.slice(e)):n=e===this.head.data.length?this.shift():t?this._getString(e):this._getBuffer(e),n},t.first=function(){return this.head.data},t._getString=function(e){var t=this.head,n=1,r=t.data;for(e-=r.length;t=t.next;){var i=t.data,s=e>i.length?i.length:e;if(s===i.length?r+=i:r+=i.slice(0,e),0===(e-=s)){s===i.length?(++n,t.next?this.head=t.next:this.head=this.tail=null):(this.head=t,t.data=i.slice(s));break}++n}return this.length-=n,r},t._getBuffer=function(e){var t=i.allocUnsafe(e),n=this.head,r=1;for(n.data.copy(t),e-=n.data.length;n=n.next;){var s=n.data,o=e>s.length?s.length:e;if(s.copy(t,t.length-e,0,o),0===(e-=o)){o===s.length?(++r,n.next?this.head=n.next:this.head=this.tail=null):(this.head=n,n.data=s.slice(o));break}++r}return this.length-=r,t},t[o]=function(e,t){return s(this,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},i=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),i.forEach(function(t){r(e,t,n[t])})}return e}({},t,{depth:0,customInspect:!1}))},e}()},function(e,t,n){"use strict";var r=new Set;e.exports.emitExperimentalWarning=process.emitWarning?function(e){if(!r.has(e)){var t=e+" is an experimental feature. This feature could change at any time";r.add(e),process.emitWarning(t,"ExperimentalWarning")}}:function(){}},function(e,t,n){e.exports=n(16).deprecate},function(e,t,n){var r=n(42),i=r.Buffer;function s(e,t){for(var n in e)t[n]=e[n]}function o(e,t,n){return i(e,t,n)}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?e.exports=r:(s(r,t),t.Buffer=o),s(i,o),o.from=function(e,t,n){if("number"==typeof e)throw new TypeError("Argument must not be a number");return i(e,t,n)},o.alloc=function(e,t,n){if("number"!=typeof e)throw new TypeError("Argument must be a number");var r=i(e);return void 0!==t?"string"==typeof n?r.fill(t,n):r.fill(t):r.fill(0),r},o.allocUnsafe=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return i(e)},o.allocUnsafeSlow=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return r.SlowBuffer(e)}},function(e,t,n){"use strict";var r;function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var s=n(91),o=Symbol("lastResolve"),a=Symbol("lastReject"),c=Symbol("error"),u=Symbol("ended"),l=Symbol("lastPromise"),h=Symbol("handlePromise"),d=Symbol("stream");function p(e,t){return{value:e,done:t}}function f(e){var t=e[o];if(null!==t){var n=e[d].read();null!==n&&(e[l]=null,e[o]=null,e[a]=null,t(p(n,!1)))}}var _=Object.getPrototypeOf(function(){}),m=Object.setPrototypeOf((i(r={get stream(){return this[d]},next:function(){var e=this,t=this[c];if(null!==t)return Promise.reject(t);if(this[u])return Promise.resolve(p(void 0,!0));if(this[d].destroyed)return new Promise(function(t,n){process.nextTick(function(){e[c]?n(e[c]):t(p(void 0,!0))})});var n,r=this[l];if(r)n=new Promise(function(e,t){return function(n,r){e.then(function(){t[u]?n(p(void 0,!0)):t[h](n,r)},r)}}(r,this));else{var i=this[d].read();if(null!==i)return Promise.resolve(p(i,!1));n=new Promise(this[h])}return this[l]=n,n}},Symbol.asyncIterator,function(){return this}),i(r,"return",function(){var e=this;return new Promise(function(t,n){e[d].destroy(null,function(e){e?n(e):t(p(void 0,!0))})})}),r),_);e.exports=function(e){var t,n=Object.create(m,(i(t={},d,{value:e,writable:!0}),i(t,o,{value:null,writable:!0}),i(t,a,{value:null,writable:!0}),i(t,c,{value:null,writable:!0}),i(t,u,{value:e._readableState.endEmitted,writable:!0}),i(t,h,{value:function(e,t){var r=n[d].read();r?(n[l]=null,n[o]=null,n[a]=null,e(p(r,!1))):(n[o]=e,n[a]=t)},writable:!0}),t));return n[l]=null,s(e,function(e){if(e&&"ERR_STREAM_PREMATURE_CLOSE"!==e.code){var t=n[a];return null!==t&&(n[l]=null,n[o]=null,n[a]=null,t(e)),void(n[c]=e)}var r=n[o];null!==r&&(n[l]=null,n[o]=null,n[a]=null,r(p(void 0,!0))),n[u]=!0}),e.on("readable",function(e){process.nextTick(f,e)}.bind(null,n)),n}},function(e,t,n){"use strict";e.exports=i;var r=n(143);function i(e){if(!(this instanceof i))return new i(e);r.call(this,e)}n(22)(i,r),i.prototype._transform=function(e,t,n){n(null,e)}},function(e,t,n){"use strict";var r;var i=n(31).codes,s=i.ERR_MISSING_ARGS,o=i.ERR_STREAM_DESTROYED;function a(e){if(e)throw e}function c(e){e()}function u(e,t){return e.pipe(t)}e.exports=function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];var l,h=function(e){return e.length?"function"!=typeof e[e.length-1]?a:e.pop():a}(t);if(Array.isArray(t[0])&&(t=t[0]),t.length<2)throw new s("streams");var d=t.map(function(e,i){var s=i<t.length-1;return function(e,t,i,s){s=function(e){var t=!1;return function(){t||(t=!0,e.apply(void 0,arguments))}}(s);var a=!1;e.on("close",function(){a=!0}),void 0===r&&(r=n(91)),r(e,{readable:t,writable:i},function(e){if(e)return s(e);a=!0,s()});var c=!1;return function(t){if(!a&&!c)return c=!0,function(e){return e.setHeader&&"function"==typeof e.abort}(e)?e.abort():"function"==typeof e.destroy?e.destroy():void s(t||new o("pipe"))}}(e,s,i>0,function(e){l||(l=e),e&&d.forEach(c),s||(d.forEach(c),h(l))})});return t.reduce(u)}},function(e,t){e.exports=require("string_decoder")},function(e,t,n){function r(e){this._cbs=e||{}}e.exports=r;var i=n(54).EVENTS;Object.keys(i).forEach(function(e){if(0===i[e])e="on"+e,r.prototype[e]=function(){this._cbs[e]&&this._cbs[e]()};else if(1===i[e])e="on"+e,r.prototype[e]=function(t){this._cbs[e]&&this._cbs[e](t)};else{if(2!==i[e])throw Error("wrong number of arguments");e="on"+e,r.prototype[e]=function(t,n){this._cbs[e]&&this._cbs[e](t,n)}}})},function(e,t,n){function r(e){this._cbs=e||{},this.events=[]}e.exports=r;var i=n(54).EVENTS;Object.keys(i).forEach(function(e){if(0===i[e])e="on"+e,r.prototype[e]=function(){this.events.push([e]),this._cbs[e]&&this._cbs[e]()};else if(1===i[e])e="on"+e,r.prototype[e]=function(t){this.events.push([e,t]),this._cbs[e]&&this._cbs[e](t)};else{if(2!==i[e])throw Error("wrong number of arguments");e="on"+e,r.prototype[e]=function(t,n){this.events.push([e,t,n]),this._cbs[e]&&this._cbs[e](t,n)}}}),r.prototype.onreset=function(){this.events=[],this._cbs.onreset&&this._cbs.onreset()},r.prototype.restart=function(){this._cbs.onreset&&this._cbs.onreset();for(var e=0,t=this.events.length;e<t;e++)if(this._cbs[this.events[e][0]]){var n=this.events[e].length;1===n?this._cbs[this.events[e][0]]():2===n?this._cbs[this.events[e][0]](this.events[e][1]):this._cbs[this.events[e][0]](this.events[e][1],this.events[e][2])}}},function(e,t,n){var r=n(304)(n(318));e.exports=r},function(e,t,n){var r=n(56),i=n(305),s=n(307);e.exports=function(e,t){return s(i(e,t,r),e+"")}},function(e,t,n){var r=n(306),i=Math.max;e.exports=function(e,t,n){return t=i(void 0===t?e.length-1:t,0),function(){for(var s=arguments,o=-1,a=i(s.length-t,0),c=Array(a);++o<a;)c[o]=s[t+o];o=-1;for(var u=Array(t+1);++o<t;)u[o]=s[o];return u[t]=n(c),r(e,this,u)}}},function(e,t){e.exports=function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}},function(e,t,n){var r=n(308),i=n(317)(r);e.exports=i},function(e,t,n){var r=n(309),i=n(310),s=n(56),o=i?function(e,t){return i(e,"toString",{configurable:!0,enumerable:!1,value:r(t),writable:!0})}:s;e.exports=o},function(e,t){e.exports=function(e){return function(){return e}}},function(e,t,n){var r=n(311),i=function(){try{var e=r(Object,"defineProperty");return e({},"",{}),e}catch(e){}}();e.exports=i},function(e,t,n){var r=n(312),i=n(316);e.exports=function(e,t){var n=i(e,t);return r(n)?n:void 0}},function(e,t,n){var r=n(125),i=n(313),s=n(78),o=n(315),a=/^\[object .+?Constructor\]$/,c=Function.prototype,u=Object.prototype,l=c.toString,h=u.hasOwnProperty,d=RegExp("^"+l.call(h).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=function(e){return!(!s(e)||i(e))&&(r(e)?d:a).test(o(e))}},function(e,t,n){var r,i=n(314),s=(r=/[^.]+$/.exec(i&&i.keys&&i.keys.IE_PROTO||""))?"Symbol(src)_1."+r:"";e.exports=function(e){return!!s&&s in e}},function(e,t,n){var r=n(77)["__core-js_shared__"];e.exports=r},function(e,t){var n=Function.prototype.toString;e.exports=function(e){if(null!=e){try{return n.call(e)}catch(e){}try{return e+""}catch(e){}}return""}},function(e,t){e.exports=function(e,t){return null==e?void 0:e[t]}},function(e,t){var n=800,r=16,i=Date.now;e.exports=function(e){var t=0,s=0;return function(){var o=i(),a=r-(o-s);if(s=o,a>0){if(++t>=n)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}},function(e,t,n){var r=n(319),i=n(82),s=n(145),o=n(83),a=n(320),c=Math.max;e.exports=function(e){if(!e||!e.length)return[];var t=0;return e=r(e,function(e){if(a(e))return t=c(e.length,t),!0}),o(t,function(t){return i(e,s(t))})}},function(e,t){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,i=0,s=[];++n<r;){var o=e[n];t(o,n,e)&&(s[i++]=o)}return s}},function(e,t,n){var r=n(75),i=n(29);e.exports=function(e){return i(e)&&r(e)}},function(e,t,n){var r=n(322),i=n(325),s=n(326),o=n(328),a=n(330),c=n(335),u=n(144);function l(e,t){var n=e.data||"";return n=c.decode(n,t.decodeOptions),t.isInPre?n:u.wordwrap(e.trimLeadingSpace?o(n):n,t)}function h(e,t,n){var r=t(e.children,n);return n.uppercaseHeadings&&(r=r.toUpperCase()),r+"\n"}function d(e,t,n,r){(r=Object.assign({},r)).wordwrap&&(r.wordwrap-=e.length);var i=n(t.children,r);return e+(i=i.replace(/\n/g,"\n"+" ".repeat(e.length)))+"\n"}var p=/^\s*$/;t.text=l,t.image=function(e,t){if(t.ignoreImage)return"";var n="",r=e.attribs||{};return r.alt&&(n+=c.decode(r.alt,t.decodeOptions),r.src&&(n+=" ")),r.src&&(n+="["+r.src+"]"),n},t.lineBreak=function(e,t,n){return"\n"+t(e.children,n)},t.paragraph=function(e,t,n){var r=t(e.children,n);return n.singleNewLineParagraphs?r+"\n":r+"\n\n"},t.anchor=function(e,t,n){var r="",i=n.lineCharCount,s=t(e.children||[],n);s||(s="");var a=e.trimLeadingSpace?o(s):s;return n.ignoreHref||(e.attribs&&e.attribs.href&&(r=e.attribs.href.replace(/^mailto:/,"")),r&&(!n.noAnchorUrl||n.noAnchorUrl&&"#"!==r[0])&&(n.linkHrefBaseUrl&&0===r.indexOf("/")&&(r=n.linkHrefBaseUrl+r),n.hideLinkHrefIfSameAsText&&r===u.replaceAll(a,"\n","")||(n.noLinkBrackets?a+=" "+r:a+=" ["+r+"]"))),n.lineCharCount=i,l({data:a||r,trimLeadingSpace:e.trimLeadingSpace},n)},t.heading=h,t.table=function(e,t,n){var o=[];return e.children.forEach(function e(r){if("tag"===r.type)switch(r.name.toLowerCase()){case"thead":case"tbody":case"tfoot":case"center":return void r.children.forEach(e);case"tr":var a=[];r.children.forEach(function(e){var r,o;if("tag"===e.type)switch(e.name.toLowerCase()){case"th":r=h(e,t,n).split("\n"),a.push(i(r));break;case"td":r=t(e.children,n).split("\n"),a.push(i(r)),e.attribs&&e.attribs.colspan&&(o=e.attribs.colspan-1||0,s(o,function(){a.push([""])}))}}),(a=u.arrayZip(a)).forEach(function(e){e=e.map(function(e){return e||""}),o.push(e)})}}),function(e){var t=e.map(function(e){return e.map(function(e){return e.length})});t=(t=u.arrayZip(t)).map(function(e){return r(e)});var n="";return e.forEach(function(e){var r=0;e.forEach(function(e){n+=a(e.trim(),t[r++]," ")+"   "}),n+="\n"}),n+"\n"}(o)},t.orderedList=function(e,t,n){var r="",i=(e.children||[]).filter(function(e){return"text"!==e.type||!p.test(e.data)}),s=function(){switch(e.attribs.type||"1"){case"a":return function(e,t){return String.fromCharCode(t+e+97)};case"A":return function(e,t){return String.fromCharCode(t+e+65)};case"1":default:return function(e,t){return t+1+e}}}();if(i.length){var o=Number(e.attribs.start||"1")-1,a=(i.length+o).toString().length;i.forEach(function(e,i){var c=s(o,i),u=a-c.toString().length,l=" "+c+". "+" ".repeat(u);r+=d(l,e,t,n)})}return r+"\n"},t.unorderedList=function(e,t,n){var r="",i=n.unorderedListItemPrefix;return(e.children||[]).filter(function(e){return"text"!==e.type||!p.test(e.data)}).forEach(function(e){r+=d(i,e,t,n)}),r+"\n"},t.listItem=d,t.horizontalLine=function(e,t,n){return"\n"+"-".repeat(n.wordwrap)+"\n\n"},t.blockquote=function(e,t,n){return"> "+t(e.children,n)+"\n"}},function(e,t,n){var r=n(323),i=n(324),s=n(56);e.exports=function(e){return e&&e.length?r(e,s,i):void 0}},function(e,t,n){var r=n(81);e.exports=function(e,t,n){for(var i=-1,s=e.length;++i<s;){var o=e[i],a=t(o);if(null!=a&&(void 0===c?a==a&&!r(a):n(a,c)))var c=a,u=o}return u}},function(e,t){e.exports=function(e,t){return e>t}},function(e,t){e.exports=function(e){for(var t=-1,n=null==e?0:e.length,r=0,i=[];++t<n;){var s=e[t];s&&(i[r++]=s)}return i}},function(e,t,n){var r=n(83),i=n(327),s=n(80),o=9007199254740991,a=4294967295,c=Math.min;e.exports=function(e,t){if((e=s(e))<1||e>o)return[];var n=a,u=c(e,a);t=i(t),e-=a;for(var l=r(u,t);++n<e;)t(n);return l}},function(e,t,n){var r=n(56);e.exports=function(e){return"function"==typeof e?e:r}},function(e,t,n){var r=n(53),i=n(85),s=n(329),o=n(86),a=n(88),c=/^\s+/;e.exports=function(e,t,n){if((e=a(e))&&(n||void 0===t))return e.replace(c,"");if(!e||!(t=r(t)))return e;var u=o(e),l=s(u,o(t));return i(u,l).join("")}},function(e,t,n){var r=n(74);e.exports=function(e,t){for(var n=-1,i=e.length;++n<i&&r(t,e[n],0)>-1;);return n}},function(e,t,n){var r=n(331),i=n(146),s=n(80),o=n(88);e.exports=function(e,t,n){e=o(e);var a=(t=s(t))?i(e):0;return t&&a<t?e+r(t-a,n):e}},function(e,t,n){var r=n(332),i=n(53),s=n(85),o=n(87),a=n(146),c=n(86),u=Math.ceil;e.exports=function(e,t){var n=(t=void 0===t?" ":i(t)).length;if(n<2)return n?r(t,e):t;var l=r(t,u(e/a(t)));return o(t)?s(c(l),0,e).join(""):l.slice(0,e)}},function(e,t){var n=9007199254740991,r=Math.floor;e.exports=function(e,t){var i="";if(!e||t<1||t>n)return i;do{t%2&&(i+=e),(t=r(t/2))&&(e+=e)}while(t);return i}},function(e,t,n){var r=n(145)("length");e.exports=r},function(e,t){var n="[\\ud800-\\udfff]",r="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",i="\\ud83c[\\udffb-\\udfff]",s="[^\\ud800-\\udfff]",o="(?:\\ud83c[\\udde6-\\uddff]){2}",a="[\\ud800-\\udbff][\\udc00-\\udfff]",c="(?:"+r+"|"+i+")"+"?",u="[\\ufe0e\\ufe0f]?"+c+("(?:\\u200d(?:"+[s,o,a].join("|")+")[\\ufe0e\\ufe0f]?"+c+")*"),l="(?:"+[s+r+"?",r,o,a,n].join("|")+")",h=RegExp(i+"(?="+i+")|"+l+u,"g");e.exports=function(e){for(var t=h.lastIndex=0;h.test(e);)++t;return t}},function(e,t,n){(function(e){var r;/*! https://mths.be/he v1.2.0 by @mathias | MIT license */!function(i){var s=t,o=(e&&e.exports,"object"==typeof global&&global);o.global!==o&&o.window;var a=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,c=/[\x01-\x7F]/g,u=/[\x01-\t\x0B\f\x0E-\x1F\x7F\x81\x8D\x8F\x90\x9D\xA0-\uFFFF]/g,l=/<\u20D2|=\u20E5|>\u20D2|\u205F\u200A|\u219D\u0338|\u2202\u0338|\u2220\u20D2|\u2229\uFE00|\u222A\uFE00|\u223C\u20D2|\u223D\u0331|\u223E\u0333|\u2242\u0338|\u224B\u0338|\u224D\u20D2|\u224E\u0338|\u224F\u0338|\u2250\u0338|\u2261\u20E5|\u2264\u20D2|\u2265\u20D2|\u2266\u0338|\u2267\u0338|\u2268\uFE00|\u2269\uFE00|\u226A\u0338|\u226A\u20D2|\u226B\u0338|\u226B\u20D2|\u227F\u0338|\u2282\u20D2|\u2283\u20D2|\u228A\uFE00|\u228B\uFE00|\u228F\u0338|\u2290\u0338|\u2293\uFE00|\u2294\uFE00|\u22B4\u20D2|\u22B5\u20D2|\u22D8\u0338|\u22D9\u0338|\u22DA\uFE00|\u22DB\uFE00|\u22F5\u0338|\u22F9\u0338|\u2933\u0338|\u29CF\u0338|\u29D0\u0338|\u2A6D\u0338|\u2A70\u0338|\u2A7D\u0338|\u2A7E\u0338|\u2AA1\u0338|\u2AA2\u0338|\u2AAC\uFE00|\u2AAD\uFE00|\u2AAF\u0338|\u2AB0\u0338|\u2AC5\u0338|\u2AC6\u0338|\u2ACB\uFE00|\u2ACC\uFE00|\u2AFD\u20E5|[\xA0-\u0113\u0116-\u0122\u0124-\u012B\u012E-\u014D\u0150-\u017E\u0192\u01B5\u01F5\u0237\u02C6\u02C7\u02D8-\u02DD\u0311\u0391-\u03A1\u03A3-\u03A9\u03B1-\u03C9\u03D1\u03D2\u03D5\u03D6\u03DC\u03DD\u03F0\u03F1\u03F5\u03F6\u0401-\u040C\u040E-\u044F\u0451-\u045C\u045E\u045F\u2002-\u2005\u2007-\u2010\u2013-\u2016\u2018-\u201A\u201C-\u201E\u2020-\u2022\u2025\u2026\u2030-\u2035\u2039\u203A\u203E\u2041\u2043\u2044\u204F\u2057\u205F-\u2063\u20AC\u20DB\u20DC\u2102\u2105\u210A-\u2113\u2115-\u211E\u2122\u2124\u2127-\u2129\u212C\u212D\u212F-\u2131\u2133-\u2138\u2145-\u2148\u2153-\u215E\u2190-\u219B\u219D-\u21A7\u21A9-\u21AE\u21B0-\u21B3\u21B5-\u21B7\u21BA-\u21DB\u21DD\u21E4\u21E5\u21F5\u21FD-\u2205\u2207-\u2209\u220B\u220C\u220F-\u2214\u2216-\u2218\u221A\u221D-\u2238\u223A-\u2257\u2259\u225A\u225C\u225F-\u2262\u2264-\u228B\u228D-\u229B\u229D-\u22A5\u22A7-\u22B0\u22B2-\u22BB\u22BD-\u22DB\u22DE-\u22E3\u22E6-\u22F7\u22F9-\u22FE\u2305\u2306\u2308-\u2310\u2312\u2313\u2315\u2316\u231C-\u231F\u2322\u2323\u232D\u232E\u2336\u233D\u233F\u237C\u23B0\u23B1\u23B4-\u23B6\u23DC-\u23DF\u23E2\u23E7\u2423\u24C8\u2500\u2502\u250C\u2510\u2514\u2518\u251C\u2524\u252C\u2534\u253C\u2550-\u256C\u2580\u2584\u2588\u2591-\u2593\u25A1\u25AA\u25AB\u25AD\u25AE\u25B1\u25B3-\u25B5\u25B8\u25B9\u25BD-\u25BF\u25C2\u25C3\u25CA\u25CB\u25EC\u25EF\u25F8-\u25FC\u2605\u2606\u260E\u2640\u2642\u2660\u2663\u2665\u2666\u266A\u266D-\u266F\u2713\u2717\u2720\u2736\u2758\u2772\u2773\u27C8\u27C9\u27E6-\u27ED\u27F5-\u27FA\u27FC\u27FF\u2902-\u2905\u290C-\u2913\u2916\u2919-\u2920\u2923-\u292A\u2933\u2935-\u2939\u293C\u293D\u2945\u2948-\u294B\u294E-\u2976\u2978\u2979\u297B-\u297F\u2985\u2986\u298B-\u2996\u299A\u299C\u299D\u29A4-\u29B7\u29B9\u29BB\u29BC\u29BE-\u29C5\u29C9\u29CD-\u29D0\u29DC-\u29DE\u29E3-\u29E5\u29EB\u29F4\u29F6\u2A00-\u2A02\u2A04\u2A06\u2A0C\u2A0D\u2A10-\u2A17\u2A22-\u2A27\u2A29\u2A2A\u2A2D-\u2A31\u2A33-\u2A3C\u2A3F\u2A40\u2A42-\u2A4D\u2A50\u2A53-\u2A58\u2A5A-\u2A5D\u2A5F\u2A66\u2A6A\u2A6D-\u2A75\u2A77-\u2A9A\u2A9D-\u2AA2\u2AA4-\u2AB0\u2AB3-\u2AC8\u2ACB\u2ACC\u2ACF-\u2ADB\u2AE4\u2AE6-\u2AE9\u2AEB-\u2AF3\u2AFD\uFB00-\uFB04]|\uD835[\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDCCF\uDD04\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDD6B]/g,h={"":"shy","":"zwnj","":"zwj","":"lrm","":"ic","":"it","":"af","":"rlm","":"ZeroWidthSpace","":"NoBreak","":"DownBreve","":"tdot","":"DotDot","\t":"Tab","\n":"NewLine","":"puncsp","":"MediumSpace","":"thinsp","":"hairsp","":"emsp13","":"ensp","":"emsp14","":"emsp","":"numsp","":"nbsp","":"ThickSpace","":"oline",_:"lowbar","":"dash","":"ndash","":"mdash","":"horbar",",":"comma",";":"semi","":"bsemi",":":"colon","":"Colone","!":"excl","":"iexcl","?":"quest","":"iquest",".":"period","":"nldr","":"mldr","":"middot","'":"apos","":"lsquo","":"rsquo","":"sbquo","":"lsaquo","":"rsaquo",'"':"quot","":"ldquo","":"rdquo","":"bdquo","":"laquo","":"raquo","(":"lpar",")":"rpar","[":"lsqb","]":"rsqb","{":"lcub","}":"rcub","":"lceil","":"rceil","":"lfloor","":"rfloor","":"lopar","":"ropar","":"lbrke","":"rbrke","":"lbrkslu","":"rbrksld","":"lbrksld","":"rbrkslu","":"langd","":"rangd","":"lparlt","":"rpargt","":"gtlPar","":"ltrPar","":"lobrk","":"robrk","":"lang","":"rang","":"Lang","":"Rang","":"loang","":"roang","":"lbbrk","":"rbbrk","":"Vert","":"sect","":"para","@":"commat","*":"ast","/":"sol",undefined:null,"&":"amp","#":"num","%":"percnt","":"permil","":"pertenk","":"dagger","":"Dagger","":"bull","":"hybull","":"prime","":"Prime","":"tprime","":"qprime","":"bprime","":"caret","`":"grave","":"acute","":"tilde","^":"Hat","":"macr","":"breve","":"dot","":"die","":"ring","":"dblac","":"cedil","":"ogon","":"circ","":"caron","":"deg","":"copy","":"reg","":"copysr","":"wp","":"rx","":"mho","":"iiota","":"larr","":"nlarr","":"rarr","":"nrarr","":"uarr","":"darr","":"harr","":"nharr","":"varr","":"nwarr","":"nearr","":"searr","":"swarr","":"rarrw","":"nrarrw","":"Larr","":"Uarr","":"Rarr","":"Darr","":"larrtl","":"rarrtl","":"mapstoleft","":"mapstoup","":"map","":"mapstodown","":"larrhk","":"rarrhk","":"larrlp","":"rarrlp","":"harrw","":"lsh","":"rsh","":"ldsh","":"rdsh","":"crarr","":"cularr","":"curarr","":"olarr","":"orarr","":"lharu","":"lhard","":"uharr","":"uharl","":"rharu","":"rhard","":"dharr","":"dharl","":"rlarr","":"udarr","":"lrarr","":"llarr","":"uuarr","":"rrarr","":"ddarr","":"lrhar","":"rlhar","":"lArr","":"nlArr","":"uArr","":"rArr","":"nrArr","":"dArr","":"iff","":"nhArr","":"vArr","":"nwArr","":"neArr","":"seArr","":"swArr","":"lAarr","":"rAarr","":"zigrarr","":"larrb","":"rarrb","":"duarr","":"loarr","":"roarr","":"hoarr","":"forall","":"comp","":"part","":"npart","":"exist","":"nexist","":"empty","":"Del","":"in","":"notin","":"ni","":"notni","":"bepsi","":"prod","":"coprod","":"sum","+":"plus","":"pm","":"div","":"times","<":"lt","":"nlt","<":"nvlt","=":"equals","":"ne","=":"bne","":"Equal",">":"gt","":"ngt",">":"nvgt","":"not","|":"vert","":"brvbar","":"minus","":"mp","":"plusdo","":"frasl","":"setmn","":"lowast","":"compfn","":"Sqrt","":"prop","":"infin","":"angrt","":"ang","":"nang","":"angmsd","":"angsph","":"mid","":"nmid","":"par","":"npar","":"and","":"or","":"cap","":"caps","":"cup","":"cups","":"int","":"Int","":"tint","":"qint","":"oint","":"Conint","":"Cconint","":"cwint","":"cwconint","":"awconint","":"there4","":"becaus","":"ratio","":"Colon","":"minusd","":"mDDot","":"homtht","":"sim","":"nsim","":"nvsim","":"bsim","":"race","":"ac","":"acE","":"acd","":"wr","":"esim","":"nesim","":"sime","":"nsime","":"cong","":"ncong","":"simne","":"ap","":"nap","":"ape","":"apid","":"napid","":"bcong","":"CupCap","":"NotCupCap","":"nvap","":"bump","":"nbump","":"bumpe","":"nbumpe","":"doteq","":"nedot","":"eDot","":"efDot","":"erDot","":"colone","":"ecolon","":"ecir","":"cire","":"wedgeq","":"veeeq","":"trie","":"equest","":"equiv","":"nequiv","":"bnequiv","":"le","":"nle","":"nvle","":"ge","":"nge","":"nvge","":"lE","":"nlE","":"gE","":"ngE","":"lvnE","":"lnE","":"gnE","":"gvnE","":"ll","":"nLtv","":"nLt","":"gg","":"nGtv","":"nGt","":"twixt","":"lsim","":"nlsim","":"gsim","":"ngsim","":"lg","":"ntlg","":"gl","":"ntgl","":"pr","":"npr","":"sc","":"nsc","":"prcue","":"nprcue","":"sccue","":"nsccue","":"prsim","":"scsim","":"NotSucceedsTilde","":"sub","":"nsub","":"vnsub","":"sup","":"nsup","":"vnsup","":"sube","":"nsube","":"supe","":"nsupe","":"vsubne","":"subne","":"vsupne","":"supne","":"cupdot","":"uplus","":"sqsub","":"NotSquareSubset","":"sqsup","":"NotSquareSuperset","":"sqsube","":"nsqsube","":"sqsupe","":"nsqsupe","":"sqcap","":"sqcaps","":"sqcup","":"sqcups","":"oplus","":"ominus","":"otimes","":"osol","":"odot","":"ocir","":"oast","":"odash","":"plusb","":"minusb","":"timesb","":"sdotb","":"vdash","":"nvdash","":"dashv","":"top","":"bot","":"models","":"vDash","":"nvDash","":"Vdash","":"nVdash","":"Vvdash","":"VDash","":"nVDash","":"prurel","":"vltri","":"nltri","":"vrtri","":"nrtri","":"ltrie","":"nltrie","":"nvltrie","":"rtrie","":"nrtrie","":"nvrtrie","":"origof","":"imof","":"mumap","":"hercon","":"intcal","":"veebar","":"barvee","":"angrtvb","":"lrtri","":"Wedge","":"Vee","":"xcap","":"xcup","":"diam","":"sdot","":"Star","":"divonx","":"bowtie","":"ltimes","":"rtimes","":"lthree","":"rthree","":"bsime","":"cuvee","":"cuwed","":"Sub","":"Sup","":"Cap","":"Cup","":"fork","":"epar","":"ltdot","":"gtdot","":"Ll","":"nLl","":"Gg","":"nGg","":"lesg","":"leg","":"gel","":"gesl","":"cuepr","":"cuesc","":"lnsim","":"gnsim","":"prnsim","":"scnsim","":"vellip","":"ctdot","":"utdot","":"dtdot","":"disin","":"isinsv","":"isins","":"isindot","":"notindot","":"notinvc","":"notinvb","":"isinE","":"notinE","":"nisd","":"xnis","":"nis","":"notnivc","":"notnivb","":"barwed","":"Barwed","":"drcrop","":"dlcrop","":"urcrop","":"ulcrop","":"bnot","":"profline","":"profsurf","":"telrec","":"target","":"ulcorn","":"urcorn","":"dlcorn","":"drcorn","":"frown","":"smile","":"cylcty","":"profalar","":"topbot","":"ovbar","":"solbar","":"angzarr","":"lmoust","":"rmoust","":"tbrk","":"bbrk","":"bbrktbrk","":"OverParenthesis","":"UnderParenthesis","":"OverBrace","":"UnderBrace","":"trpezium","":"elinters","":"blank","":"boxh","":"boxv","":"boxdr","":"boxdl","":"boxur","":"boxul","":"boxvr","":"boxvl","":"boxhd","":"boxhu","":"boxvh","":"boxH","":"boxV","":"boxdR","":"boxDr","":"boxDR","":"boxdL","":"boxDl","":"boxDL","":"boxuR","":"boxUr","":"boxUR","":"boxuL","":"boxUl","":"boxUL","":"boxvR","":"boxVr","":"boxVR","":"boxvL","":"boxVl","":"boxVL","":"boxHd","":"boxhD","":"boxHD","":"boxHu","":"boxhU","":"boxHU","":"boxvH","":"boxVh","":"boxVH","":"uhblk","":"lhblk","":"block","":"blk14","":"blk12","":"blk34","":"squ","":"squf","":"EmptyVerySmallSquare","":"rect","":"marker","":"fltns","":"xutri","":"utrif","":"utri","":"rtrif","":"rtri","":"xdtri","":"dtrif","":"dtri","":"ltrif","":"ltri","":"loz","":"cir","":"tridot","":"xcirc","":"ultri","":"urtri","":"lltri","":"EmptySmallSquare","":"FilledSmallSquare","":"starf","":"star","":"phone","":"female","":"male","":"spades","":"clubs","":"hearts","":"diams","":"sung","":"check","":"cross","":"malt","":"sext","":"VerticalSeparator","":"bsolhsub","":"suphsol","":"xlarr","":"xrarr","":"xharr","":"xlArr","":"xrArr","":"xhArr","":"xmap","":"dzigrarr","":"nvlArr","":"nvrArr","":"nvHarr","":"Map","":"lbarr","":"rbarr","":"lBarr","":"rBarr","":"RBarr","":"DDotrahd","":"UpArrowBar","":"DownArrowBar","":"Rarrtl","":"latail","":"ratail","":"lAtail","":"rAtail","":"larrfs","":"rarrfs","":"larrbfs","":"rarrbfs","":"nwarhk","":"nearhk","":"searhk","":"swarhk","":"nwnear","":"toea","":"tosa","":"swnwar","":"rarrc","":"nrarrc","":"cudarrr","":"ldca","":"rdca","":"cudarrl","":"larrpl","":"curarrm","":"cularrp","":"rarrpl","":"harrcir","":"Uarrocir","":"lurdshar","":"ldrushar","":"LeftRightVector","":"RightUpDownVector","":"DownLeftRightVector","":"LeftUpDownVector","":"LeftVectorBar","":"RightVectorBar","":"RightUpVectorBar","":"RightDownVectorBar","":"DownLeftVectorBar","":"DownRightVectorBar","":"LeftUpVectorBar","":"LeftDownVectorBar","":"LeftTeeVector","":"RightTeeVector","":"RightUpTeeVector","":"RightDownTeeVector","":"DownLeftTeeVector","":"DownRightTeeVector","":"LeftUpTeeVector","":"LeftDownTeeVector","":"lHar","":"uHar","":"rHar","":"dHar","":"luruhar","":"ldrdhar","":"ruluhar","":"rdldhar","":"lharul","":"llhard","":"rharul","":"lrhard","":"udhar","":"duhar","":"RoundImplies","":"erarr","":"simrarr","":"larrsim","":"rarrsim","":"rarrap","":"ltlarr","":"gtrarr","":"subrarr","":"suplarr","":"lfisht","":"rfisht","":"ufisht","":"dfisht","":"vzigzag","":"vangrt","":"angrtvbd","":"ange","":"range","":"dwangle","":"uwangle","":"angmsdaa","":"angmsdab","":"angmsdac","":"angmsdad","":"angmsdae","":"angmsdaf","":"angmsdag","":"angmsdah","":"bemptyv","":"demptyv","":"cemptyv","":"raemptyv","":"laemptyv","":"ohbar","":"omid","":"opar","":"operp","":"olcross","":"odsold","":"olcir","":"ofcir","":"olt","":"ogt","":"cirscir","":"cirE","":"solb","":"bsolb","":"boxbox","":"trisb","":"rtriltri","":"LeftTriangleBar","":"NotLeftTriangleBar","":"RightTriangleBar","":"NotRightTriangleBar","":"iinfin","":"infintie","":"nvinfin","":"eparsl","":"smeparsl","":"eqvparsl","":"lozf","":"RuleDelayed","":"dsol","":"xodot","":"xoplus","":"xotime","":"xuplus","":"xsqcup","":"fpartint","":"cirfnint","":"awint","":"rppolint","":"scpolint","":"npolint","":"pointint","":"quatint","":"intlarhk","":"pluscir","":"plusacir","":"simplus","":"plusdu","":"plussim","":"plustwo","":"mcomma","":"minusdu","":"loplus","":"roplus","":"Cross","":"timesd","":"timesbar","":"smashp","":"lotimes","":"rotimes","":"otimesas","":"Otimes","":"odiv","":"triplus","":"triminus","":"tritime","":"iprod","":"amalg","":"capdot","":"ncup","":"ncap","":"capand","":"cupor","":"cupcap","":"capcup","":"cupbrcap","":"capbrcup","":"cupcup","":"capcap","":"ccups","":"ccaps","":"ccupssm","":"And","":"Or","":"andand","":"oror","":"orslope","":"andslope","":"andv","":"orv","":"andd","":"ord","":"wedbar","":"sdote","":"simdot","":"congdot","":"ncongdot","":"easter","":"apacir","":"apE","":"napE","":"eplus","":"pluse","":"Esim","":"eDDot","":"equivDD","":"ltcir","":"gtcir","":"ltquest","":"gtquest","":"les","":"nles","":"ges","":"nges","":"lesdot","":"gesdot","":"lesdoto","":"gesdoto","":"lesdotor","":"gesdotol","":"lap","":"gap","":"lne","":"gne","":"lnap","":"gnap","":"lEg","":"gEl","":"lsime","":"gsime","":"lsimg","":"gsiml","":"lgE","":"glE","":"lesges","":"gesles","":"els","":"egs","":"elsdot","":"egsdot","":"el","":"eg","":"siml","":"simg","":"simlE","":"simgE","":"LessLess","":"NotNestedLessLess","":"GreaterGreater","":"NotNestedGreaterGreater","":"glj","":"gla","":"ltcc","":"gtcc","":"lescc","":"gescc","":"smt","":"lat","":"smte","":"smtes","":"late","":"lates","":"bumpE","":"pre","":"npre","":"sce","":"nsce","":"prE","":"scE","":"prnE","":"scnE","":"prap","":"scap","":"prnap","":"scnap","":"Pr","":"Sc","":"subdot","":"supdot","":"subplus","":"supplus","":"submult","":"supmult","":"subedot","":"supedot","":"subE","":"nsubE","":"supE","":"nsupE","":"subsim","":"supsim","":"vsubnE","":"subnE","":"vsupnE","":"supnE","":"csub","":"csup","":"csube","":"csupe","":"subsup","":"supsub","":"subsub","":"supsup","":"suphsub","":"supdsub","":"forkv","":"topfork","":"mlcp","":"Dashv","":"Vdashl","":"Barv","":"vBar","":"vBarv","":"Vbar","":"Not","":"bNot","":"rnmid","":"cirmid","":"midcir","":"topcir","":"nhpar","":"parsim","":"parsl","":"nparsl","":"flat","":"natur","":"sharp","":"curren","":"cent",$:"dollar","":"pound","":"yen","":"euro","":"sup1","":"half","":"frac13","":"frac14","":"frac15","":"frac16","":"frac18","":"sup2","":"frac23","":"frac25","":"sup3","":"frac34","":"frac35","":"frac38","":"frac45","":"frac56","":"frac58","":"frac78","":"ascr","":"aopf","":"afr","":"Aopf","":"Afr","":"Ascr","":"ordf","":"aacute","":"Aacute","":"agrave","":"Agrave","":"abreve","":"Abreve","":"acirc","":"Acirc","":"aring","":"angst","":"auml","":"Auml","":"atilde","":"Atilde","":"aogon","":"Aogon","":"amacr","":"Amacr","":"aelig","":"AElig","":"bscr","":"bopf","":"bfr","":"Bopf","":"Bscr","":"Bfr","":"cfr","":"cscr","":"copf","":"Cfr","":"Cscr","":"Copf","":"cacute","":"Cacute","":"ccirc","":"Ccirc","":"ccaron","":"Ccaron","":"cdot","":"Cdot","":"ccedil","":"Ccedil","":"incare","":"dfr","":"dd","":"dopf","":"dscr","":"Dscr","":"Dfr","":"DD","":"Dopf","":"dcaron","":"Dcaron","":"dstrok","":"Dstrok","":"eth","":"ETH","":"ee","":"escr","":"efr","":"eopf","":"Escr","":"Efr","":"Eopf","":"eacute","":"Eacute","":"egrave","":"Egrave","":"ecirc","":"Ecirc","":"ecaron","":"Ecaron","":"euml","":"Euml","":"edot","":"Edot","":"eogon","":"Eogon","":"emacr","":"Emacr","":"ffr","":"fopf","":"fscr","":"Ffr","":"Fopf","":"Fscr","":"fflig","":"ffilig","":"ffllig","":"filig",fj:"fjlig","":"fllig","":"fnof","":"gscr","":"gopf","":"gfr","":"Gscr","":"Gopf","":"Gfr","":"gacute","":"gbreve","":"Gbreve","":"gcirc","":"Gcirc","":"gdot","":"Gdot","":"Gcedil","":"hfr","":"planckh","":"hscr","":"hopf","":"Hscr","":"Hfr","":"Hopf","":"hcirc","":"Hcirc","":"hbar","":"hstrok","":"Hstrok","":"iopf","":"ifr","":"iscr","":"ii","":"Iopf","":"Iscr","":"Im","":"iacute","":"Iacute","":"igrave","":"Igrave","":"icirc","":"Icirc","":"iuml","":"Iuml","":"itilde","":"Itilde","":"Idot","":"iogon","":"Iogon","":"imacr","":"Imacr","":"ijlig","":"IJlig","":"imath","":"jscr","":"jopf","":"jfr","":"Jscr","":"Jfr","":"Jopf","":"jcirc","":"Jcirc","":"jmath","":"kopf","":"kscr","":"kfr","":"Kscr","":"Kopf","":"Kfr","":"kcedil","":"Kcedil","":"lfr","":"lscr","":"ell","":"lopf","":"Lscr","":"Lfr","":"Lopf","":"lacute","":"Lacute","":"lcaron","":"Lcaron","":"lcedil","":"Lcedil","":"lstrok","":"Lstrok","":"lmidot","":"Lmidot","":"mfr","":"mopf","":"mscr","":"Mfr","":"Mopf","":"Mscr","":"nfr","":"nopf","":"nscr","":"Nopf","":"Nscr","":"Nfr","":"nacute","":"Nacute","":"ncaron","":"Ncaron","":"ntilde","":"Ntilde","":"ncedil","":"Ncedil","":"numero","":"eng","":"ENG","":"oopf","":"ofr","":"oscr","":"Oscr","":"Ofr","":"Oopf","":"ordm","":"oacute","":"Oacute","":"ograve","":"Ograve","":"ocirc","":"Ocirc","":"ouml","":"Ouml","":"odblac","":"Odblac","":"otilde","":"Otilde","":"oslash","":"Oslash","":"omacr","":"Omacr","":"oelig","":"OElig","":"pfr","":"pscr","":"popf","":"Popf","":"Pfr","":"Pscr","":"qopf","":"qfr","":"qscr","":"Qscr","":"Qfr","":"Qopf","":"kgreen","":"rfr","":"ropf","":"rscr","":"Rscr","":"Re","":"Ropf","":"racute","":"Racute","":"rcaron","":"Rcaron","":"rcedil","":"Rcedil","":"sopf","":"sscr","":"sfr","":"Sopf","":"Sfr","":"Sscr","":"oS","":"sacute","":"Sacute","":"scirc","":"Scirc","":"scaron","":"Scaron","":"scedil","":"Scedil","":"szlig","":"tfr","":"tscr","":"topf","":"Tscr","":"Tfr","":"Topf","":"tcaron","":"Tcaron","":"tcedil","":"Tcedil","":"trade","":"tstrok","":"Tstrok","":"uscr","":"uopf","":"ufr","":"Uopf","":"Ufr","":"Uscr","":"uacute","":"Uacute","":"ugrave","":"Ugrave","":"ubreve","":"Ubreve","":"ucirc","":"Ucirc","":"uring","":"Uring","":"uuml","":"Uuml","":"udblac","":"Udblac","":"utilde","":"Utilde","":"uogon","":"Uogon","":"umacr","":"Umacr","":"vfr","":"vopf","":"vscr","":"Vfr","":"Vopf","":"Vscr","":"wopf","":"wscr","":"wfr","":"Wscr","":"Wopf","":"Wfr","":"wcirc","":"Wcirc","":"xfr","":"xscr","":"xopf","":"Xopf","":"Xfr","":"Xscr","":"yfr","":"yscr","":"yopf","":"Yscr","":"Yfr","":"Yopf","":"yacute","":"Yacute","":"ycirc","":"Ycirc","":"yuml","":"Yuml","":"zscr","":"zfr","":"zopf","":"Zfr","":"Zopf","":"Zscr","":"zacute","":"Zacute","":"zcaron","":"Zcaron","":"zdot","":"Zdot","":"imped","":"thorn","":"THORN","":"napos","":"alpha","":"Alpha","":"beta","":"Beta","":"gamma","":"Gamma","":"delta","":"Delta","":"epsi","":"epsiv","":"Epsilon","":"gammad","":"Gammad","":"zeta","":"Zeta","":"eta","":"Eta","":"theta","":"thetav","":"Theta","":"iota","":"Iota","":"kappa","":"kappav","":"Kappa","":"lambda","":"Lambda","":"mu","":"micro","":"Mu","":"nu","":"Nu","":"xi","":"Xi","":"omicron","":"Omicron","":"pi","":"piv","":"Pi","":"rho","":"rhov","":"Rho","":"sigma","":"Sigma","":"sigmaf","":"tau","":"Tau","":"upsi","":"Upsilon","":"Upsi","":"phi","":"phiv","":"Phi","":"chi","":"Chi","":"psi","":"Psi","":"omega","":"ohm","":"acy","":"Acy","":"bcy","":"Bcy","":"vcy","":"Vcy","":"gcy","":"Gcy","":"gjcy","":"GJcy","":"dcy","":"Dcy","":"djcy","":"DJcy","":"iecy","":"IEcy","":"iocy","":"IOcy","":"jukcy","":"Jukcy","":"zhcy","":"ZHcy","":"zcy","":"Zcy","":"dscy","":"DScy","":"icy","":"Icy","":"iukcy","":"Iukcy","":"yicy","":"YIcy","":"jcy","":"Jcy","":"jsercy","":"Jsercy","":"kcy","":"Kcy","":"kjcy","":"KJcy","":"lcy","":"Lcy","":"ljcy","":"LJcy","":"mcy","":"Mcy","":"ncy","":"Ncy","":"njcy","":"NJcy","":"ocy","":"Ocy","":"pcy","":"Pcy","":"rcy","":"Rcy","":"scy","":"Scy","":"tcy","":"Tcy","":"tshcy","":"TSHcy","":"ucy","":"Ucy","":"ubrcy","":"Ubrcy","":"fcy","":"Fcy","":"khcy","":"KHcy","":"tscy","":"TScy","":"chcy","":"CHcy","":"dzcy","":"DZcy","":"shcy","":"SHcy","":"shchcy","":"SHCHcy","":"hardcy","":"HARDcy","":"ycy","":"Ycy","":"softcy","":"SOFTcy","":"ecy","":"Ecy","":"yucy","":"YUcy","":"yacy","":"YAcy","":"aleph","":"beth","":"gimel","":"daleth"},d=/["&'<>`]/g,p={'"':"&quot;","&":"&amp;","'":"&#x27;","<":"&lt;",">":"&gt;","`":"&#x60;"},f=/&#(?:[xX][^a-fA-F0-9]|[^0-9xX])/,_=/[\0-\x08\x0B\x0E-\x1F\x7F-\x9F\uFDD0-\uFDEF\uFFFE\uFFFF]|[\uD83F\uD87F\uD8BF\uD8FF\uD93F\uD97F\uD9BF\uD9FF\uDA3F\uDA7F\uDABF\uDAFF\uDB3F\uDB7F\uDBBF\uDBFF][\uDFFE\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,m=/&(CounterClockwiseContourIntegral|DoubleLongLeftRightArrow|ClockwiseContourIntegral|NotNestedGreaterGreater|NotSquareSupersetEqual|DiacriticalDoubleAcute|NotRightTriangleEqual|NotSucceedsSlantEqual|NotPrecedesSlantEqual|CloseCurlyDoubleQuote|NegativeVeryThinSpace|DoubleContourIntegral|FilledVerySmallSquare|CapitalDifferentialD|OpenCurlyDoubleQuote|EmptyVerySmallSquare|NestedGreaterGreater|DoubleLongRightArrow|NotLeftTriangleEqual|NotGreaterSlantEqual|ReverseUpEquilibrium|DoubleLeftRightArrow|NotSquareSubsetEqual|NotDoubleVerticalBar|RightArrowLeftArrow|NotGreaterFullEqual|NotRightTriangleBar|SquareSupersetEqual|DownLeftRightVector|DoubleLongLeftArrow|leftrightsquigarrow|LeftArrowRightArrow|NegativeMediumSpace|blacktriangleright|RightDownVectorBar|PrecedesSlantEqual|RightDoubleBracket|SucceedsSlantEqual|NotLeftTriangleBar|RightTriangleEqual|SquareIntersection|RightDownTeeVector|ReverseEquilibrium|NegativeThickSpace|longleftrightarrow|Longleftrightarrow|LongLeftRightArrow|DownRightTeeVector|DownRightVectorBar|GreaterSlantEqual|SquareSubsetEqual|LeftDownVectorBar|LeftDoubleBracket|VerticalSeparator|rightleftharpoons|NotGreaterGreater|NotSquareSuperset|blacktriangleleft|blacktriangledown|NegativeThinSpace|LeftDownTeeVector|NotLessSlantEqual|leftrightharpoons|DoubleUpDownArrow|DoubleVerticalBar|LeftTriangleEqual|FilledSmallSquare|twoheadrightarrow|NotNestedLessLess|DownLeftTeeVector|DownLeftVectorBar|RightAngleBracket|NotTildeFullEqual|NotReverseElement|RightUpDownVector|DiacriticalTilde|NotSucceedsTilde|circlearrowright|NotPrecedesEqual|rightharpoondown|DoubleRightArrow|NotSucceedsEqual|NonBreakingSpace|NotRightTriangle|LessEqualGreater|RightUpTeeVector|LeftAngleBracket|GreaterFullEqual|DownArrowUpArrow|RightUpVectorBar|twoheadleftarrow|GreaterEqualLess|downharpoonright|RightTriangleBar|ntrianglerighteq|NotSupersetEqual|LeftUpDownVector|DiacriticalAcute|rightrightarrows|vartriangleright|UpArrowDownArrow|DiacriticalGrave|UnderParenthesis|EmptySmallSquare|LeftUpVectorBar|leftrightarrows|DownRightVector|downharpoonleft|trianglerighteq|ShortRightArrow|OverParenthesis|DoubleLeftArrow|DoubleDownArrow|NotSquareSubset|bigtriangledown|ntrianglelefteq|UpperRightArrow|curvearrowright|vartriangleleft|NotLeftTriangle|nleftrightarrow|LowerRightArrow|NotHumpDownHump|NotGreaterTilde|rightthreetimes|LeftUpTeeVector|NotGreaterEqual|straightepsilon|LeftTriangleBar|rightsquigarrow|ContourIntegral|rightleftarrows|CloseCurlyQuote|RightDownVector|LeftRightVector|nLeftrightarrow|leftharpoondown|circlearrowleft|SquareSuperset|OpenCurlyQuote|hookrightarrow|HorizontalLine|DiacriticalDot|NotLessGreater|ntriangleright|DoubleRightTee|InvisibleComma|InvisibleTimes|LowerLeftArrow|DownLeftVector|NotSubsetEqual|curvearrowleft|trianglelefteq|NotVerticalBar|TildeFullEqual|downdownarrows|NotGreaterLess|RightTeeVector|ZeroWidthSpace|looparrowright|LongRightArrow|doublebarwedge|ShortLeftArrow|ShortDownArrow|RightVectorBar|GreaterGreater|ReverseElement|rightharpoonup|LessSlantEqual|leftthreetimes|upharpoonright|rightarrowtail|LeftDownVector|Longrightarrow|NestedLessLess|UpperLeftArrow|nshortparallel|leftleftarrows|leftrightarrow|Leftrightarrow|LeftRightArrow|longrightarrow|upharpoonleft|RightArrowBar|ApplyFunction|LeftTeeVector|leftarrowtail|NotEqualTilde|varsubsetneqq|varsupsetneqq|RightTeeArrow|SucceedsEqual|SucceedsTilde|LeftVectorBar|SupersetEqual|hookleftarrow|DifferentialD|VerticalTilde|VeryThinSpace|blacktriangle|bigtriangleup|LessFullEqual|divideontimes|leftharpoonup|UpEquilibrium|ntriangleleft|RightTriangle|measuredangle|shortparallel|longleftarrow|Longleftarrow|LongLeftArrow|DoubleLeftTee|Poincareplane|PrecedesEqual|triangleright|DoubleUpArrow|RightUpVector|fallingdotseq|looparrowleft|PrecedesTilde|NotTildeEqual|NotTildeTilde|smallsetminus|Proportional|triangleleft|triangledown|UnderBracket|NotHumpEqual|exponentiale|ExponentialE|NotLessTilde|HilbertSpace|RightCeiling|blacklozenge|varsupsetneq|HumpDownHump|GreaterEqual|VerticalLine|LeftTeeArrow|NotLessEqual|DownTeeArrow|LeftTriangle|varsubsetneq|Intersection|NotCongruent|DownArrowBar|LeftUpVector|LeftArrowBar|risingdotseq|GreaterTilde|RoundImplies|SquareSubset|ShortUpArrow|NotSuperset|quaternions|precnapprox|backepsilon|preccurlyeq|OverBracket|blacksquare|MediumSpace|VerticalBar|circledcirc|circleddash|CircleMinus|CircleTimes|LessGreater|curlyeqprec|curlyeqsucc|diamondsuit|UpDownArrow|Updownarrow|RuleDelayed|Rrightarrow|updownarrow|RightVector|nRightarrow|nrightarrow|eqslantless|LeftCeiling|Equilibrium|SmallCircle|expectation|NotSucceeds|thickapprox|GreaterLess|SquareUnion|NotPrecedes|NotLessLess|straightphi|succnapprox|succcurlyeq|SubsetEqual|sqsupseteq|Proportion|Laplacetrf|ImaginaryI|supsetneqq|NotGreater|gtreqqless|NotElement|ThickSpace|TildeEqual|TildeTilde|Fouriertrf|rmoustache|EqualTilde|eqslantgtr|UnderBrace|LeftVector|UpArrowBar|nLeftarrow|nsubseteqq|subsetneqq|nsupseteqq|nleftarrow|succapprox|lessapprox|UpTeeArrow|upuparrows|curlywedge|lesseqqgtr|varepsilon|varnothing|RightFloor|complement|CirclePlus|sqsubseteq|Lleftarrow|circledast|RightArrow|Rightarrow|rightarrow|lmoustache|Bernoullis|precapprox|mapstoleft|mapstodown|longmapsto|dotsquare|downarrow|DoubleDot|nsubseteq|supsetneq|leftarrow|nsupseteq|subsetneq|ThinSpace|ngeqslant|subseteqq|HumpEqual|NotSubset|triangleq|NotCupCap|lesseqgtr|heartsuit|TripleDot|Leftarrow|Coproduct|Congruent|varpropto|complexes|gvertneqq|LeftArrow|LessTilde|supseteqq|MinusPlus|CircleDot|nleqslant|NotExists|gtreqless|nparallel|UnionPlus|LeftFloor|checkmark|CenterDot|centerdot|Mellintrf|gtrapprox|bigotimes|OverBrace|spadesuit|therefore|pitchfork|rationals|PlusMinus|Backslash|Therefore|DownBreve|backsimeq|backprime|DownArrow|nshortmid|Downarrow|lvertneqq|eqvparsl|imagline|imagpart|infintie|integers|Integral|intercal|LessLess|Uarrocir|intlarhk|sqsupset|angmsdaf|sqsubset|llcorner|vartheta|cupbrcap|lnapprox|Superset|SuchThat|succnsim|succneqq|angmsdag|biguplus|curlyvee|trpezium|Succeeds|NotTilde|bigwedge|angmsdah|angrtvbd|triminus|cwconint|fpartint|lrcorner|smeparsl|subseteq|urcorner|lurdshar|laemptyv|DDotrahd|approxeq|ldrushar|awconint|mapstoup|backcong|shortmid|triangle|geqslant|gesdotol|timesbar|circledR|circledS|setminus|multimap|naturals|scpolint|ncongdot|RightTee|boxminus|gnapprox|boxtimes|andslope|thicksim|angmsdaa|varsigma|cirfnint|rtriltri|angmsdab|rppolint|angmsdac|barwedge|drbkarow|clubsuit|thetasym|bsolhsub|capbrcup|dzigrarr|doteqdot|DotEqual|dotminus|UnderBar|NotEqual|realpart|otimesas|ulcorner|hksearow|hkswarow|parallel|PartialD|elinters|emptyset|plusacir|bbrktbrk|angmsdad|pointint|bigoplus|angmsdae|Precedes|bigsqcup|varkappa|notindot|supseteq|precneqq|precnsim|profalar|profline|profsurf|leqslant|lesdotor|raemptyv|subplus|notnivb|notnivc|subrarr|zigrarr|vzigzag|submult|subedot|Element|between|cirscir|larrbfs|larrsim|lotimes|lbrksld|lbrkslu|lozenge|ldrdhar|dbkarow|bigcirc|epsilon|simrarr|simplus|ltquest|Epsilon|luruhar|gtquest|maltese|npolint|eqcolon|npreceq|bigodot|ddagger|gtrless|bnequiv|harrcir|ddotseq|equivDD|backsim|demptyv|nsqsube|nsqsupe|Upsilon|nsubset|upsilon|minusdu|nsucceq|swarrow|nsupset|coloneq|searrow|boxplus|napprox|natural|asympeq|alefsym|congdot|nearrow|bigstar|diamond|supplus|tritime|LeftTee|nvinfin|triplus|NewLine|nvltrie|nvrtrie|nwarrow|nexists|Diamond|ruluhar|Implies|supmult|angzarr|suplarr|suphsub|questeq|because|digamma|Because|olcross|bemptyv|omicron|Omicron|rotimes|NoBreak|intprod|angrtvb|orderof|uwangle|suphsol|lesdoto|orslope|DownTee|realine|cudarrl|rdldhar|OverBar|supedot|lessdot|supdsub|topfork|succsim|rbrkslu|rbrksld|pertenk|cudarrr|isindot|planckh|lessgtr|pluscir|gesdoto|plussim|plustwo|lesssim|cularrp|rarrsim|Cayleys|notinva|notinvb|notinvc|UpArrow|Uparrow|uparrow|NotLess|dwangle|precsim|Product|curarrm|Cconint|dotplus|rarrbfs|ccupssm|Cedilla|cemptyv|notniva|quatint|frac35|frac38|frac45|frac56|frac58|frac78|tridot|xoplus|gacute|gammad|Gammad|lfisht|lfloor|bigcup|sqsupe|gbreve|Gbreve|lharul|sqsube|sqcups|Gcedil|apacir|llhard|lmidot|Lmidot|lmoust|andand|sqcaps|approx|Abreve|spades|circeq|tprime|divide|topcir|Assign|topbot|gesdot|divonx|xuplus|timesd|gesles|atilde|solbar|SOFTcy|loplus|timesb|lowast|lowbar|dlcorn|dlcrop|softcy|dollar|lparlt|thksim|lrhard|Atilde|lsaquo|smashp|bigvee|thinsp|wreath|bkarow|lsquor|lstrok|Lstrok|lthree|ltimes|ltlarr|DotDot|simdot|ltrPar|weierp|xsqcup|angmsd|sigmav|sigmaf|zeetrf|Zcaron|zcaron|mapsto|vsupne|thetav|cirmid|marker|mcomma|Zacute|vsubnE|there4|gtlPar|vsubne|bottom|gtrarr|SHCHcy|shchcy|midast|midcir|middot|minusb|minusd|gtrdot|bowtie|sfrown|mnplus|models|colone|seswar|Colone|mstpos|searhk|gtrsim|nacute|Nacute|boxbox|telrec|hairsp|Tcedil|nbumpe|scnsim|ncaron|Ncaron|ncedil|Ncedil|hamilt|Scedil|nearhk|hardcy|HARDcy|tcedil|Tcaron|commat|nequiv|nesear|tcaron|target|hearts|nexist|varrho|scedil|Scaron|scaron|hellip|Sacute|sacute|hercon|swnwar|compfn|rtimes|rthree|rsquor|rsaquo|zacute|wedgeq|homtht|barvee|barwed|Barwed|rpargt|horbar|conint|swarhk|roplus|nltrie|hslash|hstrok|Hstrok|rmoust|Conint|bprime|hybull|hyphen|iacute|Iacute|supsup|supsub|supsim|varphi|coprod|brvbar|agrave|Supset|supset|igrave|Igrave|notinE|Agrave|iiiint|iinfin|copysr|wedbar|Verbar|vangrt|becaus|incare|verbar|inodot|bullet|drcorn|intcal|drcrop|cularr|vellip|Utilde|bumpeq|cupcap|dstrok|Dstrok|CupCap|cupcup|cupdot|eacute|Eacute|supdot|iquest|easter|ecaron|Ecaron|ecolon|isinsv|utilde|itilde|Itilde|curarr|succeq|Bumpeq|cacute|ulcrop|nparsl|Cacute|nprcue|egrave|Egrave|nrarrc|nrarrw|subsup|subsub|nrtrie|jsercy|nsccue|Jsercy|kappav|kcedil|Kcedil|subsim|ulcorn|nsimeq|egsdot|veebar|kgreen|capand|elsdot|Subset|subset|curren|aacute|lacute|Lacute|emptyv|ntilde|Ntilde|lagran|lambda|Lambda|capcap|Ugrave|langle|subdot|emsp13|numero|emsp14|nvdash|nvDash|nVdash|nVDash|ugrave|ufisht|nvHarr|larrfs|nvlArr|larrhk|larrlp|larrpl|nvrArr|Udblac|nwarhk|larrtl|nwnear|oacute|Oacute|latail|lAtail|sstarf|lbrace|odblac|Odblac|lbrack|udblac|odsold|eparsl|lcaron|Lcaron|ograve|Ograve|lcedil|Lcedil|Aacute|ssmile|ssetmn|squarf|ldquor|capcup|ominus|cylcty|rharul|eqcirc|dagger|rfloor|rfisht|Dagger|daleth|equals|origof|capdot|equest|dcaron|Dcaron|rdquor|oslash|Oslash|otilde|Otilde|otimes|Otimes|urcrop|Ubreve|ubreve|Yacute|Uacute|uacute|Rcedil|rcedil|urcorn|parsim|Rcaron|Vdashl|rcaron|Tstrok|percnt|period|permil|Exists|yacute|rbrack|rbrace|phmmat|ccaron|Ccaron|planck|ccedil|plankv|tstrok|female|plusdo|plusdu|ffilig|plusmn|ffllig|Ccedil|rAtail|dfisht|bernou|ratail|Rarrtl|rarrtl|angsph|rarrpl|rarrlp|rarrhk|xwedge|xotime|forall|ForAll|Vvdash|vsupnE|preceq|bigcap|frac12|frac13|frac14|primes|rarrfs|prnsim|frac15|Square|frac16|square|lesdot|frac18|frac23|propto|prurel|rarrap|rangle|puncsp|frac25|Racute|qprime|racute|lesges|frac34|abreve|AElig|eqsim|utdot|setmn|urtri|Equal|Uring|seArr|uring|searr|dashv|Dashv|mumap|nabla|iogon|Iogon|sdote|sdotb|scsim|napid|napos|equiv|natur|Acirc|dblac|erarr|nbump|iprod|erDot|ucirc|awint|esdot|angrt|ncong|isinE|scnap|Scirc|scirc|ndash|isins|Ubrcy|nearr|neArr|isinv|nedot|ubrcy|acute|Ycirc|iukcy|Iukcy|xutri|nesim|caret|jcirc|Jcirc|caron|twixt|ddarr|sccue|exist|jmath|sbquo|ngeqq|angst|ccaps|lceil|ngsim|UpTee|delta|Delta|rtrif|nharr|nhArr|nhpar|rtrie|jukcy|Jukcy|kappa|rsquo|Kappa|nlarr|nlArr|TSHcy|rrarr|aogon|Aogon|fflig|xrarr|tshcy|ccirc|nleqq|filig|upsih|nless|dharl|nlsim|fjlig|ropar|nltri|dharr|robrk|roarr|fllig|fltns|roang|rnmid|subnE|subne|lAarr|trisb|Ccirc|acirc|ccups|blank|VDash|forkv|Vdash|langd|cedil|blk12|blk14|laquo|strns|diams|notin|vDash|larrb|blk34|block|disin|uplus|vdash|vBarv|aelig|starf|Wedge|check|xrArr|lates|lbarr|lBarr|notni|lbbrk|bcong|frasl|lbrke|frown|vrtri|vprop|vnsup|gamma|Gamma|wedge|xodot|bdquo|srarr|doteq|ldquo|boxdl|boxdL|gcirc|Gcirc|boxDl|boxDL|boxdr|boxdR|boxDr|TRADE|trade|rlhar|boxDR|vnsub|npart|vltri|rlarr|boxhd|boxhD|nprec|gescc|nrarr|nrArr|boxHd|boxHD|boxhu|boxhU|nrtri|boxHu|clubs|boxHU|times|colon|Colon|gimel|xlArr|Tilde|nsime|tilde|nsmid|nspar|THORN|thorn|xlarr|nsube|nsubE|thkap|xhArr|comma|nsucc|boxul|boxuL|nsupe|nsupE|gneqq|gnsim|boxUl|boxUL|grave|boxur|boxuR|boxUr|boxUR|lescc|angle|bepsi|boxvh|varpi|boxvH|numsp|Theta|gsime|gsiml|theta|boxVh|boxVH|boxvl|gtcir|gtdot|boxvL|boxVl|boxVL|crarr|cross|Cross|nvsim|boxvr|nwarr|nwArr|sqsup|dtdot|Uogon|lhard|lharu|dtrif|ocirc|Ocirc|lhblk|duarr|odash|sqsub|Hacek|sqcup|llarr|duhar|oelig|OElig|ofcir|boxvR|uogon|lltri|boxVr|csube|uuarr|ohbar|csupe|ctdot|olarr|olcir|harrw|oline|sqcap|omacr|Omacr|omega|Omega|boxVR|aleph|lneqq|lnsim|loang|loarr|rharu|lobrk|hcirc|operp|oplus|rhard|Hcirc|orarr|Union|order|ecirc|Ecirc|cuepr|szlig|cuesc|breve|reals|eDDot|Breve|hoarr|lopar|utrif|rdquo|Umacr|umacr|efDot|swArr|ultri|alpha|rceil|ovbar|swarr|Wcirc|wcirc|smtes|smile|bsemi|lrarr|aring|parsl|lrhar|bsime|uhblk|lrtri|cupor|Aring|uharr|uharl|slarr|rbrke|bsolb|lsime|rbbrk|RBarr|lsimg|phone|rBarr|rbarr|icirc|lsquo|Icirc|emacr|Emacr|ratio|simne|plusb|simlE|simgE|simeq|pluse|ltcir|ltdot|empty|xharr|xdtri|iexcl|Alpha|ltrie|rarrw|pound|ltrif|xcirc|bumpe|prcue|bumpE|asymp|amacr|cuvee|Sigma|sigma|iiint|udhar|iiota|ijlig|IJlig|supnE|imacr|Imacr|prime|Prime|image|prnap|eogon|Eogon|rarrc|mdash|mDDot|cuwed|imath|supne|imped|Amacr|udarr|prsim|micro|rarrb|cwint|raquo|infin|eplus|range|rangd|Ucirc|radic|minus|amalg|veeeq|rAarr|epsiv|ycirc|quest|sharp|quot|zwnj|Qscr|race|qscr|Qopf|qopf|qint|rang|Rang|Zscr|zscr|Zopf|zopf|rarr|rArr|Rarr|Pscr|pscr|prop|prod|prnE|prec|ZHcy|zhcy|prap|Zeta|zeta|Popf|popf|Zdot|plus|zdot|Yuml|yuml|phiv|YUcy|yucy|Yscr|yscr|perp|Yopf|yopf|part|para|YIcy|Ouml|rcub|yicy|YAcy|rdca|ouml|osol|Oscr|rdsh|yacy|real|oscr|xvee|andd|rect|andv|Xscr|oror|ordm|ordf|xscr|ange|aopf|Aopf|rHar|Xopf|opar|Oopf|xopf|xnis|rhov|oopf|omid|xmap|oint|apid|apos|ogon|ascr|Ascr|odot|odiv|xcup|xcap|ocir|oast|nvlt|nvle|nvgt|nvge|nvap|Wscr|wscr|auml|ntlg|ntgl|nsup|nsub|nsim|Nscr|nscr|nsce|Wopf|ring|npre|wopf|npar|Auml|Barv|bbrk|Nopf|nopf|nmid|nLtv|beta|ropf|Ropf|Beta|beth|nles|rpar|nleq|bnot|bNot|nldr|NJcy|rscr|Rscr|Vscr|vscr|rsqb|njcy|bopf|nisd|Bopf|rtri|Vopf|nGtv|ngtr|vopf|boxh|boxH|boxv|nges|ngeq|boxV|bscr|scap|Bscr|bsim|Vert|vert|bsol|bull|bump|caps|cdot|ncup|scnE|ncap|nbsp|napE|Cdot|cent|sdot|Vbar|nang|vBar|chcy|Mscr|mscr|sect|semi|CHcy|Mopf|mopf|sext|circ|cire|mldr|mlcp|cirE|comp|shcy|SHcy|vArr|varr|cong|copf|Copf|copy|COPY|malt|male|macr|lvnE|cscr|ltri|sime|ltcc|simg|Cscr|siml|csub|Uuml|lsqb|lsim|uuml|csup|Lscr|lscr|utri|smid|lpar|cups|smte|lozf|darr|Lopf|Uscr|solb|lopf|sopf|Sopf|lneq|uscr|spar|dArr|lnap|Darr|dash|Sqrt|LJcy|ljcy|lHar|dHar|Upsi|upsi|diam|lesg|djcy|DJcy|leqq|dopf|Dopf|dscr|Dscr|dscy|ldsh|ldca|squf|DScy|sscr|Sscr|dsol|lcub|late|star|Star|Uopf|Larr|lArr|larr|uopf|dtri|dzcy|sube|subE|Lang|lang|Kscr|kscr|Kopf|kopf|KJcy|kjcy|KHcy|khcy|DZcy|ecir|edot|eDot|Jscr|jscr|succ|Jopf|jopf|Edot|uHar|emsp|ensp|Iuml|iuml|eopf|isin|Iscr|iscr|Eopf|epar|sung|epsi|escr|sup1|sup2|sup3|Iota|iota|supe|supE|Iopf|iopf|IOcy|iocy|Escr|esim|Esim|imof|Uarr|QUOT|uArr|uarr|euml|IEcy|iecy|Idot|Euml|euro|excl|Hscr|hscr|Hopf|hopf|TScy|tscy|Tscr|hbar|tscr|flat|tbrk|fnof|hArr|harr|half|fopf|Fopf|tdot|gvnE|fork|trie|gtcc|fscr|Fscr|gdot|gsim|Gscr|gscr|Gopf|gopf|gneq|Gdot|tosa|gnap|Topf|topf|geqq|toea|GJcy|gjcy|tint|gesl|mid|Sfr|ggg|top|ges|gla|glE|glj|geq|gne|gEl|gel|gnE|Gcy|gcy|gap|Tfr|tfr|Tcy|tcy|Hat|Tau|Ffr|tau|Tab|hfr|Hfr|ffr|Fcy|fcy|icy|Icy|iff|ETH|eth|ifr|Ifr|Eta|eta|int|Int|Sup|sup|ucy|Ucy|Sum|sum|jcy|ENG|ufr|Ufr|eng|Jcy|jfr|els|ell|egs|Efr|efr|Jfr|uml|kcy|Kcy|Ecy|ecy|kfr|Kfr|lap|Sub|sub|lat|lcy|Lcy|leg|Dot|dot|lEg|leq|les|squ|div|die|lfr|Lfr|lgE|Dfr|dfr|Del|deg|Dcy|dcy|lne|lnE|sol|loz|smt|Cup|lrm|cup|lsh|Lsh|sim|shy|map|Map|mcy|Mcy|mfr|Mfr|mho|gfr|Gfr|sfr|cir|Chi|chi|nap|Cfr|vcy|Vcy|cfr|Scy|scy|ncy|Ncy|vee|Vee|Cap|cap|nfr|scE|sce|Nfr|nge|ngE|nGg|vfr|Vfr|ngt|bot|nGt|nis|niv|Rsh|rsh|nle|nlE|bne|Bfr|bfr|nLl|nlt|nLt|Bcy|bcy|not|Not|rlm|wfr|Wfr|npr|nsc|num|ocy|ast|Ocy|ofr|xfr|Xfr|Ofr|ogt|ohm|apE|olt|Rho|ape|rho|Rfr|rfr|ord|REG|ang|reg|orv|And|and|AMP|Rcy|amp|Afr|ycy|Ycy|yen|yfr|Yfr|rcy|par|pcy|Pcy|pfr|Pfr|phi|Phi|afr|Acy|acy|zcy|Zcy|piv|acE|acd|zfr|Zfr|pre|prE|psi|Psi|qfr|Qfr|zwj|Or|ge|Gg|gt|gg|el|oS|lt|Lt|LT|Re|lg|gl|eg|ne|Im|it|le|DD|wp|wr|nu|Nu|dd|lE|Sc|sc|pi|Pi|ee|af|ll|Ll|rx|gE|xi|pm|Xi|ic|pr|Pr|in|ni|mp|mu|ac|Mu|or|ap|Gt|GT|ii);|&(Aacute|Agrave|Atilde|Ccedil|Eacute|Egrave|Iacute|Igrave|Ntilde|Oacute|Ograve|Oslash|Otilde|Uacute|Ugrave|Yacute|aacute|agrave|atilde|brvbar|ccedil|curren|divide|eacute|egrave|frac12|frac14|frac34|iacute|igrave|iquest|middot|ntilde|oacute|ograve|oslash|otilde|plusmn|uacute|ugrave|yacute|AElig|Acirc|Aring|Ecirc|Icirc|Ocirc|THORN|Ucirc|acirc|acute|aelig|aring|cedil|ecirc|icirc|iexcl|laquo|micro|ocirc|pound|raquo|szlig|thorn|times|ucirc|Auml|COPY|Euml|Iuml|Ouml|QUOT|Uuml|auml|cent|copy|euml|iuml|macr|nbsp|ordf|ordm|ouml|para|quot|sect|sup1|sup2|sup3|uuml|yuml|AMP|ETH|REG|amp|deg|eth|not|reg|shy|uml|yen|GT|LT|gt|lt)(?!;)([=a-zA-Z0-9]?)|&#([0-9]+)(;?)|&#[xX]([a-fA-F0-9]+)(;?)|&([0-9a-zA-Z]+)/g,g={aacute:"",Aacute:"",abreve:"",Abreve:"",ac:"",acd:"",acE:"",acirc:"",Acirc:"",acute:"",acy:"",Acy:"",aelig:"",AElig:"",af:"",afr:"",Afr:"",agrave:"",Agrave:"",alefsym:"",aleph:"",alpha:"",Alpha:"",amacr:"",Amacr:"",amalg:"",amp:"&",AMP:"&",and:"",And:"",andand:"",andd:"",andslope:"",andv:"",ang:"",ange:"",angle:"",angmsd:"",angmsdaa:"",angmsdab:"",angmsdac:"",angmsdad:"",angmsdae:"",angmsdaf:"",angmsdag:"",angmsdah:"",angrt:"",angrtvb:"",angrtvbd:"",angsph:"",angst:"",angzarr:"",aogon:"",Aogon:"",aopf:"",Aopf:"",ap:"",apacir:"",ape:"",apE:"",apid:"",apos:"'",ApplyFunction:"",approx:"",approxeq:"",aring:"",Aring:"",ascr:"",Ascr:"",Assign:"",ast:"*",asymp:"",asympeq:"",atilde:"",Atilde:"",auml:"",Auml:"",awconint:"",awint:"",backcong:"",backepsilon:"",backprime:"",backsim:"",backsimeq:"",Backslash:"",Barv:"",barvee:"",barwed:"",Barwed:"",barwedge:"",bbrk:"",bbrktbrk:"",bcong:"",bcy:"",Bcy:"",bdquo:"",becaus:"",because:"",Because:"",bemptyv:"",bepsi:"",bernou:"",Bernoullis:"",beta:"",Beta:"",beth:"",between:"",bfr:"",Bfr:"",bigcap:"",bigcirc:"",bigcup:"",bigodot:"",bigoplus:"",bigotimes:"",bigsqcup:"",bigstar:"",bigtriangledown:"",bigtriangleup:"",biguplus:"",bigvee:"",bigwedge:"",bkarow:"",blacklozenge:"",blacksquare:"",blacktriangle:"",blacktriangledown:"",blacktriangleleft:"",blacktriangleright:"",blank:"",blk12:"",blk14:"",blk34:"",block:"",bne:"=",bnequiv:"",bnot:"",bNot:"",bopf:"",Bopf:"",bot:"",bottom:"",bowtie:"",boxbox:"",boxdl:"",boxdL:"",boxDl:"",boxDL:"",boxdr:"",boxdR:"",boxDr:"",boxDR:"",boxh:"",boxH:"",boxhd:"",boxhD:"",boxHd:"",boxHD:"",boxhu:"",boxhU:"",boxHu:"",boxHU:"",boxminus:"",boxplus:"",boxtimes:"",boxul:"",boxuL:"",boxUl:"",boxUL:"",boxur:"",boxuR:"",boxUr:"",boxUR:"",boxv:"",boxV:"",boxvh:"",boxvH:"",boxVh:"",boxVH:"",boxvl:"",boxvL:"",boxVl:"",boxVL:"",boxvr:"",boxvR:"",boxVr:"",boxVR:"",bprime:"",breve:"",Breve:"",brvbar:"",bscr:"",Bscr:"",bsemi:"",bsim:"",bsime:"",bsol:"\\",bsolb:"",bsolhsub:"",bull:"",bullet:"",bump:"",bumpe:"",bumpE:"",bumpeq:"",Bumpeq:"",cacute:"",Cacute:"",cap:"",Cap:"",capand:"",capbrcup:"",capcap:"",capcup:"",capdot:"",CapitalDifferentialD:"",caps:"",caret:"",caron:"",Cayleys:"",ccaps:"",ccaron:"",Ccaron:"",ccedil:"",Ccedil:"",ccirc:"",Ccirc:"",Cconint:"",ccups:"",ccupssm:"",cdot:"",Cdot:"",cedil:"",Cedilla:"",cemptyv:"",cent:"",centerdot:"",CenterDot:"",cfr:"",Cfr:"",chcy:"",CHcy:"",check:"",checkmark:"",chi:"",Chi:"",cir:"",circ:"",circeq:"",circlearrowleft:"",circlearrowright:"",circledast:"",circledcirc:"",circleddash:"",CircleDot:"",circledR:"",circledS:"",CircleMinus:"",CirclePlus:"",CircleTimes:"",cire:"",cirE:"",cirfnint:"",cirmid:"",cirscir:"",ClockwiseContourIntegral:"",CloseCurlyDoubleQuote:"",CloseCurlyQuote:"",clubs:"",clubsuit:"",colon:":",Colon:"",colone:"",Colone:"",coloneq:"",comma:",",commat:"@",comp:"",compfn:"",complement:"",complexes:"",cong:"",congdot:"",Congruent:"",conint:"",Conint:"",ContourIntegral:"",copf:"",Copf:"",coprod:"",Coproduct:"",copy:"",COPY:"",copysr:"",CounterClockwiseContourIntegral:"",crarr:"",cross:"",Cross:"",cscr:"",Cscr:"",csub:"",csube:"",csup:"",csupe:"",ctdot:"",cudarrl:"",cudarrr:"",cuepr:"",cuesc:"",cularr:"",cularrp:"",cup:"",Cup:"",cupbrcap:"",cupcap:"",CupCap:"",cupcup:"",cupdot:"",cupor:"",cups:"",curarr:"",curarrm:"",curlyeqprec:"",curlyeqsucc:"",curlyvee:"",curlywedge:"",curren:"",curvearrowleft:"",curvearrowright:"",cuvee:"",cuwed:"",cwconint:"",cwint:"",cylcty:"",dagger:"",Dagger:"",daleth:"",darr:"",dArr:"",Darr:"",dash:"",dashv:"",Dashv:"",dbkarow:"",dblac:"",dcaron:"",Dcaron:"",dcy:"",Dcy:"",dd:"",DD:"",ddagger:"",ddarr:"",DDotrahd:"",ddotseq:"",deg:"",Del:"",delta:"",Delta:"",demptyv:"",dfisht:"",dfr:"",Dfr:"",dHar:"",dharl:"",dharr:"",DiacriticalAcute:"",DiacriticalDot:"",DiacriticalDoubleAcute:"",DiacriticalGrave:"`",DiacriticalTilde:"",diam:"",diamond:"",Diamond:"",diamondsuit:"",diams:"",die:"",DifferentialD:"",digamma:"",disin:"",div:"",divide:"",divideontimes:"",divonx:"",djcy:"",DJcy:"",dlcorn:"",dlcrop:"",dollar:"$",dopf:"",Dopf:"",dot:"",Dot:"",DotDot:"",doteq:"",doteqdot:"",DotEqual:"",dotminus:"",dotplus:"",dotsquare:"",doublebarwedge:"",DoubleContourIntegral:"",DoubleDot:"",DoubleDownArrow:"",DoubleLeftArrow:"",DoubleLeftRightArrow:"",DoubleLeftTee:"",DoubleLongLeftArrow:"",DoubleLongLeftRightArrow:"",DoubleLongRightArrow:"",DoubleRightArrow:"",DoubleRightTee:"",DoubleUpArrow:"",DoubleUpDownArrow:"",DoubleVerticalBar:"",downarrow:"",Downarrow:"",DownArrow:"",DownArrowBar:"",DownArrowUpArrow:"",DownBreve:"",downdownarrows:"",downharpoonleft:"",downharpoonright:"",DownLeftRightVector:"",DownLeftTeeVector:"",DownLeftVector:"",DownLeftVectorBar:"",DownRightTeeVector:"",DownRightVector:"",DownRightVectorBar:"",DownTee:"",DownTeeArrow:"",drbkarow:"",drcorn:"",drcrop:"",dscr:"",Dscr:"",dscy:"",DScy:"",dsol:"",dstrok:"",Dstrok:"",dtdot:"",dtri:"",dtrif:"",duarr:"",duhar:"",dwangle:"",dzcy:"",DZcy:"",dzigrarr:"",eacute:"",Eacute:"",easter:"",ecaron:"",Ecaron:"",ecir:"",ecirc:"",Ecirc:"",ecolon:"",ecy:"",Ecy:"",eDDot:"",edot:"",eDot:"",Edot:"",ee:"",efDot:"",efr:"",Efr:"",eg:"",egrave:"",Egrave:"",egs:"",egsdot:"",el:"",Element:"",elinters:"",ell:"",els:"",elsdot:"",emacr:"",Emacr:"",empty:"",emptyset:"",EmptySmallSquare:"",emptyv:"",EmptyVerySmallSquare:"",emsp:"",emsp13:"",emsp14:"",eng:"",ENG:"",ensp:"",eogon:"",Eogon:"",eopf:"",Eopf:"",epar:"",eparsl:"",eplus:"",epsi:"",epsilon:"",Epsilon:"",epsiv:"",eqcirc:"",eqcolon:"",eqsim:"",eqslantgtr:"",eqslantless:"",Equal:"",equals:"=",EqualTilde:"",equest:"",Equilibrium:"",equiv:"",equivDD:"",eqvparsl:"",erarr:"",erDot:"",escr:"",Escr:"",esdot:"",esim:"",Esim:"",eta:"",Eta:"",eth:"",ETH:"",euml:"",Euml:"",euro:"",excl:"!",exist:"",Exists:"",expectation:"",exponentiale:"",ExponentialE:"",fallingdotseq:"",fcy:"",Fcy:"",female:"",ffilig:"",fflig:"",ffllig:"",ffr:"",Ffr:"",filig:"",FilledSmallSquare:"",FilledVerySmallSquare:"",fjlig:"fj",flat:"",fllig:"",fltns:"",fnof:"",fopf:"",Fopf:"",forall:"",ForAll:"",fork:"",forkv:"",Fouriertrf:"",fpartint:"",frac12:"",frac13:"",frac14:"",frac15:"",frac16:"",frac18:"",frac23:"",frac25:"",frac34:"",frac35:"",frac38:"",frac45:"",frac56:"",frac58:"",frac78:"",frasl:"",frown:"",fscr:"",Fscr:"",gacute:"",gamma:"",Gamma:"",gammad:"",Gammad:"",gap:"",gbreve:"",Gbreve:"",Gcedil:"",gcirc:"",Gcirc:"",gcy:"",Gcy:"",gdot:"",Gdot:"",ge:"",gE:"",gel:"",gEl:"",geq:"",geqq:"",geqslant:"",ges:"",gescc:"",gesdot:"",gesdoto:"",gesdotol:"",gesl:"",gesles:"",gfr:"",Gfr:"",gg:"",Gg:"",ggg:"",gimel:"",gjcy:"",GJcy:"",gl:"",gla:"",glE:"",glj:"",gnap:"",gnapprox:"",gne:"",gnE:"",gneq:"",gneqq:"",gnsim:"",gopf:"",Gopf:"",grave:"`",GreaterEqual:"",GreaterEqualLess:"",GreaterFullEqual:"",GreaterGreater:"",GreaterLess:"",GreaterSlantEqual:"",GreaterTilde:"",gscr:"",Gscr:"",gsim:"",gsime:"",gsiml:"",gt:">",Gt:"",GT:">",gtcc:"",gtcir:"",gtdot:"",gtlPar:"",gtquest:"",gtrapprox:"",gtrarr:"",gtrdot:"",gtreqless:"",gtreqqless:"",gtrless:"",gtrsim:"",gvertneqq:"",gvnE:"",Hacek:"",hairsp:"",half:"",hamilt:"",hardcy:"",HARDcy:"",harr:"",hArr:"",harrcir:"",harrw:"",Hat:"^",hbar:"",hcirc:"",Hcirc:"",hearts:"",heartsuit:"",hellip:"",hercon:"",hfr:"",Hfr:"",HilbertSpace:"",hksearow:"",hkswarow:"",hoarr:"",homtht:"",hookleftarrow:"",hookrightarrow:"",hopf:"",Hopf:"",horbar:"",HorizontalLine:"",hscr:"",Hscr:"",hslash:"",hstrok:"",Hstrok:"",HumpDownHump:"",HumpEqual:"",hybull:"",hyphen:"",iacute:"",Iacute:"",ic:"",icirc:"",Icirc:"",icy:"",Icy:"",Idot:"",iecy:"",IEcy:"",iexcl:"",iff:"",ifr:"",Ifr:"",igrave:"",Igrave:"",ii:"",iiiint:"",iiint:"",iinfin:"",iiota:"",ijlig:"",IJlig:"",Im:"",imacr:"",Imacr:"",image:"",ImaginaryI:"",imagline:"",imagpart:"",imath:"",imof:"",imped:"",Implies:"",in:"",incare:"",infin:"",infintie:"",inodot:"",int:"",Int:"",intcal:"",integers:"",Integral:"",intercal:"",Intersection:"",intlarhk:"",intprod:"",InvisibleComma:"",InvisibleTimes:"",iocy:"",IOcy:"",iogon:"",Iogon:"",iopf:"",Iopf:"",iota:"",Iota:"",iprod:"",iquest:"",iscr:"",Iscr:"",isin:"",isindot:"",isinE:"",isins:"",isinsv:"",isinv:"",it:"",itilde:"",Itilde:"",iukcy:"",Iukcy:"",iuml:"",Iuml:"",jcirc:"",Jcirc:"",jcy:"",Jcy:"",jfr:"",Jfr:"",jmath:"",jopf:"",Jopf:"",jscr:"",Jscr:"",jsercy:"",Jsercy:"",jukcy:"",Jukcy:"",kappa:"",Kappa:"",kappav:"",kcedil:"",Kcedil:"",kcy:"",Kcy:"",kfr:"",Kfr:"",kgreen:"",khcy:"",KHcy:"",kjcy:"",KJcy:"",kopf:"",Kopf:"",kscr:"",Kscr:"",lAarr:"",lacute:"",Lacute:"",laemptyv:"",lagran:"",lambda:"",Lambda:"",lang:"",Lang:"",langd:"",langle:"",lap:"",Laplacetrf:"",laquo:"",larr:"",lArr:"",Larr:"",larrb:"",larrbfs:"",larrfs:"",larrhk:"",larrlp:"",larrpl:"",larrsim:"",larrtl:"",lat:"",latail:"",lAtail:"",late:"",lates:"",lbarr:"",lBarr:"",lbbrk:"",lbrace:"{",lbrack:"[",lbrke:"",lbrksld:"",lbrkslu:"",lcaron:"",Lcaron:"",lcedil:"",Lcedil:"",lceil:"",lcub:"{",lcy:"",Lcy:"",ldca:"",ldquo:"",ldquor:"",ldrdhar:"",ldrushar:"",ldsh:"",le:"",lE:"",LeftAngleBracket:"",leftarrow:"",Leftarrow:"",LeftArrow:"",LeftArrowBar:"",LeftArrowRightArrow:"",leftarrowtail:"",LeftCeiling:"",LeftDoubleBracket:"",LeftDownTeeVector:"",LeftDownVector:"",LeftDownVectorBar:"",LeftFloor:"",leftharpoondown:"",leftharpoonup:"",leftleftarrows:"",leftrightarrow:"",Leftrightarrow:"",LeftRightArrow:"",leftrightarrows:"",leftrightharpoons:"",leftrightsquigarrow:"",LeftRightVector:"",LeftTee:"",LeftTeeArrow:"",LeftTeeVector:"",leftthreetimes:"",LeftTriangle:"",LeftTriangleBar:"",LeftTriangleEqual:"",LeftUpDownVector:"",LeftUpTeeVector:"",LeftUpVector:"",LeftUpVectorBar:"",LeftVector:"",LeftVectorBar:"",leg:"",lEg:"",leq:"",leqq:"",leqslant:"",les:"",lescc:"",lesdot:"",lesdoto:"",lesdotor:"",lesg:"",lesges:"",lessapprox:"",lessdot:"",lesseqgtr:"",lesseqqgtr:"",LessEqualGreater:"",LessFullEqual:"",LessGreater:"",lessgtr:"",LessLess:"",lesssim:"",LessSlantEqual:"",LessTilde:"",lfisht:"",lfloor:"",lfr:"",Lfr:"",lg:"",lgE:"",lHar:"",lhard:"",lharu:"",lharul:"",lhblk:"",ljcy:"",LJcy:"",ll:"",Ll:"",llarr:"",llcorner:"",Lleftarrow:"",llhard:"",lltri:"",lmidot:"",Lmidot:"",lmoust:"",lmoustache:"",lnap:"",lnapprox:"",lne:"",lnE:"",lneq:"",lneqq:"",lnsim:"",loang:"",loarr:"",lobrk:"",longleftarrow:"",Longleftarrow:"",LongLeftArrow:"",longleftrightarrow:"",Longleftrightarrow:"",LongLeftRightArrow:"",longmapsto:"",longrightarrow:"",Longrightarrow:"",LongRightArrow:"",looparrowleft:"",looparrowright:"",lopar:"",lopf:"",Lopf:"",loplus:"",lotimes:"",lowast:"",lowbar:"_",LowerLeftArrow:"",LowerRightArrow:"",loz:"",lozenge:"",lozf:"",lpar:"(",lparlt:"",lrarr:"",lrcorner:"",lrhar:"",lrhard:"",lrm:"",lrtri:"",lsaquo:"",lscr:"",Lscr:"",lsh:"",Lsh:"",lsim:"",lsime:"",lsimg:"",lsqb:"[",lsquo:"",lsquor:"",lstrok:"",Lstrok:"",lt:"<",Lt:"",LT:"<",ltcc:"",ltcir:"",ltdot:"",lthree:"",ltimes:"",ltlarr:"",ltquest:"",ltri:"",ltrie:"",ltrif:"",ltrPar:"",lurdshar:"",luruhar:"",lvertneqq:"",lvnE:"",macr:"",male:"",malt:"",maltese:"",map:"",Map:"",mapsto:"",mapstodown:"",mapstoleft:"",mapstoup:"",marker:"",mcomma:"",mcy:"",Mcy:"",mdash:"",mDDot:"",measuredangle:"",MediumSpace:"",Mellintrf:"",mfr:"",Mfr:"",mho:"",micro:"",mid:"",midast:"*",midcir:"",middot:"",minus:"",minusb:"",minusd:"",minusdu:"",MinusPlus:"",mlcp:"",mldr:"",mnplus:"",models:"",mopf:"",Mopf:"",mp:"",mscr:"",Mscr:"",mstpos:"",mu:"",Mu:"",multimap:"",mumap:"",nabla:"",nacute:"",Nacute:"",nang:"",nap:"",napE:"",napid:"",napos:"",napprox:"",natur:"",natural:"",naturals:"",nbsp:"",nbump:"",nbumpe:"",ncap:"",ncaron:"",Ncaron:"",ncedil:"",Ncedil:"",ncong:"",ncongdot:"",ncup:"",ncy:"",Ncy:"",ndash:"",ne:"",nearhk:"",nearr:"",neArr:"",nearrow:"",nedot:"",NegativeMediumSpace:"",NegativeThickSpace:"",NegativeThinSpace:"",NegativeVeryThinSpace:"",nequiv:"",nesear:"",nesim:"",NestedGreaterGreater:"",NestedLessLess:"",NewLine:"\n",nexist:"",nexists:"",nfr:"",Nfr:"",nge:"",ngE:"",ngeq:"",ngeqq:"",ngeqslant:"",nges:"",nGg:"",ngsim:"",ngt:"",nGt:"",ngtr:"",nGtv:"",nharr:"",nhArr:"",nhpar:"",ni:"",nis:"",nisd:"",niv:"",njcy:"",NJcy:"",nlarr:"",nlArr:"",nldr:"",nle:"",nlE:"",nleftarrow:"",nLeftarrow:"",nleftrightarrow:"",nLeftrightarrow:"",nleq:"",nleqq:"",nleqslant:"",nles:"",nless:"",nLl:"",nlsim:"",nlt:"",nLt:"",nltri:"",nltrie:"",nLtv:"",nmid:"",NoBreak:"",NonBreakingSpace:"",nopf:"",Nopf:"",not:"",Not:"",NotCongruent:"",NotCupCap:"",NotDoubleVerticalBar:"",NotElement:"",NotEqual:"",NotEqualTilde:"",NotExists:"",NotGreater:"",NotGreaterEqual:"",NotGreaterFullEqual:"",NotGreaterGreater:"",NotGreaterLess:"",NotGreaterSlantEqual:"",NotGreaterTilde:"",NotHumpDownHump:"",NotHumpEqual:"",notin:"",notindot:"",notinE:"",notinva:"",notinvb:"",notinvc:"",NotLeftTriangle:"",NotLeftTriangleBar:"",NotLeftTriangleEqual:"",NotLess:"",NotLessEqual:"",NotLessGreater:"",NotLessLess:"",NotLessSlantEqual:"",NotLessTilde:"",NotNestedGreaterGreater:"",NotNestedLessLess:"",notni:"",notniva:"",notnivb:"",notnivc:"",NotPrecedes:"",NotPrecedesEqual:"",NotPrecedesSlantEqual:"",NotReverseElement:"",NotRightTriangle:"",NotRightTriangleBar:"",NotRightTriangleEqual:"",NotSquareSubset:"",NotSquareSubsetEqual:"",NotSquareSuperset:"",NotSquareSupersetEqual:"",NotSubset:"",NotSubsetEqual:"",NotSucceeds:"",NotSucceedsEqual:"",NotSucceedsSlantEqual:"",NotSucceedsTilde:"",NotSuperset:"",NotSupersetEqual:"",NotTilde:"",NotTildeEqual:"",NotTildeFullEqual:"",NotTildeTilde:"",NotVerticalBar:"",npar:"",nparallel:"",nparsl:"",npart:"",npolint:"",npr:"",nprcue:"",npre:"",nprec:"",npreceq:"",nrarr:"",nrArr:"",nrarrc:"",nrarrw:"",nrightarrow:"",nRightarrow:"",nrtri:"",nrtrie:"",nsc:"",nsccue:"",nsce:"",nscr:"",Nscr:"",nshortmid:"",nshortparallel:"",nsim:"",nsime:"",nsimeq:"",nsmid:"",nspar:"",nsqsube:"",nsqsupe:"",nsub:"",nsube:"",nsubE:"",nsubset:"",nsubseteq:"",nsubseteqq:"",nsucc:"",nsucceq:"",nsup:"",nsupe:"",nsupE:"",nsupset:"",nsupseteq:"",nsupseteqq:"",ntgl:"",ntilde:"",Ntilde:"",ntlg:"",ntriangleleft:"",ntrianglelefteq:"",ntriangleright:"",ntrianglerighteq:"",nu:"",Nu:"",num:"#",numero:"",numsp:"",nvap:"",nvdash:"",nvDash:"",nVdash:"",nVDash:"",nvge:"",nvgt:">",nvHarr:"",nvinfin:"",nvlArr:"",nvle:"",nvlt:"<",nvltrie:"",nvrArr:"",nvrtrie:"",nvsim:"",nwarhk:"",nwarr:"",nwArr:"",nwarrow:"",nwnear:"",oacute:"",Oacute:"",oast:"",ocir:"",ocirc:"",Ocirc:"",ocy:"",Ocy:"",odash:"",odblac:"",Odblac:"",odiv:"",odot:"",odsold:"",oelig:"",OElig:"",ofcir:"",ofr:"",Ofr:"",ogon:"",ograve:"",Ograve:"",ogt:"",ohbar:"",ohm:"",oint:"",olarr:"",olcir:"",olcross:"",oline:"",olt:"",omacr:"",Omacr:"",omega:"",Omega:"",omicron:"",Omicron:"",omid:"",ominus:"",oopf:"",Oopf:"",opar:"",OpenCurlyDoubleQuote:"",OpenCurlyQuote:"",operp:"",oplus:"",or:"",Or:"",orarr:"",ord:"",order:"",orderof:"",ordf:"",ordm:"",origof:"",oror:"",orslope:"",orv:"",oS:"",oscr:"",Oscr:"",oslash:"",Oslash:"",osol:"",otilde:"",Otilde:"",otimes:"",Otimes:"",otimesas:"",ouml:"",Ouml:"",ovbar:"",OverBar:"",OverBrace:"",OverBracket:"",OverParenthesis:"",par:"",para:"",parallel:"",parsim:"",parsl:"",part:"",PartialD:"",pcy:"",Pcy:"",percnt:"%",period:".",permil:"",perp:"",pertenk:"",pfr:"",Pfr:"",phi:"",Phi:"",phiv:"",phmmat:"",phone:"",pi:"",Pi:"",pitchfork:"",piv:"",planck:"",planckh:"",plankv:"",plus:"+",plusacir:"",plusb:"",pluscir:"",plusdo:"",plusdu:"",pluse:"",PlusMinus:"",plusmn:"",plussim:"",plustwo:"",pm:"",Poincareplane:"",pointint:"",popf:"",Popf:"",pound:"",pr:"",Pr:"",prap:"",prcue:"",pre:"",prE:"",prec:"",precapprox:"",preccurlyeq:"",Precedes:"",PrecedesEqual:"",PrecedesSlantEqual:"",PrecedesTilde:"",preceq:"",precnapprox:"",precneqq:"",precnsim:"",precsim:"",prime:"",Prime:"",primes:"",prnap:"",prnE:"",prnsim:"",prod:"",Product:"",profalar:"",profline:"",profsurf:"",prop:"",Proportion:"",Proportional:"",propto:"",prsim:"",prurel:"",pscr:"",Pscr:"",psi:"",Psi:"",puncsp:"",qfr:"",Qfr:"",qint:"",qopf:"",Qopf:"",qprime:"",qscr:"",Qscr:"",quaternions:"",quatint:"",quest:"?",questeq:"",quot:'"',QUOT:'"',rAarr:"",race:"",racute:"",Racute:"",radic:"",raemptyv:"",rang:"",Rang:"",rangd:"",range:"",rangle:"",raquo:"",rarr:"",rArr:"",Rarr:"",rarrap:"",rarrb:"",rarrbfs:"",rarrc:"",rarrfs:"",rarrhk:"",rarrlp:"",rarrpl:"",rarrsim:"",rarrtl:"",Rarrtl:"",rarrw:"",ratail:"",rAtail:"",ratio:"",rationals:"",rbarr:"",rBarr:"",RBarr:"",rbbrk:"",rbrace:"}",rbrack:"]",rbrke:"",rbrksld:"",rbrkslu:"",rcaron:"",Rcaron:"",rcedil:"",Rcedil:"",rceil:"",rcub:"}",rcy:"",Rcy:"",rdca:"",rdldhar:"",rdquo:"",rdquor:"",rdsh:"",Re:"",real:"",realine:"",realpart:"",reals:"",rect:"",reg:"",REG:"",ReverseElement:"",ReverseEquilibrium:"",ReverseUpEquilibrium:"",rfisht:"",rfloor:"",rfr:"",Rfr:"",rHar:"",rhard:"",rharu:"",rharul:"",rho:"",Rho:"",rhov:"",RightAngleBracket:"",rightarrow:"",Rightarrow:"",RightArrow:"",RightArrowBar:"",RightArrowLeftArrow:"",rightarrowtail:"",RightCeiling:"",RightDoubleBracket:"",RightDownTeeVector:"",RightDownVector:"",RightDownVectorBar:"",RightFloor:"",rightharpoondown:"",rightharpoonup:"",rightleftarrows:"",rightleftharpoons:"",rightrightarrows:"",rightsquigarrow:"",RightTee:"",RightTeeArrow:"",RightTeeVector:"",rightthreetimes:"",RightTriangle:"",RightTriangleBar:"",RightTriangleEqual:"",RightUpDownVector:"",RightUpTeeVector:"",RightUpVector:"",RightUpVectorBar:"",RightVector:"",RightVectorBar:"",ring:"",risingdotseq:"",rlarr:"",rlhar:"",rlm:"",rmoust:"",rmoustache:"",rnmid:"",roang:"",roarr:"",robrk:"",ropar:"",ropf:"",Ropf:"",roplus:"",rotimes:"",RoundImplies:"",rpar:")",rpargt:"",rppolint:"",rrarr:"",Rrightarrow:"",rsaquo:"",rscr:"",Rscr:"",rsh:"",Rsh:"",rsqb:"]",rsquo:"",rsquor:"",rthree:"",rtimes:"",rtri:"",rtrie:"",rtrif:"",rtriltri:"",RuleDelayed:"",ruluhar:"",rx:"",sacute:"",Sacute:"",sbquo:"",sc:"",Sc:"",scap:"",scaron:"",Scaron:"",sccue:"",sce:"",scE:"",scedil:"",Scedil:"",scirc:"",Scirc:"",scnap:"",scnE:"",scnsim:"",scpolint:"",scsim:"",scy:"",Scy:"",sdot:"",sdotb:"",sdote:"",searhk:"",searr:"",seArr:"",searrow:"",sect:"",semi:";",seswar:"",setminus:"",setmn:"",sext:"",sfr:"",Sfr:"",sfrown:"",sharp:"",shchcy:"",SHCHcy:"",shcy:"",SHcy:"",ShortDownArrow:"",ShortLeftArrow:"",shortmid:"",shortparallel:"",ShortRightArrow:"",ShortUpArrow:"",shy:"",sigma:"",Sigma:"",sigmaf:"",sigmav:"",sim:"",simdot:"",sime:"",simeq:"",simg:"",simgE:"",siml:"",simlE:"",simne:"",simplus:"",simrarr:"",slarr:"",SmallCircle:"",smallsetminus:"",smashp:"",smeparsl:"",smid:"",smile:"",smt:"",smte:"",smtes:"",softcy:"",SOFTcy:"",sol:"/",solb:"",solbar:"",sopf:"",Sopf:"",spades:"",spadesuit:"",spar:"",sqcap:"",sqcaps:"",sqcup:"",sqcups:"",Sqrt:"",sqsub:"",sqsube:"",sqsubset:"",sqsubseteq:"",sqsup:"",sqsupe:"",sqsupset:"",sqsupseteq:"",squ:"",square:"",Square:"",SquareIntersection:"",SquareSubset:"",SquareSubsetEqual:"",SquareSuperset:"",SquareSupersetEqual:"",SquareUnion:"",squarf:"",squf:"",srarr:"",sscr:"",Sscr:"",ssetmn:"",ssmile:"",sstarf:"",star:"",Star:"",starf:"",straightepsilon:"",straightphi:"",strns:"",sub:"",Sub:"",subdot:"",sube:"",subE:"",subedot:"",submult:"",subne:"",subnE:"",subplus:"",subrarr:"",subset:"",Subset:"",subseteq:"",subseteqq:"",SubsetEqual:"",subsetneq:"",subsetneqq:"",subsim:"",subsub:"",subsup:"",succ:"",succapprox:"",succcurlyeq:"",Succeeds:"",SucceedsEqual:"",SucceedsSlantEqual:"",SucceedsTilde:"",succeq:"",succnapprox:"",succneqq:"",succnsim:"",succsim:"",SuchThat:"",sum:"",Sum:"",sung:"",sup:"",Sup:"",sup1:"",sup2:"",sup3:"",supdot:"",supdsub:"",supe:"",supE:"",supedot:"",Superset:"",SupersetEqual:"",suphsol:"",suphsub:"",suplarr:"",supmult:"",supne:"",supnE:"",supplus:"",supset:"",Supset:"",supseteq:"",supseteqq:"",supsetneq:"",supsetneqq:"",supsim:"",supsub:"",supsup:"",swarhk:"",swarr:"",swArr:"",swarrow:"",swnwar:"",szlig:"",Tab:"\t",target:"",tau:"",Tau:"",tbrk:"",tcaron:"",Tcaron:"",tcedil:"",Tcedil:"",tcy:"",Tcy:"",tdot:"",telrec:"",tfr:"",Tfr:"",there4:"",therefore:"",Therefore:"",theta:"",Theta:"",thetasym:"",thetav:"",thickapprox:"",thicksim:"",ThickSpace:"",thinsp:"",ThinSpace:"",thkap:"",thksim:"",thorn:"",THORN:"",tilde:"",Tilde:"",TildeEqual:"",TildeFullEqual:"",TildeTilde:"",times:"",timesb:"",timesbar:"",timesd:"",tint:"",toea:"",top:"",topbot:"",topcir:"",topf:"",Topf:"",topfork:"",tosa:"",tprime:"",trade:"",TRADE:"",triangle:"",triangledown:"",triangleleft:"",trianglelefteq:"",triangleq:"",triangleright:"",trianglerighteq:"",tridot:"",trie:"",triminus:"",TripleDot:"",triplus:"",trisb:"",tritime:"",trpezium:"",tscr:"",Tscr:"",tscy:"",TScy:"",tshcy:"",TSHcy:"",tstrok:"",Tstrok:"",twixt:"",twoheadleftarrow:"",twoheadrightarrow:"",uacute:"",Uacute:"",uarr:"",uArr:"",Uarr:"",Uarrocir:"",ubrcy:"",Ubrcy:"",ubreve:"",Ubreve:"",ucirc:"",Ucirc:"",ucy:"",Ucy:"",udarr:"",udblac:"",Udblac:"",udhar:"",ufisht:"",ufr:"",Ufr:"",ugrave:"",Ugrave:"",uHar:"",uharl:"",uharr:"",uhblk:"",ulcorn:"",ulcorner:"",ulcrop:"",ultri:"",umacr:"",Umacr:"",uml:"",UnderBar:"_",UnderBrace:"",UnderBracket:"",UnderParenthesis:"",Union:"",UnionPlus:"",uogon:"",Uogon:"",uopf:"",Uopf:"",uparrow:"",Uparrow:"",UpArrow:"",UpArrowBar:"",UpArrowDownArrow:"",updownarrow:"",Updownarrow:"",UpDownArrow:"",UpEquilibrium:"",upharpoonleft:"",upharpoonright:"",uplus:"",UpperLeftArrow:"",UpperRightArrow:"",upsi:"",Upsi:"",upsih:"",upsilon:"",Upsilon:"",UpTee:"",UpTeeArrow:"",upuparrows:"",urcorn:"",urcorner:"",urcrop:"",uring:"",Uring:"",urtri:"",uscr:"",Uscr:"",utdot:"",utilde:"",Utilde:"",utri:"",utrif:"",uuarr:"",uuml:"",Uuml:"",uwangle:"",vangrt:"",varepsilon:"",varkappa:"",varnothing:"",varphi:"",varpi:"",varpropto:"",varr:"",vArr:"",varrho:"",varsigma:"",varsubsetneq:"",varsubsetneqq:"",varsupsetneq:"",varsupsetneqq:"",vartheta:"",vartriangleleft:"",vartriangleright:"",vBar:"",Vbar:"",vBarv:"",vcy:"",Vcy:"",vdash:"",vDash:"",Vdash:"",VDash:"",Vdashl:"",vee:"",Vee:"",veebar:"",veeeq:"",vellip:"",verbar:"|",Verbar:"",vert:"|",Vert:"",VerticalBar:"",VerticalLine:"|",VerticalSeparator:"",VerticalTilde:"",VeryThinSpace:"",vfr:"",Vfr:"",vltri:"",vnsub:"",vnsup:"",vopf:"",Vopf:"",vprop:"",vrtri:"",vscr:"",Vscr:"",vsubne:"",vsubnE:"",vsupne:"",vsupnE:"",Vvdash:"",vzigzag:"",wcirc:"",Wcirc:"",wedbar:"",wedge:"",Wedge:"",wedgeq:"",weierp:"",wfr:"",Wfr:"",wopf:"",Wopf:"",wp:"",wr:"",wreath:"",wscr:"",Wscr:"",xcap:"",xcirc:"",xcup:"",xdtri:"",xfr:"",Xfr:"",xharr:"",xhArr:"",xi:"",Xi:"",xlarr:"",xlArr:"",xmap:"",xnis:"",xodot:"",xopf:"",Xopf:"",xoplus:"",xotime:"",xrarr:"",xrArr:"",xscr:"",Xscr:"",xsqcup:"",xuplus:"",xutri:"",xvee:"",xwedge:"",yacute:"",Yacute:"",yacy:"",YAcy:"",ycirc:"",Ycirc:"",ycy:"",Ycy:"",yen:"",yfr:"",Yfr:"",yicy:"",YIcy:"",yopf:"",Yopf:"",yscr:"",Yscr:"",yucy:"",YUcy:"",yuml:"",Yuml:"",zacute:"",Zacute:"",zcaron:"",Zcaron:"",zcy:"",Zcy:"",zdot:"",Zdot:"",zeetrf:"",ZeroWidthSpace:"",zeta:"",Zeta:"",zfr:"",Zfr:"",zhcy:"",ZHcy:"",zigrarr:"",zopf:"",Zopf:"",zscr:"",Zscr:"",zwj:"",zwnj:""},y={aacute:"",Aacute:"",acirc:"",Acirc:"",acute:"",aelig:"",AElig:"",agrave:"",Agrave:"",amp:"&",AMP:"&",aring:"",Aring:"",atilde:"",Atilde:"",auml:"",Auml:"",brvbar:"",ccedil:"",Ccedil:"",cedil:"",cent:"",copy:"",COPY:"",curren:"",deg:"",divide:"",eacute:"",Eacute:"",ecirc:"",Ecirc:"",egrave:"",Egrave:"",eth:"",ETH:"",euml:"",Euml:"",frac12:"",frac14:"",frac34:"",gt:">",GT:">",iacute:"",Iacute:"",icirc:"",Icirc:"",iexcl:"",igrave:"",Igrave:"",iquest:"",iuml:"",Iuml:"",laquo:"",lt:"<",LT:"<",macr:"",micro:"",middot:"",nbsp:"",not:"",ntilde:"",Ntilde:"",oacute:"",Oacute:"",ocirc:"",Ocirc:"",ograve:"",Ograve:"",ordf:"",ordm:"",oslash:"",Oslash:"",otilde:"",Otilde:"",ouml:"",Ouml:"",para:"",plusmn:"",pound:"",quot:'"',QUOT:'"',raquo:"",reg:"",REG:"",sect:"",shy:"",sup1:"",sup2:"",sup3:"",szlig:"",thorn:"",THORN:"",times:"",uacute:"",Uacute:"",ucirc:"",Ucirc:"",ugrave:"",Ugrave:"",uml:"",uuml:"",Uuml:"",yacute:"",Yacute:"",yen:"",yuml:""},T={0:"",128:"",130:"",131:"",132:"",133:"",134:"",135:"",136:"",137:"",138:"",139:"",140:"",142:"",145:"",146:"",147:"",148:"",149:"",150:"",151:"",152:"",153:"",154:"",155:"",156:"",158:"",159:""},b=[1,2,3,4,5,6,7,8,11,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,127,128,129,130,131,132,133,134,135,136,137,138,139,140,141,142,143,144,145,146,147,148,149,150,151,152,153,154,155,156,157,158,159,64976,64977,64978,64979,64980,64981,64982,64983,64984,64985,64986,64987,64988,64989,64990,64991,64992,64993,64994,64995,64996,64997,64998,64999,65e3,65001,65002,65003,65004,65005,65006,65007,65534,65535,131070,131071,196606,196607,262142,262143,327678,327679,393214,393215,458750,458751,524286,524287,589822,589823,655358,655359,720894,720895,786430,786431,851966,851967,917502,917503,983038,983039,1048574,1048575,1114110,1114111],v=String.fromCharCode,E={}.hasOwnProperty,S=function(e,t){return E.call(e,t)},k=function(e,t){if(!e)return t;var n,r={};for(n in t)r[n]=S(e,n)?e[n]:t[n];return r},w=function(e,t){var n="";return e>=55296&&e<=57343||e>1114111?(t&&x("character reference outside the permissible Unicode range"),""):S(T,e)?(t&&x("disallowed character reference"),T[e]):(t&&function(e,t){for(var n=-1,r=e.length;++n<r;)if(e[n]==t)return!0;return!1}(b,e)&&x("disallowed character reference"),e>65535&&(n+=v((e-=65536)>>>10&1023|55296),e=56320|1023&e),n+=v(e))},N=function(e){return"&#x"+e.toString(16).toUpperCase()+";"},A=function(e){return"&#"+e+";"},x=function(e){throw Error("Parse error: "+e)},C=function(e,t){(t=k(t,C.options)).strict&&_.test(e)&&x("forbidden code point");var n=t.encodeEverything,r=t.useNamedReferences,i=t.allowUnsafeSymbols,s=t.decimal?A:N,o=function(e){return s(e.charCodeAt(0))};return n?(e=e.replace(c,function(e){return r&&S(h,e)?"&"+h[e]+";":o(e)}),r&&(e=e.replace(/&gt;\u20D2/g,"&nvgt;").replace(/&lt;\u20D2/g,"&nvlt;").replace(/&#x66;&#x6A;/g,"&fjlig;")),r&&(e=e.replace(l,function(e){return"&"+h[e]+";"}))):r?(i||(e=e.replace(d,function(e){return"&"+h[e]+";"})),e=(e=e.replace(/&gt;\u20D2/g,"&nvgt;").replace(/&lt;\u20D2/g,"&nvlt;")).replace(l,function(e){return"&"+h[e]+";"})):i||(e=e.replace(d,o)),e.replace(a,function(e){var t=e.charCodeAt(0),n=e.charCodeAt(1);return s(1024*(t-55296)+n-56320+65536)}).replace(u,o)};C.options={allowUnsafeSymbols:!1,encodeEverything:!1,strict:!1,useNamedReferences:!1,decimal:!1};var R=function(e,t){var n=(t=k(t,R.options)).strict;return n&&f.test(e)&&x("malformed character reference"),e.replace(m,function(e,r,i,s,o,a,c,u,l){var h,d,p,f,_,m;return r?g[_=r]:i?(_=i,(m=s)&&t.isAttributeValue?(n&&"="==m&&x("`&` did not start a character reference"),e):(n&&x("named character reference was not terminated by a semicolon"),y[_]+(m||""))):o?(p=o,d=a,n&&!d&&x("character reference was not terminated by a semicolon"),h=parseInt(p,10),w(h,n)):c?(f=c,d=u,n&&!d&&x("character reference was not terminated by a semicolon"),h=parseInt(f,16),w(h,n)):(n&&x("named character reference was not terminated by a semicolon"),e)})};R.options={isAttributeValue:!1,strict:!1};var I={version:"1.2.0",encode:C,decode:R,escape:function(e){return e.replace(d,function(e){return p[e]})},unescape:R};void 0===(r=function(){return I}.call(t,n,t,e))||(e.exports=r)}()}).call(this,n(84)(e))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(7),i=n(15),s=n(20),o=n(2),a=n(4);var c;t.HighlightProvider=class{constructor(e){this.parseTreeStore=e.parseTreeStore,this._options={}}set options(e){this._options=e?Object.assign({},this._options,e):{}}provideHightlights(e,t){let n=this.parseTreeStore.find(e);if(!n)return[];const r=n.getNodeUtils().positionToOffset(t),i=n.getTraverser();i.seek(r-1);let s=this._provideHighlights(i,t,n);if(s)return s;const o=n.getTraverser();return o.seek(r),this._provideHighlights(o,t,n)||[]}_provideHighlights(e,t,n){const r=e.node,i=e.clone();let a=i.reference();if(a){if(Array.isArray(a)){const e=o.PackedPosition.fromLspPosition(t);a=a.find(t=>t.range&&e>=t.range.start&&e<=t.range.end)}if(a)return this.provideReferenceHighlights(a,i,n)}else if(s.isKeyword(r.kind))return this.provideKeywordHighlights(e.clone(),n.getNodeUtils())}provideReferenceHighlights(e,t,n){let s,c,u=e.kind,l=e.name.toLowerCase(),h=e.unresolvedName?e.unresolvedName.toLowerCase():void 0;switch(e.kind){case 256:case 128:u=384,128===e.kind&&159===t.node.kind?t.nextSibling():t.scope(e.name),s=t=>(t.kind&u)>0&&t.name===e.name,c=t=>i.NodeUtils.hasAnonymousFunctionUseVariable(t,e.name,n.nodeMaps,n.getNodeUtils());break;case 1:case 2:case 4:case 2048:u=2055,t=n.getTraverser(),s=e=>(e.kind&u)>0&&e.name.toLowerCase()===l&&(!h&&!e.unresolvedName||!!h&&!!e.unresolvedName&&h===e.unresolvedName.toLowerCase()),c=e=>!0;break;case 32:t=n.getTraverser(),s=t=>(t.kind&u)>0&&t.name.toLowerCase()===l&&a.TypeString.isEqualOrOverlaps(t.scope,e.scope),c=e=>!0;break;case 16:{const r="$"===e.name.slice(0,1)?e.name.slice(1):e.name;t=n.getTraverser(),s=t=>(t.kind&u)>0&&(t.name===r||"$"===t.name.slice(0,1)&&t.name.slice(1)===r)&&a.TypeString.isEqualOrOverlaps(t.scope,e.scope),c=e=>!0}break;case 1024:t=n.getTraverser(),s=t=>(t.kind&u)>0&&t.name===e.name&&a.TypeString.isEqualOrOverlaps(t.scope,e.scope),c=e=>!0;break;case 64:t=n.getTraverser(),s=e=>(e.kind&u)>0&&e.name.toLowerCase()===l,c=e=>!0;break;default:t=n.getTraverser(),s=t=>(t.kind&u)>0&&t.name===e.name,c=e=>!0}return t.references(s,c).map(e=>r.DocumentHighlight.create(o.PackedRange.toLspRange(e.range||{start:0,end:0}),(1048576&e.modifiers)>0?r.DocumentHighlightKind.Write:r.DocumentHighlightKind.Read))}provideKeywordHighlights(e,t){let n;const r=e.node.kind;switch(r){case 57:case 67:case 68:e.scope(),n=c.returnOrYieldVisitor(t);break;case 66:case 15:case 12:case 31:case 32:case 21:case 22:case 25:n=c.loopVisitor(t),e.ancestor(i.NodeUtils.isLoopPhrase);break;case 5:{let r=e.ancestor(e=>i.NodeUtils.isLoopPhrase(e)||1157===e.kind);n=r&&1157===r.kind?c.switchVisitor(t):c.loopVisitor(t)}break;case 4:e.ancestor(i.NodeUtils.isLoopPhrase)&&(n=c.loopVisitor(t));break;case 59:case 24:case 7:case 14:n=c.switchVisitor(t),e.ancestor(e=>1157===e.kind);break;case 37:case 18:case 17:case 23:n=c.ifVisitor(t),e.ancestor(e=>1091===e.kind);break;case 27:e.ancestor(e=>1178===e.kind),n=c.tokenKindVisitor(t,r);break;case 62:case 8:case 30:e.ancestor(e=>1168===e.kind),n=c.tryVisitor(t)}return n?e.traverse(n).highlights:[]}},function(e){function t(e,t){return r.DocumentHighlight.create(t,r.DocumentHighlightKind.Read)}function n(e,t){switch(e.kind){case 66:case 31:case 32:case 15:case 12:case 21:case 22:case 25:case 4:return!0;case 5:return void 0===t.find(e=>1157===e.kind);default:return!1}}e.memberTokenVisitor=function(e,n,r){let i;return new u(t,e,e=>e.kind===n,i=r?e=>1105===e.kind||e.kind===r:e=>{switch(e.kind){case 1105:case 1025:case 1132:case 1108:return!0;default:return!1}})},e.tokenKindVisitor=function(e,n){return new u(t,e,e=>e.kind===n,e=>!0)},e.returnOrYieldVisitor=function(e){return new u(t,e,e=>57===e.kind||67===e.kind||68===e.kind,e=>!i.NodeUtils.isScopeNode(e))},e.switchVisitor=function(e){return new u(t,e,e=>59===e.kind||7===e.kind||14===e.kind||5===e.kind||24===e.kind,e=>!i.NodeUtils.isScopeNode(e)&&!i.NodeUtils.isLoopPhrase(e)&&1157!==e.kind)},e.loopVisitor=function(e){return new u(t,e,n,e=>!i.NodeUtils.isLoopPhrase(e)&&!i.NodeUtils.isScopeNode(e))},e.ifVisitor=function(e){return new u(t,e,e=>37===e.kind||17===e.kind||18===e.kind||23===e.kind,e=>1055===e.kind||1054===e.kind||1053===e.kind)},e.heredocVisitor=function(e){return new u(t,e,e=>153===e.kind||154===e.kind,e=>!1)},e.tryVisitor=function(e){return new u(t,e,e=>62===e.kind||8===e.kind||30===e.kind,e=>1021===e.kind||1020===e.kind||1068===e.kind)}}(c||(c={}));class u{constructor(e,t,n,r){this.highlightFactoryFn=e,this.nodeUtils=t,this.filter=n,this.shouldDescend=r,this._highlights=[]}get highlights(){return this._highlights}preorder(e,t){return this.filter(e,t)&&this._highlights.push(this.highlightFactoryFn(e,this.nodeUtils.nodeRangeFromSpine([...t,e]))),this._firstNode?this.shouldDescend(e):(this._firstNode=e,!0)}}},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,s){function o(e){try{c(r.next(e))}catch(e){s(e)}}function a(e){try{c(r.throw(e))}catch(e){s(e)}}function c(e){e.done?i(e.value):new n(function(t){t(e.value)}).then(o,a)}c((r=r.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0});const i=n(48),s=n(66),o=n(116),a=n(338),c=n(339),u=n(2),l=n(20),h=n(15),d=n(49),p=n(1),f=n(147),_=n(342),m=n(18),g=n(39),y=n(4),T=n(8);var b;!function(e){e.create=function(e,t,n,r){const i={document:e,isOpened:t,withTransform:0};return t&&(i.compileDebounce=n,i.diagnoseDebounce=r),i}}(b||(b={}));const v={documentRoot:"",includePaths:[]};class E{constructor(e,t){this.stores=e,this.fileProvider=t,this.cacheDisposeFn=(e,t)=>{this.isOpened(e)||(this.compilationStateMap.delete(e),this.stores.documentStore.remove(e),this.stores.parseTreeStore.remove(e))},this.refreshDebounceHandler=e=>{if(!e.length)return;let t=new Map(e.map(e=>[e.triggeredByUriId,e]));e=Array.from(t.values());for(let t of this.compilationStateMap.values())t.isOpened&&t.compileDebounce&&void 0!==e.find(e=>(!e.triggeredByUriId||t.referencedUriIdSet.has(e.triggeredByUriId))&&T.hrtimeCompare(e.time,t.lastCompile)>0)&&t.compileDebounce.handle([])},this.limitedDiagnostics=!1,this.diagnosticsMode=1,this.loadSync=(e,t,n)=>{if(this.isOpened(e)){const t=this.compilationStateMap.get(e);return t&&t.compileDebounce?t.compileDebounce.flush(1):3}if(!this.fileProvider)return 3;const r=this.fileProvider.readFileSync(e);if(void 0===r)return 3;const s=new i.Document(e,r,0,n||this.stores.documentStore.flags(e)),o=b.create(s,!1);this.compilationStateMap.set(e,o),this.loadedDocuments.get(s.uri)||this.loadedDocuments.set(s.uri,s.uri),this.stores.documentStore.add(s),o.withTransform=t||3;let a=this.compile(s,o.withTransform);return o.lastCompile=process.hrtime(),a},this.compile=(e,t)=>{if(t<1)return 1;const n=this.parse(e);return this.stores.parseTreeStore.add(n),t<2?1:(this.definitionTransform(n,e.flags),t<3?1:(this.referenceTransform(n),1))},this.loadFileWithTransformSyncIfNotLoaded=(e,t,n)=>{const r=this.stores.documentStore.uri(e);return this.isOpened(r)||this.isLoadedWithTransform(r,t)?1:this.loadSync(r,t,n)},this.diagnosticsTransform=e=>{const t=this.stores.parseTreeStore.find(e);if(!t)return;const n=new _.MasterDiagnosticsVisitor(t.getNodeUtils(),t.nodeMaps,this.stores.definitionStore,this.typeAndValueCache,this.limitedDiagnostics);try{const e=t.getTraverser().traverse(n).diagnostics;this.stores.diagnosticStore.add({uri:t.uri,diagnostics:e})}catch(e){e&&g.Log.error(e.stack),this.stores.diagnosticStore.add({uri:t.uri,diagnostics:[]})}},this.compilationStateMap=new Map,this.loadedDocuments=new f({max:E.MAX_LOADED_DOCUMENTS,dispose:this.cacheDisposeFn}),this.typeAndValueCache=new c.InferredTypeAndValueCache,this._environment=Object.assign({},v),this.refreshDebounce=new u.Debounce(this.refreshDebounceHandler,E.REFRESH_WAIT)}set environment(e){this._environment=e?Object.assign({},this._environment,e):Object.assign({},v)}diagnose(e){this.diagnosticsTransform(e)}open(e){(this.isOpened(e.uri)||this.isLoadedWithTransform(e.uri,0))&&this.close(e.uri),this.stores.documentStore.add(e);let t=new u.Debounce(t=>{if(!t)return 3;this.typeAndValueCache.clearUri(e.id);let n=1;if(void 0!==t.find(e=>e&&e.length))n=this.compile(e,3),this.refreshDebounce.handle({time:process.hrtime(),triggeredByUriId:e.id});else{let t=this.stores.parseTreeStore.find(e.uri);if(!t)return 3;this.referenceTransform(t)}return r.withTransform=3,r.lastCompile=process.hrtime(),r.diagnoseDebounce&&r.diagnoseDebounce.handle(),n},E.COMPILE_DEBOUNCE_WAIT),n=new u.Debounce(()=>{1===this.diagnosticsMode&&this.diagnosticsTransform(e.uri)},E.DIAGNOSE_DEBOUNCE_WAIT);const r=b.create(e,!0,t,n);this.compilationStateMap.set(e.uri,r);const i=this.compile(e,3);return r.withTransform=3,r.lastCompile=process.hrtime(),r.diagnoseDebounce&&r.diagnoseDebounce.handle(),i}refresh(){this.refreshDebounce.handle({time:process.hrtime()})}indexUri(e,t){return this.loadUri(e,2,t)}forgetFolder(e){const t=this.getIndexedDocuments();for(let n of t)0===n.indexOf(e)&&this.forget(n)}getIndexedDocuments(){return this.stores.documentStore.getIndexedDocumentUris()}loadUri(e,t,n){return r(this,void 0,void 0,function*(){if(this.isOpened(e)){const t=this.compilationStateMap.get(e);return t&&t.compileDebounce?t.compileDebounce.flush(1):3}if(!this.fileProvider)return 3;const r=yield this.fileProvider.readFile(e);if(void 0===r)return 3;const s=new i.Document(e,r,0,n||this.stores.documentStore.flags(e)),o=b.create(s,!1);this.compilationStateMap.set(e,o),this.loadedDocuments.get(s.uri)||this.loadedDocuments.set(s.uri,s.uri),this.stores.documentStore.add(s),o.withTransform=t||3;let a=this.compile(s,o.withTransform);return o.lastCompile=process.hrtime(),a})}close(e){this.compilationStateMapRemove(e),this.loadedDocuments.del(e),this.stores.diagnosticStore.remove(e),this.stores.parseTreeStore.remove(e),this.stores.documentStore.remove(e)}compilationStateMapRemove(e){if(!this.compilationStateMap.has(e))return;const t=this.compilationStateMap.get(e);t&&t.compileDebounce&&t.compileDebounce.clear(),t&&t.diagnoseDebounce&&t.diagnoseDebounce.clear(),this.compilationStateMap.delete(e)}forget(e){const t=this.stores.documentStore.id(e);this.compilationStateMapRemove(e),this.loadedDocuments.del(e),this.stores.metadataStore.remove(t),this.stores.diagnosticStore.remove(e),this.stores.definitionStore.remove(t),this.stores.referenceStore.removeHashedReferenceNames(t),this.stores.parseTreeStore.remove(e),this.typeAndValueCache.clearUri(t),this.stores.documentStore.forget(e)}ready(e){const t=this.compilationStateMap.get(e);return t&&t.compileDebounce?t.compileDebounce.flush(1):3}applyChanges(e,t,n){const r=this.stores.documentStore.find(e),i=this.compilationStateMap.get(e);this.isOpened(e)&&r&&i?(i.diagnoseDebounce&&i.diagnoseDebounce.clear(),this.stores.diagnosticStore.remove(r.uri),r.version=t,r.applyChanges(n),i.compileDebounce&&i.compileDebounce.handle(n)):g.Log.warn("Failed to apply changes to "+e)}isOpened(e){let t=this.compilationStateMap.get(e);return!!t&&t.isOpened}isLoadedWithTransform(e,t){let n=this.compilationStateMap.get(e);return void 0!==this.loadedDocuments.get(e)&&!!n&&n.withTransform>=t}inferDefinitionTypeAndValue(e){let t=p.Definition.typeAsTypeString(e),n=y.TypeString.isEqual(t,y.TypeString.NULL_TYPE_STRING);const r={type:n||!t?y.TypeString.MIXED_TYPE_STRING:t,value:p.Definition.parsedValue(e)};if((65536&e.modifiers)>0)return r;if(e.type&&!n&&(void 0!==e.value||!(1288&e.kind)))return r;const s=this.stores.documentStore.uri(e.uriId);if(!this.isOpened(s)&&!this.isLoadedWithTransform(s,2)){if(1!==this.loadSync(s,2,i.DocumentFlagFactory.fromDefinition(e)))return r}let o;switch(e.kind){case 1:case 2:case 4:return{type:y.TypeString.fromString(e.name)||y.TypeString.OBJECT_TYPE_STRING};case 2048:return{type:y.TypeString.VOID_TYPE_STRING};case 32:o=c.TypeAndValueInferrence.inferMethodTypeAndValue;break;case 64:o=c.TypeAndValueInferrence.inferFunctionTypeAndValue;break;case 16:o=c.TypeAndValueInferrence.inferPropertyTypeAndValue;break;case 128:o=c.TypeAndValueInferrence.inferOptionalParameterTypeAndValue;break;case 256:o=c.TypeAndValueInferrence.inferVariableTypeAndValue;break;case 4096:o=c.TypeAndValueInferrence.inferScriptTypeAndValue;break;case 8:o=c.TypeAndValueInferrence.inferConstantTypeAndValue;break;case 1024:o=c.TypeAndValueInferrence.inferClassConstantTypeAndValue;break;case 512:return{type:y.TypeString.VOID_TYPE_STRING}}let a=this.typeAndValueCache.get(e);if(!a||void 0===a.typeAndValue.value&&0!=(1288&e.kind)){let t=this.stores.parseTreeStore.find(s);if(t&&o){let n=o(e,this.createReferenceTransformContext(t));n&&n.symbolTypeAndValue&&(a=n.symbolTypeAndValue)}}return(a?a.typeAndValue:void 0)||r}clear(){for(let e of this.compilationStateMap.values())e.compileDebounce&&e.compileDebounce.clear(),e.diagnoseDebounce&&e.diagnoseDebounce.clear();this.compilationStateMap=new Map,this.loadedDocuments=new f({max:E.MAX_LOADED_DOCUMENTS,dispose:this.cacheDisposeFn}),this.stores.definitionStore.clear(),this.stores.referenceStore.clear(),this.stores.parseTreeStore.clear(),this.stores.diagnosticStore.clear(),this.stores.documentStore.clear(),this.stores.metadataStore.clear(),this.typeAndValueCache=new c.InferredTypeAndValueCache}parse(e){const t=l.Parser.parse(e.text),n=l.Parser.getNodeProblemMap(),r=new h.ParseTree(t,e);return r.nodeMaps.nodeProblemMap=n,r}definitionTransform(e,t){let n=0;(1&t)>0&&(n|=65536),(2&t)>0&&(n|=131072);const r=a.DefinitionTransformer.transform({node:e.root,nodeUtils:e.getNodeUtils(),nameResolver:new d.NameResolver,definitionTable:new s.DefinitionTable(e.id,new Map),nodeDefinitionMap:new Map,nodeMagicDefinitionMap:new Map,nodePhpDocMap:new Map,modifiers:n});e.nodeMaps.nodeDefinitionMap=r.nodeDefinitionMap,e.nodeMaps.nodeDocBlockDefinitionMap=r.nodeDocBlockDefinitionMap,e.nodeMaps.nodeDocBlockMap=r.nodeDocBlockMap,this.stores.definitionStore.add(r.definitionTable),65536&n||this.stores.referenceStore.addHashedReferenceNames(o.HashedReferenceNames.fromUriIdAndNameSet(e.id,r.referenceNames)),r.metadata&&this.stores.metadataStore.addMetadata(r.metadata)}referenceTransform(e){const t=c.ReferenceTransformer.transform(e.getTraverser(),this.createReferenceTransformContext(e));e.nodeMaps.nodeReferenceMap=t.nodeReferenceMap,e.nodeMaps.nodeDocBlockReferenceMap=t.nodeDocBlockReferenceMap;let n=this.compilationStateMap.get(e.uri);n&&(n.referencedUriIdSet=t.referencedUriIdSet)}createReferenceTransformContext(e){return{circularReferenceGuard:new Set,definitionStore:this.stores.definitionStore,documentStore:this.stores.documentStore,fileDepth:0,loadFileWithTransformSyncDelegate:this.loadFileWithTransformSyncIfNotLoaded,metadataStore:this.stores.metadataStore,parseTreeStore:this.stores.parseTreeStore,typeAndValueCache:this.typeAndValueCache,typeFactory:new m.TypeFactory(this.stores.definitionStore),environment:this._environment}}}E.MAX_LOADED_DOCUMENTS=100,E.REFRESH_WAIT=1500,E.COMPILE_DEBOUNCE_WAIT=250,E.DIAGNOSE_DEBOUNCE_WAIT=500,t.Compiler=E},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(4),i=n(1),s=n(49),o=n(20),a=n(118),c=n(10),u=n(2),l=n(40);class h{constructor(e){this.nodeUtils=e.nodeUtils,this.nameResolver=e.nameResolver,this.definitionStack=[],this.lastPhpDoc=void 0,this.nameResolver=e.nameResolver,this._referenceNames=new Set,this._definitionTable=e.definitionTable,this._nodeDefinitionMap=e.nodeDefinitionMap,this._nodeMagicDefinitionMap=e.nodeMagicDefinitionMap,this._nodePhpDocMap=e.nodePhpDocMap,this.modifiers=e.modifiers,this.assignmentStack=[]}get referenceNames(){return this._referenceNames}get definitionTable(){return this._definitionTable}get nodeDefinitionMap(){return this._nodeDefinitionMap}get nodeMagicDefinitionMap(){return this._nodeMagicDefinitionMap}get nodeDocBlockMap(){return this._nodePhpDocMap}pushAssignment(e){this.assignmentStack.push(e)}popAssignment(){this.assignmentStack.pop()}isNodeAssignedTo(e){const t=this.assignmentStack[this.assignmentStack.length-1];return t&&this.isNodeAssignedToRecurse(t,e)}isNodeAssignedToRecurse(e,t){if(e===t)return!0;switch(e.kind){case 1103:return this.isNodeAssignedToRecurse(e.children[2],t);case 1074:case 1013:return this.isNodeAssignedToRecurse(e.children[e.children.length-1],t);case 1012:case 1072:case 1156:return this.isNodeAssignedToRecurse(e.children[0],t);case 1010:case 1173:case 1011:for(let n=0,r=e.children.length;n<r;++n)if(this.isNodeAssignedToRecurse(e.children[0],t))return!0}return!1}addName(e){e&&this.referenceNames.add(e.toLowerCase())}enterDefinition(e,t){e.modifiers|=this.modifiers;const n=this.currentDefinition();if(this.definitionStack.push(e),(4096&e.modifiers)>0&&256!==e.kind){const t=s.UseRule.fromDefinition(e);t.fqn&&this.nameResolver.rules.push(t)}let o=i.DefinitionId.fromDefinition(e);switch(e.kind){case 512:this.nameResolver.namespaceName=e.name;break;case 1:this.nameResolver.pushClass(e.name,e.associated&&e.associated.length>0&&1===e.associated[0].kind?e.associated[0].name:"");break;case 256:if(c.PHP.isPredefinedVariable(e.name)){if((65536&e.modifiers)>0){c.PHP.isSuperGlobal(e.name)&&(e.modifiers|=4194304),i.Definition.setDocumentedType(e,r.TypeString.fromString(c.PHP.getPredefinedVariableType(e.name)));break}return!1}if(this.definitionTable.has(o))return!1}if(this._nodeDefinitionMap.set(t,e),!e.name||this.definitionTable.has(o))return!1;return(3504&e.kind)>0&&n&&!(4608&n.kind)&&(n.children||(n.children=[]),n.children.push(i.DefinitionId.fromDefinition(e))),this.definitionTable.add(e),!0}leaveDefinition(){const e=this.definitionStack.pop();if(e)switch(e.kind){case 1:this.nameResolver.popClass()}}addDefinition(e,t){let n=this.enterDefinition(e,t);return this.leaveDefinition(),n}addMagicDefinitions(e,t,n){let r;n.children||(n.children=[]);for(let t=0,s=e.length;t<s;++t)r=e[t],this._definitionTable.add(r),48&r.kind&&n.children.push(i.DefinitionId.fromDefinition(r));this._nodeMagicDefinitionMap.set(t,e)}addDocBlock(e,t){this._nodePhpDocMap.set(t,e)}addAssociated(e){const t=this.currentDefinition();t&&(t.associated?t.associated.push(e):t.associated=[e])}addMetadataOverride(e){e&&(this.metadata||(this.metadata=new l.Metadata(this.nodeUtils.uriId,new Map)),this.metadata.addOverride(e))}currentDefinition(){return this.definitionStack.length?this.definitionStack[this.definitionStack.length-1]:void 0}clearLastPhpDoc(){this.lastPhpDoc=void 0}}!function(e){function t(e,u){switch(e.kind){case 1061:break;case 1148:!function(e,t){const n=i.Definition.create(4096,t.nodeUtils.uri,t.nodeUtils.uriId,void 0);n.range=t.nodeUtils.nodePackedRange(e),t.enterDefinition(n,e),M(e.children,t),t.leaveDefinition()}(e,u);break;case 1115:!function(e,t){let r="";const s=t.nodeUtils.nodePackedRange(e),o=1116===e.children[1].kind?n(e.children[1],t):void 0;let a;o?(r=o.name,a=5===e.children.length?e.children[3]:void 0):a=4===e.children.length?e.children[2]:void 0;if(r){const n=i.Definition.create(512,r,t.nodeUtils.uriId,void 0);n.range=s,t.addDefinition(n,e)}else t.nameResolver.namespaceName="";a&&1153===a.kind&&M(a.children,t)}(e,u);break;case 1119:!function(e,t){let r,i=0,o="";for(let a=1,c=e.children.length;a<c;++a)switch((r=e.children[a]).kind){case 11:i=8;break;case 33:i=64;break;case 1116:{const e=n(r,t);e&&(o=e.name,e.kind=512)}break;case 1118:s(r,t,i);break;case 1121:d(r,o,t,i)}}(e,u);break;case 1043:!function(e,t){let n="";const r=t.nodeUtils.nodePackedRange(e);82===e.children[0].kind&&(n=t.nodeUtils.nodeText(e.children[0]));n||(n=t.nodeUtils.createSymbolName(e,"Constant"));n=t.nameResolver.resolveRelative(n);const s=i.Definition.create(8,n,t.nodeUtils.uriId,void 0);s.range=r;const[o,a]=g(e.children[2],t);void 0!==o&&(s.value=o);a&&i.Definition.setDocumentedType(s,a);U(t)&&(s.modifiers|=524288,i.Definition.setDocumentedType(s,q(s.name,t)));t.addDefinition(s,e)}(e,u);break;case 1081:!function(e,n){(function(e,t,n){let r,s;const o=n.nodeUtils.nodePackedRange(t);let a=0;for(let o=0,c=e.children.length;o<c;++o)switch((s=e.children[o]).kind){case 102:a|=1024;break;case 82:{const e=n.nameResolver.resolveRelative(n.nodeUtils.nodeText(s));r=i.Definition.create(64,e,n.nodeUtils.uriId,void 0),n.enterDefinition(r,t)}break;case 1125:r||(r=i.Definition.create(64,n.nodeUtils.createSymbolName(t,"Function"),n.nodeUtils.uriId,void 0),n.enterDefinition(r,t)),M(s.children,n);break;case 1144:i.Definition.setDeclaredType(r,P(s,n))}r||(r=i.Definition.create(64,n.nodeUtils.createSymbolName(t,"Function"),n.nodeUtils.uriId,void 0),n.enterDefinition(r,t));r.modifiers|=a,r.range=o,U(n)&&(i.Definition.setDocumentedType(r,F(n)),r.modifiers|=524288);n.addName(r.name),n.clearLastPhpDoc()})(e.children[0],e,n),t(e.children[1],n),n.leaveDefinition()}(e,u);break;case 1004:!function(e,n){const r=n.nodeUtils.nodePackedRange(e),s=i.Definition.create(64,n.nodeUtils.createSymbolName(e,"Function"),n.nodeUtils.uriId,void 0);s.range=r,s.modifiers=512,n.enterDefinition(s,e),function(e,n,r){let s;for(let o=0,a=e.children.length;o<a;++o)switch((s=e.children[o]).kind){case 58:n.modifiers|=32;break;case 102:n.modifiers|=1024;break;case 1125:M(s.children,r);break;case 1144:i.Definition.setDeclaredType(n,P(s,r));break;default:t(s,r)}r.clearLastPhpDoc()}(e.children[0],s,n),t(e.children[1],n),n.leaveDefinition()}(e,u);break;case 1028:!function(e,n){const r=n.nodeUtils.nodePackedRange(e),s=function(e,t,n){let r=0;const s=[];let o,a="";for(let n=0,i=e.children.length;n<i;++n)switch((o=e.children[n]).kind){case 2:r|=16;break;case 29:r|=8;break;case 82:a=t.nameResolver.resolveRelative(t.nodeUtils.nodeText(o));break;case 1023:{const e=b(o,t);e&&s.push(e)}break;case 1031:Array.prototype.push.apply(s,v(o,t))}const c=i.Definition.create(1,a||t.nodeUtils.createSymbolName(n,"Class"),t.nodeUtils.uriId,void 0);return c.modifiers|=r,c.associated=s,t.addName(c.name),c}(e.children[0],n,e);if(s.range=r,n.enterDefinition(s,e),U(n)){s.modifiers|=524288;const t=B(n);n.addMagicDefinitions(t,e,s)}n.clearLastPhpDoc(),t(e.children[1],n),n.leaveDefinition()}(e,u);break;case 1025:!function(e,t){let n=1,r=0;4===e.children.length&&(r=N(e.children[0]),n=2);(function(e,t,n){for(let r=0,i=e.children.length;r<i;++r)1026===e.children[r].kind&&S(e.children[r],t,n)})(e.children[n],r,t),t.clearLastPhpDoc()}(e,u);break;case 1132:!function(e,t){let n=0;n=65===e.children[0].kind?1:x(N(e.children[0]),1);(function(e,t,n){for(let r=0,i=e.children.length;r<i;++r)1133===e.children[r].kind&&C(e.children[r],t,n)})(e.children[1],n,t),t.clearLastPhpDoc()}(e,u);break;case 1166:!function(e,t){const n=E(e.children[1],t,4);for(let e=0,r=n.length;e<r;++e)t.addAssociated(n[e]);!function(e,t,n){3===e.children.length&&1159===e.children[1].kind&&function(e,t,n){let r;for(let i=0,s=e.children.length;i<s;++i)1165===(r=e.children[i]).kind?I(r,t):1160===r.kind&&O(r,t,n)}(e.children[1],t,n)}(e.children[2],t,n)}(e,u);break;case 1108:!function(e,n){(function(e,n,r){let s,o,a,c=1,u="";const l=r.nodeUtils.nodePackedRange(n);for(let l=0,h=e.children.length;l<h;++l)switch((o=e.children[l]).kind){case 1105:c=x(N(o),1);break;case 102:c|=1024;break;case 1090:{const e=w(o,32,r);let t=32;e&&"__construct"===(u=e.name).toLowerCase()&&(t=2048),s=i.Definition.create(t,u||r.nodeUtils.createSymbolName(n,"Method"),r.nodeUtils.uriId,m(r)),r.enterDefinition(s,n)}break;case 1125:s||(s=i.Definition.create(32,u||r.nodeUtils.createSymbolName(n,"Method"),r.nodeUtils.uriId,m(r)),r.enterDefinition(s,n)),t(o,r);break;case 1144:a=P(o,r)}s||(s=i.Definition.create(32,u||r.nodeUtils.createSymbolName(n,"Method"),r.nodeUtils.uriId,m(r)),r.enterDefinition(s,n));s.range=l,s.modifiers|=c,U(r)&&(i.Definition.setDocumentedType(s,F(r)),s.modifiers|=524288);i.Definition.setDeclaredType(s,a),r.addName(s.name),r.clearLastPhpDoc()})(e.children[0],e,n),t(e.children[1],n),n.leaveDefinition()}(e,u);break;case 1124:!function(e,t){let n,s,o,a=0,c="";const u=t.nodeUtils.nodePackedRange(e);for(let i=0,u=e.children.length;i<u;++i)switch((o=e.children[i]).kind){case 1169:s=L(o,t),r.TypeString.isEqualOrOverlaps(s,r.TypeString.NULL_TYPE_STRING)&&(a|=32768);break;case 102:a|=1024;break;case 133:a|=2048,s&&(s=r.TypeString.arrayOf(s));break;case 83:c=t.nodeUtils.nodeText(o);break;case 1048:n=D(o,t),a|=8388608}c||(c=t.nodeUtils.createSymbolName(e,"Parameter"));const l=i.Definition.create(128,c,t.nodeUtils.uriId,m(t));l.range=u,l.modifiers|=a,l.value=n,s&&n&&"null"===n.toLowerCase()&&(s=r.TypeString.union(s,r.TypeString.NULL_TYPE_STRING));i.Definition.setDeclaredType(l,s),U(t)&&(i.Definition.setDocumentedType(l,function(e,t){if(!t.lastPhpDoc)return;const n=t.lastPhpDoc.findParamTag(e);return n?n.getResolvedTypeString(t.nameResolver):void 0}(l.name,t)),l.modifiers|=524288);t.addDefinition(l,e)}(e,u);break;case 1098:!function(e,n){const r=n.nodeUtils.nodePackedRange(e),s=function(e,t,n){const r=t.nameResolver.resolveRelative(t.nodeUtils.nodeText(e.children[1])),s=i.Definition.create(2,r||t.nodeUtils.createSymbolName(n,"Interface"),t.nodeUtils.uriId,void 0);t.addName(s.name),e.children.length>2&&(s.associated=function(e,t){if(1097!==e.kind)return[];return E(e.children[1],t,2)}(e.children[2],t));return s}(e.children[0],n,e);if(s.range=r,n.enterDefinition(s,e),U(n)){s.modifiers|=524288;const t=B(n);n.addMagicDefinitions(t,e,s)}n.clearLastPhpDoc(),t(e.children[1],n),n.leaveDefinition()}(e,u);break;case 1161:!function(e,n){const r=n.nodeUtils.nodePackedRange(e),s=function(e,t,n){const r=t.nameResolver.resolveRelative(t.nodeUtils.nodeText(e.children[1])),s=i.Definition.create(4,r||t.nodeUtils.createSymbolName(n,"Trait"),t.nodeUtils.uriId,void 0);return t.addName(s.name),s}(e.children[0],n,e);if(s.range=r,n.enterDefinition(s,e),U(n)){s.modifiers|=524288;const t=B(n);n.addMagicDefinitions(t,e,s)}n.clearLastPhpDoc(),t(e.children[1],n),n.leaveDefinition()}(e,u);break;case 1080:!function(e,n){let r=e.children[0];if(1079===r.kind||1139===r.kind||1136===r.kind){const s=y(r,n,64);if(!s)return void M(e.children.slice(1),n);if(s.unresolvedName&&"define"===s.unresolvedName.toLowerCase()||s.name&&"define"===s.name.toLowerCase())!function(e,t,n){const r=n.nodeUtils.nodePackedRange(t);if(1008!==e.kind||e.children.length<3||77!==e.children[0].kind)return void M(e.children,n);let[s,o]=g(e.children[0],n);if(s){"\\"===(s=c.PHP.parseString(s,77))[0]&&(s=s.slice(1)),n.addName(s);const o=i.Definition.create(8,s,n.nodeUtils.uriId,void 0);if(o.range=r,e.children.length>2){const[t,r]=g(e.children[2],n);void 0!==t&&(o.value=t),r&&i.Definition.setDocumentedType(o,r)}n.addDefinition(o,t)}else M(e.children,n)}(e.children[2],e,n);else{if(l.MetadataTransformer.isOverrideFunction(s.name)){const t=l.MetadataTransformer.visitOverrideFunctionCall(e,n.nodeUtils.clone(),n.nameResolver);t&&n.addMetadataOverride(t)}t(e.children[2],n)}}else M(e.children,n)}(e,u);break;case 1002:!function(e,n){const r=n.nodeUtils.nodePackedRange(e),s=i.Definition.create(1,n.nodeUtils.createSymbolName(e,"Class"),n.nodeUtils.uriId,void 0);s.range=r,s.modifiers|=512,function(e,t,n){let r;t.associated=[];for(let i=0,s=e.children.length;i<s;++i)switch((r=e.children[i]).kind){case 1023:{const e=b(r,n);e&&t.associated.push(e)}break;case 1031:Array.prototype.push.apply(t.associated,v(r,n));break;case 1008:M(r.children,n)}n.clearLastPhpDoc()}(e.children[0],s,n),n.enterDefinition(s,e),t(e.children[1],n),n.leaveDefinition()}(e,u);break;case 1042:!function(e,t){M(e.children,t),t.clearLastPhpDoc()}(e,u);break;case 1131:!function(e,n){t(e.children[0],n),1106===e.children[2].kind?k(e.children[2],n,16):t(e.children[2],n)}(e,u);break;case 1106:k(e,u);break;case 1146:!function(e,t){let n=e.children[0];83!==n.kind&&1090!==n.kind||t.addName(t.nodeUtils.nodeText(n))}(e,u);break;case 1041:!function(e,t){y(e.children[0],t,8)}(e,u);break;case 1086:if(1173===e.children[1].kind){const t=e.children[1];let n;for(let e=0,r=t.children.length;e<r;++e)1152===(n=t.children[e]).kind&&T(n,u,18875392)}break;case 1074:u.pushAssignment(e),102===e.children[0].kind&&1152===e.children[1].kind?T(e.children[1],u,1024):(t(e.children[0],u),e.children[1]&&t(e.children[1],u)),u.popAssignment();break;case 1072:u.pushAssignment(e),t(e.children[0],u),u.popAssignment();break;case 1016:u.pushAssignment(e.children[0]),1152===e.children[0].kind?T(e.children[0],u,1024):t(e.children[0],u),t(e.children[3],u),u.popAssignment();break;case 1152:T(e,u,0);break;case 1154:!function(e,n){const r=n.nodeUtils.nodePackedRange(e);if(83===e.children[0].kind){const t=i.Definition.create(256,n.nodeUtils.nodeText(e.children[0]),n.nodeUtils.uriId,m(n));t.range=r,t.modifiers|=2097184,n.addDefinition(t,e)}e.children.length>1&&t(e.children[1],n)}(e,u);break;case 1086:u.pushAssignment(e.children[1]),u.popAssignment();break;case 1007:!function(e,t){let n=e.children[0],r=4096;102===n.kind&&(r|=1024,n=e.children[1]);if(!n||83!==n.kind)return;const s=t.nodeUtils.nodePackedRange(e);let o=t.nodeUtils.nodeText(n);const a=i.Definition.create(256,o,t.nodeUtils.uriId,m(t));a.range=s,a.modifiers=2097152|r,t.addDefinition(a,e)}(e,u);break;case 1020:!function(e,n){let r=e.children[3];const s=n.nodeUtils.nodePackedRange(e);let o=n.nodeUtils.nodeText(r);if(!o)return;const a=i.Definition.create(256,o,n.nodeUtils.uriId,m(n));a.range=s,a.modifiers|=3145728,n.addDefinition(a,r),t(e.children[e.children.length-1],n)}(e,u);break;case 87:case 118:u.clearLastPhpDoc();break;case 159:{const t=u.nodeUtils.nodeOffset(e),n=u.nodeUtils.nodeText(e),r=a.PhpDocParser.parse(n,t);if(u.lastPhpDoc=r,r){const t={nameResolver:u.nameResolver,nodeUtils:u.nodeUtils,ownerNodeKind:0},n=r.getReferences(t);let i;const s=48,o=7;for(let e=0;e<n.length;++e)(((i=n[e]).kind&s)>0||(i.kind&o)>0&&!c.PHP.isReservedNameOrRelativeName(i.name.toLowerCase()))&&u.addName(i.name);u.addDocBlock(u.lastPhpDoc,e)}}break;case 1151:u.pushAssignment(e.children[0]),M(e.children,u),u.popAssignment();break;default:o.isPhrase(e)&&M(e.children,u)}}function n(e,t,n){let r,s="";for(let n=0,i=e.children.length;n<i;++n)82===(r=e.children[n]).kind&&(s+="\\"+t.nodeUtils.nodeText(r));return i.Reference.create(n||1,s.slice(1),t.nodeUtils.uriId)}function s(e,t,n){for(let r=0,i=e.children.length;r<i;++r)1117===e.children[r].kind&&_(e.children[r],t,n)}function d(e,t,n,r){for(let i=0,s=e.children.length;i<s;++i)1120===e.children[i].kind&&p(e.children[i],t,n,r)}function p(e,t,r,s){let o;const a=r.nodeUtils.nodePackedRange(e);11===e.children[0].kind?(s=8,o=n(e.children[1],r,s)):33===e.children[0].kind?(s=64,o=n(e.children[1],r,s)):1116===e.children[0].kind&&(o=n(e.children[0],r)),t&&o&&(o.name=t+"\\"+o.name);let c="";o&&(c=i.Definition.shortName(o.name),r.addName(o.name));const u=e.children[e.children.length-1];if(1114===u.kind){const e=f(u,r);e&&(c=e)}if(c){c=r.nameResolver.resolveRelative(c);const t=i.Definition.create(s||1,c,r.nodeUtils.uriId,void 0);t.range=a,t.modifiers|=4096,t.associated=o?[o]:[],r.addDefinition(t,e)}}function f(e,t){const n=e.children[1];return 82===n.kind?t.nodeUtils.nodeText(n):""}function _(e,t,r){let s,o,a="";const c=t.nodeUtils.nodePackedRange(e);for(let c=0,u=e.children.length;c<u;++c)switch((o=e.children[c]).kind){case 1116:(s=n(o,t,r||1))&&(t.addName(s.name),a=i.Definition.shortName(s.name));break;case 1114:{const e=f(o,t);e&&(a=e)}}if(a){a=t.nameResolver.resolveRelative(a);const n=i.Definition.create(r||1,a,t.nodeUtils.uriId,void 0);n.range=c,n.modifiers|=4096,n.associated=s?[s]:[],t.addDefinition(n,e)}}function m(e){const t=e.currentDefinition();return!t||4608&t.kind?0:i.DefinitionId.fromDefinition(t)}function g(e,n){let i,s;switch(e.kind){case 78:i=n.nodeUtils.nodeText(e),s=r.TypeString.FLOAT_TYPE_STRING;break;case 81:i=n.nodeUtils.nodeText(e),s=r.TypeString.INT_TYPE_STRING;break;case 77:i=n.nodeUtils.nodeText(e),s=r.TypeString.STRING_TYPE_STRING;break;case 1009:s=r.TypeString.ARRAY_TYPE_STRING,t(e,n);break;case 1041:"true"!==(i=n.nodeUtils.nodeText(e).toLowerCase())&&"false"!==i||(s=r.TypeString.BOOLEAN_TYPE_STRING),t(e,n);break;default:t(e,n)}return[i,s]}function y(e,t,r){let i=void 0;switch(e.kind){case 1079:i=function(e,t,r){return n(e.children[1],t,r)}(e,t,r);break;case 1136:i=function(e,t,r){const i=n(e.children[0],t,r);if(!i)return;const s=i.name.toLowerCase();i.name.indexOf("\\")<0&&(r&&(72&r)>0&&!c.PHP.isReservedNameOrRelativeName(s)&&t.addName(i.name),i.unresolvedName=i.name);c.PHP.isReservedName(s)?i.name=s:i.name=t.nameResolver.resolveNotFullyQualified(i.name,r);return i}(e,t,r);break;case 1139:i=function(e,t,r){const i=n(e.children[2],t,r);if(!i)return;return i.name=t.nameResolver.resolveRelative(i.name),i}(e,t,r)}return i&&!c.PHP.isReservedNameOrRelativeName(i.name.toLowerCase())&&t.addName(i.name),i}function T(e,t,n){const r=t.nodeUtils.nodePackedRange(e);if(83===e.children[0].kind){let s=t.nodeUtils.nodeText(e.children[0]);"$"!==s[0]&&(s="$"+s);const o=i.Definition.create(256,s,t.nodeUtils.uriId,m(t));o.range=r,o.modifiers|=n,t.addDefinition(o,e)&&t.isNodeAssignedTo(e)&&(o.modifiers|=2097152)}else M(e.children,t)}function b(e,t){return y(e.children[1],t,1)}function v(e,t){return E(e.children[1],t,2)}function E(e,t,n){const r=[];let i;for(let s=0,o=e.children.length;s<o;++s)(i=y(e.children[s],t,n))&&r.push(i);return r}function S(e,t,n){let r="";const s=n.nodeUtils.nodePackedRange(e);t=t||1;const o=w(e.children[0],1024,n);o&&(r=o.name),r||(r=n.nodeUtils.createSymbolName(e,"ClassConstant"));const a=i.Definition.create(1024,r,n.nodeUtils.uriId,m(n));a.range=s,a.modifiers|=32|t;const[c,u]=g(e.children[2],n);void 0!==c&&(a.value=c),u&&i.Definition.setDocumentedType(a,u),U(n)&&(i.Definition.setDocumentedType(a,q(a.name,n)),a.modifiers|=524288),n.addName(a.name),n.addDefinition(a,e)}function k(e,t,n){if(82===e.children[0].kind){let r=t.nodeUtils.nodeText(e.children[0]);16===n&&"$"!==r.slice(0,1)&&(r="$"+r),t.addName(r)}}function w(e,t,n){const r=n.nodeUtils.nodeText(e);if(r)return i.Reference.create(t,r,n.nodeUtils.uriId)}function N(e){let t=0;for(let n=0,r=e.children.length;n<r;++n)t|=A(e.children[n]);return t}function A(e){switch(e.kind){case 53:return 1;case 54:return 2;case 52:return 4;case 2:return 16;case 29:return 8;case 58:return 32;default:return 0}}function x(e,t){return 7&e||(e|=t),e}function C(e,n,r){let s="";const o=r.nodeUtils.nodePackedRange(e);83===e.children[0].kind&&(s=r.nodeUtils.nodeText(e.children[0])),s||(s=r.nodeUtils.createSymbolName(e,"Property"));const a=i.Definition.create(16,s,r.nodeUtils.uriId,m(r));a.range=o,a.modifiers|=n,U(r)&&(i.Definition.setDocumentedType(a,q(a.name,r)),a.modifiers|=524288),r.addName(s),r.addDefinition(a,e),2===e.children.length&&t(e.children[1],r)}function R(e,t){if(1111===e.kind)if(1===e.children.length){const n=w(e.children[0],32,t);if(n)return[void 0,n]}else{const n=y(e.children[0],t,4),i=w(e.children[2],32,t);if(n&&i)return t.addName(i.name),i.scope=r.TypeString.fromString(n.name),[n,i]}}function I(e,t){const n=t.nodeUtils.nodePackedRange(e),s=R(e.children[0],t),o=E(e.children[2],t);if(!s||!o.length)return;const a=i.Definition.create(32,s[1].name,t.nodeUtils.uriId,m(t));a.range=n,s[0]&&o.unshift(s[0]),a.associated=o.map(e=>{let n=i.Reference.create(32,s[1].name,t.nodeUtils.uriId);return n.scope=r.TypeString.fromString(e.name),n}),a.modifiers=8192,t.addDefinition(a,e)}function O(e,t,n){let s,o=16384,a="";const c=t.nodeUtils.nodePackedRange(e);let u;for(let i=0,c=e.children.length;i<c;++i)switch((u=e.children[i]).kind){case 1111:{const e=R(u,t);e&&(a=e[1].name,s=e[1],e[0]||(s.scope=r.TypeString.fromString(n.map(e=>e.name).join("|"))),t.addName(a))}break;case 1090:{const e=w(u,32,t);e&&(a=e.name)}break;case 53:case 54:case 52:o|=A(u)}a||(a=t.nodeUtils.createSymbolName(e,"Method"));const l=i.Definition.create(32,a,t.nodeUtils.uriId,m(t));l.range=c,l.modifiers|=o,s&&(l.associated=[s]),t.addName(l.name),t.addDefinition(l,e)}function D(e,t){return M(e.children,t),t.nodeUtils.nodeText(e.children[1])}function P(e,t){return L(e.children[1],t)}function L(e,t){if(1169!==e.kind)return;let n,i=0;95===e.children[0].kind&&(n=r.TypeString.NULL_TYPE_STRING,i=1);const s=e.children[i];if(6===s.kind)n=r.TypeString.union(n,r.TypeString.CALLABLE_TYPE_STRING);else if(3===s.kind)n=r.TypeString.union(n,r.TypeString.ARRAY_TYPE_STRING);else{const e=y(s,t);e&&(n=r.TypeString.union(n,r.TypeString.fromString(e.name)))}return n}function M(e,n){if(e)for(let r=0,i=e.length;r<i;++r)t(e[r],n)}function U(e){return!!e.lastPhpDoc}function q(e,t){if(!t.lastPhpDoc)return;const n=t.lastPhpDoc.findVarTag(e);return n?n.getResolvedTypeString(t.nameResolver):void 0}function F(e){if(!e.lastPhpDoc)return;const t=e.lastPhpDoc.findReturnTag();return t?t.getResolvedTypeString(e.nameResolver):void 0}function B(e){if(!e.lastPhpDoc)return[];let t,n=e.lastPhpDoc,r=n.tags.filter(e=>1021===e.kind||1022===e.kind||1023===e.kind),i=[];for(let n=0,s=r.length;n<s;++n)(t=V(r[n],e))&&i.push(t);for(let t=0,s=(r=n.filterTags(e=>1024===e.kind)).length;t<s;++t)Array.prototype.push.apply(i,j(r[t],e));return i}function H(e,t){let n=a.PhpDocNode.offsetRange(e);return u.PackedRange.fromLspRange({start:t.nodeUtils.offsetToPosition(n.start),end:t.nodeUtils.offsetToPosition(n.end)})}function j(e,t){if(!e.elementName.text)return[];let n=i.Definition.create(32,e.strippedElementNameText,t.nodeUtils.uriId,m(t));n.range=H(e,t),n.modifiers=257,i.Definition.setDocumentedType(n,e.getResolvedTypeString(t.nameResolver)),n.children=[];const r=[n];e.isStatic&&(n.modifiers|=32);const s=e.parameters;if(!s)return r;let o;for(let e=0,i=s.length;e<i;++e)(o=G(s[e],t,n))&&r.push(o);return r}function G(e,t,n){if(!e.elementName.text)return;let r=i.Definition.create(128,e.strippedElementNameText,t.nodeUtils.uriId,i.DefinitionId.fromDefinition(n));return r.range=H(e,t),r.modifiers=256,e.defaultArg.text&&(r.value=e.defaultArg.text,r.modifiers|=8388608),i.Definition.setDocumentedType(r,e.getResolvedTypeString(t.nameResolver)),n.children||(n.children=[]),n.children.push(i.DefinitionId.fromDefinition(r)),r}function V(e,t){if(!e.elementName.text)return;let n=i.Definition.create(16,e.elementName.text,t.nodeUtils.uriId,m(t));return n.range=H(e,t),n.modifiers=257|function(e){switch(e.kind){case 1022:return 64;case 1023:return 128;default:return 0}}(e),i.Definition.setDocumentedType(n,e.getResolvedTypeString(t.nameResolver)),n}e.transform=function(e){const n=new h(e);return t(e.node,n),{definitionTable:n.definitionTable,nodeDefinitionMap:n.nodeDefinitionMap,nodeDocBlockDefinitionMap:n.nodeMagicDefinitionMap,referenceNames:n.referenceNames,nodeDocBlockMap:n.nodeDocBlockMap,metadata:n.metadata}}}(t.DefinitionTransformer||(t.DefinitionTransformer={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(20),i=n(1),s=n(1),o=n(15),a=n(18),c=n(4),u=n(2),l=n(51),h=n(10),d=n(8),p=n(48),f=n(0),_=10;var m,g,y,T,b,v;!function(e){e.not=function(e){return Object.assign({},e,{notType:!e.notType})}}(m||(m={})),function(e){e.fromReferenceTransformStateAndDefinition=function(e){return{circularReferenceGuard:e.circularReferenceGuard,definitionStore:e.definitionStore,documentStore:e.documentStore,fileDepth:e.fileDepth+1,loadFileWithTransformSyncDelegate:e.loadFileWithTransformSyncDelegate,metadataStore:e.metadataStore,parseTreeStore:e.parseTreeStore,typeAndValueCache:e.typeAndValueCache,typeFactory:e.typeFactory,environment:e.environment}}}(g=t.ReferenceTransformContext||(t.ReferenceTransformContext={})),function(e){function t(e,t){return e?t?{type:c.TypeString.union(e.type,t.type)||c.TypeString.MIXED_TYPE_STRING,value:void 0!==e.value?e.value:t.value,flag:(e.flag||0)|(t.flag||0)}:e:t}e.merge=t,e.mergeMany=function(e){let n=e[0];if(n){for(let r=1;r<e.length;++r)n=t(n,e[r]);return n}}}(y=t.TypeAndValue||(t.TypeAndValue={}));t.InferredTypeAndValueCache=class{constructor(){this.uriIdToNodeMap=new Map,this.callStackUriIdToNodeMap=new Map}has(e){return void 0!==this.get(e)}get(e){return this._get(i.DefinitionId.fromDefinition(e))}_get(e){let t=i.DefinitionId.uriId(e),n=this.uriIdToNodeMap.get(t);return n?n.get(e):void 0}set(e){let t=i.DefinitionId.uriId(e.id);this._delete(e.id);let n,r=this.uriIdToNodeMap.get(t);r?r.set(e.id,e):((r=new Map).set(e.id,e),this.uriIdToNodeMap.set(t,r));const s=e.referencedUriIdSet.values();for(let t of s)(n=this.callStackUriIdToNodeMap.get(t))?n.add(e):this.callStackUriIdToNodeMap.set(t,new Set([e]))}_delete(e){let t=i.DefinitionId.uriId(e);const n=this._get(e);if(!n)return;let r;const s=n.referencedUriIdSet.values();for(let e of s)e!==t&&(r=this.callStackUriIdToNodeMap.get(e))&&(1===r.size?this.callStackUriIdToNodeMap.delete(e):r.delete(n));const o=this.uriIdToNodeMap.get(t);o&&o.delete(e)}clearUri(e){const t=this.callStackUriIdToNodeMap.get(e);if(t){for(let e of t.values())e&&this._delete(e.id);this.uriIdToNodeMap.delete(e)}}};class E{constructor(e,t){const n=t.parseTreeStore.find(e.uri);if(!n||!n.nodeMaps.nodeDefinitionMap||!n.nodeMaps.nodeDocBlockMap)throw new Error("Invalid Operation");this.scriptInclusion=new Set,this.variableTable=new S,this.definitionStack=[],this.returnTypeStack=[],this.nodeUtils=e.nodeUtils,this.definitionStore=t.definitionStore,this.typeAndValueCache=t.typeAndValueCache,this.nodeDefinitionMap=n.nodeMaps.nodeDefinitionMap,this.nameResolver=e.getNameResolver(),this.nodeReferenceMap=new Map,this.circularReferenceGuard=t.circularReferenceGuard,this.nodeDocBlockMap=n.nodeMaps.nodeDocBlockMap,this.nodePhpDocReferenceMap=new Map,this.referencedUriIdSet=[new Set([this.nodeUtils.uriId])],this.typeFactory=t.typeFactory,this.loadFileWithTransformSyncDelegate=t.loadFileWithTransformSyncDelegate,this.fileDepth=t.fileDepth,this.metadataStore=t.metadataStore,this.parseTreeStore=t.parseTreeStore,this.environment=t.environment,this.documentStore=t.documentStore,this.init(e.spine)}init(e){let t;for(let n=0;n<e.length-1;++n)switch((t=e[n]).kind){case 1148:case 1081:case 1004:case 1028:case 1098:case 1161:case 1002:case 1108:this.enterScope(t,!0);continue;default:continue}}definition(e){return this.nodeDefinitionMap.get(e)}definitionTable(){return this.definitionStore.table(this.nodeUtils.uriId)}enterScope(e,t){const n=this.definition(e);if(n)switch(this.referencedUriIdSet.push(new Set([this.nodeUtils.uriId])),n.kind){case 1:case 2:case 4:{const e=this.typeFactory.fromDefinition(n);if(!e)break;t||this.nameResolver.pushClass(e.name,e.baseClass?e.baseClass.name:""),this.definitionStack.push(e),this.variableTable.pushScope(),this.variableTable.setVariable({name:"$this",typeAndValue:{type:c.TypeString.fromString(e.name)||c.TypeString.OBJECT_TYPE_STRING}})}break;case 2048:case 32:{this.variableTable.pushScope(["$this"]);const t=this.typeContext();if(t){const e=t.findMember(n.name,n.kind);this.definitionStack.push(e),this.setVariablesFromDefinitions(e.parameters)}this.returnTypeStack.push([]),this.setFunctionGlobalVariableTypes(e)}break;case 64:if((512&n.modifiers)>0){const e=this.definitionStore.getDefinitionChildren(n).filter(i.Definition.isUseVariable).map(e=>e.name);e.push("$this"),this.variableTable.pushScope(e)}else this.variableTable.pushScope();{const t=this.definitionStore.getDefinitionChildren(n).filter(i.Definition.isParameter);this.setVariablesFromDefinitions(t),this.returnTypeStack.push([]),this.definitionStack.push(n),this.setFunctionGlobalVariableTypes(e)}break;case 4096:this.returnTypeStack.push([]),this.variableTable.pushScope(),this.definitionStack.push(n);break;default:throw new Error("Invalid Argument")}}setFunctionGlobalVariableTypes(e){let t=o.NodeUtils.firstToken(e);if(!t)return;for(;(t=t.previous)&&o.NodeUtils.isTrivia(t););if(159!==t.kind)return;const n=this.nodeDocBlockMap.get(t);if(!n)return;const r=n.filterTags(e=>1011===e.kind);for(let e of r)this.setVariable(e.elementName.text,{type:e.getResolvedTypeString(this.nameResolver)||c.TypeString.MIXED_TYPE_STRING},!0)}setVariablesFromDefinitions(e){let t;for(let n=0;n<e.length;++n)128===(t=e[n]).kind&&this.variableTable.setVariable({name:t.name,typeAndValue:{type:i.Definition.typeAsTypeString(t)||c.TypeString.MIXED_TYPE_STRING}})}leaveScope(e){const t=this.definition(e);this.variableTable.popScope();let n=this.referencedUriIdSet.pop()||new Set,r=this.referencedUriIdSet.pop();if(this.referencedUriIdSet.push(d.setUnion(n||new Set,r||new Set)),t)switch(t.kind){case 32:case 64:case 2048:case 4096:{let e,r=this.returnTypeStack.pop()||[];(e=r.length>0?y.mergeMany(r):{type:c.TypeString.VOID_TYPE_STRING,uriIdSet:this.referencedUriIdSet})&&this.typeAndValueCache.set({id:i.DefinitionId.fromDefinition(t),typeAndValue:e,referencedUriIdSet:n})}this.definitionStack.pop();break;case 1:case 2:case 4:this.definitionStack.pop(),this.nameResolver.popClass();break;default:throw new Error("Invalid Argument")}}addReference(e,t){e&&this.nodeReferenceMap.set(t,e)}addPhpDocReferences(e,t){!e||e.length<1||this.nodePhpDocReferenceMap.set(t,e)}setVariable(e,t,n){this.variableTable.setVariable({name:e,typeAndValue:t,isVarTag:n})}getVariable(e){return this.variableTable.getVariable(e)}pushScopeReturnType(e){e&&this.returnTypeStack.length>0&&this.returnTypeStack[this.returnTypeStack.length-1].push(e)}typeContext(){let e,t,n=this.definitionStack.length;for(;--n>=0&&!t;)(7&(e=this.definitionStack[n]).kind)>0&&(t=e);return t}typeContextName(){const e=this.getVariable("$this");return e&&c.TypeString.objectNames(e.typeAndValue.type).shift()||""}currentFunctionOrMethod(){const e=this.definitionStack.length?this.definitionStack[this.definitionStack.length-1]:void 0;return e&&(2144&e.kind)>0?e.name:""}}!function(e){function t(e,t,r){for(let i=0,s=e.length;i<s;++i)n(e[i],t,r)}function n(e,a,l){switch(e.kind){case 1061:break;case 1148:!function(e,n){n.enterScope(e),t(e.children,e,n),n.leaveScope(e)}(e,l);break;case 1115:!function(e,n){let r,i;1116===e.children[1].kind&&(r=k(e.children[1],n,512));r?(n.nameResolver.namespaceName=r.name,i=5===e.children.length?e.children[3]:void 0):(n.nameResolver.namespaceName="",i=4===e.children.length?e.children[2]:void 0);i&&1153===i.kind&&t(i.children,e,n)}(e,l);break;case 1119:!function(e,t){let n,r=0,i="";for(let s=1,o=e.children.length;s<o;++s)switch((n=e.children[s]).kind){case 11:r=8;break;case 33:r=64;break;case 1116:{const e=k(n,t);e&&(i=e.name,e.kind=512)}break;case 1118:x(n,t,r);break;case 1121:C(n,t,i,r)}}(e,l);break;case 1028:!function(e,t){t.enterScope(e),function(e,t){let n;for(let r=1,i=e.children.length;r<i;++r)switch((n=e.children[r]).kind){case 82:{const e=s.Reference.create(1,t.nodeUtils.nodeText(n),t.nodeUtils.uriId);e.unresolvedName=e.name,e.modifiers|=2097152,e.name=t.nameResolver.resolveRelative(e.unresolvedName),t.addReference(e,n)}break;case 1023:D(n,t);break;case 1031:P(n,t)}}(e.children[0],t),n(e.children[1],e,t),t.leaveScope(e)}(e,l);break;case 1098:!function(e,t){t.enterScope(e),function(e,t){const n=s.Reference.create(2,t.nodeUtils.nodeText(e.children[1]),t.nodeUtils.uriId);n.modifiers|=2097152,n.unresolvedName=n.name,n.name=t.nameResolver.resolveRelative(n.unresolvedName),t.addReference(n,e.children[1]),e.children.length>2&&1097===e.children[2].kind&&function(e,t){L(e.children[1],t,2)}(e.children[2],t)}(e.children[0],t),n(e.children[1],e,t),t.leaveScope(e)}(e,l);break;case 1161:!function(e,t){t.enterScope(e),function(e,t){const n=s.Reference.create(4,t.nodeUtils.nodeText(e.children[1]),t.nodeUtils.uriId);n.modifiers|=2097152,n.unresolvedName=n.name,n.name=t.nameResolver.resolveRelative(n.unresolvedName),t.addReference(n,e.children[1])}(e.children[0],t),n(e.children[1],e,t),t.leaveScope(e)}(e,l);break;case 1023:D(e,l);break;case 1031:P(e,l);break;case 1026:!function(e,t){const n=t.nodeDefinitionMap.get(e);if(!n)return;const r=s.Reference.create(1024,n.name,n.uriId);r.modifiers|=2097152,r.scope=c.TypeString.fromString(t.typeContextName()),t.addReference(r,e.children[0]);const o=U(e.children[2],t,void 0===n.value);i.Definition.typeAsTypeString(n)&&void 0!==n.value||t.typeAndValueCache.set({id:i.DefinitionId.fromDefinition(n),typeAndValue:o,referencedUriIdSet:new Set(t.referencedUriIdSet[t.referencedUriIdSet.length-1])})}(e,l);break;case 1133:!function(e,t){const n=t.definition(e);if(!n)return;const r=s.Reference.create(16,n.name,n.uriId);if(r.modifiers|=2097152,r.scope=c.TypeString.fromString(t.typeContextName()),t.addReference(r,e.children[0]),e.children.length>1&&1135===e.children[1].kind){const r=function(e,t){return U(e.children[1],t,!1)}(e.children[1],t);i.Definition.typeAsTypeString(n)||t.typeAndValueCache.set({id:i.DefinitionId.fromDefinition(n),typeAndValue:r,referencedUriIdSet:t.referencedUriIdSet[t.referencedUriIdSet.length-1]})}}(e,l);break;case 1108:!function(e,t){t.enterScope(e),function(e,t){let i;for(let o=0,a=e.children.length;o<a;++o)if(1090===(i=e.children[o]).kind){const e=s.Reference.create(32,t.nodeUtils.nodeText(i),t.nodeUtils.uriId);e.modifiers|=2097152,e.scope=c.TypeString.fromString(t.typeContextName()),t.addReference(e,i)}else r.isPhrase(i)&&n(i,e,t)}(e.children[0],t),n(e.children[1],e,t),t.leaveScope(e)}(e,l);break;case 1043:K(e,l);break;case 1081:!function(e,t){t.enterScope(e),function(e,t){let i;for(let o=0,a=e.children.length;o<a;++o)if(82===(i=e.children[o]).kind){const e=s.Reference.create(64,t.nodeUtils.nodeText(i),t.nodeUtils.uriId);e.unresolvedName=e.name,e.name=t.nameResolver.resolveRelative(e.unresolvedName),e.modifiers|=2097152,t.addReference(e,i)}else r.isPhrase(i)&&n(i,e,t)}(e.children[0],t),n(e.children[1],e,t),t.leaveScope(e)}(e,l);break;case 1157:l.variableTable.pushBranch(),t(e.children,e,l),l.variableTable.popBranch(),l.variableTable.pruneBranches();break;case 1091:{l.variableTable.pushBranch();const n=W(e.children[2],l);n.variables&&l.variableTable.setTypeGuard(n.variables),t(e.children.slice(4),e,l),l.variableTable.popBranch(),l.variableTable.pruneBranches()}break;case 1017:case 1049:case 1053:l.variableTable.popBranch(),l.variableTable.pushBranch(),t(e.children,e,l);break;case 1054:{l.variableTable.popBranch(),l.variableTable.pushBranch();const n=W(e.children[2],l);n.variables&&l.variableTable.setVariables(n.variables),t(e.children.slice(4),e,l)}break;case 1073:!function(e,t){let i,s={type:c.TypeString.ARRAY_TYPE_STRING};for(let o=0,a=e.children.length;o<a;++o)switch((i=e.children[o]).kind){case 1071:s=U(i,t,!1);break;case 1074:{const e=t.nodeUtils.nodeOffset(i);le(i,t),t.nodeUtils.markOffset(i,e);let n=c.TypeString.MIXED_TYPE_STRING;s&&(n=_e(s.type,t)),Te(i,{type:n},t,3145728)}break;case 1072:{const e=t.nodeUtils.nodeOffset(i);he(i,t),t.nodeUtils.markOffset(i,e);let n=c.TypeString.STRING_OR_INT_TYPE_STRING;s&&(n=fe(s.type,t)),Te(i,{type:n},t,3145728)}break;default:r.isPhrase(i)&&n(i,e,t)}}(e,l);break;case 1020:!function(e,t){const r=function(e,t){const n=[];let r;for(let i=0,s=e.children.length;i<s;++i)(r=N(e.children[i],t))&&(r.type=c.TypeString.fromString(r.name),r.type&&n.push(r.type));return c.TypeString.unionMany(n)}(e.children[2],t);let i;const o=e.children[3];83===o.kind&&((i=s.Reference.create(256,t.nodeUtils.nodeText(o),t.nodeUtils.uriId)).type=r,i.modifiers|=3145728,t.setVariable(i.name,{type:i.type||{name:"Exception"}}),t.addReference(i,o));n(e.children[5],e,t)}(e,l);break;case 1124:me(e,l);break;case 1007:!function(e,t){let n=2097152;102===e.children[0].kind&&(n|=1024);const r=e.children[e.children.length-1];if(83!==r.kind)return;const i=s.Reference.create(256,t.nodeUtils.nodeText(r),t.nodeUtils.uriId);i.modifiers|=n;const o=t.getVariable(i.name);i.type=o?o.typeAndValue.type:c.TypeString.MIXED_TYPE_STRING,t.addReference(i,r)}(e,l);break;case 1067:!function(e,t){U(e.children[0],t,!1)}(e,l);break;case 1143:!function(e,t){let n;switch(e.children[1].kind){case 87:case 158:case 1061:n={type:c.TypeString.VOID_TYPE_STRING};break;default:n=U(e.children[1],t,!1)}t.pushScopeReturnType(n),t.variableTable.setReturns(!0)}(e,l);break;case 1169:ge(e,l);break;case 1166:!function(e,t){const n=L(e.children[1],t,4);!function(e,t,n){3===e.children.length&&1159===e.children[1].kind&&function(e,t,n){let r;for(let i=0,s=e.children.length;i<s;++i)1165===(r=e.children[i]).kind?u(r,t):1160===r.kind&&T(r,t,n)}(e.children[1],t,n)}(e.children[2],t,n)}(e,l);break;case 159:!function(e,t,n){const r=n.nodeDocBlockMap.get(e);if(!r)return;const i=r.filterTags(e=>(1008===e.kind||1011===e.kind)&&""!==e.elementName.text);let s;for(let e=0;e<i.length;++e)s=i[e],n.setVariable(s.elementName.text,{type:s.getResolvedTypeString(n.nameResolver)||c.TypeString.MIXED_TYPE_STRING},!0);const a=t?function(e,t){const n=t.children.indexOf(e)+1;return n>0||n<t.children.length?t.children[n]:void 0}(e,t):void 0;let u,l=1e3;if(a&&(l=a.kind,o.NodeUtils.isTypeDefinitionNode(a))){const e=n.nodeDefinitionMap.get(a);e&&(u=e.name)}const h={nameResolver:n.nameResolver,nodeUtils:n.nodeUtils,ownerNodeKind:l,ownerTypeName:u},d=r.getReferences(h);n.addPhpDocReferences(d,e)}(e,a,l);break;case 1154:!function(e,t){let n,r=e.children[0];if(83===r.kind){n=s.Reference.create(256,t.nodeUtils.nodeText(r),t.nodeUtils.uriId);const e=t.getVariable(n.name);n.type=e?e.typeAndValue.type:c.TypeString.NULL_TYPE_STRING,n.modifiers|=2097184,t.addReference(n,r)}let i=e.children.length>1?e.children[1]:void 0;if(i&&1085===i.kind){const e=function(e,t){return U(e.children[1],t,!1)}(i,t);n&&(n.modifiers|=1048576,n.type=e.type,t.setVariable(n.name,e))}}(e,l);break;case 1086:!function(e,t){let n=e.children[1];if(1173===n.kind){let e;for(let r=0,i=n.children.length;r<i;++r)1152===(e=n.children[r]).kind&&A(e,t,18875392)}}(e,l);break;default:h.PHP.isExpression(e)?U(e,l,!1):r.isPhrase(e)&&t(e.children,e,l)}}function u(e,t){v(e.children[0],t),L(e.children[2],t)}function T(e,t,n){let r;for(let i=0,s=e.children.length;i<s;++i)switch((r=e.children[i]).kind){case 1111:{const e=v(r,t);if(e){const t=e[1];e[0]||(t.scope=c.TypeString.fromString(n.map(e=>e.name).join("|")))}}break;case 1090:{const e=S(r,32,t);e&&(e.scope=c.TypeString.fromString(t.typeContextName()),t.addReference(e,r))}}}function v(e,t){if(1111===e.kind)if(1===e.children.length){const n=S(e.children[0],32,t);if(n)return t.addReference(n,e.children[0]),[void 0,n]}else{const n=N(e.children[0],t,4),r=S(e.children[2],32,t);if(n&&r)return r.scope=c.TypeString.fromString(n.name),t.addReference(r,e.children[2]),[n,r]}}function S(e,t,n){const r=n.nodeUtils.nodeText(e);if(r)return s.Reference.create(t,r,n.nodeUtils.uriId)}function k(e,t,n){let r,i="";for(let n=0,s=e.children.length;n<s;++n)82===(r=e.children[n]).kind&&(i+="\\"+t.nodeUtils.nodeText(r));const o=s.Reference.create(n||1,i.slice(1),t.nodeUtils.uriId);return t.addReference(o,e),o}function w(e){if(65536&e.modifiers)switch(e.name){case"DIRECTORY_SEPARATOR":return f.sep;default:return}}function N(e,t,n){switch(e.kind){case 1079:return function(e,t,n){return k(e.children[1],t,n)}(e,t,n);case 1136:return function(e,t,n){const r=k(e.children[0],t,n);if(!r)return;return r.unresolvedName=r.name,r.name=t.nameResolver.resolveNotFullyQualified(r.name,r.kind),r}(e,t,n);case 1139:return function(e,t,n){const r=k(e.children[2],t,n);if(!r)return;return r.unresolvedName=r.name,r.name=t.nameResolver.resolveRelative(r.name),r}(e,t,n);default:return}}function A(e,n,r){if(83===e.children[0].kind){let t=n.nodeUtils.nodeText(e.children[0]);"$"!==t[0]&&(t="$"+t);const i=s.Reference.create(256,t,n.nodeUtils.uriId),o=n.getVariable(i.name);i.type=o?o.typeAndValue.type:c.TypeString.MIXED_TYPE_STRING,"$this"===i.name&&(i.type=c.TypeString.THIS_TYPE_STRING),n.addReference(i,e),i.modifiers|=r;let a=n.nodeDefinitionMap.get(e);if(!(o||!((16777216&r)>0)&&(n.currentFunctionOrMethod()||a&&2097152&a.modifiers))){let t=n.definitionStore.find(i.name,e=>256===e.kind&&!e.scope&&!(20975616&e.modifiers)&&(2097152&e.modifiers)>0);if(n.scriptInclusion.size>0){let e=t.filter(e=>n.scriptInclusion.has(e.uriId));e.length>0&&(t=e)}const r=ve(t,n,b.inferVariableTypeAndValue,c.TypeString.MIXED_TYPE_STRING);return Te(e,r,n,0),r}return o&&"$this"!==i.name?o.typeAndValue:{type:i.type,uriIdSet:n.referencedUriIdSet}}return t(e.children,e,n),{type:c.TypeString.MIXED_TYPE_STRING,uriIdSet:n.referencedUriIdSet}}function x(e,t,n){for(let r=0,i=e.children.length;r<i;++r)1117===e.children[r].kind&&O(e.children[r],t,n)}function C(e,t,n,r){for(let i=0,s=e.children.length;i<s;++i)1120===e.children[i].kind&&R(e.children[i],t,n,r)}function R(e,t,n,r){let o;if(11===e.children[0].kind?o=k(e.children[1],t,8):33===e.children[0].kind?o=k(e.children[1],t,64):1116===e.children[0].kind&&(o=k(e.children[0],t)),!o)return;n&&(o.name=n+"\\"+o.name);const a={kind:o.kind,name:i.Definition.shortName(o.name),fqn:o.name},c=e.children[e.children.length-1];if(1114===c.kind){const e=I(c,t);if(e){a.name=e;const n=s.Reference.create(o.kind,o.name,t.nodeUtils.uriId);n.unresolvedName=n.name,t.addReference(n,c)}}else o.modifiers|=2097152;t.nameResolver.rules.push(a)}function I(e,t){return t.nodeUtils.nodeText(e.children[1])}function O(e,t,n){let r=0;146===e.children[r].kind&&++r;const o=k(e.children[r],t,n);if(++r,!o)return;const a={kind:o.kind,name:i.Definition.shortName(o.name),fqn:o.name};if(e.children.length===r+1){const n=I(e.children[r],t);if(n){a.name=n;const i=s.Reference.create(o.kind,o.name,t.nodeUtils.uriId);i.unresolvedName=i.name,t.addReference(i,e.children[r])}}else o.modifiers|=2097152;t.nameResolver.rules.push(a)}function D(e,t){return N(e.children[1],t,1)}function P(e,t){return L(e.children[1],t,2)}function L(e,t,n){if(1137!==e.kind)return[];const r=[];let i;for(let s=0,o=e.children.length;s<o;++s)(i=N(e.children[s],t,n))&&r.push(i);return r}function M(e,t){return U(e.children[1],t,!1)}function U(e,n,o){switch(e.kind){case 1176:if(1===e.children.length)n.pushScopeReturnType({type:{name:"Generator",parts:[c.TypeString.INT_TYPE_STRING,c.TypeString.NULL_TYPE_STRING]}});else if(2===e.children.length){let t=U(e.children[1],n,!1);n.pushScopeReturnType({type:{name:"Generator",parts:[c.TypeString.INT_TYPE_STRING,t.type]}})}else{let t=U(e.children[1],n,!1),r=U(e.children[3],n,!1);n.pushScopeReturnType({type:{name:"Generator",parts:[t.type,r.type]}})}return{type:c.TypeString.MIXED_TYPE_STRING,uriIdSet:n.referencedUriIdSet};case 1177:return n.pushScopeReturnType(U(e.children[1],n,!1)),{type:c.TypeString.MIXED_TYPE_STRING,uriIdSet:n.referencedUriIdSet};case 1001:return function(e,t,n){const r=U(e.children[0],t,n),i=U(e.children[2],t,n);let s={type:c.TypeString.MIXED_TYPE_STRING,uriIdSet:t.referencedUriIdSet};switch(e.children[1].kind){case 125:s.type=c.TypeString.STRING_TYPE_STRING,n&&(s.value=(o=r.value,a=i.value,H(o)+H(a)));break;case 110:c.TypeString.isArray(r.type)&&c.TypeString.isArray(i.type)?s.type=c.TypeString.arrayOf(c.TypeString.union(c.TypeString.elementOf(r.type),c.TypeString.elementOf(i.type)))||c.TypeString.MIXED_TYPE_STRING:c.TypeString.isEqualOrOverlaps(r.type,c.TypeString.MIXED_TYPE_STRING)||c.TypeString.isEqualOrOverlaps(i.type,c.TypeString.MIXED_TYPE_STRING)?s.type=c.TypeString.INT_OR_FLOAT_OR_ARRAY_TYPE_STRING:(s.type=c.TypeString.INT_OR_FLOAT_TYPE_STRING,n&&(s.value=function(e,t){return q(e)+q(t)}(r.value,i.value)));break;case 142:s.type=c.TypeString.INT_OR_FLOAT_TYPE_STRING,n&&(s.value=function(e,t){return q(e)-q(t)}(r.value,i.value))}var o,a;return s}(e,n,o);case 1019:return function(e,t){const n={type:U(e.children[1],t,!1).type};switch(e.children[0].kind){case 150:n.type=c.TypeString.OBJECT_TYPE_STRING;break;case 149:n.type=c.TypeString.STRING_TYPE_STRING;break;case 155:n.type=c.TypeString.ARRAY_TYPE_STRING;break;case 147:n.type=c.TypeString.BOOLEAN_TYPE_STRING;break;case 152:n.type=c.TypeString.FLOAT_TYPE_STRING;break;case 151:n.type=c.TypeString.INT_TYPE_STRING;break;case 148:n.type=c.TypeString.NULL_TYPE_STRING}return n}(e,n);case 1170:return $(e,n,o).typeAndValue;case 1112:return function(e,t,n){const r=U(e.children[0],t,n),i=U(e.children[2],t,n),s={type:c.TypeString.INT_OR_FLOAT_TYPE_STRING,uriIdSet:t.referencedUriIdSet};switch(e.children[1].kind){case 91:s.type=c.TypeString.INT_TYPE_STRING,n&&(s.value=(o=r.value,a=i.value,q(o)%q(a)));break;case 100:s.type=c.TypeString.INT_OR_FLOAT_TYPE_STRING,n&&(s.value=function(e,t){return q(e)*q(t)}(r.value,i.value));break;case 90:s.type=c.TypeString.INT_OR_FLOAT_TYPE_STRING,n&&(s.value=function(e,t){return q(e)/q(t)}(r.value,i.value))}var o,a;return s}(e,n,o);case 1065:return function(e,t,n){const r=U(e.children[0],t,n),i=U(e.children[2],t,n),s={type:c.TypeString.INT_OR_FLOAT_TYPE_STRING,uriIdSet:t.referencedUriIdSet};n&&(s.value=(o=r.value,a=i.value,Math.pow(q(o),q(a))));var o,a;return s}(e,n,o);case 1151:return function(e,t,n){const r=e.children[0],i=t.nodeUtils.nodeOffset(r);U(r,t,!1);const s=U(e.children[2],t,n);return t.nodeUtils.markOffset(r,i),Te(r,s,t,3145728),s}(e,n,o);case 1016:return function(e,t){const n=e.children[0],r=t.nodeUtils.nodeOffset(n);1152===n.kind?A(n,t,1024):U(n,t,!1);const i=U(e.children[3],t,!1);return t.nodeUtils.markOffset(n,r),Te(n,i,t,3146752),i}(e,n);case 1038:return function(e,t){const n=U(e.children[0],t,!1),r=U(e.children[2],t,!1);let i={type:c.TypeString.MIXED_TYPE_STRING,uriIdSet:t.referencedUriIdSet};switch(e.children[1].kind){case 108:case 106:case 109:case 104:case 103:case 144:i.type=c.TypeString.INT_TYPE_STRING;break;case 145:case 129:case 113:case 143:i.type=c.TypeString.INT_OR_FLOAT_TYPE_STRING;break;case 126:i.type=c.TypeString.STRING_TYPE_STRING;break;case 111:c.TypeString.isArray(n.type)&&c.TypeString.isArray(r.type)?i.type=c.TypeString.arrayOf(c.TypeString.union(c.TypeString.elementOf(n.type),c.TypeString.elementOf(r.type)))||c.TypeString.MIXED_TYPE_STRING:i.type=c.TypeString.INT_OR_FLOAT_TYPE_STRING}return i}(e,n);case 1014:return function(e,t,n){const r=U(e.children[0],t,n),i=U(e.children[2],t,n),s={type:c.TypeString.INT_TYPE_STRING,uriIdSet:t.referencedUriIdSet};if(n)switch(e.children[1].kind){case 122:s.value=(o=r.value,a=i.value,q(o)|q(a));break;case 102:s.value=function(e,t){return q(e)&q(t)}(r.value,i.value);break;case 124:s.value=function(e,t){return q(e)^q(t)}(r.value,i.value)}var o,a;return s}(e,n,o);case 1150:return function(e,t,n){const r=U(e.children[0],t,n),i=U(e.children[2],t,n),s={type:c.TypeString.INT_TYPE_STRING,uriIdSet:t.referencedUriIdSet};n&&(s.value=105===e.children[1].kind?(o=r.value,a=i.value,q(o)<<q(a)):function(e,t){return q(e)>>q(t)}(r.value,i.value));var o,a;return s}(e,n,o);case 1095:return j(e,n).typeAndValue;case 1037:return function(e,t){const n=U(e.children[0],t,!1),r=U(e.children[2],t,!1);return y.merge(n,r)||{type:c.TypeString.MIXED_TYPE_STRING}}(e,n);case 1035:return function(e,t){return U(e.children[1],t,!1)}(e,n);case 1040:return function(e,t){let n,r;t.variableTable.pushBranch();const i=W(e.children[0],t);i.variables&&t.variableTable.setTypeGuard(i.variables);5===e.children.length?(n=U(e.children[2],t,!1),t.variableTable.popBranch(),t.variableTable.pushBranch(),r=U(e.children[4],t,!1)):(t.variableTable.popBranch(),t.variableTable.pushBranch(),r=U(e.children[3],t,!1));return t.variableTable.popBranch(),t.variableTable.pruneBranches(),y.merge(n,r)||{type:c.TypeString.MIXED_TYPE_STRING}}(e,n);case 1009:return function(e,t){const n=e.children[e.children.length-2];let r;r=1011===n.kind?function(e,t){const n=[];let r,i;for(let s=0,o=e.children.length;s<o;++s)1010===(i=e.children[s]).kind&&(r=G(e.children[s],t))&&n.push(r);const s=y.mergeMany(function(e,t){const n=Math.floor(e.length/t);if(n<2)return e;const r=[];for(let t=0;t<e.length;t+=n)r.push(e[t]);return r}(n,5));if(!s||!s.type||s.type.parts&&s.type.parts.length>5)return{type:c.TypeString.ARRAY_TYPE_STRING,uriIdSet:t.referencedUriIdSet};return{type:c.TypeString.arrayOf(s.type)}}(n,t):{type:c.TypeString.ARRAY_TYPE_STRING};return r}(e,n);case 1156:return function(e,t){const n=U(e.children[0],t,!1),r=h.PHP.isExpression(e.children[2])?U(e.children[2],t,!0):void 0;if(!r)return{type:c.TypeString.elementOf(n.type)||c.TypeString.MIXED_TYPE_STRING};if(t.nodeReferenceMap.has(e.children[0])){let n=t.nodeReferenceMap.get(e.children[0]);if(n&&256===n.kind){let e=function(e,t,n){if("$_SERVER"===e)switch(t){case"DOCUMENT_ROOT":return{type:c.TypeString.STRING_TYPE_STRING,value:n.environment.documentRoot,uriIdSet:new Set([n.nodeUtils.uriId])}}return}(n.name,r.value,t);if(e)return e}}let s,o,a=c.TypeString.objectNames(n.type);if(void 0!==r.value){const e=[r];let n;for(let r=0;r<a.length;++r)o=a[r],n=i.Definition.fqsenHash(o,0,1),t.metadataStore.hasOverrideType(n)&&(s=c.TypeString.union(s,t.metadataStore.getOverrideType(n,e)))}if(s)return{type:s};if(s=c.TypeString.elementOf(n.type))return{type:s};const u=c.TypeString.reduce(n.type,e=>void 0!==e.parts&&("array"===e.name||de(e.name,"ArrayAccess",t)||"arrayaccess"===e.name.toLowerCase()));if(s=c.TypeString.genericTypeArgumentAtIndex(u,1))return{type:s};if(s=ue(a,t,"ArrayAccess","offsetGet"))return{type:s};return{type:c.TypeString.elementOf(n.type)||c.TypeString.MIXED_TYPE_STRING}}(e,n);case 1057:return function(e,t,n){return U(e.children[1],t,n)}(e,n,o);case 1060:return function(e,t){U(e.children[0],t,!1),U(e.children[2],t,!1);return{type:c.TypeString.BOOLEAN_TYPE_STRING,uriIdSet:t.referencedUriIdSet}}(e,n);case 1062:return function(e,t){return U(e.children[1],t,!1)}(e,n);case 1104:return Y(e,n).typeAndValue;case 1126:case 1127:return function(e,t,n){const r=e.children[0],i=U(r,t,n),s={type:c.TypeString.INT_TYPE_STRING,uriIdSet:t.referencedUriIdSet};Te(r,s,t,34603008),n&&(134===e.children[1].kind?s.value=F(i.value):s.value=B(i.value));return s}(e,n,o);case 1128:case 1129:return function(e,t,n){const r=e.children[1],i=U(r,t,n),s={type:c.TypeString.INT_TYPE_STRING,uriIdSet:t.referencedUriIdSet};Te(r,s,t,34603008);const o=t.nodeReferenceMap.get(r);o&&(o.modifiers|=33554432);n&&(134===e.children[0].kind?s.value=F(i.value):s.value=B(i.value));return s}(e,n,o);case 1138:return function(e,t){U(e.children[0],t,!1),U(e.children[2],t,!1);let n=c.TypeString.BOOLEAN_TYPE_STRING;141===e.children[1].kind&&(n=c.TypeString.INT_TYPE_STRING);return{type:n,uriIdSet:t.referencedUriIdSet}}(e,n);case 1149:return function(e,t){return U(e.children[1],t,!1),{type:c.TypeString.STRING_TYPE_STRING,uriIdSet:t.referencedUriIdSet}}(e,n);case 1102:return function(e,t){return U(e.children[2],t,!1),{type:c.TypeString.BOOLEAN_TYPE_STRING,uriIdSet:t.referencedUriIdSet}}(e,n);case 1080:return ne(e,n,o).typeAndValue;case 1131:return function(e,t){let n=c.TypeString.namedObjects(c.TypeString.resolveThisOrStatic(U(e.children[0],t,!1).type,c.TypeString.fromString(t.typeContextName())));if(!n)return{type:c.TypeString.MIXED_TYPE_STRING};const r=se(e.children[2],t,16,n);if(!r)return{type:c.TypeString.MIXED_TYPE_STRING};const i=oe(n,5,t),s=ve(ae(r.name,16,i),t,b.inferPropertyTypeAndValue,c.TypeString.MIXED_TYPE_STRING);return r.type=c.TypeString.resolveThisOrStatic(s.type,n)||c.TypeString.OBJECT_TYPE_STRING,{type:r.type}}(e,n);case 1107:return function(e,t){const n=U(e.children[0],t,!1),r=c.TypeString.isEqualOrOverlaps(n.type,c.TypeString.STATIC_OR_THIS_TYPE_STRING),i=c.TypeString.namedObjects(c.TypeString.resolveThisOrStatic(n.type,c.TypeString.fromString(t.typeContextName()))),s=i?se(e.children[2],t,32,i):void 0;if(!s||!i)return e.children.length>4&&1008===e.children[4].kind&&z(e.children[4],t,!1),{type:c.TypeString.MIXED_TYPE_STRING,uriIdSet:t.referencedUriIdSet};const o=oe(i,7,t),a=ae(s.name,32,o),u=a.filter(e=>t.metadataStore.hasOverrideType(e.fqsenHash));let l;e.children.length>4&&1008===e.children[4].kind&&(l=z(e.children[4],t,0!==u.length),s.argumentTypes=l.map(e=>e.type),ie(a,e.children[4].children.filter(ee),t));const h=ve(a,t,b.inferMethodTypeAndValue,c.TypeString.MIXED_TYPE_STRING);let d;if(0!==u.length&&l)for(let e=0;e<u.length;++e)d=c.TypeString.union(d,t.metadataStore.getOverrideType(u[e].fqsenHash,l));return s.type=c.TypeString.resolveThisOrStatic(d||h.type,r?c.TypeString.union(c.TypeString.namedObjects(n.type),c.TypeString.STATIC_OR_THIS_TYPE_STRING):i),{type:s.type}}(e,n);case 1024:return function(e,t){const n=c.TypeString.namedObjects(c.TypeString.resolveThisOrStatic(U(e.children[0],t,!1).type,c.TypeString.fromString(t.typeContextName()))),r=n?ce(e.children[2],t):void 0;if(!r||!n)return{type:c.TypeString.MIXED_TYPE_STRING};if(r.kind=1024,r.scope=n,"class"===r.name)return r.type=c.TypeString.STRING_TYPE_STRING,{type:r.type,uriIdSet:t.referencedUriIdSet,value:c.TypeString.toString(n),flag:1};const i=oe(n,3,t),s=ve(ae(r.name,1024,i),t,b.inferClassConstantTypeAndValue,c.TypeString.MIXED_TYPE_STRING,!0);return r.type=s.type,{type:r.type,value:s.value}}(e,n);case 1147:return function(e,t){let n=c.TypeString.namedObjects(c.TypeString.resolveThisOrStatic(U(e.children[0],t,!1).type,c.TypeString.fromString(t.typeContextName())));const r=n?ce(e.children[2],t):void 0;if(!r||!n)return{type:c.TypeString.MIXED_TYPE_STRING,uriIdSet:t.referencedUriIdSet};r.kind=16,r.scope=n;const i=oe(n,5,t),s=ve(ae(r.name,16,i),t,b.inferPropertyTypeAndValue,c.TypeString.MIXED_TYPE_STRING),o=c.TypeString.resolveThisOrStatic(s.type,n);return r.type=o,{type:o}}(e,n);case 1145:return function(e,t){const n=U(e.children[0],t,!1),r=c.TypeString.isEqualOrOverlaps(n.type,c.TypeString.STATIC_OR_THIS_TYPE_STRING);let i=c.TypeString.namedObjects(c.TypeString.resolveThisOrStatic(n.type,c.TypeString.fromString(t.typeContextName())));const s=ce(e.children[2],t);if(!s||!i)return e.children.length>4&&1008===e.children[4].kind&&z(e.children[4],t,!1),{type:c.TypeString.MIXED_TYPE_STRING,uriIdSet:t.referencedUriIdSet};const o=oe(i,7,t),a=ae(s.name,32,o),u=a.filter(e=>t.metadataStore.hasOverrideType(e.fqsenHash));let l;e.children.length>4&&1008===e.children[4].kind&&(l=z(e.children[4],t,0!==u.length),s.argumentTypes=l.map(e=>e.type),ie(a,e.children[4].children.filter(ee),t));s.kind=32,s.scope=i;const h=ve(a,t,b.inferMethodTypeAndValue,c.TypeString.MIXED_TYPE_STRING);let d;if(0!==u.length&&l)for(let e=0;e<u.length;++e)d=c.TypeString.union(d,t.metadataStore.getOverrideType(u[e].fqsenHash,l));return s.type=c.TypeString.resolveThisOrStatic(d||h.type,r?c.TypeString.union(c.TypeString.namedObjects(n.type),c.TypeString.STATIC_OR_THIS_TYPE_STRING):i),{type:s.type}}(e,n);case 1004:return function(e,n){n.enterScope(e),t(e.children,e,n),n.leaveScope(e);let r=n.nodeDefinitionMap.get(e);return{type:c.TypeString.intersection(c.TypeString.CLOSURE_TYPE_STRING,c.TypeString.fromString(r?r.name:"")),uriIdSet:n.referencedUriIdSet}}(e,n);case 1152:return A(e,n,0);case 1136:case 1079:case 1139:{const t=N(e,n);return t?(t.type=c.TypeString.fromString(t.name),{type:t.type,uriIdSet:n.referencedUriIdSet}):{type:c.TypeString.MIXED_TYPE_STRING,uriIdSet:n.referencedUriIdSet}}case 1041:return function(e,t,n){const r=N(e.children[0],t,8);if(!r)return{type:c.TypeString.MIXED_TYPE_STRING,uriIdSet:t.referencedUriIdSet};const s=r.unresolvedName?r.unresolvedName.toLowerCase():"";if("true"===s||"false"===s)return r.type=c.TypeString.BOOLEAN_TYPE_STRING,{type:r.type,value:n?"true"===s:void 0,uriIdSet:t.referencedUriIdSet};if("null"===s)return r.type=c.TypeString.NULL_TYPE_STRING,{type:r.type,value:n?null:void 0,uriIdSet:t.referencedUriIdSet};let o=t.definitionStore.find(r.name,i.Definition.isConstant);!o.length&&r.unresolvedName&&r.name!==r.unresolvedName&&(o=t.definitionStore.find(r.unresolvedName,i.Definition.isConstant));let a=ve(o,t,b.inferConstantTypeAndValue,c.TypeString.MIXED_TYPE_STRING,n);if(r.type=a.type,n){let e;for(let t=0;t<o.length&&void 0===e;++t)void 0!==(e=w(o[t]))&&(a=Object.assign({},a,{value:e}))}return a}(e,n,o);case 1123:return function(e,n){let r,i=e.children[1],o=c.TypeString.OBJECT_TYPE_STRING;if(1034===i.kind){if((r=function(e,t){const n=e.children[0];if(1079===n.kind||1136===n.kind||1139===n.kind){const e=N(n,t,2048);return e?(e.type=c.TypeString.fromString(e.name),e):void 0}if(1140===n.kind){const e=s.Reference.create(2048,"static",t.nodeUtils.uriId);return e.type=c.TypeString.STATIC_TYPE_STRING,e.unresolvedName="static",e.name=t.typeContextName(),t.addReference(e,n),e}{const e=U(n,t,!0);if(e&&(1&(e.flag||0))>0&&e.value){const n=s.Reference.create(1,e.value,t.nodeUtils.uriId);return n.type=c.TypeString.fromString(n.name),n}return}}(i,n))&&r.type&&(o=r.type),e.children.length>3&&1008===e.children[3].kind){const t=z(e.children[3],n,!1);if(r){r.argumentTypes=t.map(e=>e.type);const i=c.TypeString.objectNames(c.TypeString.namedObjects(c.TypeString.resolveThisOrStatic(o,c.TypeString.fromString(n.typeContextName())))).pop();if(i){const t=n.typeFactory.fromName(i,1);if(t){const r=t.findMember("__construct",2048);r&&ie([r],e.children[3].children.filter(ee),n)}}}}}else 1002===i.kind?o=function(e,n){let r=n.nodeDefinitionMap.get(e);const i=r?r.name:"";return n.enterScope(e),t(e.children,e,n),n.leaveScope(e),c.TypeString.fromString(i)||c.TypeString.OBJECT_TYPE_STRING}(i,n):t(e.children,e,n);return{type:o,uriIdSet:n.referencedUriIdSet}}(e,n);case 1092:case 1093:case 1141:case 1142:return function(e,t){const n=U(e.children[1],t,!0);if(n.value){const r=n.value;if(r){const n=f.dirname(l.URI.parse(t.nodeUtils.uri).fsPath),i=h.PHP.resolveIncludePath(r,t.environment.documentRoot||"",n,t.environment.includePaths||[]).map(e=>l.URI.file(e).toString()),o=i.find(e=>t.documentStore.isKnown(e));o&&t.scriptInclusion.add(t.documentStore.id(o));const a=s.Reference.create(4096,o||r,t.nodeUtils.uriId);a.unresolvedName=r,t.addReference(a,e)}}return{type:c.TypeString.MIXED_TYPE_STRING,uriIdSet:t.referencedUriIdSet}}(e,n);case 1051:for(let t=0,r=e.children.length;t<r;++t)U(e.children[t],n,!1);return{type:c.TypeString.STRING_TYPE_STRING};case 1140:{const t=s.Reference.create(1,n.typeContextName(),n.nodeUtils.uriId);return t.unresolvedName="static",t.type=c.TypeString.STATIC_TYPE_STRING,n.addReference(t,e),{type:t.type}}default:if(r.isToken(e))return function(e,t,n){const r={type:c.TypeString.MIXED_TYPE_STRING,uriIdSet:t.referencedUriIdSet};switch(e.kind){case 78:r.type=c.TypeString.FLOAT_TYPE_STRING,n&&(r.value=h.PHP.toNumber(t.nodeUtils.nodeText(e)));break;case 77:case 79:r.type=c.TypeString.STRING_TYPE_STRING,n&&(r.value=h.PHP.parseString(t.nodeUtils.nodeText(e),e.kind));break;case 69:if(r.type=c.TypeString.STRING_TYPE_STRING,n){const e=t.nodeUtils.uri,n=e.lastIndexOf("/");r.value=l.URI.parse(e.slice(0,n)).fsPath}break;case 70:r.type=c.TypeString.STRING_TYPE_STRING,n&&(r.value=l.URI.parse(t.nodeUtils.uri).fsPath);break;case 72:case 73:r.type=c.TypeString.STRING_TYPE_STRING,n&&(r.value=t.currentFunctionOrMethod());break;case 74:r.type=c.TypeString.STRING_TYPE_STRING,n&&(r.value=t.nameResolver.namespaceName);break;case 75:case 76:r.type=c.TypeString.STRING_TYPE_STRING,n&&(r.value=t.nameResolver.className);break;case 81:r.type=c.TypeString.INT_TYPE_STRING,n&&(r.value=q(t.nodeUtils.nodeText(e)));break;case 71:if(r.type=c.TypeString.INT_TYPE_STRING,n){const n=t.nodeUtils.nodeRange(e);n&&(r.value=n.start.line)}}return r}(e,n,o);if(r.isPhrase(e)){if(1===e.children.length)return U(e.children[0],n,o);for(let t=0,r=e.children.length;t<r;++t)U(e.children[t],n,o)}return{type:c.TypeString.MIXED_TYPE_STRING}}}function q(e){return"number"===typeof e?e:Number(e)}function F(e){return q(e)+1}function B(e){return q(e)-1}function H(e){return e?e.toString():""}function j(e,t){const r=e.children[0];n(r,e,t);const i=U(e.children[2],t,!1);let s;if(1152===r.kind){let e=t.nodeReferenceMap.get(r);e&&(s=[{name:e.name,typeAndValue:i}])}else if(1147===r.kind||1131===r.kind){let e=r.children[2],n=t.nodeReferenceMap.get(e);if(n){let e=c.TypeString.objectNames(n.scope),t=n.name;e.length&&(s=e.map(e=>({name:ye(e,t),typeAndValue:i})))}}return{typeAndValue:{type:c.TypeString.BOOLEAN_TYPE_STRING},variables:s}}function G(e,t){return e.children.length>1?(n(e.children[0],e,t),V(e.children[e.children.length-1],t)):V(e.children[0],t)}function V(e,t){return U(e.children[e.children.length-1],t,!1)}function K(e,t){const n=t.definition(e);if(!n)return;const r=s.Reference.create(8,n.name,n.uriId);r.modifiers|=2097152,r.unresolvedName=i.Definition.shortName(n.name),t.addReference(r,e.children[0]);const o=U(e.children[2],t,!0);i.Definition.typeAsTypeString(n)&&void 0!==n.value||t.typeAndValueCache.set({id:i.DefinitionId.fromDefinition(n),typeAndValue:o,referencedUriIdSet:new Set(t.referencedUriIdSet[t.referencedUriIdSet.length-1])})}function $(e,t,n){let r=W(e.children[1],t),i=r.typeAndValue,s=r.variables;const o={type:c.TypeString.INT_OR_FLOAT_TYPE_STRING,uriIdSet:t.referencedUriIdSet};let a;switch(e.children[0].kind){case 88:if(o.type=c.TypeString.BOOLEAN_TYPE_STRING,s&&s.length>0){let e;a=[];for(let t=0;t<s.length;++t)e=s[t],a.push(m.not(e))}break;case 110:o.type=c.TypeString.INT_OR_FLOAT_TYPE_STRING,n&&(o.value=q(i.value));break;case 142:o.type=c.TypeString.INT_OR_FLOAT_TYPE_STRING,n&&(o.value=function(e){return-q(e)}(i.value));break;case 85:c.TypeString.isEqualOrOverlaps(i.type,c.TypeString.STRING_TYPE_STRING)?o.type=c.TypeString.STRING_TYPE_STRING:(o.type=c.TypeString.INT_TYPE_STRING,n&&(o.value=function(e){return~q(e)}(i.value)))}return{typeAndValue:o,variables:a}}function W(e,t){for(;e&&1057===e.kind;)e=e.children[1];let n;switch(e.kind){case 1095:n=j(e,t);break;case 1104:n=Y(e,t);break;case 1170:n=$(e,t,!1);break;case 1080:n=ne(e,t,!1);break;default:n={typeAndValue:U(e,t,!1)}}return n}function Y(e,t){let n,r=W(e.children[0],t),i=W(e.children[2],t);switch(e.children[1].kind){case 101:n=function(e,t){if(!e)return t;if(!t)return e;const n=new Map(e.map(e=>[e.name,e]));let r,i;for(let e=0;e<t.length;++e)r=t[e],(i=n.get(r.name))?i.notType===r.notType?n.set(r.name,{name:r.name,typeAndValue:{type:c.TypeString.intersection(i.typeAndValue.type,r.typeAndValue.type)||c.TypeString.MIXED_TYPE_STRING},notType:i.notType}):r.notType||n.set(r.name,r):n.set(r.name,r);return Array.from(n.values())}(r.variables,i.variables);break;case 123:n=function(e,t){if(!e||!t)return;const n=new Map(e.map(e=>[e.name,e]));let r,i;for(let e=0;e<t.length;++e)r=t[e],!(i=n.get(r.name))||i.notType||r.notType?n.delete(r.name):n.set(r.name,{name:r.name,typeAndValue:{type:c.TypeString.union(i.typeAndValue.type,r.typeAndValue.type)||c.TypeString.MIXED_TYPE_STRING}});return Array.from(n.values())}(r.variables,i.variables)}return{typeAndValue:{type:c.TypeString.BOOLEAN_TYPE_STRING},variables:n}}function z(e,t,n){const r=[];let i;const s=c.TypeString.fromString(t.typeContextName());let o;for(let a=0,u=e.children.length;a<u;++a)92!==(i=e.children[a]).kind&&(o=U(i,t,n),r.push(Object.assign({},o,{type:c.TypeString.resolveThisOrStatic(o.type,s)})));return r}function X(e,t,n){n.type=c.TypeString.BOOLEAN_TYPE_STRING;const r=e.children[2];if(1008===r.kind&&r.children.length){const e=[];let i,s=W(r.children[0],t);e.push(s.typeAndValue.type);for(let n=2,s=r.children.length;n<s;++n)92!==(i=r.children[n]).kind&&e.push(U(i,t,!1).type);n.argumentTypes=e,s.variables&&t.variableTable.setVariables(s.variables)}return{type:c.TypeString.BOOLEAN_TYPE_STRING,uriIdSet:t.referencedUriIdSet}}function Q(e,t,n){if(n.type=c.TypeString.BOOLEAN_TYPE_STRING,1008===e.children[2].kind){let r=z(e.children[2],t,!0);n.argumentTypes=r.map(e=>e.type);let o=t.definition(e);if(o&&r.length>1){if(!i.Definition.typeAsTypeString(o)||void 0===o.value){const e=r[1];t.typeAndValueCache.set({id:i.DefinitionId.fromDefinition(o),typeAndValue:{type:e.type,value:e.value},referencedUriIdSet:new Set(t.referencedUriIdSet[t.referencedUriIdSet.length-1])})}const n=s.Reference.create(8,o.name,o.uriId);n.modifiers|=2097152,t.addReference(n,e.children[2].children[0])}}return{type:c.TypeString.BOOLEAN_TYPE_STRING,uriIdSet:t.referencedUriIdSet}}function J(e){switch(e){case"is_array":case"is_bool":case"is_callable":case"is_countable":case"is_double":case"is_float":case"is_int":case"is_integer":case"is_iterable":case"is_long":case"is_null":case"is_numeric":case"is_object":case"is_real":case"is_resource":case"is_scalar":case"is_string":return!0;default:return!1}}function Z(e,t,n,r){const i=e.children[2];let s,o,a;if(1008===i.kind&&i.children.length){const e=z(i,t,!1);n.argumentTypes=e.map(e=>e.type);let r=i.children[0];if(1152===r.kind)s=t.nodeReferenceMap.get(r);else if(1147===r.kind||1131===r.kind){let e=r.children[2];s=t.nodeReferenceMap.get(e)}}if(!s)return{typeAndValue:{type:c.TypeString.BOOLEAN_TYPE_STRING}};switch(r){case"is_array":o={type:c.TypeString.reduce(s.type,c.TypeString.isArray)||c.TypeString.ARRAY_TYPE_STRING};break;case"is_bool":o={type:c.TypeString.BOOLEAN_TYPE_STRING};break;case"is_callable":o={type:c.TypeString.reduce(s.type,e=>(function(e,t){switch(e.name.toLowerCase()){case"string":case"closure":case"callable":case"[]":case"array":return!0}if(0===e.name.indexOf("#Function#"))return!0;if(c.TypeString.isNamedObject(e)){let n=t.fromName(e.name,3);return!!n&&void 0!==n.findMember("__invoke",32)}return!1})(e,t.typeFactory))||c.TypeString.CALLABLE_TYPE_STRING};break;case"is_countable":o={type:c.TypeString.reduce(s.type,e=>(function(e,t){if("[]"===e.name||"array"===e.name||"countable"===e.name.toLowerCase())return!0;if(c.TypeString.isNamedObject(e)){let n=t.fromName(e.name,3);return!!n&&n.isAssociated("Countable")}return!1})(e,t.typeFactory))||c.TypeString.ARRAY_OR_COUNTABLE_TYPE_STRING};break;case"is_double":case"is_float":case"is_real":o={type:c.TypeString.FLOAT_TYPE_STRING};break;case"is_int":case"is_integer":case"is_long":o={type:c.TypeString.INT_TYPE_STRING};break;case"is_iterable":o={type:c.TypeString.reduce(s.type,e=>(function(e,t){if("[]"===e.name||"array"===e.name||"iterable"===e.name)return!0;if(c.TypeString.isNamedObject(e)){let n=t.fromName(e.name,3);return!!n&&n.isAssociated("iterable")}return!1})(e,t.typeFactory))||c.TypeString.ITERABLE_TYPE_STRING};break;case"is_null":o={type:c.TypeString.NULL_TYPE_STRING};break;case"is_numeric":o={type:c.TypeString.reduce(s.type,e=>c.TypeString.isEqualOrOverlaps(e,c.TypeString.NUMERIC_TYPE_STRING))||c.TypeString.NUMERIC_TYPE_STRING};break;case"is_object":o={type:c.TypeString.namedObjects(s.type)||c.TypeString.OBJECT_TYPE_STRING};break;case"is_resource":o={type:c.TypeString.RESOURCE_TYPE_STRING};break;case"is_scalar":o={type:c.TypeString.reduce(s.type,e=>c.TypeString.isEqualOrOverlaps(e,c.TypeString.SCALAR_TYPE_STRING))||c.TypeString.SCALAR_TYPE_STRING};break;case"is_string":o={type:c.TypeString.STRING_TYPE_STRING};break;default:throw new Error("Invalid Argument")}if(16===s.kind){let e=c.TypeString.objectNames(s.scope);if(0!==e.length){let t=s.name;a=e.map(e=>({name:ye(e,t),typeAndValue:o}))}}else a=[{name:s.name,typeAndValue:o}];return{typeAndValue:{type:c.TypeString.BOOLEAN_TYPE_STRING},variables:a}}function ee(e){return 92!==e.kind}function te(e,t){const n=U(e.children[0],t,!1),r=t.nodeReferenceMap.get(e.children[0]);let s;const o=[];if(c.TypeString.isEqualOrOverlaps(n.type,c.TypeString.CLOSURE_TYPE_STRING)){const e=c.TypeString.objectNames(n.type);for(let n=0,r=e.length;n<r;++n)Array.prototype.push.apply(o,t.definitionStore.find(e[n],i.Definition.isFunction));s=ve(o,t,b.inferFunctionTypeAndValue,c.TypeString.MIXED_TYPE_STRING),r&&(r.type=n.type)}if(1008===e.children[2].kind){let n=e.children[2].children.filter(ee),i=z(e.children[2],t,!1);ie(o,n,t),r&&(r.argumentTypes=i.map(e=>e.type))}return s||{type:c.TypeString.MIXED_TYPE_STRING,uriIdSet:t.referencedUriIdSet}}function ne(e,t,r){return function(e){return 1079===e.kind||1139===e.kind||1136===e.kind}(e.children[0])?function(e,t,r){const s=N(e.children[0],t,64);if(!s)return n(e.children[2],e,t),{typeAndValue:{type:c.TypeString.MIXED_TYPE_STRING}};let o=s.name.toLowerCase();if("assert"===o)return{typeAndValue:X(e,t,s)};if("define"===o)return{typeAndValue:Q(e,t,s)};if(J(o))return Z(e,t,s,o);let a=t.definitionStore.find(s.name,i.Definition.isFunction);if(!a.length&&s.unresolvedName&&s.name!==s.unresolvedName){let n=s.unresolvedName.toLowerCase();if("assert"===n)return{typeAndValue:X(e,t,s)};if("define"===n)return{typeAndValue:Q(e,t,s)};if(J(o))return Z(e,t,s,n);a=t.definitionStore.find(s.unresolvedName,i.Definition.isFunction)}const u=a.filter(e=>t.metadataStore.hasOverrideType(e.fqsenHash));let l,h=ve(a,t,b.inferFunctionTypeAndValue,c.TypeString.MIXED_TYPE_STRING);if(s.type=h.type,1008===e.children[2].kind){let n=e.children[2].children.filter(ee);l=z(e.children[2],t,r||u&&0!==u.length),ie(a||[],n,t),s.argumentTypes=l.map(e=>e.type)}if(u&&u.length&&l){let e;for(let n=0;n<u.length;++n)e=c.TypeString.union(e,t.metadataStore.getOverrideType(u[n].fqsenHash,l));e&&(s.type=e,h={type:e})}if(r&&h&&void 0===h.value&&a.length){let e;for(let t=0;t<a.length&&void 0===e;++t)void 0!==(e=re(a[t],l||[]))&&(h=Object.assign({},h,{value:e}))}return{typeAndValue:h||{type:c.TypeString.MIXED_TYPE_STRING}}}(e,t,r):{typeAndValue:te(e,t)}}function re(e,t){if(65536&e.modifiers)switch(e.name.toLowerCase()){case"dirname":return h.PHP.dirname(t);default:return}}function ie(e,t,n){let r,s,o,u;for(let l=0,h=e.length;l<h;++l){s=(r=e[l])instanceof a.MethodDefinition?r.parameters:n.definitionStore.getDefinitionChildren(r).filter(i.Definition.isParameter),s=i.Definition.normaliseParameters(s,t.length);for(let e=0,r=Math.max(t.length,s.length);e<r;++e)o=s[e],u=t[e],o&&u&&(1024&o.modifiers)>0&&1152===u.kind&&Te(u,{type:i.Definition.typeAsTypeString(o)||c.TypeString.MIXED_TYPE_STRING},n,36701184)}}function se(e,t,n,r){let i;const o=e.children[0];return 82===o.kind?(i=s.Reference.create(n,t.nodeUtils.nodeText(o),t.nodeUtils.uriId),16===n&&"$"!==i.name.slice(0,1)&&(i.name="$"+i.name),i.scope=r,t.addReference(i,e)):U(o,t,!1),i}function oe(e,t,n){const r=c.TypeString.objectNames(e),i=[];let s,o;for(let e=0,a=r.length;e<a;++e)s=r[e],(o=n.typeFactory.fromName(s,t))&&i.push(o);return i}function ae(e,t,n){const r=[];let i;for(let s=0,o=n.length;s<o;++s)(i=n[s].findMember(e,t))&&r.push(i);return r}function ce(e,t){const n=e.children[0];if(83===n.kind||1090===n.kind){const r=s.Reference.create(0,t.nodeUtils.nodeText(n),t.nodeUtils.uriId);return t.addReference(r,e),r}U(n,t,!1)}function ue(e,t,n,r){let s,o;for(let a=0,u=e.length;a<u;++a)if(s=e[a],(o=t.typeFactory.fromName(s,3))&&o.isAssociated(n)){let e=o.findMember(r,32);if(e){let n=i.Definition.typeAsTypeString(e);if(!n){n=ve([e],t,b.inferMethodTypeAndValue,c.TypeString.MIXED_TYPE_STRING).type}return n}}}function le(e,t){102===e.children[0].kind&&1152===e.children[1].kind?A(e.children[1],t,1024):n(e.children[e.children.length-1],e,t)}function he(e,t){1152===e.children[0].kind?A(e.children[0],t,1024):n(e.children[0],e,t)}function de(e,t,n){let r=n.typeFactory.fromName(e,3);return!!r&&r.isAssociated(t)}function pe(e,t){return void 0!==e.parts&&("array"===e.name||"iterable"===e.name||de(e.name,"iterable",t))}function fe(e,t){const n=c.TypeString.reduce(e,e=>pe(e,t));let r=c.TypeString.genericTypeArgumentAtIndex(n,0);return r||((r=ue(c.TypeString.objectNames(e),t,"Iterator","key"))||c.TypeString.STRING_OR_INT_TYPE_STRING)}function _e(e,t){let n=c.TypeString.elementOf(e);if(n)return n;const r=c.TypeString.reduce(e,e=>pe(e,t));return(n=c.TypeString.genericTypeArgumentAtIndex(r,1))?n:(n=ue(c.TypeString.objectNames(e),t,"Iterator","current"))||c.TypeString.MIXED_TYPE_STRING}function me(e,t){let n,r="",o=2097152;for(let a=0,u=e.children.length;a<u;++a)switch((n=e.children[a]).kind){case 102:o|=1024;break;case 83:{r=t.nodeUtils.nodeText(n);const e=s.Reference.create(128,r,t.nodeUtils.uriId);e.modifiers|=o,t.addReference(e,n)}break;case 1169:ge(n,t);break;case 1048:{let s=M(n,t),o=t.definition(e);!s||!s.type||o&&o.type&&o.type.declared||(c.TypeString.isEqualOrOverlaps(s.type,c.TypeString.NULL_TYPE_STRING)&&(s=Object.assign({},s,{type:c.TypeString.MIXED_OR_NULL_TYPE_STRING})),o&&!i.Definition.typeAsTypeString(o)&&(t.variableTable.setVariable({name:r,typeAndValue:s}),t.typeAndValueCache.set({id:i.DefinitionId.fromDefinition(o),typeAndValue:s,referencedUriIdSet:new Set(t.referencedUriIdSet[t.referencedUriIdSet.length-1])})))}}}function ge(e,t){let n,r;return 95===e.children[0].kind?(r=N(e.children[1],t),n=c.TypeString.NULL_TYPE_STRING):r=N(e.children[0],t),r&&(n=c.TypeString.union(n,c.TypeString.fromString(r.name))),n}function ye(e,t){return e&&t?`${e.toLowerCase()}::${t}`:""}function Te(e,t,n,r){switch(e.kind){case 1152:{const s=n.nodeReferenceMap.get(e);s&&(t=function(e,t,n,r){const i=n.getVariable(e);return!i||c.TypeString.isEqual(i.typeAndValue.type,c.TypeString.MIXED_TYPE_STRING)?t:i.isVarTag?(i.isVarTag=!1,i.typeAndValue):r&&c.TypeString.isEqual(t.type,c.TypeString.ARRAY_TYPE_STRING)&&c.TypeString.isArray(i.typeAndValue.type)?i.typeAndValue:t}(s.name,t,n,0!=(1024&r)),s.type=t.type,s.modifiers|=r,n.setVariable(s.name,t));const o=n.nodeDefinitionMap.get(e);!o||o.scope||16777216&o.modifiers||n.typeAndValueCache.set({id:i.DefinitionId.fromDefinition(o),typeAndValue:t,referencedUriIdSet:new Set(n.referencedUriIdSet[n.referencedUriIdSet.length-1])})}break;case 1156:{r|=33554432;const i=e.children[0];let s=n.nodeReferenceMap.get(i);if(s&&1152===i.kind&&s.type){s.modifiers|=r;break}Te(i,{type:c.TypeString.ARRAY_TYPE_STRING,flag:t.flag},n,r)}break;case 1131:case 1147:Te(e.children[2],t,n,r);break;case 1106:case 1146:{const r=n.nodeReferenceMap.get(e);if(r&&16===r.kind){r.type=t.type,r.modifiers|=1048576;const e=c.TypeString.objectNames(r.scope);for(let t=0,i=e.length;t<i;++t)n.variableTable.setVariable({name:ye(e[t],r.name),typeAndValue:{type:r.type}});const s=n.typeContextName();if(s&&r.scope&&c.TypeString.isEqualOrOverlaps(r.scope,c.TypeString.fromString(s))&&function(e,t){t=t.toLowerCase();const n=e.slice(1).toLowerCase();return"__construct"===t||t===n||t==="set"+n||t==="get"+n}(r.name,n.currentFunctionOrMethod())){const e=i.Definition.fqsenHash(r.name,i.Definition.fqsenHash(s,0,1),16);let o=n.definitionStore.table(n.nodeUtils.uriId);const a=o?o.findByHashAndKind(e,16):void 0;a&&n.typeAndValueCache.set({id:i.DefinitionId.fromDefinition(a),typeAndValue:t,referencedUriIdSet:new Set(n.referencedUriIdSet[n.referencedUriIdSet.length-1])})}}}break;case 1011:t={type:c.TypeString.elementOf(t.type),flag:t.flag};for(let i=0,s=e.children.length;i<s;++i)Te(e.children[i],t,n,r);break;case 1010:case 1013:case 1074:Te(e.children[e.children.length-1],t,n,r);break;case 1072:Te(e.children[0],t,n,r);break;case 1009:case 1103:Te(e.children[e.children.length-2],t,n,r)}}function be(e,t){const n=i.Definition.typeAsTypeString(e);return!(65792&e.modifiers)&&(!n||c.TypeString.isEqual(n,c.TypeString.NULL_TYPE_STRING)||t&&void 0===e.value&&(1288&e.kind)>0)}function ve(e,t,n,r,s){let o,a;e.length>3&&(e=e.slice(0,3));const c=g.fromReferenceTransformStateAndDefinition(t);for(let r=0;r<e.length;++r){if(a=e[r],t.referencedUriIdSet[t.referencedUriIdSet.length-1].add(a.uriId),16===a.kind){const e=a.scope?t.definitionStore.findDefinitionById(a.scope):void 0;if(e){const n=t.variableTable.getVariable(ye(e.name,a.name));if(n){o=y.merge(o,n.typeAndValue);continue}}}if(be(a,s||!1)){let e=t.typeAndValueCache.get(a);if(!e&&c.fileDepth<_){if(1===t.loadFileWithTransformSyncDelegate(a.uriId,2,p.DocumentFlagFactory.fromDefinition(a))){let t=n(a,c);t&&(e=t.symbolTypeAndValue)}}e&&t.referencedUriIdSet.push(d.setUnion(t.referencedUriIdSet.pop()||new Set,e.referencedUriIdSet));let r=i.Definition.typeAsTypeString(a);r&&(o=y.merge({type:r},o)),e&&e.typeAndValue&&(o=y.merge(o,e.typeAndValue))}else{const e=i.Definition.typeAsTypeString(a);e&&(o=y.merge(o,{type:e,value:i.Definition.parsedValue(a)}))}}return o||(o={type:r}),o.type||(o.type=r),o}e.transform=function(e,t){const r=new E(e,t);let s=e.node,o=e.clone().parent();if(1148===s.kind){const e=r.definition(s);if(e){let t=i.DefinitionId.fromDefinition(e);if(r.circularReferenceGuard.has(t))return{nodeReferenceMap:r.nodeReferenceMap,nodeDocBlockReferenceMap:r.nodePhpDocReferenceMap,typeAndValueCache:r.typeAndValueCache};e&&r.circularReferenceGuard.add(t)}}return n(s,o,r),{nodeReferenceMap:r.nodeReferenceMap,nodeDocBlockReferenceMap:r.nodePhpDocReferenceMap,typeAndValueCache:r.typeAndValueCache,referencedUriIdSet:r.referencedUriIdSet.pop()}},e.transformExpression=function(e,t,n){const r=new E(e,t);return U(e.node,r,n),{nodeReferenceMap:r.nodeReferenceMap,nodeDocBlockReferenceMap:r.nodePhpDocReferenceMap,typeAndValueCache:r.typeAndValueCache,referencedUriIdSet:r.referencedUriIdSet.pop()}},e.transformConstElement=function(e,t){const n=new E(e,t);return K(e.node,n),{nodeReferenceMap:n.nodeReferenceMap,nodeDocBlockReferenceMap:n.nodePhpDocReferenceMap,typeAndValueCache:n.typeAndValueCache,referencedUriIdSet:n.referencedUriIdSet.pop()}},e.transformParameterDeclaration=function(e,t){const n=new E(e,t);return me(e.node,n),{nodeReferenceMap:n.nodeReferenceMap,nodeDocBlockReferenceMap:n.nodePhpDocReferenceMap,typeAndValueCache:n.typeAndValueCache,referencedUriIdSet:n.referencedUriIdSet.pop()}}}(T=t.ReferenceTransformer||(t.ReferenceTransformer={})),function(e){function t(e,t,r){const s=n(t,r,e=>1108===e.kind);let o=i.DefinitionId.fromDefinition(t);if(!s||r.circularReferenceGuard.has(o))return;r.circularReferenceGuard.add(o);const a=T.transform(s,r);return{referenceTransformResult:a,symbolTypeAndValue:a.typeAndValueCache.get(e)}}function n(e,t,n){const r=t.documentStore.uri(e.uriId),i=t.parseTreeStore.find(r);if(!i||!i.nodeMaps.nodeDefinitionMap||!e.range)return;const s=i.getTraverser(),o=u.PackedRange.toLspRange(e.range).start,a=i.getNodeUtils().positionToOffset(o);return s.seek(a)&&s.ancestor(n)?s:void 0}e.inferConstantTypeAndValue=function(e,t){const r=n(e,t,e=>1043===e.kind);let s=i.DefinitionId.fromDefinition(e);if(!r||t.circularReferenceGuard.has(s))return;t.circularReferenceGuard.add(s);const o=T.transformConstElement(r,t);return{referenceTransformResult:o,symbolTypeAndValue:o.typeAndValueCache.get(e)}},e.inferFunctionTypeAndValue=function(e,t){const r=0!=(512&e.modifiers)?1004:1081,s=n(e,t,e=>e.kind===r);let o=i.DefinitionId.fromDefinition(e);if(!s||t.circularReferenceGuard.has(o))return;t.circularReferenceGuard.add(o);const a=T.transform(s,t);return{referenceTransformResult:a,symbolTypeAndValue:a.typeAndValueCache.get(e)}},e.inferMethodTypeAndValue=function(e,t){const r=n(e,t,e=>1108===e.kind);let s=i.DefinitionId.fromDefinition(e);if(!r||t.circularReferenceGuard.has(s))return;t.circularReferenceGuard.add(s);const o=T.transform(r,t);return{referenceTransformResult:o,symbolTypeAndValue:o.typeAndValueCache.get(e)}},e.inferClassConstantTypeAndValue=function(e,t){const r=n(e,t,e=>1026===e.kind);let s=i.DefinitionId.fromDefinition(e);if(!r||t.circularReferenceGuard.has(s))return;t.circularReferenceGuard.add(s);const o=T.transformConstElement(r,t);return{referenceTransformResult:o,symbolTypeAndValue:o.typeAndValueCache.get(e)}},e.inferVariableTypeAndValue=function(e,t){const r=n(e,t,e=>1151===e.kind);let s=i.DefinitionId.fromDefinition(e);if(!r||t.circularReferenceGuard.has(s))return;t.circularReferenceGuard.add(s);const o=T.transformExpression(r,t,!0);return{referenceTransformResult:o,symbolTypeAndValue:o.typeAndValueCache.get(e)}},e.inferPropertyTypeAndValue=function(e,n){const r=n.definitionStore.table(e.uriId),s=r?r.definitionScope(e):void 0;if(!s||!r)return;const o=[],a=i.Definition.fqsenHash("__construct",s.fqsenHash,2048);o.push(r.findByHashAndKind(a,2048));let c=i.Definition.fqsenHash(e.name.slice(1),s.fqsenHash,32);o.push(r.findByHashAndKind(c,32)),c=i.Definition.fqsenHash("get"+e.name.slice(1),s.fqsenHash,32),o.push(r.findByHashAndKind(c,32));let u,l,h=i.Definition.fqsenHash("set"+e.name.slice(1),s.fqsenHash,32);o.push(r.findByHashAndKind(h,32));for(let r=0;r<o.length;++r)if((u=o[r])&&(l=t(e,u,n))&&l.symbolTypeAndValue)return l},e.inferPropertyTypeAndValueFromAssignmentInMethod=t,e.inferOptionalParameterTypeAndValue=function(e,t){if(!(8388608&e.modifiers))return;const r=n(e,t,e=>1124===e.kind);let s=i.DefinitionId.fromDefinition(e);if(!r||t.circularReferenceGuard.has(s))return;t.circularReferenceGuard.add(s);const o=T.transformParameterDeclaration(r,t);return{referenceTransformResult:o,symbolTypeAndValue:o.typeAndValueCache.get(e)}},e.inferScriptTypeAndValue=function(e,t){const r=n(e,t,e=>1148===e.kind);let s=i.DefinitionId.fromDefinition(e);if(!r||t.circularReferenceGuard.has(s))return;t.circularReferenceGuard.add(s);const o=T.transform(r,t);return{referenceTransformResult:o,symbolTypeAndValue:o.typeAndValueCache.get(e)}}}(b=t.TypeAndValueInferrence||(t.TypeAndValueInferrence={}));class S{constructor(){this.variableSetStack=[v.create(1)]}setTypeGuard(e){this.variableSetStack[this.variableSetStack.length-1].typeGuard=e,this.setVariables(e)}setReturns(e){this.variableSetStack[this.variableSetStack.length-1].returns=e}setVariable(e){e&&e.name&&e.typeAndValue&&e.typeAndValue.type&&(!h.PHP.isPredefinedVariable(e.name)||"$this"===e.name)&&(e.notType?this.narrowVariable(m.not(e)):this.variableSetStack[this.variableSetStack.length-1].variables.set(e.name,e))}narrowVariable(e){if(e.notType)this.setVariable(m.not(e));else{const t=this.getVariable(e.name);t&&this.setVariable({name:t.name,typeAndValue:{type:c.TypeString.difference(t.typeAndValue.type,e.typeAndValue.type)||c.TypeString.MIXED_TYPE_STRING}})}}widenVariable(e){if(e.notType)this.narrowVariable(m.not(e));else{const t=this.getVariable(e.name);t&&this.setVariable({name:t.name,typeAndValue:{type:c.TypeString.union(t.typeAndValue.type,e.typeAndValue.type)||c.TypeString.MIXED_TYPE_STRING}})}}setVariables(e){if(e)for(let t=0;t<e.length;++t)this.setVariable(e[t])}narrowVariables(e){if(e)for(let t=0;t<e.length;++t)this.narrowVariable(e[t])}widenVariables(e){if(e)for(let t=0;t<e.length;++t)this.widenVariable(e[t])}pushScope(e){let t=v.create(1);if(e){let n,r;for(let i=0;i<e.length;++i)r=e[i],(n=this.getVariable(r))&&r&&t.variables.set(r,n)}this.variableSetStack.push(t)}popScope(){this.variableSetStack.pop()}pushBranch(){let e,t=v.create(2),n=this.variableSetStack[this.variableSetStack.length-1];n.branches.push(t),this.variableSetStack.push(t);for(let t=0,r=n.branches.length-1;t<r;++t)(e=n.branches[t]).typeGuard&&this.narrowVariables(e.typeGuard)}popBranch(){this.variableSetStack.pop()}pruneBranches(){let e=this.variableSetStack[this.variableSetStack.length-1],t=e.branches;e.branches=[];let n,r=e.variables;for(let e=0,r=t.length;e<r;++e)(n=t[e]).returns&&n.typeGuard?this.narrowVariables(n.typeGuard):n.returns||this.widenVariables(Array.from(n.variables.values()));e.variables=r}getVariable(e){return h.PHP.isPredefinedVariable(e)&&"$this"!==e?{name:e,typeAndValue:{type:c.TypeString.fromString(h.PHP.getPredefinedVariableType(e)),uriIdSet:new Set}}:this._getVariable(this.variableSetStack,e)}carry(e){if(!e)return;let t=-1;for(let e=this.variableSetStack.length-1;e>=0;--e)if(1===this.variableSetStack[e].kind){t=e;break}if(t<0)return;const n=this._getVariable(this.variableSetStack.slice(0,t),e);n&&this.setVariable(n)}_getVariable(e,t){let n,r;for(let i=e.length-1;i>=0;--i){if(r=(n=e[i]).variables.get(t))return r;if(1===n.kind)break}}}!function(e){e.create=function(e){return{kind:e,variables:new Map,branches:[]}}}(v||(v={}))},function(e,t,n){"use strict";function r(e){var t=this;if(t instanceof r||(t=new r),t.tail=null,t.head=null,t.length=0,e&&"function"==typeof e.forEach)e.forEach(function(e){t.push(e)});else if(arguments.length>0)for(var n=0,i=arguments.length;n<i;n++)t.push(arguments[n]);return t}function i(e,t){e.tail=new o(t,e.tail,null,e),e.head||(e.head=e.tail),e.length++}function s(e,t){e.head=new o(t,null,e.head,e),e.tail||(e.tail=e.head),e.length++}function o(e,t,n,r){if(!(this instanceof o))return new o(e,t,n,r);this.list=r,this.value=e,t?(t.next=this,this.prev=t):this.prev=null,n?(n.prev=this,this.next=n):this.next=null}e.exports=r,r.Node=o,r.create=r,r.prototype.removeNode=function(e){if(e.list!==this)throw new Error("removing node which does not belong to this list");var t=e.next,n=e.prev;t&&(t.prev=n),n&&(n.next=t),e===this.head&&(this.head=t),e===this.tail&&(this.tail=n),e.list.length--,e.next=null,e.prev=null,e.list=null},r.prototype.unshiftNode=function(e){if(e!==this.head){e.list&&e.list.removeNode(e);var t=this.head;e.list=this,e.next=t,t&&(t.prev=e),this.head=e,this.tail||(this.tail=e),this.length++}},r.prototype.pushNode=function(e){if(e!==this.tail){e.list&&e.list.removeNode(e);var t=this.tail;e.list=this,e.prev=t,t&&(t.next=e),this.tail=e,this.head||(this.head=e),this.length++}},r.prototype.push=function(){for(var e=0,t=arguments.length;e<t;e++)i(this,arguments[e]);return this.length},r.prototype.unshift=function(){for(var e=0,t=arguments.length;e<t;e++)s(this,arguments[e]);return this.length},r.prototype.pop=function(){if(this.tail){var e=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,e}},r.prototype.shift=function(){if(this.head){var e=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,e}},r.prototype.forEach=function(e,t){t=t||this;for(var n=this.head,r=0;null!==n;r++)e.call(t,n.value,r,this),n=n.next},r.prototype.forEachReverse=function(e,t){t=t||this;for(var n=this.tail,r=this.length-1;null!==n;r--)e.call(t,n.value,r,this),n=n.prev},r.prototype.get=function(e){for(var t=0,n=this.head;null!==n&&t<e;t++)n=n.next;if(t===e&&null!==n)return n.value},r.prototype.getReverse=function(e){for(var t=0,n=this.tail;null!==n&&t<e;t++)n=n.prev;if(t===e&&null!==n)return n.value},r.prototype.map=function(e,t){t=t||this;for(var n=new r,i=this.head;null!==i;)n.push(e.call(t,i.value,this)),i=i.next;return n},r.prototype.mapReverse=function(e,t){t=t||this;for(var n=new r,i=this.tail;null!==i;)n.push(e.call(t,i.value,this)),i=i.prev;return n},r.prototype.reduce=function(e,t){var n,r=this.head;if(arguments.length>1)n=t;else{if(!this.head)throw new TypeError("Reduce of empty list with no initial value");r=this.head.next,n=this.head.value}for(var i=0;null!==r;i++)n=e(n,r.value,i),r=r.next;return n},r.prototype.reduceReverse=function(e,t){var n,r=this.tail;if(arguments.length>1)n=t;else{if(!this.tail)throw new TypeError("Reduce of empty list with no initial value");r=this.tail.prev,n=this.tail.value}for(var i=this.length-1;null!==r;i--)n=e(n,r.value,i),r=r.prev;return n},r.prototype.toArray=function(){for(var e=new Array(this.length),t=0,n=this.head;null!==n;t++)e[t]=n.value,n=n.next;return e},r.prototype.toArrayReverse=function(){for(var e=new Array(this.length),t=0,n=this.tail;null!==n;t++)e[t]=n.value,n=n.prev;return e},r.prototype.slice=function(e,t){(t=t||this.length)<0&&(t+=this.length),(e=e||0)<0&&(e+=this.length);var n=new r;if(t<e||t<0)return n;e<0&&(e=0),t>this.length&&(t=this.length);for(var i=0,s=this.head;null!==s&&i<e;i++)s=s.next;for(;null!==s&&i<t;i++,s=s.next)n.push(s.value);return n},r.prototype.sliceReverse=function(e,t){(t=t||this.length)<0&&(t+=this.length),(e=e||0)<0&&(e+=this.length);var n=new r;if(t<e||t<0)return n;e<0&&(e=0),t>this.length&&(t=this.length);for(var i=this.length,s=this.tail;null!==s&&i>t;i--)s=s.prev;for(;null!==s&&i>e;i--,s=s.prev)n.push(s.value);return n},r.prototype.reverse=function(){for(var e=this.head,t=this.tail,n=e;null!==n;n=n.prev){var r=n.prev;n.prev=n.next,n.next=r}return this.head=t,this.tail=e,this};try{n(341)(r)}catch(e){}},function(e,t,n){"use strict";e.exports=function(e){e.prototype[Symbol.iterator]=function*(){for(let e=this.head;e;e=e.next)yield e.value}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(1),i=n(7),s=n(20),o=n(15),a=n(18),c=n(4),u=n(10),l=n(49),h=n(40);var d;!function(e){function t(e,t,n,r){return{range:e,message:t,severity:n,code:r,source:"intelephense"}}e.incorrectArgumentCount=function(e,n,r){return t(r,`Expected ${e} arguments. Found ${n}.`,i.DiagnosticSeverity.Error,10005)},e.nonStaticMethodCalledStatically=function(e,n){return t(n,`Non-static method '${e}' called statically.`,i.DiagnosticSeverity.Warning,10011)},e.duplicateIdentifier=function(e,n){return t(n,`Duplicate symbol declaration '${e}'.`,i.DiagnosticSeverity.Error,10002)},e.unusedSymbol=function(e,n){return t(n,`Symbol '${e}' is declared but not used.`,i.DiagnosticSeverity.Hint,10010)},e.undefinedVariable=function(e,n){return t(n,`Undefined variable '${e}'.`,i.DiagnosticSeverity.Warning,10001)},e.incorrectType=function(e,n,r){return t(r,`Expected type '${c.TypeString.toString(e)}'. Found '${c.TypeString.toString(n||c.TypeString.NULL_TYPE_STRING)}'.`,i.DiagnosticSeverity.Error,10006)},e.create=t,e.toDiagnostic=function(e,t){return i.Diagnostic.create(t,e.message,e.level,e.code,"intelephense")}}(d=t.DiagnosticFactory||(t.DiagnosticFactory={}));t.MasterDiagnosticsVisitor=class{constructor(e,t,n,r,i){this.nodeUtils=e,this.nodeMaps=t,this.definitionStore=n,this.typeAndValueCache=r,this.limitedDiagnostics=i,this.errorFlag=!1,this.offsetVisitor=new o.OffsetVisitor,this._diagnostics=[],this.visitors=[],this.typeFactory=new a.TypeFactory(this.definitionStore),this.nodeMaps.nodeDefinitionMap&&this.visitors.push(new f(this.nodeMaps.nodeDefinitionMap,this.nodeUtils)),this.nodeMaps.nodeDocBlockMap&&this.nodeMaps.nodeDefinitionMap&&this.nodeMaps.nodeReferenceMap&&(this.visitors.push(new p(this.nodeMaps.nodeDefinitionMap,this.nodeMaps.nodeReferenceMap,this.nodeUtils,this.definitionStore,this.nodeMaps.nodeDocBlockMap)),this.limitedDiagnostics||this.visitors.push(new _(this.nodeMaps.nodeReferenceMap,this.nodeUtils,this.nodeMaps.nodeDocBlockMap),new m(this.nodeMaps.nodeDefinitionMap,this.nodeMaps.nodeReferenceMap,this.nodeUtils,this.definitionStore),new g(this.nodeMaps.nodeDefinitionMap,this.nodeMaps.nodeReferenceMap,this.nodeUtils,this.typeFactory,this.definitionStore,this.typeAndValueCache)))}get diagnostics(){const e=[];Array.prototype.push.apply(e,this._diagnostics);for(let t of this.visitors)Array.prototype.push.apply(e,t.diagnostics);return e}beforeTraverse(e,t){this.offsetVisitor.beforeTraverse(e,t)}preorder(e,t){this.offsetVisitor.preorder(e,t);const n=this.nodeMaps.nodeProblemMap?this.nodeMaps.nodeProblemMap.get(e):void 0;switch(e.kind){case 1061:if(!this.errorFlag&&n){this.errorFlag=!0;const t=n.unexpected,r=t.length;let s=this.offsetVisitor.offset;if(e.children.length<1){const e=o.NodeUtils.previousNonTriviaToken(t);this.nodeUtils.markOffset(e,s-e.length),s=this.nodeUtils.nodeOffset(t)}this._diagnostics.push(d.toDiagnostic(n,i.Range.create(this.nodeUtils.offsetToPosition(s),this.nodeUtils.offsetToPosition(s+r))))}return!1;default:for(let n,r=0,i=this.visitors.length;r<i;++r)(n=this.visitors[r]).preorder&&n.preorder(e,t);s.isToken(e)&&(this.errorFlag=!1)}return!0}postorder(e,t){this.offsetVisitor.postorder(e,t);for(let n,r=0,i=this.visitors.length;r<i;++r)(n=this.visitors[r]).postorder&&n.postorder(e,t)}};class p{constructor(e,t,n,r,i){this.nodeDefinitionMap=e,this.nodeReferenceMap=t,this.nodeUtils=n,this.definitionStore=r,this.nodeDocBlockMap=i,this.usesTrait=!1,this.definitionStack=[],this.nameResolver=new l.NameResolver,this.useDeclarationMap=new Map,this.privateMemberMap=new Map,this.varMap=new Map,this.privateMemberFoundSet=new Set,this.isOverrideOrImplementationCache=new Map}get diagnostics(){const e=[];let t,n,r;const i=e=>1119===e.kind;for(let s of this.useDeclarationMap.values())(t=this.nodeDefinitionMap.get(s[s.length-1]))&&((r=new o.ParseTreeTraverser(s,this.nodeUtils.clone(),{})).parent()&&1===r.node.children.length?(r.ancestor(i),n=r.range):n=this.nodeUtils.nodeRangeFromSpine(s),e.push(d.unusedSymbol(t.name,n)));const s=e=>1132===e.kind||1025===e.kind;if(!this.usesTrait)for(let i of this.privateMemberMap.values())(t=this.nodeDefinitionMap.get(i[i.length-1]))&&!this.privateMemberFoundSet.has(t.fqsenHash)&&(r=new o.ParseTreeTraverser(i,this.nodeUtils.clone(),{}),32===t.kind?(r.nthChild(0),n=r.range):r.parent()&&1===r.node.children.length?(r.ancestor(s),n=r.range):n=this.nodeUtils.nodeRangeFromSpine(i),e.push(d.unusedSymbol(t.name,n)));for(let{spine:n}of this.varMap.values())(t=this.nodeDefinitionMap.get(n[n.length-1]))&&e.push(d.unusedSymbol(t.name,this.nodeUtils.nodeRangeFromSpine(n)));return e}preorder(e,t){let n,i;switch(e.kind){case 1166:this.usesTrait=!0;break;case 1120:case 1117:if(n=this.nodeDefinitionMap.get(e)){const r=l.UseRule.fromDefinition(n);this.nameResolver.rules.push(r),this.useDeclarationMap.set(r.name.toLowerCase(),[...t,e])}break;case 1026:case 1133:case 1108:if(n=this.nodeDefinitionMap.get(e)){1108===e.kind&&this.definitionStack.push(n);const r=this.getType();r&&1===r.kind&&(4&n.modifiers)>0&&(0==(2080&n.kind)||!u.PHP.isReservedMethodName(n.name))&&this.privateMemberMap.set(n.fqsenHash,[...t,e])}break;case 1124:if(n=this.nodeDefinitionMap.get(e)){const r=this.getType(),i=this.getScope();r&&2===r.kind||!i||16&i.modifiers||64!==i.kind&&(!r||this.isOverrideOrImplementation(r,i))||this.varMap.set(n.fqsenHash,{spine:[...t,e],isReference:(1024&n.modifiers)>0})}break;case 83:(n=this.nodeDefinitionMap.get(e))&&this.varMap.set(n.fqsenHash,{spine:[...t,e]});break;case 1007:if(n=this.nodeDefinitionMap.get(e)){this.varMap.set(n.fqsenHash,{spine:[...t,e],isReference:(1024&n.modifiers)>0});const i=this.getScopeFqsenHash(1),s=r.Definition.fqsenHash(n.name,i,n.kind);this.varMap.delete(s)}break;case 1152:if(i=this.nodeReferenceMap.get(e),(n=this.nodeDefinitionMap.get(e))&&n.scope&&!(4194304&n.modifiers)&&i&&0!=(2097152&i.modifiers)&&this.varMap.set(n.fqsenHash,{spine:[...t,e],isReference:(1024&n.modifiers)>0}),i&&!n){const e=this.getScopeFqsenHash(),t=r.Definition.fqsenHash(i.name,e,i.kind),n=this.varMap.get(t);n&&n.isReference||!(1048576&i.modifiers)||(33554432&i.modifiers)>0?this.varMap.delete(t):n&&(1024&i.modifiers)>0&&(n.isReference=!0)}break;case 1148:case 1028:case 1161:case 1098:case 1002:case 1004:case 1081:(n=this.nodeDefinitionMap.get(e))&&this.definitionStack.push(n);break;case 1080:if(this.isCompactCall(e)){const e=this.getScope();if(e)for(let t of this.definitionStore.getDefinitionChildren(e))256!==t.kind&&128!==t.kind||this.varMap.delete(t.fqsenHash)}break;case 1116:if((i=this.nodeReferenceMap.get(e))&&i.unresolvedName){const e=t[t.length-1],n=this.nameResolver.match(i.unresolvedName,i.kind);n&&1117!==e.kind&&1120!==e.kind&&this.useDeclarationMap.delete(n.name.toLowerCase())}break;case 1106:case 1146:{i=this.nodeReferenceMap.get(e);const t=this.getType();i&&t&&c.TypeString.isEqualOrOverlaps(i.scope,c.TypeString.fromString(t.name))&&this.privateMemberFoundSet.add(r.Definition.fqsenHash(i.name,t.fqsenHash,i.kind))}break;case 159:{let t=this.nodeDocBlockMap.get(e);if(t){let e=[];for(let n of t.tags){e=[],n.isStandard?(Array.prototype.push.apply(e,c.TypeString.objectNamesDeep(c.TypeString.fromString(n.typeName.text))),1024===n.kind&&n.parameters.forEach(t=>{e.push(t.typeName.text)})):e.push(n.tagName.text.slice(1));for(let t of e)if(t&&"\\"!==t[0]&&"namespace"!==t.slice(0,9).toLowerCase()){const e=this.nameResolver.match(t,1);e&&this.useDeclarationMap.delete(e.name.toLowerCase())}}}}}return!0}postorder(e,t){let n;switch(e.kind){case 1148:case 1028:case 1161:case 1098:case 1002:case 1004:case 1108:case 1081:(n=this.nodeDefinitionMap.get(e))&&this.definitionStack.pop()}}isOverrideOrImplementation(e,t){if(this.isOverrideOrImplementationCache.has(t.fqsenHash))return this.isOverrideOrImplementationCache.get(t.fqsenHash);if(!e.associated||!e.associated.length)return this.isOverrideOrImplementationCache.set(t.fqsenHash,!1),!1;const n=a.MethodDefinition.fromDefinition(t,this.definitionStore),r=void 0!==n&&(void 0!==n.baseMethod||void 0!==n.interfaceMethod);return this.isOverrideOrImplementationCache.set(t.fqsenHash,r),r}isCompactCall(e){if(1080!==e.kind)return!1;if(e=e.children[0],!o.NodeUtils.isNamePhrase(e))return!1;e=e.children[e.children.length-1];const t=this.nodeReferenceMap.get(e);return t&&(t.unresolvedName&&"compact"===t.unresolvedName.toLowerCase()||t.name&&"compact"===t.name.toLowerCase())}getScopeFqsenHash(e){const t=this.getScope(e);return t?t.fqsenHash:0}getScope(e){e||(e=0);const t=this.definitionStack.length>e?this.definitionStack[this.definitionStack.length-(e+1)]:void 0;if(t)switch(t.kind){case 1:case 2:case 4:case 64:case 32:case 2048:return t;default:return}}getType(){let e,t=this.definitionStack.length;for(;--t>-1&&!e;)(7&this.definitionStack[t].kind)>0&&(e=this.definitionStack[t]);return e}}class f{constructor(e,t){this.nodeDefinitionMap=e,this.nodeUtils=t,this.isConditional=0,this.map=new Map}get diagnostics(){const e=[];for(let t of this.map.values())t.length>1&&Array.prototype.push.apply(e,this.toDiagnostics(t));return e}preorder(e,t){switch(e.kind){case 1091:case 1054:case 1053:case 1017:case 1049:++this.isConditional;break;case 1028:case 1098:case 1161:case 1081:case 1080:if(this.isConditional>0)break;case 1043:case 1026:case 1133:case 1108:case 1124:case 1120:case 1117:{const n=this.nodeDefinitionMap.get(e);n&&this.addToMap(r.DefinitionId.fromDefinition(n),[...t,e])}}return!0}postorder(e,t){switch(e.kind){case 1091:case 1054:case 1053:case 1017:case 1049:--this.isConditional}}addToMap(e,t){let n=this.map.get(e);n?n.push(t):this.map.set(e,[t])}toDiagnostics(e){const t=[];let n=e[0],i=this.nodeDefinitionMap.get(n[n.length-1]);if(!i&&n.length>2&&(i=this.nodeDefinitionMap.get(n[n.length-3])),!i)return t;const s=r.Definition.shortName(i.name);let o;for(n of e)(o=this.getRange(n))&&t.push(d.duplicateIdentifier(s,o));return t}getRange(e){const t=new o.ParseTreeTraverser(e,this.nodeUtils,{});switch(t.node.kind){case 1028:case 1098:case 1161:case 1081:return t.nthChild(0),t.child(e=>82===e.kind),t.range;case 1108:return t.nthChild(0),t.child(e=>1090===e.kind),t.range;case 1133:case 1043:case 1026:return t.nthChild(0),t.range;case 1124:return t.child(e=>83===e.kind),t.range;case 1080:return t.nthChild(2),t.nthChild(0),t.range;case 1117:case 1120:return t.lastChild(),1114===t.node.kind&&t.lastChild(),t.range;default:return t.range}}}class _{constructor(e,t,n){this.nodeReferenceMap=e,this.nodeUtils=t,this.nodeDocBlockMap=n,this.scopeStack=[{declarationSet:new Set,assignmentStack:[]}],this._diagnostics=[]}get diagnostics(){return this._diagnostics}preorder(e,t){let n,r;switch(e.kind){case 1081:case 1108:case 1004:this.scopeStack.push({declarationSet:new Set,assignmentStack:[]});break;case 83:if(t.length&&1007===t[t.length-1].kind){const i=this.scopeStack.length>1?this.scopeStack[this.scopeStack.length-2].declarationSet:void 0;n=this.nodeReferenceMap.get(e),r=this.getDeclarationSet(),n&&i&&this.scopeStack.length>2&&!i.has(n.name)&&!i.has(_.DISABLE_CHECK)&&this._diagnostics.push(d.undefinedVariable(n.name,this.nodeUtils.nodeRangeFromSpine([...t,e])))}case 1124:n=this.nodeReferenceMap.get(e),r=this.getDeclarationSet(),n&&r&&r.add(n.name);break;case 1152:if(n=this.nodeReferenceMap.get(e),r=this.getDeclarationSet(),n&&0!=(2097152&n.modifiers))this.addDeclaration(n.name);else if(this.scopeStack.length>1&&n&&!u.PHP.isPredefinedVariable(n.name)&&r&&!r.has(n.name)&&!this.hasIntrinsicEmptyParentOrIntrinsicIssetUnsetGrandParent(t)&&!r.has(_.DISABLE_CHECK))this._diagnostics.push(d.undefinedVariable(n.name,this.nodeUtils.nodeRangeFromSpine([...t,e])));else if(83!==e.children[0].kind){const n=new o.ParseTreeTraverser([...t,e],this.nodeUtils.clone(),{});(n.ancestor(this.isAssignment)&&n.nthChild(0)===e||n.find(t=>t===e))&&this.addDeclaration(_.DISABLE_CHECK)}break;case 159:{const t=this.nodeDocBlockMap.get(e);if(r=this.getDeclarationSet(),t&&r)for(let e of t.tags)1008===e.kind&&e.elementName.text&&r.add(e.elementName.text)}break;case 1141:case 1142:case 1092:case 1093:(r=this.getDeclarationSet())&&r.add(_.DISABLE_CHECK);break;case 1080:(r=this.getDeclarationSet())&&this.isExtractCall(e)&&r.add(_.DISABLE_CHECK);break;case 1038:case 1016:case 1151:this.assignmentStackPush([])}return!0}postorder(e,t){switch(e.kind){case 1081:case 1108:case 1004:this.scopeStack.pop();break;case 1038:case 1016:case 1151:{const e=this.assignmentStackPop();if(!e)break;let t;const n=this.getDeclarationSet();for(let r=0,i=e.length;r<i;++r)t=e[r],n&&n.add(t)}}}isAssignment(e){switch(e.kind){case 1038:case 1016:case 1151:return!0;default:return!1}}addDeclaration(e){const t=this.getAssignmentList();if(t)t.push(e);else{const t=this.getDeclarationSet();t&&t.add(e)}}assignmentStackPush(e){this.scopeStack.length&&this.scopeStack[this.scopeStack.length-1].assignmentStack.push(e)}assignmentStackPop(){if(this.scopeStack.length)return this.scopeStack[this.scopeStack.length-1].assignmentStack.pop()}getAssignmentList(){let e=this.scopeStack.length?this.scopeStack[this.scopeStack.length-1].assignmentStack:void 0;return e?e[e.length-1]:void 0}isExtractCall(e){if(1080!==e.kind)return!1;if(e=e.children[0],!o.NodeUtils.isNamePhrase(e))return!1;e=e.children[e.children.length-1];const t=this.nodeReferenceMap.get(e);return t&&(t.unresolvedName&&"extract"===t.unresolvedName.toLowerCase()||t.name&&"extract"===t.name.toLowerCase())}hasIntrinsicEmptyParentOrIntrinsicIssetUnsetGrandParent(e){const t=e[e.length-1];if(t&&1056===t.kind)return!0;const n=e[e.length-2];return!(!n||1102!==n.kind&&1171!==n.kind)}getDeclarationSet(){return this.scopeStack.length?this.scopeStack[this.scopeStack.length-1].declarationSet:void 0}}_.DISABLE_CHECK="#DISABLE#";class m{constructor(e,t,n,r){this.nodeDefinitionMap=e,this.nodeReferenceMap=t,this.nodeUtils=n,this.definitionStore=r,this.isActive=!0,this._diagnostics=[],this.classNameStack=[]}get diagnostics(){return this._diagnostics}preorder(e,t){switch(e.kind){case 1115:{let t=this.nodeReferenceMap.get(e.children[1]);t&&h.Metadata.isMetadataNamespace(t.name)?this.isActive=!1:this.isActive=!0}break;case 1028:case 1161:case 1098:{const t=this.nodeDefinitionMap.get(e);this.classNameStack.push(t?t.name:"")}break;case 1145:this.checkMethodCall(e,t,e.children.find(this.isScopedMemberName));break;case 1107:this.checkMethodCall(e,t,e.children.find(this.isMemberName));break;case 1123:this.checkMethodCall(e,t,this.findObjectCreationExprNameNode(e));break;case 1080:this.checkFunctionCall(e,t)}return!0}postorder(e,t){switch(e.kind){case 1028:case 1161:case 1098:this.classNameStack.pop()}}isScopedMemberName(e){return 1146===e.kind}isMemberName(e){return 1106===e.kind}findObjectCreationExprNameNode(e){let t=e.children[1];if(1034===t.kind)return 1140===(t=t.children[0]).kind?t:o.NodeUtils.isNamePhrase(t)&&1116===(t=t.children[t.children.length-1]).kind?t:void 0}checkFunctionCall(e,t){if(!this.isActive)return;let n,r,i=e.children[0];if(o.NodeUtils.isNamePhrase(i)){if(i=i.children[i.children.length-1],!(n=this.nodeReferenceMap.get(i)))return;r=this.definitionStore.findByReference(n)}else{if(1152!==i.kind)return;if(!(n=this.nodeReferenceMap.get(i))||!c.TypeString.isEqualOrOverlaps(n.type,c.TypeString.CLOSURE_TYPE_STRING))return;r=this.definitionStore.find(c.TypeString.objectNames(n.type).pop()||"")}if(r.length<1)return;const s=n.argumentTypes;let a=e.children.find(e=>1008===e.kind);if(a&&a.children.find(e=>1174===e.kind))return;const u=[...t,e];a&&u.push(a),this.diagnoseArgumentCount(r,(s||[]).length,u)}checkMethodCall(e,t,n){if(!this.isActive)return;if(!n)return;let r=this.nodeReferenceMap.get(n);if(!r)return;r=Object.assign({},r,{scope:c.TypeString.resolveThisOrStatic(r.scope,this.thisTypeString())});const i=this.definitionStore.findByReference(r);if(i.length<1)return;const s=r.argumentTypes,o=e.children.find(e=>1008===e.kind);if(o&&o.children.find(e=>1174===e.kind))return;let a=[...t,e];o||1123!==e.kind?a.push(o||n):a.push(e.children[1]),this.diagnoseArgumentCount(i,(s||[]).length,a)}thisTypeString(){return this.classNameStack.length>0?c.TypeString.fromString(this.classNameStack[this.classNameStack.length]):void 0}diagnoseArgumentCount(e,t,n){let i,s,o,a=[];if(e.length){for(let n=0;n<e.length;++n){if((256&(i=e[n]).modifiers)>0)return;if(s=this.definitionStore.table(i.uriId)){if(t>=(o=s.definitionChildren(i).filter(r.Definition.isRequiredParameter).length))return;a.push(o)}}a.length&&this._diagnostics.push(d.incorrectArgumentCount(Math.min(...a),t,this.nodeUtils.nodeRangeFromSpine(n)))}}}class g{constructor(e,t,n,r,i,s){this.nodeDefinitionMap=e,this.nodeReferenceMap=t,this.nodeUtils=n,this.typeFactory=r,this.definitionStore=i,this.typeAndValueCache=s,this.isActive=!0,this._diagnostics=[],this.classNameStack=[]}get diagnostics(){return this._diagnostics}preorder(e,t){switch(e.kind){case 1115:{let t=this.nodeReferenceMap.get(e.children[1]);t&&h.Metadata.isMetadataNamespace(t.name)?this.isActive=!1:this.isActive=!0}break;case 1028:case 1161:case 1098:{const t=this.nodeDefinitionMap.get(e);this.classNameStack.push(t?t.name:"")}break;case 1145:this.checkMethodCall(e,t,e.children.find(this.isScopedMemberName));break;case 1107:this.checkMethodCall(e,t,e.children.find(this.isMemberName));break;case 1123:this.checkMethodCall(e,t,this.findObjectCreationExprNameNode(e));break;case 1080:this.checkFunctionCall(e,t);break;case 1108:case 1081:case 1004:this.checkReturnType(e,t)}return!0}postorder(e,t){switch(e.kind){case 1028:case 1161:case 1098:this.classNameStack.pop()}}checkReturnType(e,t){if(!this.isActive)return;const n=this.nodeDefinitionMap.get(e);let i=n?this.typeAndValueCache.get(n):void 0;if(!n||!n.type||!n.type.declared||!i||(16&n.modifiers)>0||r.Definition.isInterface(this.definitionStore.getDefinitionScope(n)))return;const s=c.TypeString.resolveThisOrStatic(i.typeAndValue.type,c.TypeString.fromString(this.classNameStack[this.classNameStack.length-1]))||c.TypeString.MIXED_TYPE_STRING;if(!this.typeCheck(n.type.declared,s)){const r=new o.ParseTreeTraverser([...t,e],this.nodeUtils.clone(),{});if(!r.find(e=>1144===e.kind)||!r.nthChild(1))return;const i=r.range;this._diagnostics.push(d.incorrectType(n.type.declared,s,i))}}isScopedMemberName(e){return 1146===e.kind}isMemberName(e){return 1106===e.kind}findObjectCreationExprNameNode(e){let t=e.children[1];if(1034===t.kind)return 1140===(t=t.children[0]).kind?t:o.NodeUtils.isNamePhrase(t)&&1116===(t=t.children[t.children.length-1]).kind?t:void 0}checkFunctionCall(e,t){if(!this.isActive)return;const n=e.children.find(e=>1008===e.kind);if(!n)return;let r,i,s=e.children[0];if(o.NodeUtils.isNamePhrase(s)){if(s=s.children[s.children.length-1],!(r=this.nodeReferenceMap.get(s)))return;i=this.definitionStore.findByReference(r)}else{if(1152!==s.kind)return;if(!(r=this.nodeReferenceMap.get(s))||!c.TypeString.isEqualOrOverlaps(r.type,c.TypeString.CLOSURE_TYPE_STRING))return;i=this.definitionStore.find(c.TypeString.objectNames(r.type).pop()||"")}if(i.length<1)return;const a=r.argumentTypes,u=[...t,e,n||s];this.diagnoseArgumentTypes(i,a||[],n.children.filter(e=>92!==e.kind),u)}checkMethodCall(e,t,n){if(!this.isActive)return;const r=e.children.find(e=>1008===e.kind);if(!n||!r)return;let i=this.nodeReferenceMap.get(n);if(!i)return;i=Object.assign({},i,{scope:c.TypeString.resolveThisOrStatic(i.scope,this.thisTypeString())});const s=this.definitionStore.findByReference(i);if(s.length<1)return;const o=i.argumentTypes,a=[...t,e,r||n];this.diagnoseArgumentTypes(s,o||[],r.children.filter(e=>92!==e.kind),a)}thisTypeString(){return this.classNameStack.length>0?c.TypeString.fromString(this.classNameStack[this.classNameStack.length]):void 0}diagnoseArgumentTypes(e,t,n,i){let s,o,u,l,h=Array(t.length).fill(!1),p=Array(t.length).fill(void 0);for(let n=0;n<e.length;++n){o=(s=e[n])instanceof a.MethodDefinition?s.parameters:this.definitionStore.getDefinitionChildren(s).filter(r.Definition.isParameter),o=r.Definition.normaliseParameters(o,t.length);for(let e=0,n=Math.min(o.length,t.length);e<n;++e)l=(u=o[e]).type&&u.type.declared?0!=(2048&u.modifiers)?c.TypeString.elementOf(u.type.declared):u.type.declared:void 0,0!=(1024&u.modifiers)?h[e]=!0:h[e]||!u.type||!u.type.declared||this.typeCheck(l||c.TypeString.MIXED_TYPE_STRING,t[e])?h[e]=!0:p[e]=c.TypeString.union(p[e],l)}for(let e,r=0,s=h.length;r<s;++r)e=p[r],!h[r]&&e&&this._diagnostics.push(d.incorrectType(e,t[r],this.nodeUtils.nodeRangeFromSpine([...i,n[r]])))}typeCheck(e,t){if(!e||!t)return!0;if(c.TypeString.isEqualOrOverlaps(t,c.TypeString.MIXED_TYPE_STRING)||c.TypeString.isEqualOrOverlaps(e,c.TypeString.MIXED_TYPE_STRING))return!0;const n=c.TypeString.isArray(t);if(c.TypeString.isEqualOrOverlaps(e,c.TypeString.ARRAY_TYPE_STRING)&&n||c.TypeString.isEqualOrOverlaps(t,c.TypeString.ARRAY_TYPE_STRING)&&c.TypeString.isArray(e))return!0;const r=c.TypeString.isEqualOrOverlaps(e,c.TypeString.ITERABLE_TYPE_STRING);if(r&&n)return!0;if(c.TypeString.isEqualOrOverlaps(e,t))return!0;if(c.TypeString.isEqualOrOverlaps(t,c.TypeString.INT_TYPE_STRING)&&c.TypeString.isEqualOrOverlaps(e,c.TypeString.FLOAT_TYPE_STRING))return!0;if(c.TypeString.isEqualOrOverlaps(t,c.TypeString.NULL_OR_VOID_TYPE_STRING)&&c.TypeString.isEqualOrOverlaps(e,c.TypeString.NULL_OR_VOID_TYPE_STRING))return!0;const i=c.TypeString.objectNames(t);if(c.TypeString.isEqualOrOverlaps(e,c.TypeString.CALLABLE_TYPE_STRING)){if(c.TypeString.isEqualOrOverlaps(t,c.TypeString.CLOSURE_TYPE_STRING)||n||c.TypeString.isEqualOrOverlaps(t,c.TypeString.STRING_TYPE_STRING))return!0;let e;for(let t=0;t<i.length;++t)if((e=this.typeFactory.fromName(i[t]))&&e.findMember("__invoke",32))return!0}let s=c.TypeString.objectNames(e).pop();const o=c.TypeString.isEqualOrOverlaps(t,c.TypeString.STATIC_TYPE_STRING);if(c.TypeString.isEqualOrOverlaps(e,c.TypeString.OBJECT_TYPE_STRING)&&(i.length||o)||c.TypeString.isEqualOrOverlaps(t,c.TypeString.OBJECT_TYPE_STRING)&&s)return!0;if(r&&(s="Traversable"),!s)return!1;if(o&&s)return!0;let a,u=this.typeFactory.fromName(s);for(let e=0,t=i.length;e<t;++e){if((a=this.typeFactory.fromName(i[e]))&&a.isAssociated(s))return!0;if(u&&u.isAssociated(i[e]))return!0}return!1}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(7),i=n(2),s=n(1);t.DEFAULT_DOCUMENT_SYMBOL_PROVIDER_OPTIONS={hierarchicalDocumentSymbolSupport:!0};t.DocumentSymbolProvider=class{constructor(e){this.parseTreeStore=e.parseTreeStore,this._options=Object.assign({},t.DEFAULT_DOCUMENT_SYMBOL_PROVIDER_OPTIONS)}set options(e){this._options=e?Object.assign({},this._options,e):Object.assign({},t.DEFAULT_DOCUMENT_SYMBOL_PROVIDER_OPTIONS)}provideDocumentSymbols(e){const t=this.parseTreeStore.find(e);if(!t||!t.nodeMaps.nodeDefinitionMap||!t.nodeMaps.nodeDocBlockDefinitionMap)return null;const n=t.traverse(new a(t.nodeMaps.nodeDefinitionMap,t.getNodeUtils(),t.nodeMaps.nodeDocBlockDefinitionMap)).documentSymbols;if(this._options.hierarchicalDocumentSymbolSupport)return n;{let s=t.getNodeUtils().nodeRange(t.root);if(!s)return null;const a=r.DocumentSymbol.create("",void 0,r.SymbolKind.File,s,s,n);return new i.TreeTraverser([a]).traverse(new o(e)).symbolInformationArray}}};class o{constructor(e){this.uri=e,this.symbolInformationArray=[]}preorder(e,t){const n=t.length>0?t[t.length-1]:void 0;if(!n)return!0;const i=r.SymbolInformation.create(e.name,e.kind,e.range,this.uri,4096!==n.kind&&this.hasContainer(e)?n.name:void 0);return i.deprecated=e.deprecated,this.symbolInformationArray.push(i),!0}hasContainer(e){switch(e.kind){case r.SymbolKind.Module:case r.SymbolKind.Namespace:case r.SymbolKind.Interface:case r.SymbolKind.Class:case r.SymbolKind.Constant:case r.SymbolKind.Function:case r.SymbolKind.File:return!1;default:return!0}}}class a{constructor(e,t,n){this.nodeDefinitionMap=e,this.nodeUtils=t,this.nodeMagicDefinitionMap=n,this.documentSymbols=[],this.stack=[]}preorder(e,t){const n=t.length>0?t[t.length-1]:void 0;switch(e.kind){case 1028:case 1098:case 1161:if(this.nodeDefinitionMap.has(e)&&this.addDocumentSymbol(this.createDocumentSymbol(e)),this.nodeMagicDefinitionMap.has(e)){const t=this.createMagicDocumentSymbols(e);for(let e=0;e<t.length;++e)this.addDocumentSymbol(t[e],!0)}break;case 1115:case 1117:case 1120:case 1081:case 1043:case 1080:case 1026:case 1108:case 1133:case 1124:case 1152:case 1002:case 1004:case 1007:case 1154:this.nodeDefinitionMap.has(e)&&this.addDocumentSymbol(this.createDocumentSymbol(e));break;case 82:!n||1030!==n.kind&&1163!==n.kind&&1100!==n.kind&&1083!==n.kind&&1043!==n.kind&&1114!==n.kind||this.setSelectionRange(this.nodeUtils.nodeRange(e));break;case 1090:!n||1026!==n.kind&&1110!==n.kind||this.setSelectionRange(this.nodeUtils.nodeRange(e));break;case 1116:!n||1115!==n.kind&&1117!==n.kind&&1120!==n.kind||this.setSelectionRange(this.nodeUtils.nodeRange(e));break;case 83:this.nodeDefinitionMap.has(e)?this.addDocumentSymbol(this.createDocumentSymbol(e)):!n||1133!==n.kind&&1124!==n.kind&&1154!==n.kind||this.setSelectionRange(this.nodeUtils.nodeRange(e))}return!0}postorder(e,t){switch(e.kind){case 1115:case 1117:case 1120:case 1028:case 1098:case 1161:case 1081:case 1043:case 1080:case 1026:case 1108:case 1133:case 1124:case 1152:case 1007:case 83:case 1002:case 1004:case 1154:this.nodeDefinitionMap.has(e)&&this.stack.pop()}}setSelectionRange(e){if(this.stack.length<1||!e)return;this.stack[this.stack.length-1].selectionRange=e}createMagicDocumentSymbols(e){const t=this.nodeMagicDefinitionMap.get(e)||[],n=new Map;let o,a,c,u,l=[];for(let e=0;e<t.length;++e)128!==(o=t[e]).kind?o.range&&(c=i.PackedRange.toLspRange(o.range),a=r.DocumentSymbol.create(s.PhpSymbol.shortName(o),void 0,s.PhpSymbol.toLspSymbolKind(o),c,c),n.set(s.DefinitionId.fromDefinition(o),a)):l.push(o);for(let e=0;e<l.length;++e)(o=l[e]).range&&o.scope&&(c=i.PackedRange.toLspRange(o.range),a=r.DocumentSymbol.create(s.PhpSymbol.shortName(o),void 0,s.PhpSymbol.toLspSymbolKind(o),c,c),(u=n.get(o.scope))&&(u.children||(u.children=[]),u.children.push(a)));return Array.from(n.values())}createDocumentSymbol(e){const t=this.nodeDefinitionMap.get(e),n=this.nodeUtils.leadingDocumentComment(e);let i;n&&(i=n.range);const o=this.nodeUtils.nodeRange(e);if(!o||!t)return;i&&(o.start=i.start);const a=r.DocumentSymbol.create(s.PhpSymbol.shortName(t),void 0,s.PhpSymbol.toLspSymbolKind(t),o,o);return(262144&t.modifiers)>0&&(a.deprecated=!0),a}addDocumentSymbol(e,t){const n=this.stack.length>0?this.stack[this.stack.length-1]:void 0;n?(n.children||(n.children=[]),n.children.push(e)):this.documentSymbols.push(e),t||this.stack.push(e)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(1),i=n(7),s=n(2),o=100;t.WorkspaceSymbolProvider=class{constructor(e){this.stores=e,this.workspaceSymbolFilter=e=>!(70144&e.modifiers||128===e.kind||256===e.kind&&e.scope),this.definitionStore=e.definitionStore,this._options={}}set options(e){this._options=e?Object.assign({},this._options,e):{}}provideWorkspaceSymbols(e){if(!e)return null;let t=o;const n=this.definitionStore.match(e,this.workspaceSymbolFilter),a=[];for(let e of n)if(e.range&&a.push(i.SymbolInformation.create(r.PhpSymbol.shortName(e),r.PhpSymbol.toLspSymbolKind(e),s.PackedRange.toLspRange(e.range),this.stores.documentStore.uri(e.uriId),this.containerName(e))),--t<1)break;return a}containerName(e){const t=this.definitionStore.getDefinitionScope(e);return t?t.name:r.PhpSymbol.isNamespacedSymbolKind(e)&&r.PhpSymbol.namespace(e)||void 0}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(2),i=n(147);class s{constructor(){this._diagnosticsChangedEvent=new r.Event,this.lruCache=new i({max:s.MAX_DOCUMENTS,noDisposeOnSet:!0,dispose:(e,t)=>{this._diagnosticsChangedEvent.trigger({uri:e,diagnostics:[]})}})}get diagnosticsChangedEvent(){return this._diagnosticsChangedEvent}find(e){return this.lruCache.get(e)}add(e){this.lruCache.peek(e.uri)?e.diagnostics.length>0?(this.lruCache.set(e.uri,e),this._diagnosticsChangedEvent.trigger(e)):this.lruCache.del(e.uri):e.diagnostics.length>0?(this.lruCache.set(e.uri,e),this._diagnosticsChangedEvent.trigger(e)):this._diagnosticsChangedEvent.trigger(e)}remove(e){let t=this.lruCache.peek(e);return this.lruCache.del(e),t}clear(){this.lruCache.reset()}}s.MAX_DOCUMENTS=50,t.DiagnosticStore=s},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,s){function o(e){try{c(r.next(e))}catch(e){s(e)}}function a(e){try{c(r.throw(e))}catch(e){s(e)}}function c(e){e.done?i(e.value):new n(function(t){t(e.value)}).then(o,a)}c((r=r.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0});const i=n(148),s=n(39),o=n(66),a=n(1),c=n(40),u=n(361);i.util.Long=void 0,i.configure(),function(e){const t="intelephense_data_2",n="intelephense_data_3",l="intelephense_data_4",h="intelephense_data_5",d="intelephense_data_6",p="intelephense_data_1",f="intelephense_data_7";function _(e){const t=new Map;for(let n of e)t.set(a.DefinitionId.fromDefinition(n),n);return t}function m(e){return Array.from(e.values())}function g(e){const t=new Map;let n;for(let r=0,i=e.length;r<i;++r)n=e[r],t.set(n.id,n);return t}e.writeStateToCache=function(e,i,s){return r(this,void 0,void 0,function*(){yield i.put(p,JSON.stringify({timestamp:s,counter:e.documentStore.getCounter()})),yield function(e,n){return new Promise((r,i)=>{const s=n.putStream(t);s.on("finish",r),s.on("error",i);for(let t of e)s.write(u.RedBlackDocumentIdentifier.encodeDelimited(t,void 0).finish());s.end()})}(e.documentStore.getRedBlackIndexedDocumentIdentifiers(),i),yield function(e,t){return new Promise((n,r)=>{const i=t.putStream(l);i.on("finish",n),i.on("error",r);for(let t of e)i.write(u.RedBlackDefinitionIndexNode.encodeDelimited({isBlack:t.isBlack,value:t.value?{key:t.value.key,items:m(t.value.items)}:void 0}).finish());i.end()})}(e.definitionStore.definitionIndex.serialise(),i),yield function(e,t){return new Promise((r,i)=>{const s=t.putStream(n);s.on("finish",r),s.on("error",i);for(let t of e.values())s.write(u.DefinitionTable.encodeDelimited({id:t.id,items:Array.from(t.definitions)}).finish());s.end()})}(e.definitionStore.definitionTableMap,i),yield function(e,t){return new Promise((n,r)=>{const i=t.putStream(h);i.on("finish",n),i.on("error",r);for(let t of e.entries())i.write(u.ReferenceStoreMapPair.encodeDelimited({key:t[0],value:t[1]}).finish());i.end()})}(e.referenceStore.uriIdToHashedReferenceNamesMap,i),yield function(e,t){return new Promise((n,r)=>{const i=t.putStream(d);i.on("finish",n),i.on("error",r);for(let t of e.entries())i.write(u.ReferenceStoreMapPair.encodeDelimited({key:t[0],value:Array.from(t[1])}).finish());i.end()})}(e.referenceStore.hashedReferenceNameToUriIdMap,i),yield function(e,t){return new Promise((n,r)=>{const i=t.putStream(f);i.on("finish",n),i.on("error",r);for(let t of e.metadataEntries)i.write(u.Metadata.encodeDelimited({uriId:t.uriId,overrides:Array.from(t.getOverrides())}).finish());i.end()})}(e.metadataStore,i)})},e.readStateFromCache=function(e,a){return r(this,void 0,void 0,function*(){try{const m=yield a.get(p);if(!m)return;const y=JSON.parse(m.toString()),T=yield function(e){return r(this,void 0,void 0,function*(){const n=yield e.get(t),r=i.Reader.create(n);if(r.len)return function*(){let e;for(;r.pos<r.len;)e=u.RedBlackDocumentIdentifier.decodeDelimited(r),yield u.RedBlackDocumentIdentifier.toObject(e)}()})}(a),b=yield function(e){return r(this,void 0,void 0,function*(){const t=yield e.get(n),r=i.Reader.create(t);if(!r.len)return;let s,a;const c=new Map;for(;r.pos<r.len;)s=u.DefinitionTable.decodeDelimited(r),a=u.DefinitionTable.toObject(s),c.set(a.id,new o.DefinitionTable(a.id,_(a.items)));return c})}(a),v=yield function(e){return r(this,void 0,void 0,function*(){const t=yield e.get(l),n=i.Reader.create(t);return function*(e){if(!e.len)return;let t,n;for(;e.pos<e.len;)t=u.RedBlackDefinitionIndexNode.decodeDelimited(e),n=u.RedBlackDefinitionIndexNode.toObject(t),yield{isBlack:n.isBlack,value:n.value?{key:n.value.key,items:g(n.value.items)}:void 0}}(n)})}(a),E=yield function(e){return r(this,void 0,void 0,function*(){const t=yield e.get(h),n=i.Reader.create(t);if(!n.len)return;let r,s;const o=new Map;for(;n.pos<n.len;)r=u.ReferenceStoreMapPair.decodeDelimited(n),s=u.ReferenceStoreMapPair.toObject(r),o.set(s.key,s.value);return o})}(a),S=yield function(e){return r(this,void 0,void 0,function*(){const t=yield e.get(d),n=i.Reader.create(t);if(!n.len)return;let r,s;const o=new Map;for(;n.pos<n.len;)r=u.ReferenceStoreMapPair.decodeDelimited(n),s=u.ReferenceStoreMapPair.toObject(r),o.set(s.key,new Set(s.value));return o})}(a),k=(yield function(e){return r(this,void 0,void 0,function*(){const t=yield e.get(f),n=i.Reader.create(t);if(!n.len)return;let r,s;const o=[];for(;n.pos<n.len;)r=u.Metadata.decodeDelimited(n),s=u.Metadata.toObject(r),o.push(new c.Metadata(s.uriId,new Map(s.overrides.map(e=>[e.uriId,e]))));return o})}(a))||[];return y&&T&&b&&v&&E&&S?(e.documentStore.restore(y.counter,T),e.definitionStore.definitionTableMap=b,e.definitionStore.definitionIndex.deserialise(v),e.referenceStore.uriIdToHashedReferenceNamesMap=E,e.referenceStore.hashedReferenceNameToUriIdMap=S,k.forEach(t=>{e.metadataStore.addMetadata(t)}),y.timestamp):(yield a.empty(),0)}catch(e){return yield a.empty(),e&&"ENOENT"!==e.code&&s.Log.error(e.toString()),0}})}}(t.Serialiser||(t.Serialiser={}))},function(e,t,n){"use strict";var r=t;function i(){r.Reader._configure(r.BufferReader),r.util._configure()}r.build="minimal",r.Writer=n(149),r.BufferWriter=n(356),r.Reader=n(150),r.BufferReader=n(357),r.util=n(27),r.rpc=n(358),r.roots=n(360),r.configure=i,r.Writer._configure(r.BufferWriter),i()},function(e,t,n){"use strict";e.exports=function(e,t){var n=new Array(arguments.length-1),r=0,i=2,s=!0;for(;i<arguments.length;)n[r++]=arguments[i++];return new Promise(function(i,o){n[r]=function(e){if(s)if(s=!1,e)o(e);else{for(var t=new Array(arguments.length-1),n=0;n<t.length;)t[n++]=arguments[n];i.apply(null,t)}};try{e.apply(t||null,n)}catch(e){s&&(s=!1,o(e))}})}},function(e,t,n){"use strict";var r=t;r.length=function(e){var t=e.length;if(!t)return 0;for(var n=0;--t%4>1&&"="===e.charAt(t);)++n;return Math.ceil(3*e.length)/4-n};for(var i=new Array(64),s=new Array(123),o=0;o<64;)s[i[o]=o<26?o+65:o<52?o+71:o<62?o-4:o-59|43]=o++;r.encode=function(e,t,n){for(var r,s=null,o=[],a=0,c=0;t<n;){var u=e[t++];switch(c){case 0:o[a++]=i[u>>2],r=(3&u)<<4,c=1;break;case 1:o[a++]=i[r|u>>4],r=(15&u)<<2,c=2;break;case 2:o[a++]=i[r|u>>6],o[a++]=i[63&u],c=0}a>8191&&((s||(s=[])).push(String.fromCharCode.apply(String,o)),a=0)}return c&&(o[a++]=i[r],o[a++]=61,1===c&&(o[a++]=61)),s?(a&&s.push(String.fromCharCode.apply(String,o.slice(0,a))),s.join("")):String.fromCharCode.apply(String,o.slice(0,a))};r.decode=function(e,t,n){for(var r,i=n,o=0,a=0;a<e.length;){var c=e.charCodeAt(a++);if(61===c&&o>1)break;if(void 0===(c=s[c]))throw Error("invalid encoding");switch(o){case 0:r=c,o=1;break;case 1:t[n++]=r<<2|(48&c)>>4,r=c,o=2;break;case 2:t[n++]=(15&r)<<4|(60&c)>>2,r=c,o=3;break;case 3:t[n++]=(3&r)<<6|c,o=0}}if(1===o)throw Error("invalid encoding");return n-i},r.test=function(e){return/^(?:[A-Za-z0-9+\/]{4})*(?:[A-Za-z0-9+\/]{2}==|[A-Za-z0-9+\/]{3}=)?$/.test(e)}},function(e,t,n){"use strict";function r(){this._listeners={}}e.exports=r,r.prototype.on=function(e,t,n){return(this._listeners[e]||(this._listeners[e]=[])).push({fn:t,ctx:n||this}),this},r.prototype.off=function(e,t){if(void 0===e)this._listeners={};else if(void 0===t)this._listeners[e]=[];else for(var n=this._listeners[e],r=0;r<n.length;)n[r].fn===t?n.splice(r,1):++r;return this},r.prototype.emit=function(e){var t=this._listeners[e];if(t){for(var n=[],r=1;r<arguments.length;)n.push(arguments[r++]);for(r=0;r<t.length;)t[r].fn.apply(t[r++].ctx,n)}return this}},function(e,t,n){"use strict";function r(e){return"undefined"!=typeof Float32Array?function(){var t=new Float32Array([-0]),n=new Uint8Array(t.buffer),r=128===n[3];function i(e,r,i){t[0]=e,r[i]=n[0],r[i+1]=n[1],r[i+2]=n[2],r[i+3]=n[3]}function s(e,r,i){t[0]=e,r[i]=n[3],r[i+1]=n[2],r[i+2]=n[1],r[i+3]=n[0]}function o(e,r){return n[0]=e[r],n[1]=e[r+1],n[2]=e[r+2],n[3]=e[r+3],t[0]}function a(e,r){return n[3]=e[r],n[2]=e[r+1],n[1]=e[r+2],n[0]=e[r+3],t[0]}e.writeFloatLE=r?i:s,e.writeFloatBE=r?s:i,e.readFloatLE=r?o:a,e.readFloatBE=r?a:o}():function(){function t(e,t,n,r){var i=t<0?1:0;if(i&&(t=-t),0===t)e(1/t>0?0:2147483648,n,r);else if(isNaN(t))e(2143289344,n,r);else if(t>3.4028234663852886e38)e((i<<31|2139095040)>>>0,n,r);else if(t<1.1754943508222875e-38)e((i<<31|Math.round(t/1.401298464324817e-45))>>>0,n,r);else{var s=Math.floor(Math.log(t)/Math.LN2);e((i<<31|s+127<<23|8388607&Math.round(t*Math.pow(2,-s)*8388608))>>>0,n,r)}}function n(e,t,n){var r=e(t,n),i=2*(r>>31)+1,s=r>>>23&255,o=8388607&r;return 255===s?o?NaN:i*(1/0):0===s?1.401298464324817e-45*i*o:i*Math.pow(2,s-150)*(o+8388608)}e.writeFloatLE=t.bind(null,i),e.writeFloatBE=t.bind(null,s),e.readFloatLE=n.bind(null,o),e.readFloatBE=n.bind(null,a)}(),"undefined"!=typeof Float64Array?function(){var t=new Float64Array([-0]),n=new Uint8Array(t.buffer),r=128===n[7];function i(e,r,i){t[0]=e,r[i]=n[0],r[i+1]=n[1],r[i+2]=n[2],r[i+3]=n[3],r[i+4]=n[4],r[i+5]=n[5],r[i+6]=n[6],r[i+7]=n[7]}function s(e,r,i){t[0]=e,r[i]=n[7],r[i+1]=n[6],r[i+2]=n[5],r[i+3]=n[4],r[i+4]=n[3],r[i+5]=n[2],r[i+6]=n[1],r[i+7]=n[0]}function o(e,r){return n[0]=e[r],n[1]=e[r+1],n[2]=e[r+2],n[3]=e[r+3],n[4]=e[r+4],n[5]=e[r+5],n[6]=e[r+6],n[7]=e[r+7],t[0]}function a(e,r){return n[7]=e[r],n[6]=e[r+1],n[5]=e[r+2],n[4]=e[r+3],n[3]=e[r+4],n[2]=e[r+5],n[1]=e[r+6],n[0]=e[r+7],t[0]}e.writeDoubleLE=r?i:s,e.writeDoubleBE=r?s:i,e.readDoubleLE=r?o:a,e.readDoubleBE=r?a:o}():function(){function t(e,t,n,r,i,s){var o=r<0?1:0;if(o&&(r=-r),0===r)e(0,i,s+t),e(1/r>0?0:2147483648,i,s+n);else if(isNaN(r))e(0,i,s+t),e(2146959360,i,s+n);else if(r>1.7976931348623157e308)e(0,i,s+t),e((o<<31|2146435072)>>>0,i,s+n);else{var a;if(r<2.2250738585072014e-308)e((a=r/5e-324)>>>0,i,s+t),e((o<<31|a/4294967296)>>>0,i,s+n);else{var c=Math.floor(Math.log(r)/Math.LN2);1024===c&&(c=1023),e(4503599627370496*(a=r*Math.pow(2,-c))>>>0,i,s+t),e((o<<31|c+1023<<20|1048576*a&1048575)>>>0,i,s+n)}}}function n(e,t,n,r,i){var s=e(r,i+t),o=e(r,i+n),a=2*(o>>31)+1,c=o>>>20&2047,u=4294967296*(1048575&o)+s;return 2047===c?u?NaN:a*(1/0):0===c?5e-324*a*u:a*Math.pow(2,c-1075)*(u+4503599627370496)}e.writeDoubleLE=t.bind(null,i,0,4),e.writeDoubleBE=t.bind(null,s,4,0),e.readDoubleLE=n.bind(null,o,0,4),e.readDoubleBE=n.bind(null,a,4,0)}(),e}function i(e,t,n){t[n]=255&e,t[n+1]=e>>>8&255,t[n+2]=e>>>16&255,t[n+3]=e>>>24}function s(e,t,n){t[n]=e>>>24,t[n+1]=e>>>16&255,t[n+2]=e>>>8&255,t[n+3]=255&e}function o(e,t){return(e[t]|e[t+1]<<8|e[t+2]<<16|e[t+3]<<24)>>>0}function a(e,t){return(e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3])>>>0}e.exports=r(r)},function(module,exports,__webpack_require__){"use strict";function inquire(moduleName){try{var mod=eval("quire".replace(/^/,"re"))(moduleName);if(mod&&(mod.length||Object.keys(mod).length))return mod}catch(e){}return null}module.exports=inquire},function(e,t,n){"use strict";var r=t;r.length=function(e){for(var t=0,n=0,r=0;r<e.length;++r)(n=e.charCodeAt(r))<128?t+=1:n<2048?t+=2:55296==(64512&n)&&56320==(64512&e.charCodeAt(r+1))?(++r,t+=4):t+=3;return t},r.read=function(e,t,n){if(n-t<1)return"";for(var r,i=null,s=[],o=0;t<n;)(r=e[t++])<128?s[o++]=r:r>191&&r<224?s[o++]=(31&r)<<6|63&e[t++]:r>239&&r<365?(r=((7&r)<<18|(63&e[t++])<<12|(63&e[t++])<<6|63&e[t++])-65536,s[o++]=55296+(r>>10),s[o++]=56320+(1023&r)):s[o++]=(15&r)<<12|(63&e[t++])<<6|63&e[t++],o>8191&&((i||(i=[])).push(String.fromCharCode.apply(String,s)),o=0);return i?(o&&i.push(String.fromCharCode.apply(String,s.slice(0,o))),i.join("")):String.fromCharCode.apply(String,s.slice(0,o))},r.write=function(e,t,n){for(var r,i,s=n,o=0;o<e.length;++o)(r=e.charCodeAt(o))<128?t[n++]=r:r<2048?(t[n++]=r>>6|192,t[n++]=63&r|128):55296==(64512&r)&&56320==(64512&(i=e.charCodeAt(o+1)))?(r=65536+((1023&r)<<10)+(1023&i),++o,t[n++]=r>>18|240,t[n++]=r>>12&63|128,t[n++]=r>>6&63|128,t[n++]=63&r|128):(t[n++]=r>>12|224,t[n++]=r>>6&63|128,t[n++]=63&r|128);return n-s}},function(e,t,n){"use strict";e.exports=function(e,t,n){var r=n||8192,i=r>>>1,s=null,o=r;return function(n){if(n<1||n>i)return e(n);o+n>r&&(s=e(r),o=0);var a=t.call(s,o,o+=n);return 7&o&&(o=1+(7|o)),a}}},function(e,t,n){"use strict";e.exports=i;var r=n(27);function i(e,t){this.lo=e>>>0,this.hi=t>>>0}var s=i.zero=new i(0,0);s.toNumber=function(){return 0},s.zzEncode=s.zzDecode=function(){return this},s.length=function(){return 1};var o=i.zeroHash="\0\0\0\0\0\0\0\0";i.fromNumber=function(e){if(0===e)return s;var t=e<0;t&&(e=-e);var n=e>>>0,r=(e-n)/4294967296>>>0;return t&&(r=~r>>>0,n=~n>>>0,++n>4294967295&&(n=0,++r>4294967295&&(r=0))),new i(n,r)},i.from=function(e){if("number"==typeof e)return i.fromNumber(e);if(r.isString(e)){if(!r.Long)return i.fromNumber(parseInt(e,10));e=r.Long.fromString(e)}return e.low||e.high?new i(e.low>>>0,e.high>>>0):s},i.prototype.toNumber=function(e){if(!e&&this.hi>>>31){var t=1+~this.lo>>>0,n=~this.hi>>>0;return t||(n=n+1>>>0),-(t+4294967296*n)}return this.lo+4294967296*this.hi},i.prototype.toLong=function(e){return r.Long?new r.Long(0|this.lo,0|this.hi,Boolean(e)):{low:0|this.lo,high:0|this.hi,unsigned:Boolean(e)}};var a=String.prototype.charCodeAt;i.fromHash=function(e){return e===o?s:new i((a.call(e,0)|a.call(e,1)<<8|a.call(e,2)<<16|a.call(e,3)<<24)>>>0,(a.call(e,4)|a.call(e,5)<<8|a.call(e,6)<<16|a.call(e,7)<<24)>>>0)},i.prototype.toHash=function(){return String.fromCharCode(255&this.lo,this.lo>>>8&255,this.lo>>>16&255,this.lo>>>24,255&this.hi,this.hi>>>8&255,this.hi>>>16&255,this.hi>>>24)},i.prototype.zzEncode=function(){var e=this.hi>>31;return this.hi=((this.hi<<1|this.lo>>>31)^e)>>>0,this.lo=(this.lo<<1^e)>>>0,this},i.prototype.zzDecode=function(){var e=-(1&this.lo);return this.lo=((this.lo>>>1|this.hi<<31)^e)>>>0,this.hi=(this.hi>>>1^e)>>>0,this},i.prototype.length=function(){var e=this.lo,t=(this.lo>>>28|this.hi<<4)>>>0,n=this.hi>>>24;return 0===n?0===t?e<16384?e<128?1:2:e<2097152?3:4:t<16384?t<128?5:6:t<2097152?7:8:n<128?9:10}},function(e,t,n){"use strict";e.exports=o;var r=n(149);(o.prototype=Object.create(r.prototype)).constructor=o;var i=n(27),s=i.Buffer;function o(){r.call(this)}o.alloc=function(e){return(o.alloc=i._Buffer_allocUnsafe)(e)};var a=s&&s.prototype instanceof Uint8Array&&"set"===s.prototype.set.name?function(e,t,n){t.set(e,n)}:function(e,t,n){if(e.copy)e.copy(t,n,0,e.length);else for(var r=0;r<e.length;)t[n++]=e[r++]};function c(e,t,n){e.length<40?i.utf8.write(e,t,n):t.utf8Write(e,n)}o.prototype.bytes=function(e){i.isString(e)&&(e=i._Buffer_from(e,"base64"));var t=e.length>>>0;return this.uint32(t),t&&this._push(a,t,e),this},o.prototype.string=function(e){var t=s.byteLength(e);return this.uint32(t),t&&this._push(c,t,e),this}},function(e,t,n){"use strict";e.exports=s;var r=n(150);(s.prototype=Object.create(r.prototype)).constructor=s;var i=n(27);function s(e){r.call(this,e)}i.Buffer&&(s.prototype._slice=i.Buffer.prototype.slice),s.prototype.string=function(){var e=this.uint32();return this.buf.utf8Slice(this.pos,this.pos=Math.min(this.pos+e,this.len))}},function(e,t,n){"use strict";t.Service=n(359)},function(e,t,n){"use strict";e.exports=i;var r=n(27);function i(e,t,n){if("function"!=typeof e)throw TypeError("rpcImpl must be a function");r.EventEmitter.call(this),this.rpcImpl=e,this.requestDelimited=Boolean(t),this.responseDelimited=Boolean(n)}(i.prototype=Object.create(r.EventEmitter.prototype)).constructor=i,i.prototype.rpcCall=function e(t,n,i,s,o){if(!s)throw TypeError("request must be specified");var a=this;if(!o)return r.asPromise(e,a,t,n,i,s);if(a.rpcImpl)try{return a.rpcImpl(t,n[a.requestDelimited?"encodeDelimited":"encode"](s).finish(),function(e,n){if(e)return a.emit("error",e,t),o(e);if(null!==n){if(!(n instanceof i))try{n=i[a.responseDelimited?"decodeDelimited":"decode"](n)}catch(e){return a.emit("error",e,t),o(e)}return a.emit("data",n,t),o(null,n)}a.end(!0)})}catch(e){return a.emit("error",e,t),void setTimeout(function(){o(e)},0)}else setTimeout(function(){o(Error("already ended"))},0)},i.prototype.end=function(e){return this.rpcImpl&&(e||this.rpcImpl(null,null,null),this.rpcImpl=null,this.emit("end").off()),this}},function(e,t,n){"use strict";e.exports={}},function(e,t,n){"use strict";var r=n(148),i=r.Reader,s=r.Writer,o=r.util,a=r.roots.default||(r.roots.default={});a.DocumentIdentifier=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.uri="",e.prototype.id=0,e.prototype.flags=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=s.create()),null!=e.uri&&e.hasOwnProperty("uri")&&t.uint32(10).string(e.uri),null!=e.id&&e.hasOwnProperty("id")&&t.uint32(16).uint32(e.id),null!=e.flags&&e.hasOwnProperty("flags")&&t.uint32(24).uint32(e.flags),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof i||(e=i.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new a.DocumentIdentifier;e.pos<n;){var s=e.uint32();switch(s>>>3){case 1:r.uri=e.string();break;case 2:r.id=e.uint32();break;case 3:r.flags=e.uint32();break;default:e.skipType(7&s)}}return r},e.decodeDelimited=function(e){return e instanceof i||(e=new i(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!=typeof e||null===e?"object expected":null!=e.uri&&e.hasOwnProperty("uri")&&!o.isString(e.uri)?"uri: string expected":null!=e.id&&e.hasOwnProperty("id")&&!o.isInteger(e.id)?"id: integer expected":null!=e.flags&&e.hasOwnProperty("flags")&&!o.isInteger(e.flags)?"flags: integer expected":null},e.fromObject=function(e){if(e instanceof a.DocumentIdentifier)return e;var t=new a.DocumentIdentifier;return null!=e.uri&&(t.uri=String(e.uri)),null!=e.id&&(t.id=e.id>>>0),null!=e.flags&&(t.flags=e.flags>>>0),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.uri="",n.id=0,n.flags=0),null!=e.uri&&e.hasOwnProperty("uri")&&(n.uri=e.uri),null!=e.id&&e.hasOwnProperty("id")&&(n.id=e.id),null!=e.flags&&e.hasOwnProperty("flags")&&(n.flags=e.flags),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,r.util.toJSONOptions)},e}(),a.RedBlackDocumentIdentifier=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.isBlack=!1,e.prototype.value=null,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=s.create()),null!=e.isBlack&&e.hasOwnProperty("isBlack")&&t.uint32(8).bool(e.isBlack),null!=e.value&&e.hasOwnProperty("value")&&a.DocumentIdentifier.encode(e.value,t.uint32(18).fork()).ldelim(),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof i||(e=i.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new a.RedBlackDocumentIdentifier;e.pos<n;){var s=e.uint32();switch(s>>>3){case 1:r.isBlack=e.bool();break;case 2:r.value=a.DocumentIdentifier.decode(e,e.uint32());break;default:e.skipType(7&s)}}return r},e.decodeDelimited=function(e){return e instanceof i||(e=new i(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.isBlack&&e.hasOwnProperty("isBlack")&&"boolean"!=typeof e.isBlack)return"isBlack: boolean expected";if(null!=e.value&&e.hasOwnProperty("value")){var t=a.DocumentIdentifier.verify(e.value);if(t)return"value."+t}return null},e.fromObject=function(e){if(e instanceof a.RedBlackDocumentIdentifier)return e;var t=new a.RedBlackDocumentIdentifier;if(null!=e.isBlack&&(t.isBlack=Boolean(e.isBlack)),null!=e.value){if("object"!=typeof e.value)throw TypeError(".RedBlackDocumentIdentifier.value: object expected");t.value=a.DocumentIdentifier.fromObject(e.value)}return t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.isBlack=!1,n.value=null),null!=e.isBlack&&e.hasOwnProperty("isBlack")&&(n.isBlack=e.isBlack),null!=e.value&&e.hasOwnProperty("value")&&(n.value=a.DocumentIdentifier.toObject(e.value,t)),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,r.util.toJSONOptions)},e}(),a.RedBlackDefinitionIndexNode=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.isBlack=!1,e.prototype.value=null,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=s.create()),null!=e.isBlack&&e.hasOwnProperty("isBlack")&&t.uint32(8).bool(e.isBlack),null!=e.value&&e.hasOwnProperty("value")&&a.DefinitionIndexNode.encode(e.value,t.uint32(18).fork()).ldelim(),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof i||(e=i.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new a.RedBlackDefinitionIndexNode;e.pos<n;){var s=e.uint32();switch(s>>>3){case 1:r.isBlack=e.bool();break;case 2:r.value=a.DefinitionIndexNode.decode(e,e.uint32());break;default:e.skipType(7&s)}}return r},e.decodeDelimited=function(e){return e instanceof i||(e=new i(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.isBlack&&e.hasOwnProperty("isBlack")&&"boolean"!=typeof e.isBlack)return"isBlack: boolean expected";if(null!=e.value&&e.hasOwnProperty("value")){var t=a.DefinitionIndexNode.verify(e.value);if(t)return"value."+t}return null},e.fromObject=function(e){if(e instanceof a.RedBlackDefinitionIndexNode)return e;var t=new a.RedBlackDefinitionIndexNode;if(null!=e.isBlack&&(t.isBlack=Boolean(e.isBlack)),null!=e.value){if("object"!=typeof e.value)throw TypeError(".RedBlackDefinitionIndexNode.value: object expected");t.value=a.DefinitionIndexNode.fromObject(e.value)}return t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.isBlack=!1,n.value=null),null!=e.isBlack&&e.hasOwnProperty("isBlack")&&(n.isBlack=e.isBlack),null!=e.value&&e.hasOwnProperty("value")&&(n.value=a.DefinitionIndexNode.toObject(e.value,t)),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,r.util.toJSONOptions)},e}(),a.DefinitionIndexNode=function(){function e(e){if(this.items=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.key="",e.prototype.items=o.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=s.create()),null!=e.key&&e.hasOwnProperty("key")&&t.uint32(10).string(e.key),null!=e.items&&e.items.length)for(var n=0;n<e.items.length;++n)a.IndexedDefinitionIdentifier.encode(e.items[n],t.uint32(18).fork()).ldelim();return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof i||(e=i.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new a.DefinitionIndexNode;e.pos<n;){var s=e.uint32();switch(s>>>3){case 1:r.key=e.string();break;case 2:r.items&&r.items.length||(r.items=[]),r.items.push(a.IndexedDefinitionIdentifier.decode(e,e.uint32()));break;default:e.skipType(7&s)}}return r},e.decodeDelimited=function(e){return e instanceof i||(e=new i(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.key&&e.hasOwnProperty("key")&&!o.isString(e.key))return"key: string expected";if(null!=e.items&&e.hasOwnProperty("items")){if(!Array.isArray(e.items))return"items: array expected";for(var t=0;t<e.items.length;++t){var n=a.IndexedDefinitionIdentifier.verify(e.items[t]);if(n)return"items."+n}}return null},e.fromObject=function(e){if(e instanceof a.DefinitionIndexNode)return e;var t=new a.DefinitionIndexNode;if(null!=e.key&&(t.key=String(e.key)),e.items){if(!Array.isArray(e.items))throw TypeError(".DefinitionIndexNode.items: array expected");t.items=[];for(var n=0;n<e.items.length;++n){if("object"!=typeof e.items[n])throw TypeError(".DefinitionIndexNode.items: object expected");t.items[n]=a.IndexedDefinitionIdentifier.fromObject(e.items[n])}}return t},e.toObject=function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.items=[]),t.defaults&&(n.key=""),null!=e.key&&e.hasOwnProperty("key")&&(n.key=e.key),e.items&&e.items.length){n.items=[];for(var r=0;r<e.items.length;++r)n.items[r]=a.IndexedDefinitionIdentifier.toObject(e.items[r],t)}return n},e.prototype.toJSON=function(){return this.constructor.toObject(this,r.util.toJSONOptions)},e}(),a.IndexedDefinitionIdentifier=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.id=o.Long?o.Long.fromBits(0,0,!0):0,e.prototype.score=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=s.create()),null!=e.id&&e.hasOwnProperty("id")&&t.uint32(8).uint64(e.id),null!=e.score&&e.hasOwnProperty("score")&&t.uint32(16).uint32(e.score),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof i||(e=i.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new a.IndexedDefinitionIdentifier;e.pos<n;){var s=e.uint32();switch(s>>>3){case 1:r.id=e.uint64();break;case 2:r.score=e.uint32();break;default:e.skipType(7&s)}}return r},e.decodeDelimited=function(e){return e instanceof i||(e=new i(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!=typeof e||null===e?"object expected":null!=e.id&&e.hasOwnProperty("id")&&!(o.isInteger(e.id)||e.id&&o.isInteger(e.id.low)&&o.isInteger(e.id.high))?"id: integer|Long expected":null!=e.score&&e.hasOwnProperty("score")&&!o.isInteger(e.score)?"score: integer expected":null},e.fromObject=function(e){if(e instanceof a.IndexedDefinitionIdentifier)return e;var t=new a.IndexedDefinitionIdentifier;return null!=e.id&&(o.Long?(t.id=o.Long.fromValue(e.id)).unsigned=!0:"string"==typeof e.id?t.id=parseInt(e.id,10):"number"==typeof e.id?t.id=e.id:"object"==typeof e.id&&(t.id=new o.LongBits(e.id.low>>>0,e.id.high>>>0).toNumber(!0))),null!=e.score&&(t.score=e.score>>>0),t},e.toObject=function(e,t){t||(t={});var n={};if(t.defaults){if(o.Long){var r=new o.Long(0,0,!0);n.id=t.longs===String?r.toString():t.longs===Number?r.toNumber():r}else n.id=t.longs===String?"0":0;n.score=0}return null!=e.id&&e.hasOwnProperty("id")&&("number"==typeof e.id?n.id=t.longs===String?String(e.id):e.id:n.id=t.longs===String?o.Long.prototype.toString.call(e.id):t.longs===Number?new o.LongBits(e.id.low>>>0,e.id.high>>>0).toNumber(!0):e.id),null!=e.score&&e.hasOwnProperty("score")&&(n.score=e.score),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,r.util.toJSONOptions)},e}(),a.TypeString=function(){function e(e){if(this.parts=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.name="",e.prototype.parts=o.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=s.create()),null!=e.name&&e.hasOwnProperty("name")&&t.uint32(10).string(e.name),null!=e.parts&&e.parts.length)for(var n=0;n<e.parts.length;++n)a.TypeString.encode(e.parts[n],t.uint32(18).fork()).ldelim();return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof i||(e=i.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new a.TypeString;e.pos<n;){var s=e.uint32();switch(s>>>3){case 1:r.name=e.string();break;case 2:r.parts&&r.parts.length||(r.parts=[]),r.parts.push(a.TypeString.decode(e,e.uint32()));break;default:e.skipType(7&s)}}return r},e.decodeDelimited=function(e){return e instanceof i||(e=new i(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.name&&e.hasOwnProperty("name")&&!o.isString(e.name))return"name: string expected";if(null!=e.parts&&e.hasOwnProperty("parts")){if(!Array.isArray(e.parts))return"parts: array expected";for(var t=0;t<e.parts.length;++t){var n=a.TypeString.verify(e.parts[t]);if(n)return"parts."+n}}return null},e.fromObject=function(e){if(e instanceof a.TypeString)return e;var t=new a.TypeString;if(null!=e.name&&(t.name=String(e.name)),e.parts){if(!Array.isArray(e.parts))throw TypeError(".TypeString.parts: array expected");t.parts=[];for(var n=0;n<e.parts.length;++n){if("object"!=typeof e.parts[n])throw TypeError(".TypeString.parts: object expected");t.parts[n]=a.TypeString.fromObject(e.parts[n])}}return t},e.toObject=function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.parts=[]),t.defaults&&(n.name=""),null!=e.name&&e.hasOwnProperty("name")&&(n.name=e.name),e.parts&&e.parts.length){n.parts=[];for(var r=0;r<e.parts.length;++r)n.parts[r]=a.TypeString.toObject(e.parts[r],t)}return n},e.prototype.toJSON=function(){return this.constructor.toObject(this,r.util.toJSONOptions)},e}(),a.DefinitionType=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.declared=null,e.prototype.documentedOrInferred=null,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=s.create()),null!=e.declared&&e.hasOwnProperty("declared")&&a.TypeString.encode(e.declared,t.uint32(10).fork()).ldelim(),null!=e.documentedOrInferred&&e.hasOwnProperty("documentedOrInferred")&&a.TypeString.encode(e.documentedOrInferred,t.uint32(18).fork()).ldelim(),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof i||(e=i.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new a.DefinitionType;e.pos<n;){var s=e.uint32();switch(s>>>3){case 1:r.declared=a.TypeString.decode(e,e.uint32());break;case 2:r.documentedOrInferred=a.TypeString.decode(e,e.uint32());break;default:e.skipType(7&s)}}return r},e.decodeDelimited=function(e){return e instanceof i||(e=new i(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";var t;if(null!=e.declared&&e.hasOwnProperty("declared")&&(t=a.TypeString.verify(e.declared)))return"declared."+t;if(null!=e.documentedOrInferred&&e.hasOwnProperty("documentedOrInferred")&&(t=a.TypeString.verify(e.documentedOrInferred)))return"documentedOrInferred."+t;return null},e.fromObject=function(e){if(e instanceof a.DefinitionType)return e;var t=new a.DefinitionType;if(null!=e.declared){if("object"!=typeof e.declared)throw TypeError(".DefinitionType.declared: object expected");t.declared=a.TypeString.fromObject(e.declared)}if(null!=e.documentedOrInferred){if("object"!=typeof e.documentedOrInferred)throw TypeError(".DefinitionType.documentedOrInferred: object expected");t.documentedOrInferred=a.TypeString.fromObject(e.documentedOrInferred)}return t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.declared=null,n.documentedOrInferred=null),null!=e.declared&&e.hasOwnProperty("declared")&&(n.declared=a.TypeString.toObject(e.declared,t)),null!=e.documentedOrInferred&&e.hasOwnProperty("documentedOrInferred")&&(n.documentedOrInferred=a.TypeString.toObject(e.documentedOrInferred,t)),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,r.util.toJSONOptions)},e}(),a.PackedRange=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.start=0,e.prototype.end=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=s.create()),null!=e.start&&e.hasOwnProperty("start")&&t.uint32(8).uint32(e.start),null!=e.end&&e.hasOwnProperty("end")&&t.uint32(16).uint32(e.end),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof i||(e=i.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new a.PackedRange;e.pos<n;){var s=e.uint32();switch(s>>>3){case 1:r.start=e.uint32();break;case 2:r.end=e.uint32();break;default:e.skipType(7&s)}}return r},e.decodeDelimited=function(e){return e instanceof i||(e=new i(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!=typeof e||null===e?"object expected":null!=e.start&&e.hasOwnProperty("start")&&!o.isInteger(e.start)?"start: integer expected":null!=e.end&&e.hasOwnProperty("end")&&!o.isInteger(e.end)?"end: integer expected":null},e.fromObject=function(e){if(e instanceof a.PackedRange)return e;var t=new a.PackedRange;return null!=e.start&&(t.start=e.start>>>0),null!=e.end&&(t.end=e.end>>>0),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.start=0,n.end=0),null!=e.start&&e.hasOwnProperty("start")&&(n.start=e.start),null!=e.end&&e.hasOwnProperty("end")&&(n.end=e.end),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,r.util.toJSONOptions)},e}(),a.Reference=function(){function e(e){if(this.scope=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.kind=0,e.prototype.name="",e.prototype.modifiers=0,e.prototype.uriId=0,e.prototype.range=null,e.prototype.type=null,e.prototype.unresolvedName="",e.prototype.scope=o.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=s.create()),null!=e.kind&&e.hasOwnProperty("kind")&&t.uint32(8).uint32(e.kind),null!=e.name&&e.hasOwnProperty("name")&&t.uint32(18).string(e.name),null!=e.modifiers&&e.hasOwnProperty("modifiers")&&t.uint32(24).uint32(e.modifiers),null!=e.uriId&&e.hasOwnProperty("uriId")&&t.uint32(32).uint32(e.uriId),null!=e.range&&e.hasOwnProperty("range")&&a.PackedRange.encode(e.range,t.uint32(42).fork()).ldelim(),null!=e.type&&e.hasOwnProperty("type")&&a.TypeString.encode(e.type,t.uint32(50).fork()).ldelim(),null!=e.unresolvedName&&e.hasOwnProperty("unresolvedName")&&t.uint32(58).string(e.unresolvedName),null!=e.scope&&e.scope.length)for(var n=0;n<e.scope.length;++n)t.uint32(66).string(e.scope[n]);return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof i||(e=i.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new a.Reference;e.pos<n;){var s=e.uint32();switch(s>>>3){case 1:r.kind=e.uint32();break;case 2:r.name=e.string();break;case 3:r.modifiers=e.uint32();break;case 4:r.uriId=e.uint32();break;case 5:r.range=a.PackedRange.decode(e,e.uint32());break;case 6:r.type=a.TypeString.decode(e,e.uint32());break;case 7:r.unresolvedName=e.string();break;case 8:r.scope&&r.scope.length||(r.scope=[]),r.scope.push(e.string());break;default:e.skipType(7&s)}}return r},e.decodeDelimited=function(e){return e instanceof i||(e=new i(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.kind&&e.hasOwnProperty("kind")&&!o.isInteger(e.kind))return"kind: integer expected";if(null!=e.name&&e.hasOwnProperty("name")&&!o.isString(e.name))return"name: string expected";if(null!=e.modifiers&&e.hasOwnProperty("modifiers")&&!o.isInteger(e.modifiers))return"modifiers: integer expected";if(null!=e.uriId&&e.hasOwnProperty("uriId")&&!o.isInteger(e.uriId))return"uriId: integer expected";var t;if(null!=e.range&&e.hasOwnProperty("range")&&(t=a.PackedRange.verify(e.range)))return"range."+t;if(null!=e.type&&e.hasOwnProperty("type")&&(t=a.TypeString.verify(e.type)))return"type."+t;if(null!=e.unresolvedName&&e.hasOwnProperty("unresolvedName")&&!o.isString(e.unresolvedName))return"unresolvedName: string expected";if(null!=e.scope&&e.hasOwnProperty("scope")){if(!Array.isArray(e.scope))return"scope: array expected";for(var n=0;n<e.scope.length;++n)if(!o.isString(e.scope[n]))return"scope: string[] expected"}return null},e.fromObject=function(e){if(e instanceof a.Reference)return e;var t=new a.Reference;if(null!=e.kind&&(t.kind=e.kind>>>0),null!=e.name&&(t.name=String(e.name)),null!=e.modifiers&&(t.modifiers=e.modifiers>>>0),null!=e.uriId&&(t.uriId=e.uriId>>>0),null!=e.range){if("object"!=typeof e.range)throw TypeError(".Reference.range: object expected");t.range=a.PackedRange.fromObject(e.range)}if(null!=e.type){if("object"!=typeof e.type)throw TypeError(".Reference.type: object expected");t.type=a.TypeString.fromObject(e.type)}if(null!=e.unresolvedName&&(t.unresolvedName=String(e.unresolvedName)),e.scope){if(!Array.isArray(e.scope))throw TypeError(".Reference.scope: array expected");t.scope=[];for(var n=0;n<e.scope.length;++n)t.scope[n]=String(e.scope[n])}return t},e.toObject=function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.scope=[]),t.defaults&&(n.kind=0,n.name="",n.modifiers=0,n.uriId=0,n.range=null,n.type=null,n.unresolvedName=""),null!=e.kind&&e.hasOwnProperty("kind")&&(n.kind=e.kind),null!=e.name&&e.hasOwnProperty("name")&&(n.name=e.name),null!=e.modifiers&&e.hasOwnProperty("modifiers")&&(n.modifiers=e.modifiers),null!=e.uriId&&e.hasOwnProperty("uriId")&&(n.uriId=e.uriId),null!=e.range&&e.hasOwnProperty("range")&&(n.range=a.PackedRange.toObject(e.range,t)),null!=e.type&&e.hasOwnProperty("type")&&(n.type=a.TypeString.toObject(e.type,t)),null!=e.unresolvedName&&e.hasOwnProperty("unresolvedName")&&(n.unresolvedName=e.unresolvedName),e.scope&&e.scope.length){n.scope=[];for(var r=0;r<e.scope.length;++r)n.scope[r]=e.scope[r]}return n},e.prototype.toJSON=function(){return this.constructor.toObject(this,r.util.toJSONOptions)},e}(),a.DefinitionTable=function(){function e(e){if(this.items=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.id=0,e.prototype.items=o.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=s.create()),null!=e.id&&e.hasOwnProperty("id")&&t.uint32(8).uint32(e.id),null!=e.items&&e.items.length)for(var n=0;n<e.items.length;++n)a.Definition.encode(e.items[n],t.uint32(18).fork()).ldelim();return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof i||(e=i.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new a.DefinitionTable;e.pos<n;){var s=e.uint32();switch(s>>>3){case 1:r.id=e.uint32();break;case 2:r.items&&r.items.length||(r.items=[]),r.items.push(a.Definition.decode(e,e.uint32()));break;default:e.skipType(7&s)}}return r},e.decodeDelimited=function(e){return e instanceof i||(e=new i(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.id&&e.hasOwnProperty("id")&&!o.isInteger(e.id))return"id: integer expected";if(null!=e.items&&e.hasOwnProperty("items")){if(!Array.isArray(e.items))return"items: array expected";for(var t=0;t<e.items.length;++t){var n=a.Definition.verify(e.items[t]);if(n)return"items."+n}}return null},e.fromObject=function(e){if(e instanceof a.DefinitionTable)return e;var t=new a.DefinitionTable;if(null!=e.id&&(t.id=e.id>>>0),e.items){if(!Array.isArray(e.items))throw TypeError(".DefinitionTable.items: array expected");t.items=[];for(var n=0;n<e.items.length;++n){if("object"!=typeof e.items[n])throw TypeError(".DefinitionTable.items: object expected");t.items[n]=a.Definition.fromObject(e.items[n])}}return t},e.toObject=function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.items=[]),t.defaults&&(n.id=0),null!=e.id&&e.hasOwnProperty("id")&&(n.id=e.id),e.items&&e.items.length){n.items=[];for(var r=0;r<e.items.length;++r)n.items[r]=a.Definition.toObject(e.items[r],t)}return n},e.prototype.toJSON=function(){return this.constructor.toObject(this,r.util.toJSONOptions)},e}(),a.Definition=function(){function e(e){if(this.associated=[],this.children=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.kind=0,e.prototype.name="",e.prototype.modifiers=0,e.prototype.uriId=0,e.prototype.range=null,e.prototype.fqsenHash=0,e.prototype.type=null,e.prototype.associated=o.emptyArray,e.prototype.value="",e.prototype.scope=o.Long?o.Long.fromBits(0,0,!0):0,e.prototype.children=o.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=s.create()),null!=e.kind&&e.hasOwnProperty("kind")&&t.uint32(8).uint32(e.kind),null!=e.name&&e.hasOwnProperty("name")&&t.uint32(18).string(e.name),null!=e.modifiers&&e.hasOwnProperty("modifiers")&&t.uint32(24).uint32(e.modifiers),null!=e.uriId&&e.hasOwnProperty("uriId")&&t.uint32(32).uint32(e.uriId),null!=e.range&&e.hasOwnProperty("range")&&a.PackedRange.encode(e.range,t.uint32(42).fork()).ldelim(),null!=e.fqsenHash&&e.hasOwnProperty("fqsenHash")&&t.uint32(48).sint32(e.fqsenHash),null!=e.type&&e.hasOwnProperty("type")&&a.DefinitionType.encode(e.type,t.uint32(58).fork()).ldelim(),null!=e.associated&&e.associated.length)for(var n=0;n<e.associated.length;++n)a.Reference.encode(e.associated[n],t.uint32(66).fork()).ldelim();if(null!=e.value&&e.hasOwnProperty("value")&&t.uint32(74).string(e.value),null!=e.scope&&e.hasOwnProperty("scope")&&t.uint32(80).uint64(e.scope),null!=e.children&&e.children.length){t.uint32(90).fork();for(n=0;n<e.children.length;++n)t.uint64(e.children[n]);t.ldelim()}return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof i||(e=i.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new a.Definition;e.pos<n;){var s=e.uint32();switch(s>>>3){case 1:r.kind=e.uint32();break;case 2:r.name=e.string();break;case 3:r.modifiers=e.uint32();break;case 4:r.uriId=e.uint32();break;case 5:r.range=a.PackedRange.decode(e,e.uint32());break;case 6:r.fqsenHash=e.sint32();break;case 7:r.type=a.DefinitionType.decode(e,e.uint32());break;case 8:r.associated&&r.associated.length||(r.associated=[]),r.associated.push(a.Reference.decode(e,e.uint32()));break;case 9:r.value=e.string();break;case 10:r.scope=e.uint64();break;case 11:if(r.children&&r.children.length||(r.children=[]),2==(7&s))for(var o=e.uint32()+e.pos;e.pos<o;)r.children.push(e.uint64());else r.children.push(e.uint64());break;default:e.skipType(7&s)}}return r},e.decodeDelimited=function(e){return e instanceof i||(e=new i(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.kind&&e.hasOwnProperty("kind")&&!o.isInteger(e.kind))return"kind: integer expected";if(null!=e.name&&e.hasOwnProperty("name")&&!o.isString(e.name))return"name: string expected";if(null!=e.modifiers&&e.hasOwnProperty("modifiers")&&!o.isInteger(e.modifiers))return"modifiers: integer expected";if(null!=e.uriId&&e.hasOwnProperty("uriId")&&!o.isInteger(e.uriId))return"uriId: integer expected";if(null!=e.range&&e.hasOwnProperty("range")&&(n=a.PackedRange.verify(e.range)))return"range."+n;if(null!=e.fqsenHash&&e.hasOwnProperty("fqsenHash")&&!o.isInteger(e.fqsenHash))return"fqsenHash: integer expected";if(null!=e.type&&e.hasOwnProperty("type")&&(n=a.DefinitionType.verify(e.type)))return"type."+n;if(null!=e.associated&&e.hasOwnProperty("associated")){if(!Array.isArray(e.associated))return"associated: array expected";for(var t=0;t<e.associated.length;++t){var n;if(n=a.Reference.verify(e.associated[t]))return"associated."+n}}if(null!=e.value&&e.hasOwnProperty("value")&&!o.isString(e.value))return"value: string expected";if(null!=e.scope&&e.hasOwnProperty("scope")&&!(o.isInteger(e.scope)||e.scope&&o.isInteger(e.scope.low)&&o.isInteger(e.scope.high)))return"scope: integer|Long expected";if(null!=e.children&&e.hasOwnProperty("children")){if(!Array.isArray(e.children))return"children: array expected";for(t=0;t<e.children.length;++t)if(!(o.isInteger(e.children[t])||e.children[t]&&o.isInteger(e.children[t].low)&&o.isInteger(e.children[t].high)))return"children: integer|Long[] expected"}return null},e.fromObject=function(e){if(e instanceof a.Definition)return e;var t=new a.Definition;if(null!=e.kind&&(t.kind=e.kind>>>0),null!=e.name&&(t.name=String(e.name)),null!=e.modifiers&&(t.modifiers=e.modifiers>>>0),null!=e.uriId&&(t.uriId=e.uriId>>>0),null!=e.range){if("object"!=typeof e.range)throw TypeError(".Definition.range: object expected");t.range=a.PackedRange.fromObject(e.range)}if(null!=e.fqsenHash&&(t.fqsenHash=0|e.fqsenHash),null!=e.type){if("object"!=typeof e.type)throw TypeError(".Definition.type: object expected");t.type=a.DefinitionType.fromObject(e.type)}if(e.associated){if(!Array.isArray(e.associated))throw TypeError(".Definition.associated: array expected");t.associated=[];for(var n=0;n<e.associated.length;++n){if("object"!=typeof e.associated[n])throw TypeError(".Definition.associated: object expected");t.associated[n]=a.Reference.fromObject(e.associated[n])}}if(null!=e.value&&(t.value=String(e.value)),null!=e.scope&&(o.Long?(t.scope=o.Long.fromValue(e.scope)).unsigned=!0:"string"==typeof e.scope?t.scope=parseInt(e.scope,10):"number"==typeof e.scope?t.scope=e.scope:"object"==typeof e.scope&&(t.scope=new o.LongBits(e.scope.low>>>0,e.scope.high>>>0).toNumber(!0))),e.children){if(!Array.isArray(e.children))throw TypeError(".Definition.children: array expected");t.children=[];for(n=0;n<e.children.length;++n)o.Long?(t.children[n]=o.Long.fromValue(e.children[n])).unsigned=!0:"string"==typeof e.children[n]?t.children[n]=parseInt(e.children[n],10):"number"==typeof e.children[n]?t.children[n]=e.children[n]:"object"==typeof e.children[n]&&(t.children[n]=new o.LongBits(e.children[n].low>>>0,e.children[n].high>>>0).toNumber(!0))}return t},e.toObject=function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.associated=[],n.children=[]),t.defaults)if(n.kind=0,n.name="",n.modifiers=0,n.uriId=0,n.range=null,n.fqsenHash=0,n.type=null,n.value="",o.Long){var r=new o.Long(0,0,!0);n.scope=t.longs===String?r.toString():t.longs===Number?r.toNumber():r}else n.scope=t.longs===String?"0":0;if(null!=e.kind&&e.hasOwnProperty("kind")&&(n.kind=e.kind),null!=e.name&&e.hasOwnProperty("name")&&(n.name=e.name),null!=e.modifiers&&e.hasOwnProperty("modifiers")&&(n.modifiers=e.modifiers),null!=e.uriId&&e.hasOwnProperty("uriId")&&(n.uriId=e.uriId),null!=e.range&&e.hasOwnProperty("range")&&(n.range=a.PackedRange.toObject(e.range,t)),null!=e.fqsenHash&&e.hasOwnProperty("fqsenHash")&&(n.fqsenHash=e.fqsenHash),null!=e.type&&e.hasOwnProperty("type")&&(n.type=a.DefinitionType.toObject(e.type,t)),e.associated&&e.associated.length){n.associated=[];for(var i=0;i<e.associated.length;++i)n.associated[i]=a.Reference.toObject(e.associated[i],t)}if(null!=e.value&&e.hasOwnProperty("value")&&(n.value=e.value),null!=e.scope&&e.hasOwnProperty("scope")&&("number"==typeof e.scope?n.scope=t.longs===String?String(e.scope):e.scope:n.scope=t.longs===String?o.Long.prototype.toString.call(e.scope):t.longs===Number?new o.LongBits(e.scope.low>>>0,e.scope.high>>>0).toNumber(!0):e.scope),e.children&&e.children.length){n.children=[];for(i=0;i<e.children.length;++i)"number"==typeof e.children[i]?n.children[i]=t.longs===String?String(e.children[i]):e.children[i]:n.children[i]=t.longs===String?o.Long.prototype.toString.call(e.children[i]):t.longs===Number?new o.LongBits(e.children[i].low>>>0,e.children[i].high>>>0).toNumber(!0):e.children[i]}return n},e.prototype.toJSON=function(){return this.constructor.toObject(this,r.util.toJSONOptions)},e}(),a.ReferenceStoreMapPair=function(){function e(e){if(this.value=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.key=0,e.prototype.value=o.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=s.create()),null!=e.key&&e.hasOwnProperty("key")&&t.uint32(8).sint32(e.key),null!=e.value&&e.value.length){t.uint32(18).fork();for(var n=0;n<e.value.length;++n)t.sint32(e.value[n]);t.ldelim()}return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof i||(e=i.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new a.ReferenceStoreMapPair;e.pos<n;){var s=e.uint32();switch(s>>>3){case 1:r.key=e.sint32();break;case 2:if(r.value&&r.value.length||(r.value=[]),2==(7&s))for(var o=e.uint32()+e.pos;e.pos<o;)r.value.push(e.sint32());else r.value.push(e.sint32());break;default:e.skipType(7&s)}}return r},e.decodeDelimited=function(e){return e instanceof i||(e=new i(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.key&&e.hasOwnProperty("key")&&!o.isInteger(e.key))return"key: integer expected";if(null!=e.value&&e.hasOwnProperty("value")){if(!Array.isArray(e.value))return"value: array expected";for(var t=0;t<e.value.length;++t)if(!o.isInteger(e.value[t]))return"value: integer[] expected"}return null},e.fromObject=function(e){if(e instanceof a.ReferenceStoreMapPair)return e;var t=new a.ReferenceStoreMapPair;if(null!=e.key&&(t.key=0|e.key),e.value){if(!Array.isArray(e.value))throw TypeError(".ReferenceStoreMapPair.value: array expected");t.value=[];for(var n=0;n<e.value.length;++n)t.value[n]=0|e.value[n]}return t},e.toObject=function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.value=[]),t.defaults&&(n.key=0),null!=e.key&&e.hasOwnProperty("key")&&(n.key=e.key),e.value&&e.value.length){n.value=[];for(var r=0;r<e.value.length;++r)n.value[r]=e.value[r]}return n},e.prototype.toJSON=function(){return this.constructor.toObject(this,r.util.toJSONOptions)},e}(),a.Metadata=function(){function e(e){if(this.overrides=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.uriId=0,e.prototype.overrides=o.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=s.create()),null!=e.uriId&&e.hasOwnProperty("uriId")&&t.uint32(8).uint32(e.uriId),null!=e.overrides&&e.overrides.length)for(var n=0;n<e.overrides.length;++n)a.MetadataOverride.encode(e.overrides[n],t.uint32(18).fork()).ldelim();return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof i||(e=i.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new a.Metadata;e.pos<n;){var s=e.uint32();switch(s>>>3){case 1:r.uriId=e.uint32();break;case 2:r.overrides&&r.overrides.length||(r.overrides=[]),r.overrides.push(a.MetadataOverride.decode(e,e.uint32()));break;default:e.skipType(7&s)}}return r},e.decodeDelimited=function(e){return e instanceof i||(e=new i(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.uriId&&e.hasOwnProperty("uriId")&&!o.isInteger(e.uriId))return"uriId: integer expected";if(null!=e.overrides&&e.hasOwnProperty("overrides")){if(!Array.isArray(e.overrides))return"overrides: array expected";for(var t=0;t<e.overrides.length;++t){var n=a.MetadataOverride.verify(e.overrides[t]);if(n)return"overrides."+n}}return null},e.fromObject=function(e){if(e instanceof a.Metadata)return e;var t=new a.Metadata;if(null!=e.uriId&&(t.uriId=e.uriId>>>0),e.overrides){if(!Array.isArray(e.overrides))throw TypeError(".Metadata.overrides: array expected");t.overrides=[];for(var n=0;n<e.overrides.length;++n){if("object"!=typeof e.overrides[n])throw TypeError(".Metadata.overrides: object expected");t.overrides[n]=a.MetadataOverride.fromObject(e.overrides[n])}}return t},e.toObject=function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.overrides=[]),t.defaults&&(n.uriId=0),null!=e.uriId&&e.hasOwnProperty("uriId")&&(n.uriId=e.uriId),e.overrides&&e.overrides.length){n.overrides=[];for(var r=0;r<e.overrides.length;++r)n.overrides[r]=a.MetadataOverride.toObject(e.overrides[r],t)}return n},e.prototype.toJSON=function(){return this.constructor.toObject(this,r.util.toJSONOptions)},e}(),a.MetadataOverride=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.uriId=0,e.prototype.fqsenHash=0,e.prototype.argIndex=0,e.prototype.overrideMethod=null,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=s.create()),null!=e.uriId&&e.hasOwnProperty("uriId")&&t.uint32(8).uint32(e.uriId),null!=e.fqsenHash&&e.hasOwnProperty("fqsenHash")&&t.uint32(16).sint32(e.fqsenHash),null!=e.argIndex&&e.hasOwnProperty("argIndex")&&t.uint32(24).uint32(e.argIndex),null!=e.overrideMethod&&e.hasOwnProperty("overrideMethod")&&a.OverrideMethod.encode(e.overrideMethod,t.uint32(34).fork()).ldelim(),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof i||(e=i.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new a.MetadataOverride;e.pos<n;){var s=e.uint32();switch(s>>>3){case 1:r.uriId=e.uint32();break;case 2:r.fqsenHash=e.sint32();break;case 3:r.argIndex=e.uint32();break;case 4:r.overrideMethod=a.OverrideMethod.decode(e,e.uint32());break;default:e.skipType(7&s)}}return r},e.decodeDelimited=function(e){return e instanceof i||(e=new i(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.uriId&&e.hasOwnProperty("uriId")&&!o.isInteger(e.uriId))return"uriId: integer expected";if(null!=e.fqsenHash&&e.hasOwnProperty("fqsenHash")&&!o.isInteger(e.fqsenHash))return"fqsenHash: integer expected";if(null!=e.argIndex&&e.hasOwnProperty("argIndex")&&!o.isInteger(e.argIndex))return"argIndex: integer expected";if(null!=e.overrideMethod&&e.hasOwnProperty("overrideMethod")){var t=a.OverrideMethod.verify(e.overrideMethod);if(t)return"overrideMethod."+t}return null},e.fromObject=function(e){if(e instanceof a.MetadataOverride)return e;var t=new a.MetadataOverride;if(null!=e.uriId&&(t.uriId=e.uriId>>>0),null!=e.fqsenHash&&(t.fqsenHash=0|e.fqsenHash),null!=e.argIndex&&(t.argIndex=e.argIndex>>>0),null!=e.overrideMethod){if("object"!=typeof e.overrideMethod)throw TypeError(".MetadataOverride.overrideMethod: object expected");t.overrideMethod=a.OverrideMethod.fromObject(e.overrideMethod)}return t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.uriId=0,n.fqsenHash=0,n.argIndex=0,n.overrideMethod=null),null!=e.uriId&&e.hasOwnProperty("uriId")&&(n.uriId=e.uriId),null!=e.fqsenHash&&e.hasOwnProperty("fqsenHash")&&(n.fqsenHash=e.fqsenHash),null!=e.argIndex&&e.hasOwnProperty("argIndex")&&(n.argIndex=e.argIndex),null!=e.overrideMethod&&e.hasOwnProperty("overrideMethod")&&(n.overrideMethod=a.OverrideMethod.toObject(e.overrideMethod,t)),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,r.util.toJSONOptions)},e}(),a.OverrideMethod=function(){function e(e){if(this.mapItems=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.kind=0,e.prototype.argIndex=0,e.prototype.useElementType=!1,e.prototype.mapItems=o.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=s.create()),null!=e.kind&&e.hasOwnProperty("kind")&&t.uint32(8).uint32(e.kind),null!=e.argIndex&&e.hasOwnProperty("argIndex")&&t.uint32(16).uint32(e.argIndex),null!=e.useElementType&&e.hasOwnProperty("useElementType")&&t.uint32(24).bool(e.useElementType),null!=e.mapItems&&e.mapItems.length)for(var n=0;n<e.mapItems.length;++n)a.OverrideMethodArgMapItem.encode(e.mapItems[n],t.uint32(34).fork()).ldelim();return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof i||(e=i.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new a.OverrideMethod;e.pos<n;){var s=e.uint32();switch(s>>>3){case 1:r.kind=e.uint32();break;case 2:r.argIndex=e.uint32();break;case 3:r.useElementType=e.bool();break;case 4:r.mapItems&&r.mapItems.length||(r.mapItems=[]),r.mapItems.push(a.OverrideMethodArgMapItem.decode(e,e.uint32()));break;default:e.skipType(7&s)}}return r},e.decodeDelimited=function(e){return e instanceof i||(e=new i(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.kind&&e.hasOwnProperty("kind")&&!o.isInteger(e.kind))return"kind: integer expected";if(null!=e.argIndex&&e.hasOwnProperty("argIndex")&&!o.isInteger(e.argIndex))return"argIndex: integer expected";if(null!=e.useElementType&&e.hasOwnProperty("useElementType")&&"boolean"!=typeof e.useElementType)return"useElementType: boolean expected";if(null!=e.mapItems&&e.hasOwnProperty("mapItems")){if(!Array.isArray(e.mapItems))return"mapItems: array expected";for(var t=0;t<e.mapItems.length;++t){var n=a.OverrideMethodArgMapItem.verify(e.mapItems[t]);if(n)return"mapItems."+n}}return null},e.fromObject=function(e){if(e instanceof a.OverrideMethod)return e;var t=new a.OverrideMethod;if(null!=e.kind&&(t.kind=e.kind>>>0),null!=e.argIndex&&(t.argIndex=e.argIndex>>>0),null!=e.useElementType&&(t.useElementType=Boolean(e.useElementType)),e.mapItems){if(!Array.isArray(e.mapItems))throw TypeError(".OverrideMethod.mapItems: array expected");t.mapItems=[];for(var n=0;n<e.mapItems.length;++n){if("object"!=typeof e.mapItems[n])throw TypeError(".OverrideMethod.mapItems: object expected");t.mapItems[n]=a.OverrideMethodArgMapItem.fromObject(e.mapItems[n])}}return t},e.toObject=function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.mapItems=[]),t.defaults&&(n.kind=0,n.argIndex=0,n.useElementType=!1),null!=e.kind&&e.hasOwnProperty("kind")&&(n.kind=e.kind),null!=e.argIndex&&e.hasOwnProperty("argIndex")&&(n.argIndex=e.argIndex),null!=e.useElementType&&e.hasOwnProperty("useElementType")&&(n.useElementType=e.useElementType),e.mapItems&&e.mapItems.length){n.mapItems=[];for(var r=0;r<e.mapItems.length;++r)n.mapItems[r]=a.OverrideMethodArgMapItem.toObject(e.mapItems[r],t)}return n},e.prototype.toJSON=function(){return this.constructor.toObject(this,r.util.toJSONOptions)},e}(),a.OverrideMethodArgMapItem=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.key=null,e.prototype.value="",e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=s.create()),null!=e.key&&e.hasOwnProperty("key")&&a.Reference.encode(e.key,t.uint32(10).fork()).ldelim(),null!=e.value&&e.hasOwnProperty("value")&&t.uint32(18).string(e.value),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof i||(e=i.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new a.OverrideMethodArgMapItem;e.pos<n;){var s=e.uint32();switch(s>>>3){case 1:r.key=a.Reference.decode(e,e.uint32());break;case 2:r.value=e.string();break;default:e.skipType(7&s)}}return r},e.decodeDelimited=function(e){return e instanceof i||(e=new i(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.key&&e.hasOwnProperty("key")){var t=a.Reference.verify(e.key);if(t)return"key."+t}return null!=e.value&&e.hasOwnProperty("value")&&!o.isString(e.value)?"value: string expected":null},e.fromObject=function(e){if(e instanceof a.OverrideMethodArgMapItem)return e;var t=new a.OverrideMethodArgMapItem;if(null!=e.key){if("object"!=typeof e.key)throw TypeError(".OverrideMethodArgMapItem.key: object expected");t.key=a.Reference.fromObject(e.key)}return null!=e.value&&(t.value=String(e.value)),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.key=null,n.value=""),null!=e.key&&e.hasOwnProperty("key")&&(n.key=a.Reference.toObject(e.key,t)),null!=e.value&&e.hasOwnProperty("value")&&(n.value=e.value),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,r.util.toJSONOptions)},e}(),e.exports=a},function(e,t,n){var r=n(93),i=process.cwd,s=null,o=process.env.GRACEFUL_FS_PLATFORM||process.platform;process.cwd=function(){return s||(s=i.call(process)),s};try{process.cwd()}catch(e){}var a=process.chdir;process.chdir=function(e){s=null,a.call(process,e)},e.exports=function(e){r.hasOwnProperty("O_SYMLINK")&&process.version.match(/^v0\.6\.[0-2]|^v0\.5\./)&&function(e){e.lchmod=function(t,n,i){e.open(t,r.O_WRONLY|r.O_SYMLINK,n,function(t,r){t?i&&i(t):e.fchmod(r,n,function(t){e.close(r,function(e){i&&i(t||e)})})})},e.lchmodSync=function(t,n){var i,s=e.openSync(t,r.O_WRONLY|r.O_SYMLINK,n),o=!0;try{i=e.fchmodSync(s,n),o=!1}finally{if(o)try{e.closeSync(s)}catch(e){}else e.closeSync(s)}return i}}(e);e.lutimes||function(e){r.hasOwnProperty("O_SYMLINK")?(e.lutimes=function(t,n,i,s){e.open(t,r.O_SYMLINK,function(t,r){t?s&&s(t):e.futimes(r,n,i,function(t){e.close(r,function(e){s&&s(t||e)})})})},e.lutimesSync=function(t,n,i){var s,o=e.openSync(t,r.O_SYMLINK),a=!0;try{s=e.futimesSync(o,n,i),a=!1}finally{if(a)try{e.closeSync(o)}catch(e){}else e.closeSync(o)}return s}):(e.lutimes=function(e,t,n,r){r&&process.nextTick(r)},e.lutimesSync=function(){})}(e);e.chown=s(e.chown),e.fchown=s(e.fchown),e.lchown=s(e.lchown),e.chmod=n(e.chmod),e.fchmod=n(e.fchmod),e.lchmod=n(e.lchmod),e.chownSync=a(e.chownSync),e.fchownSync=a(e.fchownSync),e.lchownSync=a(e.lchownSync),e.chmodSync=i(e.chmodSync),e.fchmodSync=i(e.fchmodSync),e.lchmodSync=i(e.lchmodSync),e.stat=c(e.stat),e.fstat=c(e.fstat),e.lstat=c(e.lstat),e.statSync=u(e.statSync),e.fstatSync=u(e.fstatSync),e.lstatSync=u(e.lstatSync),e.lchmod||(e.lchmod=function(e,t,n){n&&process.nextTick(n)},e.lchmodSync=function(){});e.lchown||(e.lchown=function(e,t,n,r){r&&process.nextTick(r)},e.lchownSync=function(){});"win32"===o&&(e.rename=(t=e.rename,function(n,r,i){var s=Date.now(),o=0;t(n,r,function a(c){if(c&&("EACCES"===c.code||"EPERM"===c.code)&&Date.now()-s<6e4)return setTimeout(function(){e.stat(r,function(e,s){e&&"ENOENT"===e.code?t(n,r,a):i(c)})},o),void(o<100&&(o+=10));i&&i(c)})}));var t;function n(t){return t?function(n,r,i){return t.call(e,n,r,function(e){l(e)&&(e=null),i&&i.apply(this,arguments)})}:t}function i(t){return t?function(n,r){try{return t.call(e,n,r)}catch(e){if(!l(e))throw e}}:t}function s(t){return t?function(n,r,i,s){return t.call(e,n,r,i,function(e){l(e)&&(e=null),s&&s.apply(this,arguments)})}:t}function a(t){return t?function(n,r,i){try{return t.call(e,n,r,i)}catch(e){if(!l(e))throw e}}:t}function c(t){return t?function(n,r,i){function s(e,t){t&&(t.uid<0&&(t.uid+=4294967296),t.gid<0&&(t.gid+=4294967296)),i&&i.apply(this,arguments)}return"function"==typeof r&&(i=r,r=null),r?t.call(e,n,r,s):t.call(e,n,s)}:t}function u(t){return t?function(n,r){var i=r?t.call(e,n,r):t.call(e,n);return i.uid<0&&(i.uid+=4294967296),i.gid<0&&(i.gid+=4294967296),i}:t}function l(e){if(!e)return!0;if("ENOSYS"===e.code)return!0;var t=!process.getuid||0!==process.getuid();return!(!t||"EINVAL"!==e.code&&"EPERM"!==e.code)}e.read=(d=e.read,function(t,n,r,i,s,o){var a;if(o&&"function"==typeof o){var c=0;a=function(u,l,h){if(u&&"EAGAIN"===u.code&&c<10)return c++,d.call(e,t,n,r,i,s,a);o.apply(this,arguments)}}return d.call(e,t,n,r,i,s,a)}),e.readSync=(h=e.readSync,function(t,n,r,i,s){for(var o=0;;)try{return h.call(e,t,n,r,i,s)}catch(e){if("EAGAIN"===e.code&&o<10){o++;continue}throw e}});var h;var d}},function(e,t,n){var r=n(23).Stream;e.exports=function(e){return{ReadStream:function t(n,i){if(!(this instanceof t))return new t(n,i);r.call(this);var s=this;this.path=n;this.fd=null;this.readable=!0;this.paused=!1;this.flags="r";this.mode=438;this.bufferSize=65536;i=i||{};var o=Object.keys(i);for(var a=0,c=o.length;a<c;a++){var u=o[a];this[u]=i[u]}this.encoding&&this.setEncoding(this.encoding);if(void 0!==this.start){if("number"!=typeof this.start)throw TypeError("start must be a Number");if(void 0===this.end)this.end=1/0;else if("number"!=typeof this.end)throw TypeError("end must be a Number");if(this.start>this.end)throw new Error("start must be <= end");this.pos=this.start}if(null!==this.fd)return void process.nextTick(function(){s._read()});e.open(this.path,this.flags,this.mode,function(e,t){if(e)return s.emit("error",e),void(s.readable=!1);s.fd=t,s.emit("open",t),s._read()})},WriteStream:function t(n,i){if(!(this instanceof t))return new t(n,i);r.call(this);this.path=n;this.fd=null;this.writable=!0;this.flags="w";this.encoding="binary";this.mode=438;this.bytesWritten=0;i=i||{};var s=Object.keys(i);for(var o=0,a=s.length;o<a;o++){var c=s[o];this[c]=i[c]}if(void 0!==this.start){if("number"!=typeof this.start)throw TypeError("start must be a Number");if(this.start<0)throw new Error("start must be >= zero");this.pos=this.start}this.busy=!1;this._queue=[];null===this.fd&&(this._open=e.open,this._queue.push([this._open,this.path,this.flags,this.mode,void 0]),this.flush())}}}},function(e,t,n){"use strict";e.exports=function(e){if(null===e||"object"!=typeof e)return e;if(e instanceof Object)var t={__proto__:e.__proto__};else var t=Object.create(null);return Object.getOwnPropertyNames(e).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(e,n))}),t}},function(e,t,n){"use strict";const r=n(3),i=n(0),s=n(12).mkdirsSync,o=n(155).utimesMillisSync,a=n(57);function c(e,t,n,s){if(!s.filter||s.filter(t,n))return function(e,t,n,s){const o=(s.dereference?r.statSync:r.lstatSync)(t);if(o.isDirectory())return function(e,t,n,i,s){if(!t)return function(e,t,n,i){return r.mkdirSync(n),l(t,n,i),r.chmodSync(n,e.mode)}(e,n,i,s);if(t&&!t.isDirectory())throw new Error(`Cannot overwrite non-directory '${i}' with directory '${n}'.`);return l(n,i,s)}(o,e,t,n,s);if(o.isFile()||o.isCharacterDevice()||o.isBlockDevice())return function(e,t,n,i,s){return t?function(e,t,n,i){if(i.overwrite)return r.unlinkSync(n),u(e,t,n,i);if(i.errorOnExist)throw new Error(`'${n}' already exists`)}(e,n,i,s):u(e,n,i,s)}(o,e,t,n,s);if(o.isSymbolicLink())return function(e,t,n,s){let o=r.readlinkSync(t);s.dereference&&(o=i.resolve(process.cwd(),o));if(e){let e;try{e=r.readlinkSync(n)}catch(e){if("EINVAL"===e.code||"UNKNOWN"===e.code)return r.symlinkSync(o,n);throw e}if(s.dereference&&(e=i.resolve(process.cwd(),e)),a.isSrcSubdir(o,e))throw new Error(`Cannot copy '${o}' to a subdirectory of itself, '${e}'.`);if(r.statSync(n).isDirectory()&&a.isSrcSubdir(e,o))throw new Error(`Cannot overwrite '${e}' with '${o}'.`);return function(e,t){return r.unlinkSync(t),r.symlinkSync(e,t)}(o,n)}return r.symlinkSync(o,n)}(e,t,n,s)}(e,t,n,s)}function u(e,t,i,s){return"function"==typeof r.copyFileSync?(r.copyFileSync(t,i),r.chmodSync(i,e.mode),s.preserveTimestamps?o(i,e.atime,e.mtime):void 0):function(e,t,i,s){const o=n(368)(65536),a=r.openSync(t,"r"),c=r.openSync(i,"w",e.mode);let u=0;for(;u<e.size;){const e=r.readSync(a,o,0,65536,u);r.writeSync(c,o,0,e),u+=e}s.preserveTimestamps&&r.futimesSync(c,e.atime,e.mtime);r.closeSync(a),r.closeSync(c)}(e,t,i,s)}function l(e,t,n){r.readdirSync(e).forEach(r=>(function(e,t,n,r){const s=i.join(t,e),o=i.join(n,e),{destStat:u}=a.checkPathsSync(s,o,"copy");return c(u,s,o,r)})(r,e,t,n))}e.exports=function(e,t,n){"function"==typeof n&&(n={filter:n}),(n=n||{}).clobber=!("clobber"in n&&!n.clobber),n.overwrite="overwrite"in n?!!n.overwrite:n.clobber,n.preserveTimestamps&&"ia32"===process.arch&&console.warn("fs-extra: Using the preserveTimestamps option in 32-bit node is not recommended;\n\n    see https://github.com/jprichardson/node-fs-extra/issues/269");const{srcStat:o,destStat:u}=a.checkPathsSync(e,t,"copy");return a.checkParentPathsSync(e,o,t,"copy"),function(e,t,n,o){if(o.filter&&!o.filter(t,n))return;const a=i.dirname(n);return r.existsSync(a)||s(a),c(e,t,n,o)}(u,e,t,n)}},function(e,t,n){"use strict";const r=n(3),i=n(0),s=n(154).invalidWin32Path,o=parseInt("0777",8);e.exports=function e(t,n,a,c){if("function"==typeof n?(a=n,n={}):n&&"object"==typeof n||(n={mode:n}),"win32"===process.platform&&s(t)){const e=new Error(t+" contains invalid WIN32 path characters.");return e.code="EINVAL",a(e)}let u=n.mode;const l=n.fs||r;void 0===u&&(u=o&~process.umask()),c||(c=null),a=a||function(){},t=i.resolve(t),l.mkdir(t,u,r=>{if(!r)return a(null,c=c||t);switch(r.code){case"ENOENT":if(i.dirname(t)===t)return a(r);e(i.dirname(t),n,(r,i)=>{r?a(r,i):e(t,n,a,i)});break;default:l.stat(t,(e,t)=>{e||!t.isDirectory()?a(r,c):a(null,c)})}})}},function(e,t,n){"use strict";const r=n(3),i=n(0),s=n(154).invalidWin32Path,o=parseInt("0777",8);e.exports=function e(t,n,a){n&&"object"==typeof n||(n={mode:n});let c=n.mode;const u=n.fs||r;if("win32"===process.platform&&s(t)){const e=new Error(t+" contains invalid WIN32 path characters.");throw e.code="EINVAL",e}void 0===c&&(c=o&~process.umask()),a||(a=null),t=i.resolve(t);try{u.mkdirSync(t,c),a=a||t}catch(r){if("ENOENT"===r.code){if(i.dirname(t)===t)throw r;a=e(i.dirname(t),n,a),e(t,n,a)}else{let e;try{e=u.statSync(t)}catch(e){throw r}if(!e.isDirectory())throw r}}return a}},function(e,t,n){"use strict";e.exports=function(e){if("function"==typeof Buffer.allocUnsafe)try{return Buffer.allocUnsafe(e)}catch(t){return new Buffer(e)}return new Buffer(e)}},function(e,t,n){"use strict";const r=n(3),i=n(0),s=n(12).mkdirs,o=n(24).pathExists,a=n(155).utimesMillis,c=n(57);function u(e,t,n,r,a){const c=i.dirname(n);o(c,(i,o)=>i?a(i):o?h(e,t,n,r,a):void s(c,i=>i?a(i):h(e,t,n,r,a)))}function l(e,t,n,r,i,s){Promise.resolve(i.filter(n,r)).then(o=>o?e(t,n,r,i,s):s(),e=>s(e))}function h(e,t,n,r,i){return r.filter?l(d,e,t,n,r,i):d(e,t,n,r,i)}function d(e,t,n,i,s){(i.dereference?r.stat:r.lstat)(t,(o,a)=>o?s(o):a.isDirectory()?function(e,t,n,i,s,o){if(!t)return function(e,t,n,i,s){r.mkdir(n,o=>{if(o)return s(o);_(t,n,i,t=>t?s(t):r.chmod(n,e.mode,s))})}(e,n,i,s,o);if(t&&!t.isDirectory())return o(new Error(`Cannot overwrite non-directory '${i}' with directory '${n}'.`));return _(n,i,s,o)}(a,e,t,n,i,s):a.isFile()||a.isCharacterDevice()||a.isBlockDevice()?function(e,t,n,i,s,o){return t?function(e,t,n,i,s){if(!i.overwrite)return i.errorOnExist?s(new Error(`'${n}' already exists`)):s();r.unlink(n,r=>r?s(r):p(e,t,n,i,s))}(e,n,i,s,o):p(e,n,i,s,o)}(a,e,t,n,i,s):a.isSymbolicLink()?g(e,t,n,i,s):void 0)}function p(e,t,n,i,s){return"function"==typeof r.copyFile?r.copyFile(t,n,t=>t?s(t):f(e,n,i,s)):function(e,t,n,i,s){const o=r.createReadStream(t);o.on("error",e=>s(e)).once("open",()=>{const t=r.createWriteStream(n,{mode:e.mode});t.on("error",e=>s(e)).on("open",()=>o.pipe(t)).once("close",()=>f(e,n,i,s))})}(e,t,n,i,s)}function f(e,t,n,i){r.chmod(t,e.mode,r=>r?i(r):n.preserveTimestamps?a(t,e.atime,e.mtime,i):i())}function _(e,t,n,i){r.readdir(e,(r,s)=>r?i(r):m(s,e,t,n,i))}function m(e,t,n,r,s){const o=e.pop();return o?function(e,t,n,r,s,o){const a=i.join(n,t),u=i.join(r,t);c.checkPaths(a,u,"copy",(t,i)=>{if(t)return o(t);const{destStat:c}=i;h(c,a,u,s,t=>t?o(t):m(e,n,r,s,o))})}(e,o,t,n,r,s):s()}function g(e,t,n,s,o){r.readlink(t,(t,a)=>t?o(t):(s.dereference&&(a=i.resolve(process.cwd(),a)),e?void r.readlink(n,(t,u)=>t?"EINVAL"===t.code||"UNKNOWN"===t.code?r.symlink(a,n,o):o(t):(s.dereference&&(u=i.resolve(process.cwd(),u)),c.isSrcSubdir(a,u)?o(new Error(`Cannot copy '${a}' to a subdirectory of itself, '${u}'.`)):e.isDirectory()&&c.isSrcSubdir(u,a)?o(new Error(`Cannot overwrite '${u}' with '${a}'.`)):function(e,t,n){r.unlink(t,i=>i?n(i):r.symlink(e,t,n))}(a,n,o))):r.symlink(a,n,o)))}e.exports=function(e,t,n,r){"function"!=typeof n||r?"function"==typeof n&&(n={filter:n}):(r=n,n={}),r=r||function(){},(n=n||{}).clobber=!("clobber"in n&&!n.clobber),n.overwrite="overwrite"in n?!!n.overwrite:n.clobber,n.preserveTimestamps&&"ia32"===process.arch&&console.warn("fs-extra: Using the preserveTimestamps option in 32-bit node is not recommended;\n\n    see https://github.com/jprichardson/node-fs-extra/issues/269"),c.checkPaths(e,t,"copy",(i,s)=>{if(i)return r(i);const{srcStat:o,destStat:a}=s;c.checkParentPaths(e,o,t,"copy",i=>i?r(i):n.filter?l(u,a,e,t,n,r):u(a,e,t,n,r))})}},function(e,t,n){"use strict";const r=n(11).fromCallback,i=n(3),s=n(0),o=n(12),a=n(58),c=r(function(e,t){t=t||function(){},i.readdir(e,(n,r)=>{if(n)return o.mkdirs(e,t);r=r.map(t=>s.join(e,t)),function e(){const n=r.pop();if(!n)return t();a.remove(n,n=>{if(n)return t(n);e()})}()})});function u(e){let t;try{t=i.readdirSync(e)}catch(t){return o.mkdirsSync(e)}t.forEach(t=>{t=s.join(e,t),a.removeSync(t)})}e.exports={emptyDirSync:u,emptydirSync:u,emptyDir:c,emptydir:c}},function(e,t,n){"use strict";const r=n(3),i=n(0),s=n(33),o="win32"===process.platform;function a(e){["unlink","chmod","stat","lstat","rmdir","readdir"].forEach(t=>{e[t]=e[t]||r[t],e[t+="Sync"]=e[t]||r[t]}),e.maxBusyTries=e.maxBusyTries||3}function c(e,t,n){let r=0;"function"==typeof t&&(n=t,t={}),s(e,"rimraf: missing path"),s.strictEqual(typeof e,"string","rimraf: path should be a string"),s.strictEqual(typeof n,"function","rimraf: callback function required"),s(t,"rimraf: invalid options argument provided"),s.strictEqual(typeof t,"object","rimraf: options should be object"),a(t),u(e,t,function i(s){if(s){if(("EBUSY"===s.code||"ENOTEMPTY"===s.code||"EPERM"===s.code)&&r<t.maxBusyTries){return r++,setTimeout(()=>u(e,t,i),100*r)}"ENOENT"===s.code&&(s=null)}n(s)})}function u(e,t,n){s(e),s(t),s("function"==typeof n),t.lstat(e,(r,i)=>r&&"ENOENT"===r.code?n(null):r&&"EPERM"===r.code&&o?l(e,t,r,n):i&&i.isDirectory()?d(e,t,r,n):void t.unlink(e,r=>{if(r){if("ENOENT"===r.code)return n(null);if("EPERM"===r.code)return o?l(e,t,r,n):d(e,t,r,n);if("EISDIR"===r.code)return d(e,t,r,n)}return n(r)}))}function l(e,t,n,r){s(e),s(t),s("function"==typeof r),n&&s(n instanceof Error),t.chmod(e,438,i=>{i?r("ENOENT"===i.code?null:n):t.stat(e,(i,s)=>{i?r("ENOENT"===i.code?null:n):s.isDirectory()?d(e,t,n,r):t.unlink(e,r)})})}function h(e,t,n){let r;s(e),s(t),n&&s(n instanceof Error);try{t.chmodSync(e,438)}catch(e){if("ENOENT"===e.code)return;throw n}try{r=t.statSync(e)}catch(e){if("ENOENT"===e.code)return;throw n}r.isDirectory()?f(e,t,n):t.unlinkSync(e)}function d(e,t,n,r){s(e),s(t),n&&s(n instanceof Error),s("function"==typeof r),t.rmdir(e,o=>{!o||"ENOTEMPTY"!==o.code&&"EEXIST"!==o.code&&"EPERM"!==o.code?o&&"ENOTDIR"===o.code?r(n):r(o):function(e,t,n){s(e),s(t),s("function"==typeof n),t.readdir(e,(r,s)=>{if(r)return n(r);let o,a=s.length;if(0===a)return t.rmdir(e,n);s.forEach(r=>{c(i.join(e,r),t,r=>{if(!o)return r?n(o=r):void(0==--a&&t.rmdir(e,n))})})})}(e,t,r)})}function p(e,t){let n;a(t=t||{}),s(e,"rimraf: missing path"),s.strictEqual(typeof e,"string","rimraf: path should be a string"),s(t,"rimraf: missing options"),s.strictEqual(typeof t,"object","rimraf: options should be object");try{n=t.lstatSync(e)}catch(n){if("ENOENT"===n.code)return;"EPERM"===n.code&&o&&h(e,t,n)}try{n&&n.isDirectory()?f(e,t,null):t.unlinkSync(e)}catch(n){if("ENOENT"===n.code)return;if("EPERM"===n.code)return o?h(e,t,n):f(e,t,n);if("EISDIR"!==n.code)throw n;f(e,t,n)}}function f(e,t,n){s(e),s(t),n&&s(n instanceof Error);try{t.rmdirSync(e)}catch(r){if("ENOTDIR"===r.code)throw n;if("ENOTEMPTY"===r.code||"EEXIST"===r.code||"EPERM"===r.code)!function(e,t){if(s(e),s(t),t.readdirSync(e).forEach(n=>p(i.join(e,n),t)),!o){const n=t.rmdirSync(e,t);return n}{const n=Date.now();do{try{const n=t.rmdirSync(e,t);return n}catch(e){}}while(Date.now()-n<500)}}(e,t);else if("ENOENT"!==r.code)throw r}}e.exports=c,c.sync=p},function(e,t,n){"use strict";const r=n(373),i=n(374),s=n(375);e.exports={createFile:r.createFile,createFileSync:r.createFileSync,ensureFile:r.createFile,ensureFileSync:r.createFileSync,createLink:i.createLink,createLinkSync:i.createLinkSync,ensureLink:i.createLink,ensureLinkSync:i.createLinkSync,createSymlink:s.createSymlink,createSymlinkSync:s.createSymlinkSync,ensureSymlink:s.createSymlink,ensureSymlinkSync:s.createSymlinkSync}},function(e,t,n){"use strict";const r=n(11).fromCallback,i=n(0),s=n(3),o=n(12),a=n(24).pathExists;e.exports={createFile:r(function(e,t){function n(){s.writeFile(e,"",e=>{if(e)return t(e);t()})}s.stat(e,(r,s)=>{if(!r&&s.isFile())return t();const c=i.dirname(e);a(c,(e,r)=>e?t(e):r?n():void o.mkdirs(c,e=>{if(e)return t(e);n()}))})}),createFileSync:function(e){let t;try{t=s.statSync(e)}catch(e){}if(t&&t.isFile())return;const n=i.dirname(e);s.existsSync(n)||o.mkdirsSync(n),s.writeFileSync(e,"")}}},function(e,t,n){"use strict";const r=n(11).fromCallback,i=n(0),s=n(3),o=n(12),a=n(24).pathExists;e.exports={createLink:r(function(e,t,n){function r(e,t){s.link(e,t,e=>{if(e)return n(e);n(null)})}a(t,(c,u)=>c?n(c):u?n(null):void s.lstat(e,s=>{if(s)return s.message=s.message.replace("lstat","ensureLink"),n(s);const c=i.dirname(t);a(c,(i,s)=>i?n(i):s?r(e,t):void o.mkdirs(c,i=>{if(i)return n(i);r(e,t)}))}))}),createLinkSync:function(e,t){if(s.existsSync(t))return;try{s.lstatSync(e)}catch(e){throw e.message=e.message.replace("lstat","ensureLink"),e}const n=i.dirname(t);return s.existsSync(n)?s.linkSync(e,t):(o.mkdirsSync(n),s.linkSync(e,t))}}},function(e,t,n){"use strict";const r=n(11).fromCallback,i=n(0),s=n(3),o=n(12),a=o.mkdirs,c=o.mkdirsSync,u=n(376),l=u.symlinkPaths,h=u.symlinkPathsSync,d=n(377),p=d.symlinkType,f=d.symlinkTypeSync,_=n(24).pathExists;e.exports={createSymlink:r(function(e,t,n,r){r="function"==typeof n?n:r,n="function"!=typeof n&&n,_(t,(o,c)=>o?r(o):c?r(null):void l(e,t,(o,c)=>{if(o)return r(o);e=c.toDst,p(c.toCwd,n,(n,o)=>{if(n)return r(n);const c=i.dirname(t);_(c,(n,i)=>n?r(n):i?s.symlink(e,t,o,r):void a(c,n=>{if(n)return r(n);s.symlink(e,t,o,r)}))})}))}),createSymlinkSync:function(e,t,n){if(s.existsSync(t))return;const r=h(e,t);e=r.toDst,n=f(r.toCwd,n);const o=i.dirname(t);return s.existsSync(o)?s.symlinkSync(e,t,n):(c(o),s.symlinkSync(e,t,n))}}},function(e,t,n){"use strict";const r=n(0),i=n(3),s=n(24).pathExists;e.exports={symlinkPaths:function(e,t,n){if(r.isAbsolute(e))return i.lstat(e,t=>t?(t.message=t.message.replace("lstat","ensureSymlink"),n(t)):n(null,{toCwd:e,toDst:e}));{const o=r.dirname(t),a=r.join(o,e);return s(a,(t,s)=>t?n(t):s?n(null,{toCwd:a,toDst:e}):i.lstat(e,t=>t?(t.message=t.message.replace("lstat","ensureSymlink"),n(t)):n(null,{toCwd:e,toDst:r.relative(o,e)})))}},symlinkPathsSync:function(e,t){let n;if(r.isAbsolute(e)){if(!(n=i.existsSync(e)))throw new Error("absolute srcpath does not exist");return{toCwd:e,toDst:e}}{const s=r.dirname(t),o=r.join(s,e);if(n=i.existsSync(o))return{toCwd:o,toDst:e};if(!(n=i.existsSync(e)))throw new Error("relative srcpath does not exist");return{toCwd:e,toDst:r.relative(s,e)}}}}},function(e,t,n){"use strict";const r=n(3);e.exports={symlinkType:function(e,t,n){if(n="function"==typeof t?t:n,t="function"!=typeof t&&t)return n(null,t);r.lstat(e,(e,r)=>{if(e)return n(null,"file");t=r&&r.isDirectory()?"dir":"file",n(null,t)})},symlinkTypeSync:function(e,t){let n;if(t)return t;try{n=r.lstatSync(e)}catch(e){return"file"}return n&&n.isDirectory()?"dir":"file"}}},function(e,t,n){"use strict";const r=n(11).fromCallback,i=n(94);i.outputJson=r(n(384)),i.outputJsonSync=n(385),i.outputJSON=i.outputJson,i.outputJSONSync=i.outputJsonSync,i.writeJSON=i.writeJson,i.writeJSONSync=i.writeJsonSync,i.readJSON=i.readJson,i.readJSONSync=i.readJsonSync,e.exports=i},function(e,t,n){var r;try{r=n(380)}catch(e){r=n(14)}function i(e,t){var n,r="\n";return"object"==typeof t&&null!==t&&(t.spaces&&(n=t.spaces),t.EOL&&(r=t.EOL)),JSON.stringify(e,t?t.replacer:null,n).replace(/\n/g,r)+r}function s(e){return Buffer.isBuffer(e)&&(e=e.toString("utf8")),e=e.replace(/^\uFEFF/,"")}var o={readFile:function(e,t,n){null==n&&(n=t,t={}),"string"==typeof t&&(t={encoding:t});var i=(t=t||{}).fs||r,o=!0;"throws"in t&&(o=t.throws),i.readFile(e,t,function(r,i){if(r)return n(r);var a;i=s(i);try{a=JSON.parse(i,t?t.reviver:null)}catch(t){return o?(t.message=e+": "+t.message,n(t)):n(null,null)}n(null,a)})},readFileSync:function(e,t){"string"==typeof(t=t||{})&&(t={encoding:t});var n=t.fs||r,i=!0;"throws"in t&&(i=t.throws);try{var o=n.readFileSync(e,t);return o=s(o),JSON.parse(o,t.reviver)}catch(t){if(i)throw t.message=e+": "+t.message,t;return null}},writeFile:function(e,t,n,s){null==s&&(s=n,n={});var o=(n=n||{}).fs||r,a="";try{a=i(t,n)}catch(e){return void(s&&s(e,null))}o.writeFile(e,a,n,s)},writeFileSync:function(e,t,n){var s=(n=n||{}).fs||r,o=i(t,n);return s.writeFileSync(e,o,n)}};e.exports=o},function(e,t,n){var r=n(14),i=n(381),s=n(382),o=n(383),a=[],c=n(16);var u,l,h=function(){};function d(e){i(e),e.gracefulify=d,e.FileReadStream=h,e.FileWriteStream=_,e.createReadStream=function(e,t){return new h(e,t)},e.createWriteStream=function(e,t){return new _(e,t)};var t=e.readFile;e.readFile=function(e,n,r){"function"==typeof n&&(r=n,n=null);return function e(n,r,i){return t(n,r,function(t){!t||"EMFILE"!==t.code&&"ENFILE"!==t.code?("function"==typeof i&&i.apply(this,arguments),f()):p([e,[n,r,i]])})}(e,n,r)};var n=e.writeFile;e.writeFile=function(e,t,r,i){"function"==typeof r&&(i=r,r=null);return function e(t,r,i,s){return n(t,r,i,function(n){!n||"EMFILE"!==n.code&&"ENFILE"!==n.code?("function"==typeof s&&s.apply(this,arguments),f()):p([e,[t,r,i,s]])})}(e,t,r,i)};var r=e.appendFile;r&&(e.appendFile=function(e,t,n,i){"function"==typeof n&&(i=n,n=null);return function e(t,n,i,s){return r(t,n,i,function(r){!r||"EMFILE"!==r.code&&"ENFILE"!==r.code?("function"==typeof s&&s.apply(this,arguments),f()):p([e,[t,n,i,s]])})}(e,t,n,i)});var o=e.readdir;function a(t){return o.apply(e,t)}if(e.readdir=function(e,t,n){var r=[e];"function"!=typeof t?r.push(t):n=t;return r.push(function(e,t){t&&t.sort&&t.sort(),!e||"EMFILE"!==e.code&&"ENFILE"!==e.code?("function"==typeof n&&n.apply(this,arguments),f()):p([a,[r]])}),a(r)},"v0.8"===process.version.substr(0,4)){var c=s(e);h=c.ReadStream,_=c.WriteStream}var u=e.ReadStream;u&&(h.prototype=Object.create(u.prototype),h.prototype.open=function(){var e=this;g(e.path,e.flags,e.mode,function(t,n){t?(e.autoClose&&e.destroy(),e.emit("error",t)):(e.fd=n,e.emit("open",n),e.read())})});var l=e.WriteStream;function h(e,t){return this instanceof h?(u.apply(this,arguments),this):h.apply(Object.create(h.prototype),arguments)}function _(e,t){return this instanceof _?(l.apply(this,arguments),this):_.apply(Object.create(_.prototype),arguments)}l&&(_.prototype=Object.create(l.prototype),_.prototype.open=function(){var e=this;g(e.path,e.flags,e.mode,function(t,n){t?(e.destroy(),e.emit("error",t)):(e.fd=n,e.emit("open",n))})}),e.ReadStream=h,e.WriteStream=_;var m=e.open;function g(e,t,n,r){return"function"==typeof n&&(r=n,n=null),function e(t,n,r,i){return m(t,n,r,function(s,o){!s||"EMFILE"!==s.code&&"ENFILE"!==s.code?("function"==typeof i&&i.apply(this,arguments),f()):p([e,[t,n,r,i]])})}(e,t,n,r)}return e.open=g,e}function p(e){h("ENQUEUE",e[0].name,e[1]),a.push(e)}function f(){var e=a.shift();e&&(h("RETRY",e[0].name,e[1]),e[0].apply(null,e[1]))}c.debuglog?h=c.debuglog("gfs4"):/\bgfs4\b/i.test(process.env.NODE_DEBUG||"")&&(h=function(){var e=c.format.apply(c,arguments);e="GFS4: "+e.split(/\n/).join("\nGFS4: "),console.error(e)}),/\bgfs4\b/i.test(process.env.NODE_DEBUG||"")&&process.on("exit",function(){h(a),n(33).equal(a.length,0)}),e.exports=d(o(r)),process.env.TEST_GRACEFUL_FS_GLOBAL_PATCH&&!r.__patched&&(e.exports=d(r),r.__patched=!0),e.exports.close=(u=r.close,function(e,t){return u.call(r,e,function(e){e||f(),"function"==typeof t&&t.apply(this,arguments)})}),e.exports.closeSync=(l=r.closeSync,function(e){var t=l.apply(r,arguments);return f(),t}),/\bgraceful-fs\b/.test(r.closeSync.toString())||(r.closeSync=e.exports.closeSync,r.close=e.exports.close)},function(e,t,n){var r=n(93),i=process.cwd,s=null,o=process.env.GRACEFUL_FS_PLATFORM||process.platform;process.cwd=function(){return s||(s=i.call(process)),s};try{process.cwd()}catch(e){}var a=process.chdir;process.chdir=function(e){s=null,a.call(process,e)},e.exports=function(e){r.hasOwnProperty("O_SYMLINK")&&process.version.match(/^v0\.6\.[0-2]|^v0\.5\./)&&function(e){e.lchmod=function(t,n,i){e.open(t,r.O_WRONLY|r.O_SYMLINK,n,function(t,r){t?i&&i(t):e.fchmod(r,n,function(t){e.close(r,function(e){i&&i(t||e)})})})},e.lchmodSync=function(t,n){var i,s=e.openSync(t,r.O_WRONLY|r.O_SYMLINK,n),o=!0;try{i=e.fchmodSync(s,n),o=!1}finally{if(o)try{e.closeSync(s)}catch(e){}else e.closeSync(s)}return i}}(e);e.lutimes||function(e){r.hasOwnProperty("O_SYMLINK")?(e.lutimes=function(t,n,i,s){e.open(t,r.O_SYMLINK,function(t,r){t?s&&s(t):e.futimes(r,n,i,function(t){e.close(r,function(e){s&&s(t||e)})})})},e.lutimesSync=function(t,n,i){var s,o=e.openSync(t,r.O_SYMLINK),a=!0;try{s=e.futimesSync(o,n,i),a=!1}finally{if(a)try{e.closeSync(o)}catch(e){}else e.closeSync(o)}return s}):(e.lutimes=function(e,t,n,r){r&&process.nextTick(r)},e.lutimesSync=function(){})}(e);e.chown=s(e.chown),e.fchown=s(e.fchown),e.lchown=s(e.lchown),e.chmod=n(e.chmod),e.fchmod=n(e.fchmod),e.lchmod=n(e.lchmod),e.chownSync=a(e.chownSync),e.fchownSync=a(e.fchownSync),e.lchownSync=a(e.lchownSync),e.chmodSync=i(e.chmodSync),e.fchmodSync=i(e.fchmodSync),e.lchmodSync=i(e.lchmodSync),e.stat=c(e.stat),e.fstat=c(e.fstat),e.lstat=c(e.lstat),e.statSync=u(e.statSync),e.fstatSync=u(e.fstatSync),e.lstatSync=u(e.lstatSync),e.lchmod||(e.lchmod=function(e,t,n){n&&process.nextTick(n)},e.lchmodSync=function(){});e.lchown||(e.lchown=function(e,t,n,r){r&&process.nextTick(r)},e.lchownSync=function(){});"win32"===o&&(e.rename=(t=e.rename,function(n,r,i){var s=Date.now(),o=0;t(n,r,function a(c){if(c&&("EACCES"===c.code||"EPERM"===c.code)&&Date.now()-s<6e4)return setTimeout(function(){e.stat(r,function(e,s){e&&"ENOENT"===e.code?t(n,r,a):i(c)})},o),void(o<100&&(o+=10));i&&i(c)})}));var t;function n(t){return t?function(n,r,i){return t.call(e,n,r,function(e){l(e)&&(e=null),i&&i.apply(this,arguments)})}:t}function i(t){return t?function(n,r){try{return t.call(e,n,r)}catch(e){if(!l(e))throw e}}:t}function s(t){return t?function(n,r,i,s){return t.call(e,n,r,i,function(e){l(e)&&(e=null),s&&s.apply(this,arguments)})}:t}function a(t){return t?function(n,r,i){try{return t.call(e,n,r,i)}catch(e){if(!l(e))throw e}}:t}function c(t){return t?function(n,r){return t.call(e,n,function(e,t){if(!t)return r.apply(this,arguments);t.uid<0&&(t.uid+=4294967296),t.gid<0&&(t.gid+=4294967296),r&&r.apply(this,arguments)})}:t}function u(t){return t?function(n){var r=t.call(e,n);return r.uid<0&&(r.uid+=4294967296),r.gid<0&&(r.gid+=4294967296),r}:t}function l(e){if(!e)return!0;if("ENOSYS"===e.code)return!0;var t=!process.getuid||0!==process.getuid();return!(!t||"EINVAL"!==e.code&&"EPERM"!==e.code)}e.read=(d=e.read,function(t,n,r,i,s,o){var a;if(o&&"function"==typeof o){var c=0;a=function(u,l,h){if(u&&"EAGAIN"===u.code&&c<10)return c++,d.call(e,t,n,r,i,s,a);o.apply(this,arguments)}}return d.call(e,t,n,r,i,s,a)}),e.readSync=(h=e.readSync,function(t,n,r,i,s){for(var o=0;;)try{return h.call(e,t,n,r,i,s)}catch(e){if("EAGAIN"===e.code&&o<10){o++;continue}throw e}});var h;var d}},function(e,t,n){var r=n(23).Stream;e.exports=function(e){return{ReadStream:function t(n,i){if(!(this instanceof t))return new t(n,i);r.call(this);var s=this;this.path=n;this.fd=null;this.readable=!0;this.paused=!1;this.flags="r";this.mode=438;this.bufferSize=65536;i=i||{};var o=Object.keys(i);for(var a=0,c=o.length;a<c;a++){var u=o[a];this[u]=i[u]}this.encoding&&this.setEncoding(this.encoding);if(void 0!==this.start){if("number"!=typeof this.start)throw TypeError("start must be a Number");if(void 0===this.end)this.end=1/0;else if("number"!=typeof this.end)throw TypeError("end must be a Number");if(this.start>this.end)throw new Error("start must be <= end");this.pos=this.start}if(null!==this.fd)return void process.nextTick(function(){s._read()});e.open(this.path,this.flags,this.mode,function(e,t){if(e)return s.emit("error",e),void(s.readable=!1);s.fd=t,s.emit("open",t),s._read()})},WriteStream:function t(n,i){if(!(this instanceof t))return new t(n,i);r.call(this);this.path=n;this.fd=null;this.writable=!0;this.flags="w";this.encoding="binary";this.mode=438;this.bytesWritten=0;i=i||{};var s=Object.keys(i);for(var o=0,a=s.length;o<a;o++){var c=s[o];this[c]=i[c]}if(void 0!==this.start){if("number"!=typeof this.start)throw TypeError("start must be a Number");if(this.start<0)throw new Error("start must be >= zero");this.pos=this.start}this.busy=!1;this._queue=[];null===this.fd&&(this._open=e.open,this._queue.push([this._open,this.path,this.flags,this.mode,void 0]),this.flush())}}}},function(e,t,n){"use strict";e.exports=function(e){if(null===e||"object"!=typeof e)return e;if(e instanceof Object)var t={__proto__:e.__proto__};else var t=Object.create(null);return Object.getOwnPropertyNames(e).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(e,n))}),t}},function(e,t,n){"use strict";const r=n(0),i=n(12),s=n(24).pathExists,o=n(94);e.exports=function(e,t,n,a){"function"==typeof n&&(a=n,n={});const c=r.dirname(e);s(c,(r,s)=>r?a(r):s?o.writeJson(e,t,n,a):void i.mkdirs(c,r=>{if(r)return a(r);o.writeJson(e,t,n,a)}))}},function(e,t,n){"use strict";const r=n(3),i=n(0),s=n(12),o=n(94);e.exports=function(e,t,n){const a=i.dirname(e);r.existsSync(a)||s.mkdirsSync(a),o.writeJsonSync(e,t,n)}},function(e,t,n){"use strict";e.exports={moveSync:n(387)}},function(e,t,n){"use strict";const r=n(3),i=n(0),s=n(153).copySync,o=n(58).removeSync,a=n(12).mkdirpSync,c=n(57);function u(e,t,n){try{r.renameSync(e,t)}catch(r){if("EXDEV"!==r.code)throw r;return function(e,t,n){return s(e,t,{overwrite:n,errorOnExist:!0}),o(e)}(e,t,n)}}e.exports=function(e,t,n){const s=(n=n||{}).overwrite||n.clobber||!1,{srcStat:l}=c.checkPathsSync(e,t,"move");return c.checkParentPathsSync(e,l,t,"move"),a(i.dirname(t)),function(e,t,n){if(n)return o(t),u(e,t,n);if(r.existsSync(t))throw new Error("dest already exists.");return u(e,t,n)}(e,t,s)}},function(e,t,n){"use strict";const r=n(11).fromCallback;e.exports={move:r(n(389))}},function(e,t,n){"use strict";const r=n(3),i=n(0),s=n(156).copy,o=n(58).remove,a=n(12).mkdirp,c=n(24).pathExists,u=n(57);function l(e,t,n,i){r.rename(e,t,r=>r?"EXDEV"!==r.code?i(r):function(e,t,n,r){s(e,t,{overwrite:n,errorOnExist:!0},t=>t?r(t):o(e,r))}(e,t,n,i):i())}e.exports=function(e,t,n,r){"function"==typeof n&&(r=n,n={});const s=n.overwrite||n.clobber||!1;u.checkPaths(e,t,"move",(n,h)=>{if(n)return r(n);const{srcStat:d}=h;u.checkParentPaths(e,d,t,"move",n=>{if(n)return r(n);a(i.dirname(t),n=>n?r(n):function(e,t,n,r){if(n)return o(t,i=>i?r(i):l(e,t,n,r));c(t,(i,s)=>i?r(i):s?r(new Error("dest already exists.")):l(e,t,n,r))}(e,t,s,r))})})}},function(e,t,n){"use strict";const r=n(11).fromCallback,i=n(3),s=n(0),o=n(12),a=n(24).pathExists;e.exports={outputFile:r(function(e,t,n,r){"function"==typeof n&&(r=n,n="utf8");const c=s.dirname(e);a(c,(s,a)=>s?r(s):a?i.writeFile(e,t,n,r):void o.mkdirs(c,s=>{if(s)return r(s);i.writeFile(e,t,n,r)}))}),outputFileSync:function(e,...t){const n=s.dirname(e);if(i.existsSync(n))return i.writeFileSync(e,...t);o.mkdirsSync(n),i.writeFileSync(e,...t)}}},function(e,t,n){"use strict";const r=n(392),i=n(413),s=n(435),o=n(436),a=n(438),c=n(28);function u(e,t){try{h(e)}catch(e){return Promise.reject(e)}const n=l(e,i.default,t);return Promise.all(n).then(c.array.flatten)}function l(e,t,n){const i=[].concat(e),s=new a.default(n),o=r.generate(i,s),c=new t(s);return o.map(c.read,c)}function h(e){if(![].concat(e).every(d))throw new TypeError("Patterns must be a string or an array of strings")}function d(e){return"string"==typeof e}!function(e){e.sync=function(e,t){h(e);const n=l(e,o.default,t);return c.array.flatten(n)},e.stream=function(e,t){h(e);const n=l(e,s.default,t);return c.stream.merge(n)},e.generateTasks=function(e,t){h(e);const n=[].concat(e),i=new a.default(t);return r.generate(n,i)}}(u||(u={})),e.exports=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(28);function i(e,t,n){const r=a(e);if("."in r){return[u(".",e,t,n)]}return c(r,t,n)}function s(e){return r.pattern.getPositivePatterns(e)}function o(e,t){return r.pattern.getNegativePatterns(e).concat(t).map(r.pattern.convertToPositivePattern)}function a(e){return e.reduce((e,t)=>{const n=r.pattern.getBaseDirectory(t);return n in e?e[n].push(t):e[n]=[t],e},{})}function c(e,t,n){return Object.keys(e).map(r=>u(r,e[r],t,n))}function u(e,t,n,i){return{dynamic:i,positive:t,negative:n,base:e,patterns:[].concat(t,n.map(r.pattern.convertToNegativePattern))}}t.generate=function(e,t){const n=s(e),a=o(e,t.ignore),c=t.caseSensitiveMatch?n.filter(r.pattern.isStaticPattern):[],u=t.caseSensitiveMatch?n.filter(r.pattern.isDynamicPattern):n,l=i(c,a,!1),h=i(u,a,!0);return l.concat(h)},t.convertPatternsToTasks=i,t.getPositivePatterns=s,t.getNegativePatternsAsPositive=o,t.groupPatternsByBaseDirectory=a,t.convertPatternGroupsToTasks=c,t.convertPatternGroupToTask=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.flatten=function(e){return e.reduce((e,t)=>[].concat(e,t),[])}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isEnoentCodeError=function(e){return"ENOENT"===e.code}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});class r{constructor(e,t){this.name=e,this.isBlockDevice=t.isBlockDevice.bind(t),this.isCharacterDevice=t.isCharacterDevice.bind(t),this.isDirectory=t.isDirectory.bind(t),this.isFIFO=t.isFIFO.bind(t),this.isFile=t.isFile.bind(t),this.isSocket=t.isSocket.bind(t),this.isSymbolicLink=t.isSymbolicLink.bind(t)}}t.createDirentFromStats=function(e,t){return new r(e,t)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(0);t.unixify=function(e){return e.replace(/\\/g,"/")},t.makeAbsolute=function(e,t){return r.resolve(e,t)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(0),i=n(398),s=n(157),o=n(158),a="**";function c(e){return!u(e)}function u(e){return s(e,{strict:!1})}function l(e){return e.startsWith("!")&&"("!==e[1]}function h(e){return!l(e)}function d(e){return i(e)}function p(e){return e.endsWith("/"+a)}function f(e){const t=d(e),n=e.split("/").length,r=t.split("/").length;return"."===t?n-r:n-r-1}function _(e,t){return o.makeRe(e,t)}t.isStaticPattern=c,t.isDynamicPattern=u,t.convertToPositivePattern=function(e){return l(e)?e.slice(1):e},t.convertToNegativePattern=function(e){return"!"+e},t.isNegativePattern=l,t.isPositivePattern=h,t.getNegativePatterns=function(e){return e.filter(l)},t.getPositivePatterns=function(e){return e.filter(h)},t.getBaseDirectory=d,t.hasGlobStar=function(e){return-1!==e.indexOf(a)},t.endsWithSlashGlobStar=p,t.isAffectDepthOfReadingPattern=function(e){const t=r.basename(e);return p(e)||c(t)},t.getNaiveDepth=f,t.getMaxNaivePatternsDepth=function(e){return e.reduce((e,t)=>{const n=f(t);return n>e?n:e},0)},t.makeRe=_,t.convertPatternsToRe=function(e,t){return e.map(e=>_(e,t))},t.matchAny=function(e,t){const n=e.replace(/^\.[\\\/]/,"");return t.some(e=>e.test(n))}},function(e,t,n){"use strict";var r=n(157),i=n(0).posix.dirname,s="win32"===n(13).platform(),o=/\\/g,a=/[\{\[].*[\/]*.*[\}\]]$/,c=/(^|[^\\])([\{\[]|\([^\)]+$)/,u=/\\([\*\?\|\[\]\(\)\{\}])/g;e.exports=function(e){s&&e.indexOf("/")<0&&(e=e.replace(o,"/")),a.test(e)&&(e+="/"),e+="a";do{e=i(e)}while(r(e)||c.test(e));return e.replace(u,"$1")}},function(e,t){
/*!
 * is-extglob <https://github.com/jonschlinkert/is-extglob>
 *
 * Copyright (c) 2014-2016, Jon Schlinkert.
 * Licensed under the MIT License.
 */
e.exports=function(e){if("string"!=typeof e||""===e)return!1;for(var t;t=/(\\).|([@?!+*]\(.*\))/g.exec(e);){if(t[2])return!0;e=e.slice(t.index+t[0].length)}return!1}},function(e,t,n){"use strict";const r=n(95),i=n(401),s=n(404),o=n(405),a=(e,t={})=>{let n=[];if(Array.isArray(e))for(let r of e){let e=a.create(r,t);Array.isArray(e)?n.push(...e):n.push(e)}else n=[].concat(a.create(e,t));return t&&!0===t.expand&&!0===t.nodupes&&(n=[...new Set(n)]),n};a.parse=(e,t={})=>o(e,t),a.stringify=(e,t={})=>r("string"==typeof e?a.parse(e,t):e,t),a.compile=(e,t={})=>("string"==typeof e&&(e=a.parse(e,t)),i(e,t)),a.expand=(e,t={})=>{"string"==typeof e&&(e=a.parse(e,t));let n=s(e,t);return!0===t.noempty&&(n=n.filter(Boolean)),!0===t.nodupes&&(n=[...new Set(n)]),n},a.create=(e,t={})=>""===e||e.length<3?[e]:!0!==t.expand?a.compile(e,t):a.expand(e,t),e.exports=a},function(e,t,n){"use strict";const r=n(159),i=n(96);e.exports=(e,t={})=>{let n=(e,s={})=>{let o=i.isInvalidBrace(s),a=!0===e.invalid&&!0===t.escapeInvalid,c=!0===o||!0===a,u=!0===t.escapeInvalid?"\\":"",l="";if(!0===e.isOpen)return u+e.value;if(!0===e.isClose)return u+e.value;if("open"===e.type)return c?u+e.value:"(";if("close"===e.type)return c?u+e.value:")";if("comma"===e.type)return"comma"===e.prev.type?"":c?e.value:"|";if(e.value)return e.value;if(e.nodes&&e.ranges>0){let n=i.reduce(e.nodes),s=r(...n,{...t,wrap:!1,toRegex:!0});if(0!==s.length)return n.length>1&&s.length>1?`(${s})`:s}if(e.nodes)for(let t of e.nodes)l+=n(t,e);return l};return n(e)}},function(e,t,n){"use strict";
/*!
 * to-regex-range <https://github.com/micromatch/to-regex-range>
 *
 * Copyright (c) 2015-present, Jon Schlinkert.
 * Released under the MIT License.
 */const r=n(403),i=(e,t,n)=>{if(!1===r(e))throw new TypeError("toRegexRange: expected the first argument to be a number");if(void 0===t||e===t)return String(e);if(!1===r(t))throw new TypeError("toRegexRange: expected the second argument to be a number.");let s={relaxZeros:!0,...n};"boolean"==typeof s.strictZeros&&(s.relaxZeros=!1===s.strictZeros);let c=e+":"+t+"="+String(s.relaxZeros)+String(s.shorthand)+String(s.capture)+String(s.wrap);if(i.cache.hasOwnProperty(c))return i.cache[c].result;let u=Math.min(e,t),l=Math.max(e,t);if(1===Math.abs(u-l)){let n=e+"|"+t;return s.capture?`(${n})`:!1===s.wrap?n:`(?:${n})`}let h=f(e)||f(t),d={min:e,max:t,a:u,b:l},p=[],_=[];if(h&&(d.isPadded=h,d.maxLen=String(d.max).length),u<0){_=o(l<0?Math.abs(l):1,Math.abs(u),d,s),u=d.a=0}return l>=0&&(p=o(u,l,d,s)),d.negatives=_,d.positives=p,d.result=function(e,t,n){let r=a(e,t,"-",!1,n)||[],i=a(t,e,"",!1,n)||[],s=a(e,t,"-?",!0,n)||[];return r.concat(s).concat(i).join("|")}(_,p,s),!0===s.capture?d.result=`(${d.result})`:!1!==s.wrap&&p.length+_.length>1&&(d.result=`(?:${d.result})`),i.cache[c]=d,d.result};function s(e,t,n){if(e===t)return{pattern:e,count:[],digits:0};let r=function(e,t){let n=[];for(let r=0;r<e.length;r++)n.push([e[r],t[r]]);return n}(e,t),i=r.length,s="",o=0;for(let e=0;e<i;e++){let[t,i]=r[e];t===i?s+=t:"0"!==t||"9"!==i?s+=p(t,i,n):o++}return o&&(s+=!0===n.shorthand?"\\d":"[0-9]"),{pattern:s,count:[o],digits:i}}function o(e,t,n,r){let i,o=function(e,t){let n=1,r=1,i=l(e,n),s=new Set([t]);for(;e<=i&&i<=t;)s.add(i),i=l(e,n+=1);for(i=h(t+1,r)-1;e<i&&i<=t;)s.add(i),i=h(t+1,r+=1)-1;return(s=[...s]).sort(c),s}(e,t),a=[],u=e;for(let e=0;e<o.length;e++){let t=o[e],c=s(String(u),String(t),r),l="";n.isPadded||!i||i.pattern!==c.pattern?(n.isPadded&&(l=_(t,n,r)),c.string=l+c.pattern+d(c.count),a.push(c),u=t+1,i=c):(i.count.length>1&&i.count.pop(),i.count.push(c.count[0]),i.string=i.pattern+d(i.count),u=t+1)}return a}function a(e,t,n,r,i){let s=[];for(let i of e){let{string:e}=i;r||u(t,"string",e)||s.push(n+e),r&&u(t,"string",e)&&s.push(n+e)}return s}function c(e,t){return e>t?1:t>e?-1:0}function u(e,t,n){return e.some(e=>e[t]===n)}function l(e,t){return Number(String(e).slice(0,-t)+"9".repeat(t))}function h(e,t){return e-e%Math.pow(10,t)}function d(e){let[t=0,n=""]=e;return n||t>1?`{${t+(n?","+n:"")}}`:""}function p(e,t,n){return`[${e}${t-e==1?"":"-"}${t}]`}function f(e){return/^-?(0+)\d/.test(e)}function _(e,t,n){if(!t.isPadded)return e;let r=Math.abs(t.maxLen-String(e).length),i=!1!==n.relaxZeros;switch(r){case 0:return"";case 1:return i?"0?":"0";case 2:return i?"0{0,2}":"00";default:return i?`0{0,${r}}`:`0{${r}}`}}i.cache={},i.clearCache=()=>i.cache={},e.exports=i},function(e,t,n){"use strict";
/*!
 * is-number <https://github.com/jonschlinkert/is-number>
 *
 * Copyright (c) 2014-present, Jon Schlinkert.
 * Released under the MIT License.
 */e.exports=function(e){return"number"==typeof e?e-e==0:"string"==typeof e&&""!==e.trim()&&(Number.isFinite?Number.isFinite(+e):isFinite(+e))}},function(e,t,n){"use strict";const r=n(159),i=n(95),s=n(96),o=(e="",t="",n=!1)=>{let r=[];if(e=[].concat(e),!(t=[].concat(t)).length)return e;if(!e.length)return n?s.flatten(t).map(e=>`{${e}}`):t;for(let i of e)if(Array.isArray(i))for(let e of i)r.push(o(e,t,n));else for(let e of t)!0===n&&"string"==typeof e&&(e=`{${e}}`),r.push(Array.isArray(e)?o(i,e,n):i+e);return s.flatten(r)};e.exports=(e,t={})=>{let n=void 0===t.rangeLimit?1e3:t.rangeLimit,a=(e,c={})=>{e.queue=[];let u=c,l=c.queue;for(;"brace"!==u.type&&"root"!==u.type&&u.parent;)l=(u=u.parent).queue;if(e.invalid||e.dollar)return void l.push(o(l.pop(),i(e,t)));if("brace"===e.type&&!0!==e.invalid&&2===e.nodes.length)return void l.push(o(l.pop(),["{}"]));if(e.nodes&&e.ranges>0){let a=s.reduce(e.nodes);if(s.exceedsLimit(...a,t.step,n))throw new RangeError("expanded array length exceeds range limit. Use options.rangeLimit to increase or disable the limit.");let c=r(...a,t);return 0===c.length&&(c=i(e,t)),l.push(o(l.pop(),c)),void(e.nodes=[])}let h=s.encloseBrace(e),d=e.queue,p=e;for(;"brace"!==p.type&&"root"!==p.type&&p.parent;)d=(p=p.parent).queue;for(let t=0;t<e.nodes.length;t++){let n=e.nodes[t];"comma"!==n.type||"brace"!==e.type?"close"!==n.type?n.value&&"open"!==n.type?d.push(o(d.pop(),n.value)):n.nodes&&a(n,e):l.push(o(l.pop(),d,h)):(1===t&&d.push(""),d.push(""))}return d};return s.flatten(a(e))}},function(e,t,n){"use strict";const r=n(95),{MAX_LENGTH:i,CHAR_BACKSLASH:s,CHAR_BACKTICK:o,CHAR_COMMA:a,CHAR_DOT:c,CHAR_LEFT_PARENTHESES:u,CHAR_RIGHT_PARENTHESES:l,CHAR_LEFT_CURLY_BRACE:h,CHAR_RIGHT_CURLY_BRACE:d,CHAR_LEFT_SQUARE_BRACKET:p,CHAR_RIGHT_SQUARE_BRACKET:f,CHAR_DOUBLE_QUOTE:_,CHAR_SINGLE_QUOTE:m,CHAR_NO_BREAK_SPACE:g,CHAR_ZERO_WIDTH_NOBREAK_SPACE:y}=n(406);e.exports=(e,t={})=>{if("string"!=typeof e)throw new TypeError("Expected a string");let n=t||{},T="number"==typeof n.maxLength?Math.min(i,n.maxLength):i;if(e.length>T)throw new SyntaxError(`Input length (${e.length}), exceeds max characters (${T})`);let b,v={type:"root",input:e,nodes:[]},E=[v],S=v,k=v,w=0,N=e.length,A=0,x=0;const C=()=>e[A++],R=e=>{if("text"===e.type&&"dot"===k.type&&(k.type="text"),!k||"text"!==k.type||"text"!==e.type)return S.nodes.push(e),e.parent=S,e.prev=k,k=e,e;k.value+=e.value};for(R({type:"bos"});A<N;)if(S=E[E.length-1],(b=C())!==y&&b!==g)if(b!==s)if(b!==f)if(b!==p)if(b!==u)if(b!==l)if(b!==_&&b!==m&&b!==o)if(b!==h)if(b!==d)if(b===a&&x>0){if(S.ranges>0){S.ranges=0;let e=S.nodes.shift();S.nodes=[e,{type:"text",value:r(S)}]}R({type:"comma",value:b}),S.commas++}else if(b===c&&x>0&&0===S.commas){let e=S.nodes;if(0===x||0===e.length){R({type:"text",value:b});continue}if("dot"===k.type){if(S.range=[],k.value+=b,k.type="range",3!==S.nodes.length&&5!==S.nodes.length){S.invalid=!0,S.ranges=0,k.type="text";continue}S.ranges++,S.args=[];continue}if("range"===k.type){e.pop();let t=e[e.length-1];t.value+=k.value+b,k=t,S.ranges--;continue}R({type:"dot",value:b})}else R({type:"text",value:b});else{if("brace"!==S.type){R({type:"text",value:b});continue}let e="close";(S=E.pop()).close=!0,R({type:e,value:b}),x--,S=E[E.length-1]}else{x++;let e=k.value&&"$"===k.value.slice(-1)||!0===S.dollar;S=R({type:"brace",open:!0,close:!1,dollar:e,depth:x,commas:0,ranges:0,nodes:[]}),E.push(S),R({type:"open",value:b})}else{let e,n=b;for(!0!==t.keepQuotes&&(b="");A<N&&(e=C());)if(e!==s){if(e===n){!0===t.keepQuotes&&(b+=e);break}b+=e}else b+=e+C();R({type:"text",value:b})}else{if("paren"!==S.type){R({type:"text",value:b});continue}S=E.pop(),R({type:"text",value:b}),S=E[E.length-1]}else S=R({type:"paren",nodes:[]}),E.push(S),R({type:"text",value:b});else{let e;for(w++;A<N&&(e=C());)if(b+=e,e!==p)if(e!==s){if(e===f&&0==--w)break}else b+=C();else w++;R({type:"text",value:b})}else R({type:"text",value:"\\"+b});else R({type:"text",value:(t.keepEscaping?b:"")+C()});do{if("root"!==(S=E.pop()).type){S.nodes.forEach(e=>{e.nodes||("open"===e.type&&(e.isOpen=!0),"close"===e.type&&(e.isClose=!0),e.nodes||(e.type="text"),e.invalid=!0)});let e=E[E.length-1],t=e.nodes.indexOf(S);e.nodes.splice(t,1,...S.nodes)}}while(E.length>0);return R({type:"eos"}),v}},function(e,t,n){"use strict";e.exports={MAX_LENGTH:65536,CHAR_0:"0",CHAR_9:"9",CHAR_UPPERCASE_A:"A",CHAR_LOWERCASE_A:"a",CHAR_UPPERCASE_Z:"Z",CHAR_LOWERCASE_Z:"z",CHAR_LEFT_PARENTHESES:"(",CHAR_RIGHT_PARENTHESES:")",CHAR_ASTERISK:"*",CHAR_AMPERSAND:"&",CHAR_AT:"@",CHAR_BACKSLASH:"\\",CHAR_BACKTICK:"`",CHAR_CARRIAGE_RETURN:"\r",CHAR_CIRCUMFLEX_ACCENT:"^",CHAR_COLON:":",CHAR_COMMA:",",CHAR_DOLLAR:"$",CHAR_DOT:".",CHAR_DOUBLE_QUOTE:'"',CHAR_EQUAL:"=",CHAR_EXCLAMATION_MARK:"!",CHAR_FORM_FEED:"\f",CHAR_FORWARD_SLASH:"/",CHAR_HASH:"#",CHAR_HYPHEN_MINUS:"-",CHAR_LEFT_ANGLE_BRACKET:"<",CHAR_LEFT_CURLY_BRACE:"{",CHAR_LEFT_SQUARE_BRACKET:"[",CHAR_LINE_FEED:"\n",CHAR_NO_BREAK_SPACE:"",CHAR_PERCENT:"%",CHAR_PLUS:"+",CHAR_QUESTION_MARK:"?",CHAR_RIGHT_ANGLE_BRACKET:">",CHAR_RIGHT_CURLY_BRACE:"}",CHAR_RIGHT_SQUARE_BRACKET:"]",CHAR_SEMICOLON:";",CHAR_SINGLE_QUOTE:"'",CHAR_SPACE:" ",CHAR_TAB:"\t",CHAR_UNDERSCORE:"_",CHAR_VERTICAL_LINE:"|",CHAR_ZERO_WIDTH_NOBREAK_SPACE:"\ufeff"}},function(e,t,n){"use strict";e.exports=n(408)},function(e,t,n){"use strict";const r=n(0),i=n(409),s=n(410),o=n(97),a=(e,t,n=!1)=>{if(Array.isArray(e)){let r=e.map(e=>a(e,t,n));return e=>{for(let t of r){let n=t(e);if(n)return n}return!1}}if("string"!=typeof e||""===e)throw new TypeError("Expected pattern to be a non-empty string");let r=t||{},i=o.isWindows(t),s=a.makeRe(e,t,!1,!0),c=s.state;delete s.state;let u=()=>!1;if(r.ignore){let e={...t,ignore:null,onMatch:null,onResult:null};u=a(r.ignore,e,n)}const l=(n,o=!1)=>{let{isMatch:l,match:h,output:d}=a.test(n,s,t,{glob:e,posix:i}),p={glob:e,state:c,regex:s,posix:i,input:n,output:d,match:h,isMatch:l};return"function"==typeof r.onResult&&r.onResult(p),!1===l?(p.isMatch=!1,!!o&&p):u(n)?("function"==typeof r.onIgnore&&r.onIgnore(p),p.isMatch=!1,!!o&&p):("function"==typeof r.onMatch&&r.onMatch(p),!o||p)};return n&&(l.state=c),l};a.test=(e,t,n,{glob:r,posix:i}={})=>{if("string"!=typeof e)throw new TypeError("Expected input to be a string");if(""===e)return{isMatch:!1,output:""};let s=n||{},c=s.format||(i?o.toPosixSlashes:null),u=e===r,l=u&&c?c(e):e;return!1===u&&(u=(l=c?c(e):e)===r),!1!==u&&!0!==s.capture||(u=!0===s.matchBase||!0===s.basename?a.matchBase(e,t,n,i):t.exec(l)),{isMatch:!!u,match:u,output:l}},a.matchBase=(e,t,n,i=o.isWindows(n))=>{return(t instanceof RegExp?t:a.makeRe(t,n)).test(r.basename(e))},a.isMatch=(e,t,n)=>a(t,n)(e),a.parse=(e,t)=>s(e,t),a.scan=(e,t)=>i(e,t),a.makeRe=(e,t,n=!1,r=!1)=>{if(!e||"string"!=typeof e)throw new TypeError("Expected a non-empty string");let i,o=t||{},c=o.contains?"":"^",u=o.contains?"":"$",l={negated:!1,fastpaths:!0},h="";if(e.startsWith("./")&&(e=e.slice(2),h=l.prefix="./"),!1===o.fastpaths||"."!==e[0]&&"*"!==e[0]||(i=s.fastpaths(e,t)),void 0===i&&((l=a.parse(e,t)).prefix=h+(l.prefix||""),i=l.output),!0===n)return i;let d=`${c}(?:${i})${u}`;l&&!0===l.negated&&(d=`^(?!${d}).*$`);let p=a.toRegex(d,t);return!0===r&&(p.state=l),p},a.toRegex=(e,t)=>{try{let n=t||{};return new RegExp(e,n.flags||(n.nocase?"i":""))}catch(e){if(t&&!0===t.debug)throw e;return/$^/}},a.constants=n(59),e.exports=a},function(e,t,n){"use strict";const{CHAR_ASTERISK:r,CHAR_AT:i,CHAR_BACKWARD_SLASH:s,CHAR_COMMA:o,CHAR_DOT:a,CHAR_EXCLAMATION_MARK:c,CHAR_FORWARD_SLASH:u,CHAR_LEFT_CURLY_BRACE:l,CHAR_LEFT_PARENTHESES:h,CHAR_LEFT_SQUARE_BRACKET:d,CHAR_PLUS:p,CHAR_QUESTION_MARK:f,CHAR_RIGHT_CURLY_BRACE:_,CHAR_RIGHT_PARENTHESES:m,CHAR_RIGHT_SQUARE_BRACKET:g}=n(59);function y(e){return e.replace(/(?:\[.*?(?<!\\)\]|\\(?=.))/g,e=>"\\"===e?"":e)}e.exports=(e,t)=>{let n,T,b=t||{},v=e.length-1,E=-1,S=0,k=0,w=!1,N=!1,A=!1,x=0,C=!1,R=()=>E>=v,I=()=>(n=T,e.charCodeAt(++E));for(;E<v;){let t;if((T=I())!==s){if(!0===C||T===l)for(x++;!R()&&(t=I());)if(t!==s)if(t!==l){if(!C&&t===a&&(t=I())===a){w=!0;break}if(!C&&t===o){w=!0;break}if(t===_&&0===--x){C=!1;break}}else x++;else N=!0,t=I();if(T!==u){if(T===r){w=!0;break}if(T===r||T===f){w=!0;break}if(T===d)for(;!R()&&(t=I());)if(t!==s){if(t===g){w=!0;break}}else N=!0,t=I();if((T===p||T===i||T===c)&&e.charCodeAt(E+1)===h){w=!0;break}if(T!==c||E!==S){if(T===h)for(;!R()&&(t=I());)if(t!==s){if(t===m){w=!0;break}}else N=!0,t=I();if(w)break}else A=!0,S++}else{if(n===a&&E===S+1){S+=2;continue}k=E+1}}else N=!0,(t=I())===l&&(C=!0)}let O="",D=e,P=e,L="";return S>0&&(O=e.slice(0,S),e=e.slice(S),k-=S),P&&!0===w&&k>0?(P=e.slice(0,k),L=e.slice(k)):!0===w?(P="",L=e):P=e,P&&""!==P&&"/"!==P&&P!==e&&(e=>e===u||e===s)(P.charCodeAt(P.length-1))&&(P=P.slice(0,-1)),!0===b.unescape&&(L&&(L=y(L)),P&&!0===N&&(P=y(P))),{prefix:O,input:D,base:P,glob:L,negated:A,isGlob:w}}},function(e,t,n){"use strict";const r=n(97),i=n(59),{MAX_LENGTH:s,POSIX_REGEX_SOURCE:o,REGEX_NON_SPECIAL_CHAR:a,REGEX_SPECIAL_CHARS_BACKREF:c,REPLACEMENTS:u}=i,l=(e,t)=>{if("function"==typeof t.expandRange)return t.expandRange(...e,t);e.sort();let n=`[${e.join("-")}]`;try{new RegExp(n)}catch(t){return e.map(e=>r.escapeRegex(e)).join("..")}return n},h=e=>{let t=1;for(;"!"===e.peek()&&("("!==e.peek(2)||"?"===e.peek(3));)e.advance(),e.start++,t++;return t%2!=0&&(e.negated=!0,e.start++,!0)},d=(e,t)=>`Missing ${e}: "${t}" - use "\\\\${t}" to match literal characters`,p=(e,t)=>{if("string"!=typeof e)throw new TypeError("Expected a string");e=u[e]||e;let n={...t},p="number"==typeof n.maxLength?Math.min(s,n.maxLength):s,f=e.length;if(f>p)throw new SyntaxError(`Input length: ${f}, exceeds maximum allowed length: ${p}`);let _={type:"bos",value:"",output:n.prepend||""},m=[_],g=n.capture?"":"?:",y=r.isWindows(t);const T=i.globChars(y),b=i.extglobChars(T),{DOT_LITERAL:v,PLUS_LITERAL:E,SLASH_LITERAL:S,ONE_CHAR:k,DOTS_SLASH:w,NO_DOT:N,NO_DOT_SLASH:A,NO_DOTS_SLASH:x,QMARK:C,QMARK_NO_DOT:R,STAR:I,START_ANCHOR:O}=T,D=e=>`(${g}(?:(?!${O}${e.dot?w:v}).)*?)`;let P=n.dot?"":N,L=!0===n.bash?D(n):I,M=n.dot?C:R;n.capture&&(L=`(${L})`),"boolean"==typeof n.noext&&(n.noextglob=n.noext);let U,q={index:-1,start:0,consumed:"",output:"",backtrack:!1,brackets:0,braces:0,parens:0,quotes:0,tokens:m},F=[],B=[],H=_;const j=()=>q.index===f-1,G=q.peek=(t=1)=>e[q.index+t],V=q.advance=()=>e[++q.index],K=e=>{q.output+=null!=e.output?e.output:e.value,q.consumed+=e.value||""},$=e=>{q[e]++,B.push(e)},W=e=>{q[e]--,B.pop()},Y=e=>{if("globstar"===H.type){let t=q.braces>0&&("comma"===e.type||"brace"===e.type),n=F.length&&("pipe"===e.type||"paren"===e.type);"slash"===e.type||"paren"===e.type||t||n||(q.output=q.output.slice(0,-H.output.length),H.type="star",H.value="*",H.output=L,q.output+=H.output)}F.length&&"paren"!==e.type&&!b[e.value]&&(F[F.length-1].inner+=e.value),(e.value||e.output)&&K(e),H&&"text"===H.type&&"text"===e.type?H.value+=e.value:(e.prev=H,m.push(e),H=e)},z=(e,t)=>{let r={...b[t],conditions:1,inner:""};r.prev=H,r.parens=q.parens,r.output=q.output;let i=(n.capture?"(":"")+r.open;Y({type:e,value:t,output:q.output?"":k}),Y({type:"paren",extglob:!0,value:V(),output:i}),$("parens"),F.push(r)},X=t=>{let r=t.close+(n.capture?")":"");if("negate"===t.type){let i=L;t.inner&&t.inner.length>1&&t.inner.includes("/")&&(i=D(n)),(i!==L||j()||/^\)+$/.test(e.slice(q.index+1)))&&(r=t.close=")$))"+i),"bos"===t.prev.type&&j()&&(q.negatedExtglob=!0)}Y({type:"paren",extglob:!0,value:U,output:r}),W("parens")};if(!1!==n.fastpaths&&!/(^[*!]|[\/{[()\]}"])/.test(e)){let t=!1,r=e.replace(c,(e,n,r,i,s,o)=>"\\"===i?(t=!0,e):"?"===i?n?n+i+(s?C.repeat(s.length):""):0===o?M+(s?C.repeat(s.length):""):C.repeat(r.length):"."===i?v.repeat(r.length):"*"===i?n?n+i+(s?L:""):L:n?e:"\\"+e);return!0===t&&(r=!0===n.unescape?r.replace(/\\/g,""):r.replace(/\\+/g,e=>e.length%2==0?"\\\\":e?"\\":"")),q.output=r,q}for(;!j();){if("\0"===(U=V()))continue;if("\\"===U){let t=G();if("/"===t&&!0!==n.bash)continue;if("."===t||";"===t)continue;if(!t){Y({type:"text",value:U+="\\"});continue}let r=/^\\+/.exec(e.slice(q.index+1)),i=0;if(r&&r[0].length>2&&(i=r[0].length,q.index+=i,i%2!=0&&(U+="\\")),!0===n.unescape?U=V()||"":U+=V()||"",0===q.brackets){Y({type:"text",value:U});continue}}if(q.brackets>0&&("]"!==U||"["===H.value||"[^"===H.value)){if(!1!==n.posix&&":"===U){let e=H.value.slice(1);if(e.includes("[")&&(H.posix=!0,e.includes(":"))){let e=H.value.lastIndexOf("["),t=H.value.slice(0,e),n=H.value.slice(e+2),r=o[n];if(r){H.value=t+r,q.backtrack=!0,V(),_.output||1!==m.indexOf(H)||(_.output=k);continue}}}("["===U&&":"!==G()||"-"===U&&"]"===G())&&(U="\\"+U),"]"!==U||"["!==H.value&&"[^"!==H.value||(U="\\"+U),!0===n.posix&&"!"===U&&"["===H.value&&(U="^"),H.value+=U,K({value:U});continue}if(1===q.quotes&&'"'!==U){U=r.escapeRegex(U),H.value+=U,K({value:U});continue}if('"'===U){q.quotes=1===q.quotes?0:1,!0===n.keepQuotes&&Y({type:"text",value:U});continue}if("("===U){Y({type:"paren",value:U}),$("parens");continue}if(")"===U){if(0===q.parens&&!0===n.strictBrackets)throw new SyntaxError(d("opening","("));let e=F[F.length-1];if(e&&q.parens===e.parens+1){X(F.pop());continue}Y({type:"paren",value:U,output:q.parens?")":"\\)"}),W("parens");continue}if("["===U){if(!0!==n.nobracket&&e.slice(q.index+1).includes("]"))$("brackets");else{if(!0!==n.nobracket&&!0===n.strictBrackets)throw new SyntaxError(d("closing","]"));U="\\"+U}Y({type:"bracket",value:U});continue}if("]"===U){if(!0===n.nobracket||H&&"bracket"===H.type&&1===H.value.length){Y({type:"text",value:U,output:"\\"+U});continue}if(0===q.brackets){if(!0===n.strictBrackets)throw new SyntaxError(d("opening","["));Y({type:"text",value:U,output:"\\"+U});continue}W("brackets");let e=H.value.slice(1);if(!0===H.posix||"^"!==e[0]||e.includes("/")||(U="/"+U),H.value+=U,K({value:U}),!1===n.literalBrackets||r.hasRegexChars(e))continue;let t=r.escapeRegex(H.value);if(q.output=q.output.slice(0,-H.value.length),!0===n.literalBrackets){q.output+=t,H.value=t;continue}H.value=`(${g}${t}|${H.value})`,q.output+=H.value;continue}if("{"===U&&!0!==n.nobrace){Y({type:"brace",value:U,output:"("}),$("braces");continue}if("}"===U){if(!0===n.nobrace||0===q.braces){Y({type:"text",value:U,output:"\\"+U});continue}let e=")";if(!0===q.dots){let t=m.slice(),r=[];for(let e=t.length-1;e>=0&&(m.pop(),"brace"!==t[e].type);e--)"dots"!==t[e].type&&r.unshift(t[e].value);e=l(r,n),q.backtrack=!0}Y({type:"brace",value:U,output:e}),W("braces");continue}if("|"===U){F.length>0&&F[F.length-1].conditions++,Y({type:"text",value:U});continue}if(","===U){let e=U;q.braces>0&&"braces"===B[B.length-1]&&(e="|"),Y({type:"comma",value:U,output:e});continue}if("/"===U){if("dot"===H.type&&1===q.index){q.start=q.index+1,q.consumed="",q.output="",m.pop(),H=_;continue}Y({type:"slash",value:U,output:S});continue}if("."===U){if(q.braces>0&&"dot"===H.type){"."===H.value&&(H.output=v),H.type="dots",H.output+=U,H.value+=U,q.dots=!0;continue}Y({type:"dot",value:U,output:v});continue}if("?"===U){if(H&&"paren"===H.type){let e=G(),t=U;if("<"===e&&parseInt(process.version.slice(1),10)<10)throw new Error("Node.js v10 or higher is required for regex lookbehinds");("("===H.value&&!/[!=<:]/.test(e)||"<"===e&&!/[!=]/.test(G(2)))&&(t="\\"+U),Y({type:"text",value:U,output:t});continue}if(!0!==n.noextglob&&"("===G()&&"?"!==G(2)){z("qmark",U);continue}if(!0!==n.dot&&("slash"===H.type||"bos"===H.type)){Y({type:"qmark",value:U,output:R});continue}Y({type:"qmark",value:U,output:C});continue}if("!"===U){if(!0!==n.noextglob&&"("===G()&&("?"!==G(2)||!/[!=<:]/.test(G(3)))){z("negate",U);continue}if(!0!==n.nonegate&&0===q.index){h(q);continue}}if("+"===U){if(!0!==n.noextglob&&"("===G()&&"?"!==G(2)){z("plus",U);continue}if(H&&("bracket"===H.type||"paren"===H.type||"brace"===H.type)){let e=!0===H.extglob?"\\"+U:U;Y({type:"plus",value:U,output:e});continue}if(q.parens>0&&!1!==n.regex){Y({type:"plus",value:U});continue}Y({type:"plus",value:E});continue}if("@"===U){if(!0!==n.noextglob&&"("===G()&&"?"!==G(2)){Y({type:"at",value:U,output:""});continue}Y({type:"text",value:U});continue}if("*"!==U){"$"!==U&&"^"!==U||(U="\\"+U);let t=a.exec(e.slice(q.index+1));t&&(U+=t[0],q.index+=t[0].length),Y({type:"text",value:U});continue}if(H&&("globstar"===H.type||!0===H.star)){H.type="star",H.star=!0,H.value+=U,H.output=L,q.backtrack=!0,q.consumed+=U;continue}if(!0!==n.noextglob&&"("===G()&&"?"!==G(2)){z("star",U);continue}if("star"===H.type){if(!0===n.noglobstar){q.consumed+=U;continue}let t=H.prev,r=t.prev,i="slash"===t.type||"bos"===t.type,s=r&&("star"===r.type||"globstar"===r.type);if(!0===n.bash&&(!i||!j()&&"/"!==G())){Y({type:"star",value:U,output:""});continue}let o=q.braces>0&&("comma"===t.type||"brace"===t.type),a=F.length&&("pipe"===t.type||"paren"===t.type);if(!i&&"paren"!==t.type&&!o&&!a){Y({type:"star",value:U,output:""});continue}for(;"/**"===e.slice(q.index+1,q.index+4);){let t=e[q.index+4];if(t&&"/"!==t)break;q.consumed+="/**",q.index+=3}if("bos"===t.type&&j()){H.type="globstar",H.value+=U,H.output=D(n),q.output=H.output,q.consumed+=U;continue}if("slash"===t.type&&"bos"!==t.prev.type&&!s&&j()){q.output=q.output.slice(0,-(t.output+H.output).length),t.output="(?:"+t.output,H.type="globstar",H.output=D(n)+"|$)",H.value+=U,q.output+=t.output+H.output,q.consumed+=U;continue}let c=G();if("slash"===t.type&&"bos"!==t.prev.type&&"/"===c){let e=void 0!==G(2)?"|$":"";q.output=q.output.slice(0,-(t.output+H.output).length),t.output="(?:"+t.output,H.type="globstar",H.output=`${D(n)}${S}|${S}${e})`,H.value+=U,q.output+=t.output+H.output,q.consumed+=U+V(),Y({type:"slash",value:U,output:""});continue}if("bos"===t.type&&"/"===c){H.type="globstar",H.value+=U,H.output=`(?:^|${S}|${D(n)}${S})`,q.output=H.output,q.consumed+=U+V(),Y({type:"slash",value:U,output:""});continue}q.output=q.output.slice(0,-H.output.length),H.type="globstar",H.output=D(n),H.value+=U,q.output+=H.output,q.consumed+=U;continue}let t={type:"star",value:U,output:L};!0!==n.bash?!H||"bracket"!==H.type&&"paren"!==H.type||!0!==n.regex?(q.index!==q.start&&"slash"!==H.type&&"dot"!==H.type||("dot"===H.type?(q.output+=A,H.output+=A):!0===n.dot?(q.output+=x,H.output+=x):(q.output+=P,H.output+=P),"*"!==G()&&(q.output+=k,H.output+=k)),Y(t)):(t.output=U,Y(t)):(t.output=".*?","bos"!==H.type&&"slash"!==H.type||(t.output=P+t.output),Y(t))}for(;q.brackets>0;){if(!0===n.strictBrackets)throw new SyntaxError(d("closing","]"));q.output=r.escapeLast(q.output,"["),W("brackets")}for(;q.parens>0;){if(!0===n.strictBrackets)throw new SyntaxError(d("closing",")"));q.output=r.escapeLast(q.output,"("),W("parens")}for(;q.braces>0;){if(!0===n.strictBrackets)throw new SyntaxError(d("closing","}"));q.output=r.escapeLast(q.output,"{"),W("braces")}if(!0===n.strictSlashes||"star"!==H.type&&"bracket"!==H.type||Y({type:"maybe_slash",value:"",output:`${S}?`}),!0===q.backtrack){q.output="";for(let e of q.tokens)q.output+=null!=e.output?e.output:e.value,e.suffix&&(q.output+=e.suffix)}return q};p.fastpaths=(e,t)=>{let n={...t},o="number"==typeof n.maxLength?Math.min(s,n.maxLength):s,a=e.length;if(a>o)throw new SyntaxError(`Input length: ${a}, exceeds maximum allowed length: ${o}`);e=u[e]||e;let c=r.isWindows(t);const{DOT_LITERAL:l,SLASH_LITERAL:h,ONE_CHAR:d,DOTS_SLASH:p,NO_DOT:f,NO_DOTS:_,NO_DOTS_SLASH:m,STAR:g,START_ANCHOR:y}=i.globChars(c);let T=n.capture?"":"?:",b=!0===n.bash?".*?":g,v=n.dot?_:f,E=n.dot?m:f;n.capture&&(b=`(${b})`);const S=e=>`(${T}(?:(?!${y}${e.dot?p:l}).)*?)`,k=e=>{switch(e){case"*":return`${v}${d}${b}`;case".*":return`${l}${d}${b}`;case"*.*":return`${v}${b}${l}${d}${b}`;case"*/*":return`${v}${b}${h}${d}${E}${b}`;case"**":return v+S(n);case"**/*":return`(?:${v}${S(n)}${h})?${E}${d}${b}`;case"**/*.*":return`(?:${v}${S(n)}${h})?${E}${b}${l}${d}${b}`;case"**/.*":return`(?:${v}${S(n)}${h})?${l}${d}${b}`;default:{let n=/^(.*?)\.(\w+)$/.exec(e);if(!n)return;let r=k(n[1],t);if(!r)return;return r+l+n[2]}}};let w=k(e);return w&&!0!==n.strictSlashes&&(w+=`${h}?`),w},e.exports=p},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(412);t.merge=function(e){const t=r(e);return e.forEach(e=>{e.once("error",e=>t.emit("error",e))}),t}},function(e,t,n){"use strict";const r=n(23).PassThrough,i=Array.prototype.slice;function s(e,t){if(Array.isArray(e))for(let n=0,r=e.length;n<r;n++)e[n]=s(e[n],t);else{if(!e._readableState&&e.pipe&&(e=e.pipe(r(t))),!e._readableState||!e.pause||!e.pipe)throw new Error("Only readable stream can be merged.");e.pause()}return e}e.exports=function(){const e=[];let t=!1;const n=i.call(arguments);let o=n[n.length-1];o&&!Array.isArray(o)&&null==o.pipe?n.pop():o={};const a=!1!==o.end;null==o.objectMode&&(o.objectMode=!0);null==o.highWaterMark&&(o.highWaterMark=65536);const c=r(o);function u(){for(let t=0,n=arguments.length;t<n;t++)e.push(s(arguments[t],o));return function n(){if(t)return;t=!0;let r=e.shift();if(!r)return void process.nextTick(l);Array.isArray(r)||(r=[r]);let i=r.length+1;function s(){--i>0||(t=!1,n())}function o(e){function t(){e.removeListener("merge2UnpipeEnd",t),e.removeListener("end",t),s()}if(e._readableState.endEmitted)return s();e.on("merge2UnpipeEnd",t),e.on("end",t),e.pipe(c,{end:!1}),e.resume()}for(let e=0;e<r.length;e++)o(r[e]);s()}(),this}function l(){return t=!1,c.emit("queueDrain"),a&&c.end()}c.setMaxListeners(0),c.add=u,c.on("unpipe",function(e){e.emit("merge2UnpipeEnd")}),n.length&&u.apply(null,n);return c}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(160),i=n(100);t.default=class extends i.default{constructor(){super(...arguments),this._reader=new r.default(this._settings)}read(e){const t=this._getRootDirectory(e),n=this._getReaderOptions(e),r=[];return new Promise((i,s)=>{const o=this.api(t,e,n);o.once("error",s),o.on("data",e=>r.push(n.transform(e))),o.once("end",()=>i(r))})}api(e,t,n){return t.dynamic?this._reader.dynamic(e,n):this._reader.static(t.patterns,n)}}},function(e,t,n){"use strict";function r(e,t){e(t)}function i(e,t){e(null,t)}Object.defineProperty(t,"__esModule",{value:!0}),t.read=function(e,t,n){t.fs.lstat(e,(s,o)=>s?r(n,s):o.isSymbolicLink()&&t.followSymbolicLink?void t.fs.stat(e,(e,s)=>{if(e)return t.throwErrorOnBrokenSymbolicLink?r(n,e):i(n,o);t.markSymbolicLink&&(s.isSymbolicLink=()=>!0),i(n,s)}):i(n,o))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.read=function(e,t){const n=t.fs.lstatSync(e);if(!n.isSymbolicLink()||!t.followSymbolicLink)return n;try{const r=t.fs.statSync(e);return t.markSymbolicLink&&(r.isSymbolicLink=()=>!0),r}catch(e){if(!t.throwErrorOnBrokenSymbolicLink)return n;throw e}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(417);t.default=class{constructor(e={}){this._options=e,this.followSymbolicLink=this._getValue(this._options.followSymbolicLink,!0),this.fs=r.createFileSystemAdapter(this._options.fs),this.markSymbolicLink=this._getValue(this._options.markSymbolicLink,!1),this.throwErrorOnBrokenSymbolicLink=this._getValue(this._options.throwErrorOnBrokenSymbolicLink,!0)}_getValue(e,t){return void 0===e?t:e}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(14);t.FILE_SYSTEM_ADAPTER={lstat:r.lstat,stat:r.stat,lstatSync:r.lstatSync,statSync:r.statSync},t.createFileSystemAdapter=function(e){return e?Object.assign({},t.FILE_SYSTEM_ADAPTER,e):t.FILE_SYSTEM_ADAPTER}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(162);t.default=class{constructor(e,t){this._root=e,this._settings=t,this._reader=new r.default(this._root,this._settings),this._storage=new Set}read(e){this._reader.onError(t=>{!function(e,t){e(t)}(e,t)}),this._reader.onEntry(e=>{this._storage.add(e)}),this._reader.onEnd(()=>{!function(e,t){e(null,t)}(e,Array.from(this._storage))}),this._reader.read()}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(34),i=n(420),s=n(163),o=n(164);function a(e,t,n){t.fs.readdir(e,{withFileTypes:!0},(r,s)=>{if(r)return u(n,r);const a=s.map(n=>({dirent:n,name:n.name,path:`${e}${t.pathSegmentSeparator}${n.name}`}));if(!t.followSymbolicLinks)return l(n,a);const c=a.map(e=>(function(e,t){return n=>{if(!e.dirent.isSymbolicLink())return n(null,e);t.fs.stat(e.path,(r,i)=>r?t.throwErrorOnBrokenSymbolicLink?n(r):n(null,e):(e.dirent=o.fs.createDirentFromStats(e.name,i),n(null,e)))}})(e,t));i(c,(e,t)=>{if(e)return u(n,e);l(n,t)})})}function c(e,t,n){t.fs.readdir(e,(s,a)=>{if(s)return u(n,s);const c=a.map(n=>`${e}${t.pathSegmentSeparator}${n}`),h=c.map(e=>n=>r.stat(e,t.fsStatSettings,n));i(h,(e,r)=>{if(e)return u(n,e);const i=[];for(let e=0;e<a.length;e++){const n=a[e],s=r[e],u={name:n,path:c[e],dirent:o.fs.createDirentFromStats(n,s)};t.stats&&(u.stats=s),i.push(u)}l(n,i)})})}function u(e,t){e(t)}function l(e,t){e(null,t)}t.read=function(e,t,n){return!t.stats&&s.IS_SUPPORT_READDIR_WITH_FILE_TYPES?a(e,t,n):c(e,t,n)},t.readdirWithFileTypes=a,t.readdir=c},function(e,t){e.exports=function(e,t){var n,r,i,s=!0;Array.isArray(e)?(n=[],r=e.length):(i=Object.keys(e),n={},r=i.length);function o(e){function r(){t&&t(e,n),t=null}s?process.nextTick(r):r()}function a(e,t,i){n[e]=i,(0==--r||t)&&o(t)}r?i?i.forEach(function(t){e[t](function(e,n){a(t,e,n)})}):e.forEach(function(e,t){e(function(e,n){a(t,e,n)})}):o(null);s=!1}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});class r{constructor(e,t){this.name=e,this.isBlockDevice=t.isBlockDevice.bind(t),this.isCharacterDevice=t.isCharacterDevice.bind(t),this.isDirectory=t.isDirectory.bind(t),this.isFIFO=t.isFIFO.bind(t),this.isFile=t.isFile.bind(t),this.isSocket=t.isSocket.bind(t),this.isSymbolicLink=t.isSymbolicLink.bind(t)}}t.createDirentFromStats=function(e,t){return new r(e,t)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(34),i=n(163),s=n(164);function o(e,t){return t.fs.readdirSync(e,{withFileTypes:!0}).map(n=>{const r={dirent:n,name:n.name,path:`${e}${t.pathSegmentSeparator}${n.name}`};if(r.dirent.isSymbolicLink()&&t.followSymbolicLinks)try{const e=t.fs.statSync(r.path);r.dirent=s.fs.createDirentFromStats(r.name,e)}catch(e){if(t.throwErrorOnBrokenSymbolicLink)throw e}return r})}function a(e,t){return t.fs.readdirSync(e).map(n=>{const i=`${e}${t.pathSegmentSeparator}${n}`,o=r.statSync(i,t.fsStatSettings),a={name:n,path:i,dirent:s.fs.createDirentFromStats(n,o)};return t.stats&&(a.stats=o),a})}t.read=function(e,t){return!t.stats&&i.IS_SUPPORT_READDIR_WITH_FILE_TYPES?o(e,t):a(e,t)},t.readdirWithFileTypes=o,t.readdir=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(0),i=n(34),s=n(424);t.default=class{constructor(e={}){this._options=e,this.followSymbolicLinks=this._getValue(this._options.followSymbolicLinks,!1),this.fs=s.createFileSystemAdapter(this._options.fs),this.pathSegmentSeparator=this._getValue(this._options.pathSegmentSeparator,r.sep),this.stats=this._getValue(this._options.stats,!1),this.throwErrorOnBrokenSymbolicLink=this._getValue(this._options.throwErrorOnBrokenSymbolicLink,!0),this.fsStatSettings=new i.Settings({followSymbolicLink:this.followSymbolicLinks,fs:this.fs,throwErrorOnBrokenSymbolicLink:this.throwErrorOnBrokenSymbolicLink})}_getValue(e,t){return void 0===e?t:e}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(14);t.FILE_SYSTEM_ADAPTER={lstat:r.lstat,stat:r.stat,lstatSync:r.lstatSync,statSync:r.statSync,readdir:r.readdir,readdirSync:r.readdirSync},t.createFileSystemAdapter=function(e){return e?Object.assign({},t.FILE_SYSTEM_ADAPTER,e):t.FILE_SYSTEM_ADAPTER}},function(e,t,n){"use strict";var r=n(426);function i(){}function s(){this.value=null,this.callback=i,this.next=null,this.release=i,this.context=null;var e=this;this.worked=function(t,n){var r=e.callback;e.value=null,e.callback=i,r.call(e.context,t,n),e.release(e)}}e.exports=function(e,t,n){"function"==typeof e&&(n=t,t=e,e=null);var o=r(s),a=null,c=null,u=0,l={push:function(n,r){var s=o.get();s.context=e,s.release=h,s.value=n,s.callback=r||i,u===l.concurrency||l.paused?c?(c.next=s,c=s):(a=s,c=s,l.saturated()):(u++,t.call(e,s.value,s.worked))},drain:i,saturated:i,pause:function(){l.paused=!0},paused:!1,concurrency:n,running:function(){return u},resume:function(){if(l.paused){l.paused=!1;for(var e=0;e<l.concurrency;e++)u++,h()}},idle:function(){return 0===u&&0===l.length()},length:function(){for(var e=a,t=0;e;)e=e.next,t++;return t},unshift:function(n,r){var s=o.get();s.context=e,s.release=h,s.value=n,s.callback=r||i,u===l.concurrency||l.paused?a?(s.next=a,a=s):(a=s,c=s,l.saturated()):(u++,t.call(e,s.value,s.worked))},empty:i,kill:function(){a=null,c=null,l.drain=i},killAndDrain:function(){a=null,c=null,l.drain(),l.drain=i}};return l;function h(n){n&&o.release(n);var r=a;r?l.paused?u--:(c===a&&(c=null),a=r.next,r.next=null,t.call(e,r.value,r.worked),null===c&&l.empty()):0==--u&&l.drain()}}},function(e,t,n){"use strict";e.exports=function(e){var t=new e,n=t;return{get:function(){var r=t;return r.next?t=r.next:(t=new e,n=t),r.next=null,r},release:function(e){n.next=e,n=e}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(23),i=n(162);t.default=class{constructor(e,t){this._root=e,this._settings=t,this._reader=new i.default(this._root,this._settings),this._stream=new r.Readable({objectMode:!0,read:()=>{},destroy:this._reader.destroy.bind(this._reader)})}read(){return this._reader.onError(e=>{this._stream.emit("error",e)}),this._reader.onEntry(e=>{this._stream.push(e)}),this._reader.onEnd(()=>{this._stream.push(null)}),this._reader.read(),this._stream}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(429);t.default=class{constructor(e,t){this._root=e,this._settings=t,this._reader=new r.default(this._root,this._settings)}read(){return this._reader.read()}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(98),i=n(99),s=n(165);t.default=class extends s.default{constructor(){super(...arguments),this._scandir=r.scandirSync,this._storage=new Set,this._queue=new Set}read(){return this._pushToQueue(this._root,this._settings.basePath),this._handleQueue(),Array.from(this._storage)}_pushToQueue(e,t){this._queue.add({dir:e,base:t})}_handleQueue(){for(const e of this._queue.values())this._handleDirectory(e.dir,e.base)}_handleDirectory(e,t){try{const n=this._scandir(e,this._settings.fsScandirSettings);for(const e of n)this._handleEntry(e,t)}catch(e){this._handleError(e)}}_handleError(e){if(i.isFatalError(this._settings,e))throw e}_handleEntry(e,t){const n=e.path;void 0!==t&&(e.path=i.joinPathSegments(t,e.name,this._settings.pathSegmentSeparator)),i.isAppliedFilter(this._settings.entryFilter,e)&&this._pushToStorage(e),e.dirent.isDirectory()&&i.isAppliedFilter(this._settings.deepFilter,e)&&this._pushToQueue(n,e.path)}_pushToStorage(e){this._storage.add(e)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(0),i=n(98);t.default=class{constructor(e={}){this._options=e,this.basePath=this._getValue(this._options.basePath,void 0),this.concurrency=this._getValue(this._options.concurrency,1/0),this.deepFilter=this._getValue(this._options.deepFilter,null),this.entryFilter=this._getValue(this._options.entryFilter,null),this.errorFilter=this._getValue(this._options.errorFilter,null),this.pathSegmentSeparator=this._getValue(this._options.pathSegmentSeparator,r.sep),this.fsScandirSettings=new i.Settings({followSymbolicLinks:this._options.followSymbolicLinks,fs:this._options.fs,pathSegmentSeparator:this._options.pathSegmentSeparator,stats:this._options.stats,throwErrorOnBrokenSymbolicLink:this._options.throwErrorOnBrokenSymbolicLink})}_getValue(e,t){return void 0===e?t:e}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(28);t.default=class{constructor(e,t){this._settings=e,this._micromatchOptions=t}getFilter(e,t,n){const r=this._getMaxPatternDepth(t),i=this._getNegativePatternsRe(n);return t=>this._filter(e,t,i,r)}_getMaxPatternDepth(e){return e.some(r.pattern.hasGlobStar)?1/0:r.pattern.getMaxNaivePatternsDepth(e)}_getNegativePatternsRe(e){const t=e.filter(r.pattern.isAffectDepthOfReadingPattern);return r.pattern.convertPatternsToRe(t,this._micromatchOptions)}_filter(e,t,n,r){const i=this._getEntryDepth(e,t.path);return!this._isSkippedByDeep(i)&&!this._isSkippedByMaxPatternDepth(i,r)&&!this._isSkippedSymbolicLink(t)&&!this._isSkippedDotDirectory(t)&&this._isSkippedByNegativePatterns(t,n)}_getEntryDepth(e,t){const n=e.split("/").length;return t.split("/").length-(""===e?0:n)}_isSkippedByDeep(e){return e>=this._settings.deep}_isSkippedByMaxPatternDepth(e,t){return!this._settings.baseNameMatch&&t!==1/0&&e>t}_isSkippedSymbolicLink(e){return!this._settings.followSymbolicLinks&&e.dirent.isSymbolicLink()}_isSkippedDotDirectory(e){return!this._settings.dot&&e.name.startsWith(".")}_isSkippedByNegativePatterns(e,t){return!r.pattern.matchAny(e.path,t)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(28);t.default=class{constructor(e,t){this._settings=e,this._micromatchOptions=t,this.index=new Map}getFilter(e,t){const n=r.pattern.convertPatternsToRe(e,this._micromatchOptions),i=r.pattern.convertPatternsToRe(t,this._micromatchOptions);return e=>this._filter(e,n,i)}_filter(e,t,n){if(this._settings.unique){if(this._isDuplicateEntry(e))return!1;this._createIndexRecord(e)}if(this._onlyFileFilter(e)||this._onlyDirectoryFilter(e))return!1;if(this._isSkippedByAbsoluteNegativePatterns(e,n))return!1;const r=this._settings.baseNameMatch?e.name:e.path;return this._isMatchToPatterns(r,t)&&!this._isMatchToPatterns(e.path,n)}_isDuplicateEntry(e){return this.index.has(e.path)}_createIndexRecord(e){this.index.set(e.path,void 0)}_onlyFileFilter(e){return this._settings.onlyFiles&&!e.dirent.isFile()}_onlyDirectoryFilter(e){return this._settings.onlyDirectories&&!e.dirent.isDirectory()}_isSkippedByAbsoluteNegativePatterns(e,t){if(!this._settings.absolute)return!1;const n=r.path.makeAbsolute(this._settings.cwd,e.path);return this._isMatchToPatterns(n,t)}_isMatchToPatterns(e,t){return r.pattern.matchAny(e,t)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(28);t.default=class{constructor(e){this._settings=e}getFilter(){return e=>this._isNonFatalError(e)}_isNonFatalError(e){return r.errno.isEnoentCodeError(e)||this._settings.suppressErrors}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(28);t.default=class{constructor(e){this._settings=e}getTransformer(){return e=>this._transform(e)}_transform(e){let t=e.path;return this._settings.absolute&&(t=r.path.makeAbsolute(this._settings.cwd,t),t=r.path.unixify(t)),this._settings.markDirectories&&e.dirent.isDirectory()&&(t+="/"),this._settings.objectMode?Object.assign({},e,{path:t}):t}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(23),i=n(160),s=n(100);t.default=class extends s.default{constructor(){super(...arguments),this._reader=new i.default(this._settings)}read(e){const t=this._getRootDirectory(e),n=this._getReaderOptions(e),i=this.api(t,e,n),s=new r.Readable({objectMode:!0,read:()=>{}});return i.once("error",e=>s.emit("error",e)).on("data",e=>s.emit("data",n.transform(e))).once("end",()=>s.emit("end")),s}api(e,t,n){return t.dynamic?this._reader.dynamic(e,n):this._reader.static(t.patterns,n)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(437),i=n(100);t.default=class extends i.default{constructor(){super(...arguments),this._reader=new r.default(this._settings)}read(e){const t=this._getRootDirectory(e),n=this._getReaderOptions(e);return this.api(t,e,n).map(n.transform)}api(e,t,n){return t.dynamic?this._reader.dynamic(e,n):this._reader.static(t.patterns,n)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(34),i=n(161),s=n(166);t.default=class extends s.default{constructor(){super(...arguments),this._walkSync=i.walkSync,this._statSync=r.statSync}dynamic(e,t){return this._walkSync(e,t)}static(e,t){const n=[];for(const r of e){const e=this._getFullEntryPath(r),i=this._getEntry(e,r,t);null!==i&&t.entryFilter(i)&&n.push(i)}return n}_getEntry(e,t,n){try{const r=this._getStat(e);return this._makeEntry(r,t)}catch(e){if(n.errorFilter(e))return null;throw e}}_getStat(e){return this._statSync(e,this._fsStatSettings)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(14),i=n(13).cpus().length;t.DEFAULT_FILE_SYSTEM_ADAPTER={lstat:r.lstat,lstatSync:r.lstatSync,stat:r.stat,statSync:r.statSync,readdir:r.readdir,readdirSync:r.readdirSync};t.default=class{constructor(e={}){this._options=e,this.absolute=this._getValue(this._options.absolute,!1),this.baseNameMatch=this._getValue(this._options.baseNameMatch,!1),this.braceExpansion=this._getValue(this._options.braceExpansion,!0),this.caseSensitiveMatch=this._getValue(this._options.caseSensitiveMatch,!0),this.concurrency=this._getValue(this._options.concurrency,i),this.cwd=this._getValue(this._options.cwd,process.cwd()),this.deep=this._getValue(this._options.deep,1/0),this.dot=this._getValue(this._options.dot,!1),this.extglob=this._getValue(this._options.extglob,!0),this.followSymbolicLinks=this._getValue(this._options.followSymbolicLinks,!0),this.fs=this._getFileSystemMethods(this._options.fs),this.globstar=this._getValue(this._options.globstar,!0),this.ignore=this._getValue(this._options.ignore,[]),this.markDirectories=this._getValue(this._options.markDirectories,!1),this.objectMode=this._getValue(this._options.objectMode,!1),this.onlyDirectories=this._getValue(this._options.onlyDirectories,!1),this.onlyFiles=this._getValue(this._options.onlyFiles,!0),this.stats=this._getValue(this._options.stats,!1),this.suppressErrors=this._getValue(this._options.suppressErrors,!1),this.throwErrorOnBrokenSymbolicLink=this._getValue(this._options.throwErrorOnBrokenSymbolicLink,!1),this.unique=this._getValue(this._options.unique,!0),this.onlyDirectories&&(this.onlyFiles=!1),this.stats&&(this.objectMode=!0)}_getValue(e,t){return void 0===e?t:e}_getFileSystemMethods(e={}){return Object.assign({},t.DEFAULT_FILE_SYSTEM_ADAPTER,e)}}},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,s){function o(e){try{c(r.next(e))}catch(e){s(e)}}function a(e){try{c(r.throw(e))}catch(e){s(e)}}function c(e){e.done?i(e.value):new n(function(t){t(e.value)}).then(o,a)}c((r=r.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0});const i=n(92),s=n(0),o=n(50);class a{constructor(e){this.dir=e}get directory(){return this.dir}putStream(e){const t=this.pathFromKey(e);return i.createWriteStream(t)}getStream(e){const t=this.pathFromKey(e);return i.createReadStream(t)}put(e,t){const n=this.pathFromKey(e);return i.writeFile(n,t)}get(e){const t=this.pathFromKey(e);return i.readFile(t)}del(e){return i.unlink(this.pathFromKey(e))}empty(){return i.emptyDir(this.dir)}pathFromKey(e){return s.join(this.dir,e)}static create(e){return r(this,void 0,void 0,function*(){try{return yield i.ensureDir(e),new a(e)}catch(e){return void(e&&o.Log.warn(e.toString()))}})}}t.Cache=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(167),i=n(168),s=n(13),o=n(444);let a;o.setup("6cd0c2a4-fbb8-43a1-a550-b58a5bcff1dc").setAutoCollectRequests(!1).setAutoCollectPerformance(!1).setAutoCollectExceptions(!1).setAutoCollectDependencies(!1).setAutoDependencyCorrelation(!1).setAutoCollectConsole(!1).setUseDiskRetryCaching(!0).start(),function(e){e.initialised="initialised"}(t.TelemetryEvent||(t.TelemetryEvent={})),t.getTelemetryProperties=function(e){return a||(a=i.getMachineId().then(t=>({version:r.VERSION,machineId:t,platform:s.platform(),clientName:e}))),a},t.getTelemetryClient=function(){return o.defaultClient}},function(e,t,n){var r=n(442),i=n(443);e.exports=function(e,t,n){var s=t&&n||0;"string"==typeof e&&(t="binary"===e?new Array(16):null,e=null);var o=(e=e||{}).random||(e.rng||r)();if(o[6]=15&o[6]|64,o[8]=63&o[8]|128,t)for(var a=0;a<16;++a)t[s+a]=o[a];return t||i(o)}},function(e,t,n){var r=n(46);e.exports=function(){return r.randomBytes(16)}},function(e,t){for(var n=[],r=0;r<256;++r)n[r]=(r+256).toString(16).substr(1);e.exports=function(e,t){var r=t||0,i=n;return[i[e[r++]],i[e[r++]],i[e[r++]],i[e[r++]],"-",i[e[r++]],i[e[r++]],"-",i[e[r++]],i[e[r++]],"-",i[e[r++]],i[e[r++]],"-",i[e[r++]],i[e[r++]],i[e[r++]],i[e[r++]],i[e[r++]],i[e[r++]]].join("")}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=n(43),s=n(475),o=n(496),a=n(105),c=n(61),u=n(182),l=n(35),h=n(6),d=n(504),p=n(507);t.TelemetryClient=n(509),t.Contracts=n(17),function(e){e[e.AI=0]="AI",e[e.AI_AND_W3C=1]="AI_AND_W3C"}(r=t.DistributedTracingModes||(t.DistributedTracingModes={}));var f,_,m,g,y,T,b,v,E,S=!0,k=!1,w=!0,N=!0,A=!0,x=!0,C=!0,R=!0,I=!1,O=!0,D=void 0,P=void 0,L=!1;function M(){return t.defaultClient?(L=!0,m.enable(S,k),g.enable(w),y.enable(N),T.enable(O,_),b.useAutoCorrelation(R,f),b.enable(A),v.enable(x),t.liveMetricsClient&&I&&t.liveMetricsClient.enable(I)):h.warn("Start cannot be called before setup"),U}t.setup=function(e){return t.defaultClient?h.info("The default client is already setup"):(t.defaultClient=new t.TelemetryClient(e),m=new s(t.defaultClient),g=new o(t.defaultClient),y=new a(t.defaultClient),b=new u(t.defaultClient),v=new c(t.defaultClient),T||(T=new p.AutoCollectNativePerformance(t.defaultClient))),t.defaultClient&&t.defaultClient.channel&&t.defaultClient.channel.setUseDiskRetryCaching(C,D,P),U},t.start=M,t.getCorrelationContext=function(){return R?i.CorrelationContextManager.getCurrentContext():null},t.wrapWithCorrelationContext=function(e){return i.CorrelationContextManager.wrapCallback(e)};var U=function(){function e(){}return e.setDistributedTracingMode=function(t){return l.w3cEnabled=t===r.AI_AND_W3C,e},e.setAutoCollectConsole=function(t,n){return void 0===n&&(n=!1),S=t,k=n,L&&m.enable(t,n),e},e.setAutoCollectExceptions=function(t){return w=t,L&&g.enable(t),e},e.setAutoCollectPerformance=function(t,n){void 0===n&&(n=!0),N=t;var r=p.AutoCollectNativePerformance.parseEnabled(n);return O=r.isEnabled,_=r.disabledMetrics,L&&(y.enable(t),T.enable(r.isEnabled,r.disabledMetrics)),e},e.setAutoCollectRequests=function(t){return A=t,L&&b.enable(t),e},e.setAutoCollectDependencies=function(t){return x=t,L&&v.enable(t),e},e.setAutoDependencyCorrelation=function(t,n){return R=t,f=n,L&&b.useAutoCorrelation(t,n),e},e.setUseDiskRetryCaching=function(n,r,i){return C=n,D=r,P=i,t.defaultClient&&t.defaultClient.channel&&t.defaultClient.channel.setUseDiskRetryCaching(n,r,i),e},e.setInternalLogging=function(t,n){return void 0===t&&(t=!1),void 0===n&&(n=!0),h.enableDebug=t,h.disableWarnings=!n,e},e.setSendLiveMetrics=function(n){return void 0===n&&(n=!1),t.defaultClient?(t.liveMetricsClient?t.liveMetricsClient.enable(n):(t.liveMetricsClient=new d(t.defaultClient.config.instrumentationKey),E=new a(t.liveMetricsClient,1e3,!0),t.liveMetricsClient.addCollector(E),t.defaultClient.quickPulseClient=t.liveMetricsClient,I=n),e):(h.warn("Live metrics client cannot be setup without the default client"),e)},e.start=M,e}();t.Configuration=U,t.dispose=function(){t.defaultClient=null,L=!1,m&&m.dispose(),g&&g.dispose(),y&&y.dispose(),T&&T.dispose(),b&&b.dispose(),v&&v.dispose()}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(446);t.bunyan=r;var i=n(448);t.console=i;var s=n(450);t.mongodbCore=s;var o=n(451);t.mongodb=o;var a=n(452);t.mysql=a;var c=n(455);t.pgPool=c;var u=n(456);t.pg=u;var l=n(457);t.redis=l;var h=n(458);t.winston=h,t.enable=function(){r.enable(),i.enable(),s.enable(),o.enable(),a.enable(),u.enable(),c.enable(),l.enable(),h.enable()}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(5);t.bunyan={versionSpecifier:">= 1.0.0 < 2.0.0",patch:function(e){var t=e.prototype._emit;return e.prototype._emit=function(e,n){var i=t.apply(this,arguments);if(!n){var s=i;s||(s=t.call(this,e,!0)),r.channel.publish("bunyan",{level:e.level,result:s})}return i},e}},t.enable=function(){r.channel.registerMonkeyPatch("bunyan",t.bunyan)}},function(e){e.exports=JSON.parse('{"_from":"diagnostic-channel@0.2.0","_id":"diagnostic-channel@0.2.0","_inBundle":false,"_integrity":"sha1-zJmvlhLCP7H/8TYSxy8sv6qNWhc=","_location":"/diagnostic-channel","_phantomChildren":{},"_requested":{"type":"version","registry":true,"raw":"diagnostic-channel@0.2.0","name":"diagnostic-channel","escapedName":"diagnostic-channel","rawSpec":"0.2.0","saveSpec":null,"fetchSpec":"0.2.0"},"_requiredBy":["/applicationinsights"],"_resolved":"https://registry.npmjs.org/diagnostic-channel/-/diagnostic-channel-0.2.0.tgz","_shasum":"cc99af9612c23fb1fff13612c72f2cbfaa8d5a17","_spec":"diagnostic-channel@0.2.0","_where":"/home/ben/Projects/intelephense/node_modules/applicationinsights","bugs":{"url":"https://github.com/Microsoft/node-diagnostic-channel/issues"},"bundleDependencies":false,"dependencies":{"semver":"^5.3.0"},"deprecated":false,"description":"Provides a context-saving pub/sub channel to connect diagnostic event publishers and subscribers","devDependencies":{"@types/mocha":"^2.2.40","@types/node":"^7.0.12","mocha":"^3.2.0","rimraf":"^2.6.1","tslint":"^5.0.0","typescript":"^2.2.1"},"files":["dist/src/**/*.d.ts","dist/src/**/*.js","LICENSE","README.md","package.json"],"homepage":"https://github.com/Microsoft/node-diagnostic-channel","license":"MIT","main":"./dist/src/channel.js","name":"diagnostic-channel","repository":{"type":"git","url":"git+https://github.com/Microsoft/node-diagnostic-channel.git"},"scripts":{"build":"tsc","clean":"rimraf ./dist","lint":"tslint -c tslint.json -p tsconfig.json","test":"mocha ./dist/tests/**/*.js"},"types":"./dist/src/channel.d.ts","version":"0.2.0"}')},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(5),i=n(23);t.console={versionSpecifier:">= 4.0.0",patch:function(e){var t=new i.Writable,n=new i.Writable;t.write=function(e){if(!e)return!0;var t=e.toString();return r.channel.publish("console",{message:t}),!0},n.write=function(e){if(!e)return!0;var t=e.toString();return r.channel.publish("console",{message:t,stderr:!0}),!0};for(var s=new e.Console(t,n),o=function(t){var n=e[t];n&&(e[t]=function(){if(s[t])try{s[t].apply(s,arguments)}catch(e){}return n.apply(e,arguments)})},a=0,c=["log","info","warn","error","dir","time","timeEnd","trace","assert"];a<c.length;a++)o(c[a]);return e}},t.enable=function(){r.channel.registerMonkeyPatch("console",t.console),n(449)}},function(e,t){e.exports=require("console")},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(5);t.mongoCore={versionSpecifier:">= 2.0.0 < 4.0.0",patch:function(e){var t=e.Server.prototype.connect;return e.Server.prototype.connect=function(){var e=t.apply(this,arguments),n=this.s.pool.write;this.s.pool.write=function(){var e="function"==typeof arguments[1]?1:2;return"function"==typeof arguments[e]&&(arguments[e]=r.channel.bindToContext(arguments[e])),n.apply(this,arguments)};var i=this.s.pool.logout;return this.s.pool.logout=function(){return"function"==typeof arguments[1]&&(arguments[1]=r.channel.bindToContext(arguments[1])),i.apply(this,arguments)},e},e}},t.enable=function(){r.channel.registerMonkeyPatch("mongodb-core",t.mongoCore)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(5);t.mongo2={versionSpecifier:">= 2.0.0 <= 3.0.5",patch:function(e){var t=e.instrument({operationIdGenerator:{next:function(){return r.channel.bindToContext(function(e){return e()})}}}),n={};return t.on("started",function(e){n[e.requestId]||(n[e.requestId]=e)}),t.on("succeeded",function(e){var t=n[e.requestId];t&&delete n[e.requestId],e.operationId(function(){return r.channel.publish("mongodb",{startedData:t,event:e,succeeded:!0})})}),t.on("failed",function(e){var t=n[e.requestId];t&&delete n[e.requestId],e.operationId(function(){return r.channel.publish("mongodb",{startedData:t,event:e,succeeded:!1})})}),e}},t.mongo3={versionSpecifier:"> 3.0.5 < 4.0.0",patch:function(e){var t=e.instrument(),n={},i={};return t.on("started",function(e){n[e.requestId]||(i[e.requestId]=r.channel.bindToContext(function(e){return e()}),n[e.requestId]=e)}),t.on("succeeded",function(e){var t=n[e.requestId];t&&delete n[e.requestId],"object"==typeof e&&"function"==typeof i[e.requestId]&&(i[e.requestId](function(){return r.channel.publish("mongodb",{startedData:t,event:e,succeeded:!0})}),delete i[e.requestId])}),t.on("failed",function(e){var t=n[e.requestId];t&&delete n[e.requestId],"object"==typeof e&&"function"==typeof i[e.requestId]&&(i[e.requestId](function(){return r.channel.publish("mongodb",{startedData:t,event:e,succeeded:!1})}),delete i[e.requestId])}),e}},t.enable=function(){r.channel.registerMonkeyPatch("mongodb",t.mongo2),r.channel.registerMonkeyPatch("mongodb",t.mongo3)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(5),i=n(0);t.mysql={versionSpecifier:">= 2.0.0 < 3.0.0",patch:function(e,t){var s=function(e,t){return function(t,n){var i=e[t];i&&(e[t]=function(){for(var e=arguments.length-1,t=arguments.length-1;t>=0;--t){if("function"==typeof arguments[t]){e=t;break}if(void 0!==arguments[t])break}var s=arguments[e],o={result:null,startTime:null};"function"==typeof s&&(n?(o.startTime=process.hrtime(),arguments[e]=r.channel.bindToContext(n(o,s))):arguments[e]=r.channel.bindToContext(s));var a=i.apply(this,arguments);return o.result=a,a})}},o=function(e,t){return s(e.prototype)},a=n(453)(i.dirname(t)+"/lib/Connection");["connect","changeUser","ping","statistics","end"].forEach(function(e){return o(a)(e)}),s(a)("createQuery",function(e,t){return function(n){var i=process.hrtime(e.startTime),s=1e3*i[0]+i[1]/1e6|0;r.channel.publish("mysql",{query:e.result,callbackArgs:arguments,err:n,duration:s}),t.apply(this,arguments)}});var c=n(454)(i.dirname(t)+"/lib/Pool");return["_enqueueCallback"].forEach(function(e){return o(c)(e)}),e}},t.enable=function(){r.channel.registerMonkeyPatch("mysql",t.mysql)}},function(e,t){function n(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}n.keys=function(){return[]},n.resolve=n,e.exports=n,n.id=453},function(e,t){function n(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}n.keys=function(){return[]},n.resolve=n,e.exports=n,n.id=454},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(5);t.postgresPool1={versionSpecifier:">= 1.0.0 < 3.0.0",patch:function(e){var t=e.prototype.connect;return e.prototype.connect=function(e){return e&&(arguments[0]=r.channel.bindToContext(e)),t.apply(this,arguments)},e}},t.enable=function(){r.channel.registerMonkeyPatch("pg-pool",t.postgresPool1)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(5),i=n(55);t.postgres6={versionSpecifier:"6.*",patch:function(e,t){var n=e.Client.prototype.query,s="__diagnosticOriginalFunc";return e.Client.prototype.query=function(e,t,o){var a,c={query:{},database:{host:this.connectionParameters.host,port:this.connectionParameters.port},result:null,error:null,duration:0},u=process.hrtime();function l(e){e&&e[s]&&(e=e[s]);var t=r.channel.bindToContext(function(t,n){var s=process.hrtime(u);if(c.result=n&&{rowCount:n.rowCount,command:n.command},c.error=t,c.duration=Math.ceil(1e3*s[0]+s[1]/1e6),r.channel.publish("postgres",c),t){if(e)return e.apply(this,arguments);a&&a instanceof i.EventEmitter&&a.emit("error",t)}else e&&e.apply(this,arguments)});try{return Object.defineProperty(t,s,{value:e}),t}catch(t){return e}}try{"string"==typeof e?t instanceof Array?(c.query.preparable={text:e,args:t},o=l(o)):(c.query.text=e,o?o=l(o):t=l(t)):("string"==typeof e.name?c.query.plan=e.name:e.values instanceof Array?c.query.preparable={text:e.text,args:e.values}:c.query.text=e.text,o?o=l(o):t?t=l(t):e.callback=l(e.callback))}catch(e){return n.apply(this,arguments)}return arguments[0]=e,arguments[1]=t,arguments[2]=o,arguments.length=arguments.length>3?arguments.length:3,a=n.apply(this,arguments)},e}},t.postgres7={versionSpecifier:"7.*",patch:function(e,t){var n=e.Client.prototype.query,s="__diagnosticOriginalFunc";return e.Client.prototype.query=function(e,t,o){var a,c=this,u=!!o,l={query:{},database:{host:this.connectionParameters.host,port:this.connectionParameters.port},result:null,error:null,duration:0},h=process.hrtime();function d(e){e&&e[s]&&(e=e[s]);var t=r.channel.bindToContext(function(t,n){var s=process.hrtime(h);if(l.result=n&&{rowCount:n.rowCount,command:n.command},l.error=t,l.duration=Math.ceil(1e3*s[0]+s[1]/1e6),r.channel.publish("postgres",l),t){if(e)return e.apply(this,arguments);a&&a instanceof i.EventEmitter&&a.emit("error",t)}else e&&e.apply(this,arguments)});try{return Object.defineProperty(t,s,{value:e}),t}catch(t){return e}}try{"string"==typeof e?t instanceof Array?(l.query.preparable={text:e,args:t},u="function"==typeof o,o=o?d(o):o):(l.query.text=e,o?o=(u="function"==typeof o)?d(o):o:t=(u="function"==typeof t)?d(t):t):("string"==typeof e.name?l.query.plan=e.name:e.values instanceof Array?l.query.preparable={text:e.text,args:e.values}:l.query.text=e.text,o?(u="function"==typeof o,o=d(o)):t?t=(u="function"==typeof t)?d(t):t:(u="function"==typeof e.callback,e.callback=u?d(e.callback):e.callback))}catch(e){return n.apply(this,arguments)}return arguments[0]=e,arguments[1]=t,arguments[2]=o,arguments.length=arguments.length>3?arguments.length:3,a=n.apply(this,arguments),u?a:a.then(function(e){return d()(void 0,e),new c._Promise(function(t,n){t(e)})}).catch(function(e){return d()(e,void 0),new c._Promise(function(t,n){n(e)})})},e}},t.enable=function(){r.channel.registerMonkeyPatch("pg",t.postgres6),r.channel.registerMonkeyPatch("pg",t.postgres7)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(5);t.redis={versionSpecifier:">= 2.0.0 < 3.0.0",patch:function(e){var t=e.RedisClient.prototype.internal_send_command;return e.RedisClient.prototype.internal_send_command=function(e){if(e){var n=e.callback;if(!n||!n.pubsubBound){var i=this.address,s=process.hrtime();e.callback=r.channel.bindToContext(function(t,o){var a=process.hrtime(s),c=1e3*a[0]+a[1]/1e6|0;r.channel.publish("redis",{duration:c,address:i,commandObj:e,err:t,result:o}),"function"==typeof n&&n.apply(this,arguments)}),e.callback.pubsubBound=!0}}return t.call(this,e)},e}},t.enable=function(){r.channel.registerMonkeyPatch("redis",t.redis)}},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),s=this&&this.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&(n[r[i]]=e[r[i]])}return n};Object.defineProperty(t,"__esModule",{value:!0});var o=n(5);t.winston3={versionSpecifier:"3.x",patch:function(e){var t=function(e){function t(t,n){var r=e.call(this,n)||this;return r.winston=t,r}return i(t,e),t.prototype.log=function(e,t){var n=e.message,r=e.level,i=e.meta,a=s(e,["message","level","meta"]);r="function"==typeof Symbol.for?e[Symbol.for("level")]:r;var c=function(e,t){return null!=e.config.npm.levels[t]?"npm":null!=e.config.syslog.levels[t]?"syslog":"unknown"}(this.winston,r);for(var u in i=i||{},a)a.hasOwnProperty(u)&&(i[u]=a[u]);o.channel.publish("winston",{message:n,level:r,levelKind:c,meta:i}),t()},t}(e.Transport);function n(){var n,r=arguments[0].levels||e.config.npm.levels;for(var i in r)r.hasOwnProperty(i)&&(n=void 0===n||r[i]>r[n]?i:n);this.add(new t(e,{level:n}))}var r=e.createLogger;e.createLogger=function(){var i,s=arguments[0].levels||e.config.npm.levels;for(var o in s)s.hasOwnProperty(o)&&(i=void 0===i||s[o]>s[i]?o:i);var a=r.apply(this,arguments);a.add(new t(e,{level:i}));var c=a.configure;return a.configure=function(){c.apply(this,arguments),n.apply(this,arguments)},a};var a=e.createLogger;return e.configure=function(){a.apply(this,arguments),n.apply(this,arguments)},e.add(new t(e)),e}},t.winston2={versionSpecifier:"2.x",patch:function(e){var t,n=e.Logger.prototype.log,r=function(n,r,i){var s;return s=t===e.config.npm.levels?"npm":t===e.config.syslog.levels?"syslog":"unknown",o.channel.publish("winston",{level:n,message:r,meta:i,levelKind:s}),r};return e.Logger.prototype.log=function(){return t=this.levels,this.filters&&0!==this.filters.length?this.filters[this.filters.length-1]!==r&&(this.filters=this.filters.filter(function(e){return e!==r}),this.filters.push(r)):this.filters=[r],n.apply(this,arguments)},e}},t.enable=function(){o.channel.registerMonkeyPatch("winston",t.winston2),o.channel.registerMonkeyPatch("winston",t.winston3)}},function(e,t,n){"use strict";const r=n(102);process&&r.gte(process.versions.node,"8.0.0")?e.exports=n(460):e.exports=n(462)},function(e,t,n){"use strict";const r=n(16),i=n(33),s=n(103),o=n(461),a="cls@contexts",c=process.env.DEBUG_CLS_HOOKED;let u=-1;function l(e){this.name=e,this.active=null,this._set=[],this.id=null,this._contexts=new Map,this._indent=0}function h(e){return process.namespaces[e]}function d(e){let t=h(e);i.ok(t,"can't delete nonexistent namespace! \""+e+'"'),i.ok(t.id,"don't assign to process.namespaces directly! "+r.inspect(t)),process.namespaces[e]=null}function p(...e){c&&process._rawDebug(`${r.format(...e)}`)}e.exports={getNamespace:h,createNamespace:function(e){i.ok(e,"namespace must be given a name."),c&&p(`NS-CREATING NAMESPACE (${e})`);let t=new l(e);return t.id=u,o.createHook({init(n,i,s,a){if(u=o.executionAsyncId(),t.active){if(t._contexts.set(n,t.active),c){const o=" ".repeat(t._indent<0?0:t._indent);p(`${o}INIT [${i}] (${e}) asyncId:${n} currentUid:${u} triggerId:${s} active:${r.inspect(t.active,{showHidden:!0,depth:2,colors:!0})} resource:${a}`)}}else if(0===u){const s=o.triggerAsyncId(),l=t._contexts.get(s);if(l){if(t._contexts.set(n,l),c){const o=" ".repeat(t._indent<0?0:t._indent);p(`${o}INIT USING CONTEXT FROM TRIGGERID [${i}] (${e}) asyncId:${n} currentUid:${u} triggerId:${s} active:${r.inspect(t.active,{showHidden:!0,depth:2,colors:!0})} resource:${a}`)}}else if(c){const o=" ".repeat(t._indent<0?0:t._indent);p(`${o}INIT MISSING CONTEXT [${i}] (${e}) asyncId:${n} currentUid:${u} triggerId:${s} active:${r.inspect(t.active,{showHidden:!0,depth:2,colors:!0})} resource:${a}`)}}if(c&&"PROMISE"===i){p(r.inspect(a,{showHidden:!0}));const o=a.parentId,c=" ".repeat(t._indent<0?0:t._indent);p(`${c}INIT RESOURCE-PROMISE [${i}] (${e}) parentId:${o} asyncId:${n} currentUid:${u} triggerId:${s} active:${r.inspect(t.active,{showHidden:!0,depth:2,colors:!0})} resource:${a}`)}},before(n){let i;if(u=o.executionAsyncId(),i=t._contexts.get(n)||t._contexts.get(u)){if(c){const s=o.triggerAsyncId(),a=" ".repeat(t._indent<0?0:t._indent);p(`${a}BEFORE (${e}) asyncId:${n} currentUid:${u} triggerId:${s} active:${r.inspect(t.active,{showHidden:!0,depth:2,colors:!0})} context:${r.inspect(i)}`),t._indent+=2}t.enter(i)}else if(c){const i=o.triggerAsyncId(),s=" ".repeat(t._indent<0?0:t._indent);p(`${s}BEFORE MISSING CONTEXT (${e}) asyncId:${n} currentUid:${u} triggerId:${i} active:${r.inspect(t.active,{showHidden:!0,depth:2,colors:!0})} namespace._contexts:${r.inspect(t._contexts,{showHidden:!0,depth:2,colors:!0})}`),t._indent+=2}},after(n){let i;if(u=o.executionAsyncId(),i=t._contexts.get(n)||t._contexts.get(u)){if(c){const s=o.triggerAsyncId();t._indent-=2;const a=" ".repeat(t._indent<0?0:t._indent);p(`${a}AFTER (${e}) asyncId:${n} currentUid:${u} triggerId:${s} active:${r.inspect(t.active,{showHidden:!0,depth:2,colors:!0})} context:${r.inspect(i)}`)}t.exit(i)}else if(c){const s=o.triggerAsyncId();t._indent-=2;const a=" ".repeat(t._indent<0?0:t._indent);p(`${a}AFTER MISSING CONTEXT (${e}) asyncId:${n} currentUid:${u} triggerId:${s} active:${r.inspect(t.active,{showHidden:!0,depth:2,colors:!0})} context:${r.inspect(i)}`)}},destroy(n){if(u=o.executionAsyncId(),c){const i=o.triggerAsyncId(),s=" ".repeat(t._indent<0?0:t._indent);p(`${s}DESTROY (${e}) currentUid:${u} asyncId:${n} triggerId:${i} active:${r.inspect(t.active,{showHidden:!0,depth:2,colors:!0})} context:${r.inspect(t._contexts.get(u))}`)}t._contexts.delete(n)}}).enable(),process.namespaces[e]=t,t},destroyNamespace:d,reset:function(){process.namespaces&&Object.keys(process.namespaces).forEach(function(e){d(e)});process.namespaces=Object.create(null)},ERROR_SYMBOL:"error@context"},l.prototype.set=function(e,t){if(!this.active)throw new Error("No context available. ns.run() or ns.bind() must be called first.");if(this.active[e]=t,c){p(" ".repeat(this._indent<0?0:this._indent)+"CONTEXT-SET KEY:"+e+"="+t+" in ns:"+this.name+" currentUid:"+u+" active:"+r.inspect(this.active,{showHidden:!0,depth:2,colors:!0}))}return t},l.prototype.get=function(e){if(this.active){if(c){const t=o.executionAsyncId(),n=o.triggerAsyncId(),i=" ".repeat(this._indent<0?0:this._indent);p(i+"CONTEXT-GETTING KEY:"+e+"="+this.active[e]+" ("+this.name+") currentUid:"+u+" active:"+r.inspect(this.active,{showHidden:!0,depth:2,colors:!0})),p(`${i}CONTEXT-GETTING KEY: (${this.name}) ${e}=${this.active[e]} currentUid:${u} asyncHooksCurrentId:${t} triggerId:${n} len:${this._set.length} active:${r.inspect(this.active)}`)}return this.active[e]}if(c){const t=o.currentId(),n=o.triggerAsyncId();p(`${" ".repeat(this._indent<0?0:this._indent)}CONTEXT-GETTING KEY NO ACTIVE NS: (${this.name}) ${e}=undefined currentUid:${u} asyncHooksCurrentId:${t} triggerId:${n} len:${this._set.length}`)}},l.prototype.createContext=function(){let e=Object.create(this.active?this.active:Object.prototype);if(e._ns_name=this.name,e.id=u,c){const t=o.executionAsyncId(),n=o.triggerAsyncId();p(`${" ".repeat(this._indent<0?0:this._indent)}CONTEXT-CREATED Context: (${this.name}) currentUid:${u} asyncHooksCurrentId:${t} triggerId:${n} len:${this._set.length} context:${r.inspect(e,{showHidden:!0,depth:2,colors:!0})}`)}return e},l.prototype.run=function(e){let t=this.createContext();this.enter(t);try{if(c){const e=o.triggerAsyncId(),n=o.executionAsyncId();p(`${" ".repeat(this._indent<0?0:this._indent)}CONTEXT-RUN BEGIN: (${this.name}) currentUid:${u} triggerId:${e} asyncHooksCurrentId:${n} len:${this._set.length} context:${r.inspect(t)}`)}return e(t),t}catch(e){throw e&&(e["error@context"]=t),e}finally{if(c){const e=o.triggerAsyncId(),n=o.executionAsyncId();p(`${" ".repeat(this._indent<0?0:this._indent)}CONTEXT-RUN END: (${this.name}) currentUid:${u} triggerId:${e} asyncHooksCurrentId:${n} len:${this._set.length} ${r.inspect(t)}`)}this.exit(t)}},l.prototype.runAndReturn=function(e){let t;return this.run(function(n){t=e(n)}),t},l.prototype.runPromise=function(e){let t=this.createContext();this.enter(t);let n=e(t);if(!n||!n.then||!n.catch)throw new Error("fn must return a promise.");return c&&p("CONTEXT-runPromise BEFORE: ("+this.name+") currentUid:"+u+" len:"+this._set.length+" "+r.inspect(t)),n.then(e=>(c&&p("CONTEXT-runPromise AFTER then: ("+this.name+") currentUid:"+u+" len:"+this._set.length+" "+r.inspect(t)),this.exit(t),e)).catch(e=>{throw e["error@context"]=t,c&&p("CONTEXT-runPromise AFTER catch: ("+this.name+") currentUid:"+u+" len:"+this._set.length+" "+r.inspect(t)),this.exit(t),e})},l.prototype.bind=function(e,t){t||(t=this.active?this.active:this.createContext());let n=this;return function(){n.enter(t);try{return e.apply(this,arguments)}catch(e){throw e&&(e["error@context"]=t),e}finally{n.exit(t)}}},l.prototype.enter=function(e){if(i.ok(e,"context must be provided for entering"),c){const t=o.executionAsyncId(),n=o.triggerAsyncId();p(`${" ".repeat(this._indent<0?0:this._indent)}CONTEXT-ENTER: (${this.name}) currentUid:${u} triggerId:${n} asyncHooksCurrentId:${t} len:${this._set.length} ${r.inspect(e)}`)}this._set.push(this.active),this.active=e},l.prototype.exit=function(e){if(i.ok(e,"context must be provided for exiting"),c){const t=o.executionAsyncId(),n=o.triggerAsyncId();p(`${" ".repeat(this._indent<0?0:this._indent)}CONTEXT-EXIT: (${this.name}) currentUid:${u} triggerId:${n} asyncHooksCurrentId:${t} len:${this._set.length} ${r.inspect(e)}`)}if(this.active===e)return i.ok(this._set.length,"can't remove top context"),void(this.active=this._set.pop());let t=this._set.lastIndexOf(e);t<0?(c&&p("??ERROR?? context exiting but not entered - ignoring: "+r.inspect(e)),i.ok(t>=0,"context not currently entered; can't exit. \n"+r.inspect(this)+"\n"+r.inspect(e))):(i.ok(t,"can't remove top context"),this._set.splice(t,1))},l.prototype.bindEmitter=function(e){i.ok(e.on&&e.addListener&&e.emit,"can only bind real EEs");let t=this,n="context@"+this.name;s(e,function(e){e&&(e[a]||(e[a]=Object.create(null)),e[a][n]={namespace:t,context:t.active})},function(e){if(!e||!e[a])return e;let t=e,n=e[a];return Object.keys(n).forEach(function(e){let r=n[e];t=r.namespace.bind(t,r.context)}),t})},l.prototype.fromException=function(e){return e["error@context"]},process.namespaces={}},function(e,t){e.exports=require("async_hooks")},function(e,t,n){"use strict";const r=n(16),i=n(33),s=n(103),o=n(463),a="cls@contexts",c=[];for(let e in o.providers)c[o.providers[e]]=e;const u=process.env.DEBUG_CLS_HOOKED;let l=-1;function h(e){this.name=e,this.active=null,this._set=[],this.id=null,this._contexts=new Map}function d(e){return process.namespaces[e]}function p(e){let t=d(e);i.ok(t,"can't delete nonexistent namespace! \""+e+'"'),i.ok(t.id,"don't assign to process.namespaces directly! "+r.inspect(t)),process.namespaces[e]=null}function f(e){process.env.DEBUG&&process._rawDebug(e)}function _(e){return e?"function"==typeof e?e.name?e.name:(e.toString().trim().match(/^function\s*([^\s(]+)/)||[])[1]:e.constructor&&e.constructor.name?e.constructor.name:void 0:e}if(e.exports={getNamespace:d,createNamespace:function(e){i.ok(e,"namespace must be given a name."),u&&f("CREATING NAMESPACE "+e);let t=new h(e);return t.id=l,o.addHooks({init(n,i,s,o,a){l=n,o?(t._contexts.set(n,t._contexts.get(o)),u&&f("PARENTID: "+e+" uid:"+n+" parent:"+o+" provider:"+s)):t._contexts.set(l,t.active),u&&f("INIT "+e+" uid:"+n+" parent:"+o+" provider:"+c[s]+" active:"+r.inspect(t.active,!0))},pre(n,i){l=n;let s=t._contexts.get(n);s?(u&&f(" PRE "+e+" uid:"+n+" handle:"+_(i)+" context:"+r.inspect(s)),t.enter(s)):u&&f(" PRE MISSING CONTEXT "+e+" uid:"+n+" handle:"+_(i))},post(n,i){l=n;let s=t._contexts.get(n);s?(u&&f(" POST "+e+" uid:"+n+" handle:"+_(i)+" context:"+r.inspect(s)),t.exit(s)):u&&f(" POST MISSING CONTEXT "+e+" uid:"+n+" handle:"+_(i))},destroy(n){l=n,u&&f("DESTROY "+e+" uid:"+n+" context:"+r.inspect(t._contexts.get(l))+" active:"+r.inspect(t.active,!0)),t._contexts.delete(n)}}),process.namespaces[e]=t,t},destroyNamespace:p,reset:function(){process.namespaces&&Object.keys(process.namespaces).forEach(function(e){p(e)});process.namespaces=Object.create(null)},ERROR_SYMBOL:"error@context"},h.prototype.set=function(e,t){if(!this.active)throw new Error("No context available. ns.run() or ns.bind() must be called first.");return u&&f("    SETTING KEY:"+e+"="+t+" in ns:"+this.name+" uid:"+l+" active:"+r.inspect(this.active,!0)),this.active[e]=t,t},h.prototype.get=function(e){if(this.active)return u&&f("    GETTING KEY:"+e+"="+this.active[e]+" "+this.name+" uid:"+l+" active:"+r.inspect(this.active,!0)),this.active[e];u&&f("    GETTING KEY:"+e+"=undefined "+this.name+" uid:"+l+" active:"+r.inspect(this.active,!0))},h.prototype.createContext=function(){u&&f("   CREATING Context: "+this.name+" uid:"+l+" len:"+this._set.length+"  active:"+r.inspect(this.active,!0,2,!0));let e=Object.create(this.active?this.active:Object.prototype);return e._ns_name=this.name,e.id=l,u&&f("   CREATED Context: "+this.name+" uid:"+l+" len:"+this._set.length+"  context:"+r.inspect(e,!0,2,!0)),e},h.prototype.run=function(e){let t=this.createContext();this.enter(t);try{return u&&f(" BEFORE RUN: "+this.name+" uid:"+l+" len:"+this._set.length+" "+r.inspect(t)),e(t),t}catch(e){throw e&&(e["error@context"]=t),e}finally{u&&f(" AFTER RUN: "+this.name+" uid:"+l+" len:"+this._set.length+" "+r.inspect(t)),this.exit(t)}},h.prototype.runAndReturn=function(e){var t;return this.run(function(n){t=e(n)}),t},h.prototype.runPromise=function(e){let t=this.createContext();this.enter(t);let n=e(t);if(!n||!n.then||!n.catch)throw new Error("fn must return a promise.");return u&&f(" BEFORE runPromise: "+this.name+" uid:"+l+" len:"+this._set.length+" "+r.inspect(t)),n.then(e=>(u&&f(" AFTER runPromise: "+this.name+" uid:"+l+" len:"+this._set.length+" "+r.inspect(t)),this.exit(t),e)).catch(e=>{throw e["error@context"]=t,u&&f(" AFTER runPromise: "+this.name+" uid:"+l+" len:"+this._set.length+" "+r.inspect(t)),this.exit(t),e})},h.prototype.bind=function(e,t){t||(t=this.active?this.active:this.createContext());let n=this;return function(){n.enter(t);try{return e.apply(this,arguments)}catch(e){throw e&&(e["error@context"]=t),e}finally{n.exit(t)}}},h.prototype.enter=function(e){i.ok(e,"context must be provided for entering"),u&&f("  ENTER "+this.name+" uid:"+l+" len:"+this._set.length+" context: "+r.inspect(e)),this._set.push(this.active),this.active=e},h.prototype.exit=function(e){if(i.ok(e,"context must be provided for exiting"),u&&f("  EXIT "+this.name+" uid:"+l+" len:"+this._set.length+" context: "+r.inspect(e)),this.active===e)return i.ok(this._set.length,"can't remove top context"),void(this.active=this._set.pop());let t=this._set.lastIndexOf(e);t<0?(u&&f("??ERROR?? context exiting but not entered - ignoring: "+r.inspect(e)),i.ok(t>=0,"context not currently entered; can't exit. \n"+r.inspect(this)+"\n"+r.inspect(e))):(i.ok(t,"can't remove top context"),this._set.splice(t,1))},h.prototype.bindEmitter=function(e){i.ok(e.on&&e.addListener&&e.emit,"can only bind real EEs");let t=this,n="context@"+this.name;s(e,function(e){e&&(e[a]||(e[a]=Object.create(null)),e[a][n]={namespace:t,context:t.active})},function(e){if(!e||!e[a])return e;let t=e,n=e[a];return Object.keys(n).forEach(function(e){let r=n[e];t=r.namespace.bind(t,r.context)}),t})},h.prototype.fromException=function(e){return e["error@context"]},process.namespaces={},o._state&&!o._state.enabled&&o.enable(),u){var m=n(173);for(var g in m.filter._modifiers)m.filter.deattach(g)}},function(e,t,n){"use strict";const r=n(464);if(global._asyncHook){if(global._asyncHook.version!==n(172).version)throw new Error("Conflicting version of async-hook-jl found");e.exports=global._asyncHook}else{n(173).filter.attach(function(e,t){return t.filter(function(e){const t=e.getFileName();return!(t&&t.slice(0,__dirname.length)===__dirname)})}),e.exports=global._asyncHook=new r}},function(e,t,n){"use strict";const r=process.binding("async_wrap"),i=r.Providers.TIMERWRAP,s={nextTick:n(465),promise:n(466),timers:n(467)},o=new Set;function a(){this.enabled=!1,this.counter=0}function c(){const e=this.initFns=[],t=this.preFns=[],n=this.postFns=[],r=this.destroyFns=[];this.init=function(t,n,r,s){if(n!==i)for(const i of e)i(t,this,n,r,s);else o.add(t)},this.pre=function(e){if(!o.has(e))for(const n of t)n(e,this)},this.post=function(e,t){if(!o.has(e))for(const r of n)r(e,this,t)},this.destroy=function(e){if(o.has(e))o.delete(e);else for(const t of r)t(e)}}function u(e,t){const n=e.indexOf(t);-1!==n&&e.splice(n,1)}function l(){this._state=new a,this._hooks=new c,this.version=n(172).version,this.providers=r.Providers;for(const e of Object.keys(s))s[e].call(this);process.env.hasOwnProperty("NODE_ASYNC_HOOK_WARNING")&&console.warn("warning: you are using async-hook-jl which is unstable."),r.setupHooks({init:this._hooks.init,pre:this._hooks.pre,post:this._hooks.post,destroy:this._hooks.destroy})}c.prototype.add=function(e){e.init&&this.initFns.push(e.init),e.pre&&this.preFns.push(e.pre),e.post&&this.postFns.push(e.post),e.destroy&&this.destroyFns.push(e.destroy)},c.prototype.remove=function(e){e.init&&u(this.initFns,e.init),e.pre&&u(this.preFns,e.pre),e.post&&u(this.postFns,e.post),e.destroy&&u(this.destroyFns,e.destroy)},e.exports=l,l.prototype.addHooks=function(e){this._hooks.add(e)},l.prototype.removeHooks=function(e){this._hooks.remove(e)},l.prototype.enable=function(){this._state.enabled=!0,r.enable()},l.prototype.disable=function(){this._state.enabled=!1,r.disable()}},function(e,t,n){"use strict";function r(){}e.exports=function(){const e=this._hooks,t=this._state,n=process.nextTick;process.nextTick=function(){if(!t.enabled)return n.apply(process,arguments);const i=new Array(arguments.length);for(let e=0;e<arguments.length;e++)i[e]=arguments[e];const s=i[0];if("function"!=typeof s)throw new TypeError("callback is not a function");const o=new r,a=--t.counter;return e.init.call(o,a,0,null,null),i[0]=function(){e.pre.call(o,a);let t=!0;try{s.apply(this,arguments),t=!1}finally{t&&process.listenerCount("uncaughtException")>0&&process.once("uncaughtException",function(){e.post.call(o,a,!0),e.destroy.call(null,a)})}e.post.call(o,a,!1),e.destroy.call(null,a)},n.apply(process,i)}}},function(e,t,n){"use strict";function r(){}e.exports=function(){const e=this._hooks,t=this._state,n=global.Promise,i=n.prototype.then;function s(t,n,r,i){return"function"!=typeof t?i?function(t){return function(n){return e.destroy.call(null,t),n}}(r):function(t){return function(n){throw e.destroy.call(null,t),n}}(r):function(){e.pre.call(n,r);try{return t.apply(this,arguments)}finally{e.post.call(n,r,!1),e.destroy.call(null,r)}}}n.prototype.then=function(n,o){if(!t.enabled)return i.call(this,n,o);const a=new r,c=--t.counter;return e.init.call(a,c,0,null,null),i.call(this,s(n,a,c,!0),s(o,a,c,!1))}}},function(e,t,n){"use strict";const r=n(171);function i(){}function s(){}function o(){}const a=new Map,c=new Map,u=new Map;let l=null,h=!1;function d(e,t,n,i,s,o,a){const c=r[n],u=r[i];r[n]=function(){if(!t.enabled)return c.apply(r,arguments);const n=new Array(arguments.length);for(let e=0;e<arguments.length;e++)n[e]=arguments[e];const i=n[0];if("function"!=typeof i)throw new TypeError('"callback" argument must be a function');const u=new s,d=--t.counter;let p=void 0;return e.init.call(u,d,0,null,null),n[0]=function(){l=p,e.pre.call(u,d);let t=!0;try{i.apply(this,arguments),t=!1}finally{t&&process.listenerCount("uncaughtException")>0&&process.once("uncaughtException",function(){e.post.call(u,d,!0),o.delete(p),e.destroy.call(null,d)})}e.post.call(u,d,!1),l=null,(a||h)&&(h=!1,o.delete(p),e.destroy.call(null,d))},p=c.apply(r,n),o.set(p,d),p},r[i]=function(t){if(l===t&&null!==t)h=!0;else if(o.has(t)){const n=o.get(t);o.delete(t),e.destroy.call(null,n)}u.apply(r,arguments)}}e.exports=function(){d(this._hooks,this._state,"setTimeout","clearTimeout",i,a,!0),d(this._hooks,this._state,"setInterval","clearInterval",s,c,!1),d(this._hooks,this._state,"setImmediate","clearImmediate",o,u,!0),global.setTimeout=r.setTimeout,global.setInterval=r.setInterval,global.setImmediate=r.setImmediate,global.clearTimeout=r.clearTimeout,global.clearInterval=r.clearInterval,global.clearImmediate=r.clearImmediate}},function(e,t,n){var r=n(469);function i(){this.extend=new a,this.filter=new a,this.format=new c,this.version=n(174).version}var s=!1;i.prototype.callSite=function e(t){t||(t={}),s=!0;var n={};Error.captureStackTrace(n,e);var r=n.stack;return s=!1,r=r.slice(t.slice||0),t.extend&&(r=this.extend._modify(n,r)),t.filter&&(r=this.filter._modify(n,r)),r};var o=new i;function a(){this._modifiers=[]}function c(){this._formater=r,this._previous=void 0}a.prototype._modify=function(e,t){for(var n=0,r=this._modifiers.length;n<r;n++)t=this._modifiers[n](e,t);return t},a.prototype.attach=function(e){this._modifiers.push(e)},a.prototype.deattach=function(e){var t=this._modifiers.indexOf(e);return-1!==t&&(this._modifiers.splice(t,1),!0)},c.prototype.replace=function(e){e?this._formater=e:this.restore()},c.prototype.restore=function(){this._formater=r,this._previous=void 0},c.prototype._backup=function(){this._previous=this._formater},c.prototype._roolback=function(){this._previous===r?this.replace(void 0):this.replace(this._previous),this._previous=void 0},Error.prepareStackTrace&&o.format.replace(Error.prepareStackTrace);var u=!1;function l(e,t){if(s)return t;if(u)return r(e,t);var n=t.concat();n=o.extend._modify(e,n),n=(n=o.filter._modify(e,n)).slice(0,Error.stackTraceLimit),Object.isExtensible(e)&&void 0===Object.getOwnPropertyDescriptor(e,"callSite")&&(e.callSite={original:t,mutated:n}),u=!0;var i=o.format._formater(e,n);return u=!1,i}Object.defineProperty(Error,"prepareStackTrace",{get:function(){return l},set:function(e){e===l?o.format._roolback():(o.format._backup(),o.format.replace(e))}}),Object.defineProperty(Error.prototype,"callSite",{get:function(){return this.stack,this.callSite},set:function(e){Object.defineProperty(this,"callSite",{value:e,writable:!0,configurable:!0})},configurable:!0}),e.exports=o},function(e,t){e.exports=function(e,t){var n=[];n.push(function(e){try{return Error.prototype.toString.call(e)}catch(e){try{return"<error: "+e+">"}catch(e){return"<error>"}}}(e));for(var r=0;r<t.length;r++){var i,s=t[r];try{i=s.toString()}catch(e){try{i="<error: "+e+">"}catch(e){i="<error>"}}n.push("    at "+i)}return n.join("\n")}},function(e,t,n){"use strict";var r=n(33),i=n(103),s="cls@contexts";function o(e){this.name=e,this.active=null,this._set=[],this.id=null}function a(e){return process.namespaces[e]}function c(e){var t=a(e);r.ok(t,"can't delete nonexistent namespace!"),r.ok(t.id,"don't assign to process.namespaces directly!"),process.removeAsyncListener(t.id),process.namespaces[e]=null}function u(){process.namespaces&&Object.keys(process.namespaces).forEach(function(e){c(e)}),process.namespaces=Object.create(null)}process.addAsyncListener||n(471),o.prototype.set=function(e,t){if(!this.active)throw new Error("No context available. ns.run() or ns.bind() must be called first.");return this.active[e]=t,t},o.prototype.get=function(e){if(this.active)return this.active[e]},o.prototype.createContext=function(){return Object.create(this.active)},o.prototype.run=function(e){var t=this.createContext();this.enter(t);try{return e(t),t}catch(e){throw e&&(e["error@context"]=t),e}finally{this.exit(t)}},o.prototype.runAndReturn=function(e){var t;return this.run(function(n){t=e(n)}),t},o.prototype.bind=function(e,t){t||(t=this.active?this.active:this.createContext());var n=this;return function(){n.enter(t);try{return e.apply(this,arguments)}catch(e){throw e&&(e["error@context"]=t),e}finally{n.exit(t)}}},o.prototype.enter=function(e){r.ok(e,"context must be provided for entering"),this._set.push(this.active),this.active=e},o.prototype.exit=function(e){if(r.ok(e,"context must be provided for exiting"),this.active===e)return r.ok(this._set.length,"can't remove top context"),void(this.active=this._set.pop());var t=this._set.lastIndexOf(e);r.ok(t>=0,"context not currently entered; can't exit"),r.ok(t,"can't remove top context"),this._set.splice(t,1)},o.prototype.bindEmitter=function(e){r.ok(e.on&&e.addListener&&e.emit,"can only bind real EEs");var t=this,n="context@"+this.name;i(e,function(e){e&&(e[s]||(e[s]=Object.create(null)),e[s][n]={namespace:t,context:t.active})},function(e){if(!e||!e[s])return e;var t=e,n=e[s];return Object.keys(n).forEach(function(e){var r=n[e];t=r.namespace.bind(t,r.context)}),t})},o.prototype.fromException=function(e){return e["error@context"]},process.namespaces||u(),e.exports={getNamespace:a,createNamespace:function(e){r.ok(e,"namespace must be given a name!");var t=new o(e);return t.id=process.addAsyncListener({create:function(){return t.active},before:function(e,n){n&&t.enter(n)},after:function(e,n){n&&t.exit(n)},error:function(e){e&&t.exit(e)}}),process.namespaces[e]=t,t},destroyNamespace:c,reset:u}},function(e,t,n){"use strict";if(process.addAsyncListener)throw new Error("Don't require polyfill unless needed");var r=n(104),i=n(102),s=r.wrap,o=r.massWrap,a=n(472),c=n(16),u=i.gte(process.version,"6.0.0"),l=i.gte(process.version,"7.0.0"),h=i.gte(process.version,"8.0.0"),d=i.gte(process.version,"11.0.0"),p=n(65);function f(e){return function(){this.on("connection",function(e){e._handle&&(e._handle.onread=a(e._handle.onread))});try{return e.apply(this,arguments)}finally{this._handle&&this._handle.onconnection&&(this._handle.onconnection=a(this._handle.onconnection))}}}function _(e){if(e&&e._handle){var t=e._handle;t._originalOnread||(t._originalOnread=t.onread),t.onread=a(t._originalOnread)}}l&&!p._normalizeArgs?p._normalizeArgs=function(e){if(0===e.length)return[{},null];var t,n,r=e[0],i={};"object"==typeof r&&null!==r?i=r:"string"==typeof(t=r)&&!1===(n=t,(n=Number(n))>=0&&n)?i.path=r:(i.port=r,e.length>1&&"string"==typeof e[1]&&(i.host=e[1]));var s=e[e.length-1];return"function"!=typeof s?[i,null]:[i,s]}:l||p._normalizeConnectArgs||(p._normalizeConnectArgs=function(e){var t,n={};"object"==typeof e[0]&&null!==e[0]?n=e[0]:"string"==typeof e[0]&&!1===(t=e[0],(t=Number(t))>=0&&t)?n.path=e[0]:(n.port=e[0],"string"==typeof e[1]&&(n.host=e[1]));var r=e[e.length-1];return"function"==typeof r?[n,r]:[n]}),"_setUpListenHandle"in p.Server.prototype?s(p.Server.prototype,"_setUpListenHandle",f):s(p.Server.prototype,"_listen2",f),s(p.Socket.prototype,"connect",function(e){return function(){var t;(t=h&&Array.isArray(arguments[0])&&Object.getOwnPropertySymbols(arguments[0]).length>0?arguments[0]:l?p._normalizeArgs(arguments):p._normalizeConnectArgs(arguments))[1]&&(t[1]=a(t[1]));var n=e.apply(this,t);return _(this),n}});var m=n(60);s(m.Agent.prototype,"addRequest",function(e){return function(t){var n=t.onSocket;return t.onSocket=a(function(e){return _(e),n.apply(this,arguments)}),e.apply(this,arguments)}});var g=n(47);function y(e){Array.isArray(e.stdio)&&e.stdio.forEach(function(e){e&&e._handle&&(e._handle.onread=a(e._handle.onread),s(e._handle,"close",O))}),e._handle&&(e._handle.onexit=a(e._handle.onexit))}g.ChildProcess?s(g.ChildProcess.prototype,"spawn",function(e){return function(){var t=e.apply(this,arguments);return y(this),t}}):o(g,["execFile","fork","spawn"],function(e){return function(){var t=e.apply(this,arguments);return y(t),t}}),process._fatalException||(process._originalNextTick=process.nextTick);var T=[];process._nextDomainTick&&T.push("_nextDomainTick"),process._tickDomainCallback&&T.push("_tickDomainCallback"),o(process,T,I),s(process,"nextTick",O);var b=["setTimeout","setInterval"];global.setImmediate&&b.push("setImmediate");var v=n(171),E=global.setTimeout===v.setTimeout;o(v,b,O),E&&o(global,b,O);var S=n(473);o(S,["lookup","resolve","resolve4","resolve6","resolveCname","resolveMx","resolveNs","resolveTxt","resolveSrv","reverse"],I),S.resolveNaptr&&s(S,"resolveNaptr",I);var k,w,N=n(14);o(N,["watch","rename","truncate","chown","fchown","chmod","fchmod","stat","lstat","fstat","link","symlink","readlink","realpath","unlink","rmdir","mkdir","readdir","close","open","utimes","futimes","fsync","write","read","readFile","writeFile","appendFile","watchFile","unwatchFile","exists"],I),N.lchown&&s(N,"lchown",I),N.lchmod&&s(N,"lchmod",I),N.ftruncate&&s(N,"ftruncate",I);try{k=n(175)}catch(e){}if(k&&k.Deflate&&k.Deflate.prototype){var A=Object.getPrototypeOf(k.Deflate.prototype);A._transform?s(A,"_transform",I):A.write&&A.flush&&A.end&&o(A,["write","flush","end"],I)}try{w=n(46)}catch(e){}if(w){var x=["pbkdf2","randomBytes"];d||x.push("pseudoRandomBytes"),o(w,x,I)}var C=!!global.Promise&&"function Promise() { [native code] }"===Promise.toString()&&"function toString() { [native code] }"===Promise.toString.toString();if(C){var R=process.addAsyncListener({create:function(){C=!1}});global.Promise.resolve(!0).then(function(){C=!1}),process.removeAsyncListener(R)}function I(e){var t=function(){var t,n=arguments.length-1;if("function"==typeof arguments[n]){t=Array(arguments.length);for(var r=0;r<arguments.length-1;r++)t[r]=arguments[r];t[n]=a(arguments[n])}return e.apply(this,t||arguments)};switch(e.length){case 1:return function(n){return 1!==arguments.length?t.apply(this,arguments):("function"==typeof n&&(n=a(n)),e.call(this,n))};case 2:return function(n,r){return 2!==arguments.length?t.apply(this,arguments):("function"==typeof r&&(r=a(r)),e.call(this,n,r))};case 3:return function(n,r,i){return 3!==arguments.length?t.apply(this,arguments):("function"==typeof i&&(i=a(i)),e.call(this,n,r,i))};case 4:return function(n,r,i,s){return 4!==arguments.length?t.apply(this,arguments):("function"==typeof s&&(s=a(s)),e.call(this,n,r,i,s))};case 5:return function(n,r,i,s,o){return 5!==arguments.length?t.apply(this,arguments):("function"==typeof o&&(o=a(o)),e.call(this,n,r,i,s,o))};case 6:return function(n,r,i,s,o,c){return 6!==arguments.length?t.apply(this,arguments):("function"==typeof c&&(c=a(c)),e.call(this,n,r,i,s,o,c))};default:return t}}function O(e){var t=function(){var t;if("function"==typeof arguments[0]){(t=Array(arguments.length))[0]=a(arguments[0]);for(var n=1;n<arguments.length;n++)t[n]=arguments[n]}return e.apply(this,t||arguments)};switch(e.length){case 1:return function(n){return 1!==arguments.length?t.apply(this,arguments):("function"==typeof n&&(n=a(n)),e.call(this,n))};case 2:return function(n,r){return 2!==arguments.length?t.apply(this,arguments):("function"==typeof n&&(n=a(n)),e.call(this,n,r))};case 3:return function(n,r,i){return 3!==arguments.length?t.apply(this,arguments):("function"==typeof n&&(n=a(n)),e.call(this,n,r,i))};case 4:return function(n,r,i,s){return 4!==arguments.length?t.apply(this,arguments):("function"==typeof n&&(n=a(n)),e.call(this,n,r,i,s))};case 5:return function(n,r,i,s,o){return 5!==arguments.length?t.apply(this,arguments):("function"==typeof n&&(n=a(n)),e.call(this,n,r,i,s,o))};case 6:return function(n,r,i,s,o,c){return 6!==arguments.length?t.apply(this,arguments):("function"==typeof n&&(n=a(n)),e.call(this,n,r,i,s,o,c))};default:return t}}C&&function(){var e=global.Promise;function t(n){if(!(this instanceof t))return e(n);if("function"!=typeof n)return new e(n);var i,s,o=new e(function(e,t){i=this,s=[function(t){return r(o,!1),e(t)},function(e){return r(o,!1),t(e)}]});o.__proto__=t.prototype;try{n.apply(i,s)}catch(e){s[1](e)}return o}c.inherits(t,e),s(e.prototype,"then",o),e.prototype.chain&&s(e.prototype,"chain",o);if(u)global.Promise=n(474)(e,r);else{["all","race","reject","resolve","accept","defer"].forEach(function(n){"function"==typeof e[n]&&(t[n]=e[n])}),global.Promise=t}function r(e,t){e.__asl_wrapper&&!t||(e.__asl_wrapper=a(i))}function i(t,n,s,o){var a;try{return{returnVal:a=n.call(t,s),error:!1}}catch(e){return{errorVal:e,error:!0}}finally{a instanceof e?o.__asl_wrapper=function(){var e=a.__asl_wrapper||i;return e.apply(this,arguments)}:r(o,!0)}}function o(e){return function(){var t=this,n=e.apply(t,Array.prototype.map.call(arguments,function(e){return"function"!=typeof e?e:a(function(r){var s=(t.__asl_wrapper||i)(this,e,r,n);if(s.error)throw s.errorVal;return s.returnVal})}));return n.__asl_wrapper=function(e,r,s,o){return t.__asl_wrapper?(t.__asl_wrapper(e,function(){},null,n),n.__asl_wrapper(e,r,s,o)):i(e,r,s,o)},n}}}()},function(e,t,n){var r,i,s=n(104).wrap,o=1,a=2,c=4,u=8,l=[],h=0,d=!1,p=[];function f(e,t){var n=e.length,r=t.length,i=[];if(0===n&&0===r)return i;for(var s=0;s<n;s++)i[s]=e[s];if(0===r)return i;for(var o=0;o<r;o++){var a=!0;for(s=0;s<n;s++)if(e[s].uid===t[o].uid){a=!1;break}a&&i.push(t[o])}return i}if(process._fatalException){var _,m=!1;r=function(e){var t=l.length;if(m||0===t)return!1;var n=!1;m=!0;for(var r=0;r<t;++r){var i=l[r];if(0!=(i.flags&u)){var s=_&&_[i.uid];n=i.error(s,e)||n}}return m=!1,p.length>0&&(l=p.pop()),_=void 0,n&&!d},i=function(e,t,n){var r=[];d=!0;for(var i=0;i<n;++i){var s=t[i];if(r[s.uid]=s.data,0!=(s.flags&o)){var u=s.create(s.data);void 0!==u&&(r[s.uid]=u)}}return d=!1,function(){_=r,p.push(l),l=f(t,l),d=!0;for(var i=0;i<n;++i)(t[i].flags&a)>0&&t[i].before(this,r[t[i].uid]);d=!1;var s=e.apply(this,arguments);for(d=!0,i=0;i<n;++i)(t[i].flags&c)>0&&t[i].after(this,r[t[i].uid]);return d=!1,l=p.pop(),_=void 0,s}},s(process,"_fatalException",function(e){return function(t){return r(t)||e(t)}})}else{var g=!1;r=function(e){if(g)throw e;for(var t=!1,n=l.length,r=0;r<n;++r){var i=l[r];0!=(i.flags&u)&&(t=i.error(null,e)||t)}if(!t&&d)throw e},i=function(e,t,n){var i=[];d=!0;for(var s=0;s<n;++s){var h=t[s];if(i[h.uid]=h.data,0!=(h.flags&o)){var _=h.create(h.data);void 0!==_&&(i[h.uid]=_)}}return d=!1,function(){var s,o=!1,h=!1;p.push(l),l=f(t,l),d=!0;for(var _=0;_<n;++_)(t[_].flags&a)>0&&t[_].before(this,i[t[_].uid]);d=!1;try{s=e.apply(this,arguments)}catch(e){o=!0;for(_=0;_<n;++_)if(0!=(l[_].flags&u))try{h=l[_].error(i[t[_].uid],e)||h}catch(e){throw g=!0,e}if(!h)throw process.removeListener("uncaughtException",r),process._originalNextTick(function(){process.addListener("uncaughtException",r)}),e}finally{if(!o||h){for(d=!0,_=0;_<n;++_)(t[_].flags&c)>0&&t[_].after(this,i[t[_].uid]);d=!1}l=p.pop()}return s}},process.addListener("uncaughtException",r)}function y(e,t){"function"==typeof e.create&&(this.create=e.create,this.flags|=o),"function"==typeof e.before&&(this.before=e.before,this.flags|=a),"function"==typeof e.after&&(this.after=e.after,this.flags|=c),"function"==typeof e.error&&(this.error=e.error,this.flags|=u),this.uid=++h,this.data=void 0===t?null:t}function T(e,t){if("object"!=typeof e||!e)throw new TypeError("callbacks argument must be an object");return e instanceof y?e:new y(e,t)}y.prototype.create=void 0,y.prototype.before=void 0,y.prototype.after=void 0,y.prototype.error=void 0,y.prototype.data=void 0,y.prototype.uid=0,y.prototype.flags=0,process.createAsyncListener=T,process.addAsyncListener=function(e,t){var n;n=e instanceof y?e:T(e,t);for(var r=!1,i=0;i<l.length;i++)if(n===l[i]){r=!0;break}return r||l.push(n),n},process.removeAsyncListener=function(e){for(var t=0;t<l.length;t++)if(e===l[t]){l.splice(t,1);break}},e.exports=function(e){var t=l.length;if(0===t)return e;for(var n=l.slice(),r=0;r<t;++r)if(n[r].flags>0)return i(e,n,t);return function(e,t,n){d=!0;for(var r=0;r<n;++r){var i=t[r];i.create&&i.create(i.data)}return d=!1,function(){p.push(l),l=f(t,l);var n=e.apply(this,arguments);return l=p.pop(),n}}(e,n,t)}},function(e,t){e.exports=require("dns")},function(e,t,n){"use strict";e.exports=(e,t)=>(class extends e{constructor(e){var n,r;super(function(e,s){n=this,r=[function(n){return t(i,!1),e(n)},function(e){return t(i,!1),s(e)}]});var i=this;try{e.apply(n,r)}catch(e){r[1](e)}return i}})},function(e,t,n){"use strict";var r=n(101),i=function(){function e(t){if(e.INSTANCE)throw new Error("Console logging adapter tracking should be configured from the applicationInsights object");this._client=t,e.INSTANCE=this}return e.prototype.enable=function(e,t){r.IsInitialized&&(n(476).enable(e&&t,this._client),n(494).enable(e,this._client),n(495).enable(e,this._client))},e.prototype.isInitialized=function(){return this._isInitialized},e.prototype.dispose=function(){e.INSTANCE=null,this.enable(!1,!1)},e._methodNames=["debug","info","log","warn","error"],e}();e.exports=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(17),i=n(5),s=[],o=function(e){s.forEach(function(t){var n=e.data.message;n.lastIndexOf("\n")==n.length-1&&(n=n.substring(0,n.length-1)),t.trackTrace({message:n,severity:e.data.stderr?r.SeverityLevel.Warning:r.SeverityLevel.Information})})};t.enable=function(e,t){e?(0===s.length&&i.channel.subscribe("console",o),s.push(t)):0===(s=s.filter(function(e){return e!=t})).length&&i.channel.unsubscribe("console",o)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(176),i=function(){function e(){}return e.TYPE_HTTP="Http",e.TYPE_AI="Http (tracked component)",e}();t.RemoteDependencyDataConstants=i,t.domainSupportsProperties=function(e){return"properties"in e||e instanceof r.EventData||e instanceof r.ExceptionData||e instanceof r.MessageData||e instanceof r.MetricData||e instanceof r.PageViewData||e instanceof r.RemoteDependencyData||e instanceof r.RequestData}},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),s=function(e){function t(){var t=e.call(this)||this;return t.ver=2,t.properties={},t.measurements={},t}return i(t,e),t}(n(25));e.exports=s},function(e,t,n){"use strict";var r=function(){return function(){this.applicationVersion="ai.application.ver",this.deviceId="ai.device.id",this.deviceLocale="ai.device.locale",this.deviceModel="ai.device.model",this.deviceOEMName="ai.device.oemName",this.deviceOSVersion="ai.device.osVersion",this.deviceType="ai.device.type",this.locationIp="ai.location.ip",this.operationId="ai.operation.id",this.operationName="ai.operation.name",this.operationParentId="ai.operation.parentId",this.operationSyntheticSource="ai.operation.syntheticSource",this.operationCorrelationVector="ai.operation.correlationVector",this.sessionId="ai.session.id",this.sessionIsFirst="ai.session.isFirst",this.userAccountId="ai.user.accountId",this.userId="ai.user.id",this.userAuthUserId="ai.user.authUserId",this.cloudRole="ai.cloud.role",this.cloudRoleInstance="ai.cloud.roleInstance",this.internalSdkVersion="ai.internal.sdkVersion",this.internalAgentVersion="ai.internal.agentVersion",this.internalNodeName="ai.internal.nodeName"}}();e.exports=r},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),s=function(e){function t(){return e.call(this)||this}return i(t,e),t}(n(177));e.exports=s},function(e,t,n){"use strict";var r=n(178),i=function(){return function(){this.kind=r.Measurement}}();e.exports=i},function(e,t,n){"use strict";var r=function(){return function(){this.ver=1,this.sampleRate=100,this.tags={}}}();e.exports=r},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),s=function(e){function t(){var t=e.call(this)||this;return t.ver=2,t.exceptions=[],t.properties={},t.measurements={},t}return i(t,e),t}(n(25));e.exports=s},function(e,t,n){"use strict";var r=function(){return function(){this.hasFullStack=!0,this.parsedStack=[]}}();e.exports=r},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),s=function(e){function t(){var t=e.call(this)||this;return t.ver=2,t.properties={},t}return i(t,e),t}(n(25));e.exports=s},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),s=function(e){function t(){var t=e.call(this)||this;return t.ver=2,t.metrics=[],t.properties={},t}return i(t,e),t}(n(25));e.exports=s},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),s=function(e){function t(){var t=e.call(this)||this;return t.ver=2,t.properties={},t.measurements={},t}return i(t,e),t}(n(179));e.exports=s},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),s=function(e){function t(){var t=e.call(this)||this;return t.ver=2,t.success=!0,t.properties={},t.measurements={},t}return i(t,e),t}(n(25));e.exports=s},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),s=function(e){function t(){var t=e.call(this)||this;return t.ver=2,t.properties={},t.measurements={},t}return i(t,e),t}(n(25));e.exports=s},function(e,t,n){"use strict";var r;!function(e){e[e.Verbose=0]="Verbose",e[e.Information=1]="Information",e[e.Warning=2]="Warning",e[e.Error=3]="Error",e[e.Critical=4]="Critical"}(r||(r={})),e.exports=r},function(e,t,n){"use strict";var r=function(){return function(){}}();e.exports=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}(n(493))},function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.telemetryTypeToBaseType=function(e){switch(e){case r.Event:return"EventData";case r.Exception:return"ExceptionData";case r.Trace:return"MessageData";case r.Metric:return"MetricData";case r.Request:return"RequestData";case r.Dependency:return"RemoteDependencyData"}},t.baseTypeToTelemetryType=function(e){switch(e){case"EventData":return r.Event;case"ExceptionData":return r.Exception;case"MessageData":return r.Trace;case"MetricData":return r.Metric;case"RequestData":return r.Request;case"RemoteDependencyData":return r.Dependency}},t.TelemetryTypeString={Event:"EventData",Exception:"ExceptionData",Trace:"MessageData",Metric:"MetricData",Request:"RequestData",Dependency:"RemoteDependencyData"},function(e){e[e.Event=0]="Event",e[e.Exception=1]="Exception",e[e.Trace=2]="Trace",e[e.Metric=3]="Metric",e[e.Request=4]="Request",e[e.Dependency=5]="Dependency"}(r=t.TelemetryType||(t.TelemetryType={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(17),i=n(5),s=[],o={10:r.SeverityLevel.Verbose,20:r.SeverityLevel.Verbose,30:r.SeverityLevel.Information,40:r.SeverityLevel.Warning,50:r.SeverityLevel.Error,60:r.SeverityLevel.Critical},a=function(e){s.forEach(function(t){var n=o[e.data.level];t.trackTrace({message:e.data.result,severity:n})})};t.enable=function(e,t){e?(0===s.length&&i.channel.subscribe("bunyan",a),s.push(t)):0===(s=s.filter(function(e){return e!=t})).length&&i.channel.unsubscribe("bunyan",a)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(17),i=n(5),s=[],o={syslog:function(e){var t={emerg:r.SeverityLevel.Critical,alert:r.SeverityLevel.Critical,crit:r.SeverityLevel.Critical,error:r.SeverityLevel.Error,warning:r.SeverityLevel.Warning,notice:r.SeverityLevel.Information,info:r.SeverityLevel.Information,debug:r.SeverityLevel.Verbose};return void 0===t[e]?r.SeverityLevel.Information:t[e]},npm:function(e){var t={error:r.SeverityLevel.Error,warn:r.SeverityLevel.Warning,info:r.SeverityLevel.Information,verbose:r.SeverityLevel.Verbose,debug:r.SeverityLevel.Verbose,silly:r.SeverityLevel.Verbose};return void 0===t[e]?r.SeverityLevel.Information:t[e]},unknown:function(e){return r.SeverityLevel.Information}},a=function(e){s.forEach(function(t){var n=o[e.data.levelKind](e.data.level);t.trackTrace({message:e.data.message,severity:n,properties:e.data.meta})})};t.enable=function(e,t){e?(0===s.length&&i.channel.subscribe("winston",a),s.push(t)):0===(s=s.filter(function(e){return e!=t})).length&&i.channel.unsubscribe("winston",a)}},function(e,t,n){"use strict";var r=function(){function e(t){if(e.INSTANCE)throw new Error("Exception tracking should be configured from the applicationInsights object");e.INSTANCE=this,this._client=t}return Object.defineProperty(e,"UNCAUGHT_EXCEPTION_HANDLER_NAME",{get:function(){return"uncaughtException"},enumerable:!0,configurable:!0}),Object.defineProperty(e,"UNHANDLED_REJECTION_HANDLER_NAME",{get:function(){return"unhandledRejection"},enumerable:!0,configurable:!0}),e.prototype.isInitialized=function(){return this._isInitialized},e.prototype.enable=function(t){var n=this;if(t){this._isInitialized=!0;if(!this._exceptionListenerHandle){var r=function(e,t){if(n._client.trackException({exception:t}),n._client.flush({isAppCrashing:!0}),e)throw t};this._exceptionListenerHandle=r.bind(this,!0),this._rejectionListenerHandle=r.bind(this,!1),process.on(e.UNCAUGHT_EXCEPTION_HANDLER_NAME,this._exceptionListenerHandle),process.on(e.UNHANDLED_REJECTION_HANDLER_NAME,this._rejectionListenerHandle)}}else this._exceptionListenerHandle&&(process.removeListener(e.UNCAUGHT_EXCEPTION_HANDLER_NAME,this._exceptionListenerHandle),process.removeListener(e.UNHANDLED_REJECTION_HANDLER_NAME,this._rejectionListenerHandle),this._exceptionListenerHandle=void 0,this._rejectionListenerHandle=void 0,delete this._exceptionListenerHandle,delete this._rejectionListenerHandle)},e.prototype.dispose=function(){e.INSTANCE=null,this.enable(!1),this._isInitialized=!1},e.INSTANCE=null,e}();e.exports=r},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),s=n(38),o=n(17),a=n(19),c=n(44),u=n(180),l=n(35),h=function(e){function t(n,r){var i=e.call(this)||this;return r&&r.method&&n&&(i.method=r.method,i.url=t._getUrlFromRequestOptions(n,r),i.startTime=+new Date),i}return i(t,e),t.prototype.onError=function(e){this._setStatus(void 0,e)},t.prototype.onResponse=function(e){this._setStatus(e.statusCode,void 0),this.correlationId=a.getCorrelationContextTarget(e,c.requestContextTargetKey)},t.prototype.getDependencyTelemetry=function(e,t){var n=s.parse(this.url);n.search=void 0,n.hash=void 0;var r=this.method.toUpperCase()+" "+n.pathname,i=o.RemoteDependencyDataConstants.TYPE_HTTP,a=n.hostname;this.correlationId?(i=o.RemoteDependencyDataConstants.TYPE_AI,this.correlationId!==l.correlationIdPrefix&&(a=n.hostname+" | "+this.correlationId)):i=o.RemoteDependencyDataConstants.TYPE_HTTP;var c={id:t,name:r,data:this.url,duration:this.duration,success:this._isSuccess(),resultCode:this.statusCode?this.statusCode.toString():null,properties:this.properties||{},dependencyTypeName:i,target:a};if(e){for(var u in e)c[u]||(c[u]=e[u]);if(e.properties)for(var u in e.properties)c.properties[u]=e.properties[u]}return c},t._getUrlFromRequestOptions=function(e,t){if("string"==typeof e)e=s.parse(e);else{var n=e;e={},n&&Object.keys(n).forEach(function(t){e[t]=n[t]})}if(e.path){var r=s.parse(e.path);e.pathname=r.pathname,e.search=r.search}e.host&&e.port&&(!s.parse("http://"+e.host).port&&e.port&&(e.hostname=e.host,delete e.host));return e.protocol=e.protocol||t.agent&&t.agent.protocol||void 0,e.hostname=e.hostname||"localhost",s.format(e)},t}(u);e.exports=h},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(5),i=[];t.subscriber=function(e){i.forEach(function(t){var n=e.data.startedData&&e.data.startedData.databaseName||"Unknown database";t.trackDependency({target:n,data:e.data.event.commandName,name:e.data.event.commandName,duration:e.data.event.duration,success:e.data.succeeded,resultCode:e.data.succeeded?"0":"1",dependencyTypeName:"mongodb"})})},t.enable=function(e,n){e?(0===i.length&&r.channel.subscribe("mongodb",t.subscriber),i.push(n)):0===(i=i.filter(function(e){return e!=n})).length&&r.channel.unsubscribe("mongodb",t.subscriber)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(5),i=[];t.subscriber=function(e){i.forEach(function(t){var n=e.data.query||{},r=n.sql||"Unknown query",i=!e.data.err,s=(n._connection||{}).config||{},o=s.socketPath?s.socketPath:(s.host||"localhost")+":"+s.port;t.trackDependency({target:o,data:r,name:r,duration:e.data.duration,success:i,resultCode:i?"0":"1",dependencyTypeName:"mysql"})})},t.enable=function(e,n){e?(0===i.length&&r.channel.subscribe("mysql",t.subscriber),i.push(n)):0===(i=i.filter(function(e){return e!=n})).length&&r.channel.unsubscribe("mysql",t.subscriber)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(5),i=[];t.subscriber=function(e){i.forEach(function(t){"info"!==e.data.commandObj.command&&t.trackDependency({target:e.data.address,name:e.data.commandObj.command,data:e.data.commandObj.command,duration:e.data.duration,success:!e.data.err,resultCode:e.data.err?"1":"0",dependencyTypeName:"redis"})})},t.enable=function(e,n){e?(0===i.length&&r.channel.subscribe("redis",t.subscriber),i.push(n)):0===(i=i.filter(function(e){return e!=n})).length&&r.channel.unsubscribe("redis",t.subscriber)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(5),i=[];t.subscriber=function(e){i.forEach(function(t){var n=e.data.query,r=n.preparable&&n.preparable.text||n.plan||n.text||"unknown query",i=!e.data.error,s=e.data.database.host+":"+e.data.database.port;t.trackDependency({target:s,data:r,name:r,duration:e.data.duration,success:i,resultCode:i?"0":"1",dependencyTypeName:"postgres"})})},t.enable=function(e,n){e?(0===i.length&&r.channel.subscribe("postgres",t.subscriber),i.push(n)):0===(i=i.filter(function(e){return e!=n})).length&&r.channel.unsubscribe("postgres",t.subscriber)}},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),s=n(38),o=n(17),a=n(19),c=n(44),u=n(180),l=n(35),h=n(503),d=n(181),p=function(e){function t(t,n){var r=e.call(this)||this;return t&&(r.method=t.method,r.url=r._getAbsoluteUrl(t),r.startTime=+new Date,r.socketRemoteAddress=t.socket&&t.socket.remoteAddress,r.parseHeaders(t,n),t.connection&&(r.connectionRemoteAddress=t.connection.remoteAddress,r.legacySocketRemoteAddress=t.connection.socket&&t.connection.socket.remoteAddress)),r}return i(t,e),t.prototype.onError=function(e,t){this._setStatus(void 0,e),t&&(this.duration=t)},t.prototype.onResponse=function(e,t){this._setStatus(e.statusCode,void 0),t&&(this.duration=t)},t.prototype.getRequestTelemetry=function(e){var t={id:this.requestId,name:this.method+" "+s.parse(this.url).pathname,url:this.url,source:this.sourceCorrelationId,duration:this.duration,resultCode:this.statusCode?this.statusCode.toString():null,success:this._isSuccess(),properties:this.properties};if(e){for(var n in e)t[n]||(t[n]=e[n]);if(e.properties)for(var n in e.properties)t.properties[n]=e.properties[n]}return t},t.prototype.getRequestTags=function(e){var n={};for(var r in e)n[r]=e[r];return n[t.keys.locationIp]=e[t.keys.locationIp]||this._getIp(),n[t.keys.sessionId]=e[t.keys.sessionId]||this._getId("ai_session"),n[t.keys.userId]=e[t.keys.userId]||this._getId("ai_user"),n[t.keys.userAuthUserId]=e[t.keys.userAuthUserId]||this._getId("ai_authUser"),n[t.keys.operationName]=this.getOperationName(e),n[t.keys.operationParentId]=this.getOperationParentId(e),n[t.keys.operationId]=this.getOperationId(e),n},t.prototype.getOperationId=function(e){return e[t.keys.operationId]||this.operationId},t.prototype.getOperationParentId=function(e){return e[t.keys.operationParentId]||this.parentId||this.getOperationId(e)},t.prototype.getOperationName=function(e){return e[t.keys.operationName]||this.method+" "+s.parse(this.url).pathname},t.prototype.getRequestId=function(){return this.requestId},t.prototype.getCorrelationContextHeader=function(){return this.correlationContextHeader},t.prototype.getTraceparent=function(){return this.traceparent},t.prototype.getTracestate=function(){return this.tracestate},t.prototype.getLegacyRootId=function(){return this.legacyRootId},t.prototype._getAbsoluteUrl=function(e){if(!e.headers)return e.url;var t=e.connection?e.connection.encrypted:null,n=s.parse(e.url),r=n.pathname,i=n.search;return s.format({protocol:t?"https":"http",host:e.headers.host,pathname:r,search:i})},t.prototype._getIp=function(){var e=/[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}/,t=function(t){var n=e.exec(t);if(n)return n[0]},n=t(this.rawHeaders["x-forwarded-for"])||t(this.rawHeaders["x-client-ip"])||t(this.rawHeaders["x-real-ip"])||t(this.connectionRemoteAddress)||t(this.socketRemoteAddress)||t(this.legacySocketRemoteAddress);return!n&&this.connectionRemoteAddress&&this.connectionRemoteAddress.substr&&"::"===this.connectionRemoteAddress.substr(0,2)&&(n="127.0.0.1"),n},t.prototype._getId=function(e){var n=this.rawHeaders&&this.rawHeaders.cookie&&"string"==typeof this.rawHeaders.cookie&&this.rawHeaders.cookie||"";return t.parseId(a.getCookie(e,n))},t.prototype.setBackCompatFromThisTraceContext=function(){this.operationId=this.traceparent.traceId,this.traceparent.legacyRootId&&(this.legacyRootId=this.traceparent.legacyRootId),this.parentId=this.traceparent.parentId,this.traceparent.updateSpanId(),this.requestId=this.traceparent.getBackCompatRequestId()},t.prototype.parseHeaders=function(e,t){if(this.rawHeaders=e.headers||e.rawHeaders,this.userAgent=e.headers&&e.headers["user-agent"],this.sourceCorrelationId=a.getCorrelationContextTarget(e,c.requestContextSourceKey),e.headers){var n=e.headers[c.traceStateHeader],r=e.headers[c.traceparentHeader],i=e.headers[c.requestIdHeader],s=e.headers[c.parentIdHeader],o=e.headers[c.rootIdHeader];this.correlationContextHeader=e.headers[c.correlationContextHeader],l.w3cEnabled&&(r||n)?(this.traceparent=new d(r),this.tracestate=r&&n&&new h(n),this.setBackCompatFromThisTraceContext()):i?l.w3cEnabled?(this.traceparent=new d(null,i),this.setBackCompatFromThisTraceContext()):(this.parentId=i,this.requestId=l.generateRequestId(this.parentId),this.operationId=l.getRootId(this.requestId)):l.w3cEnabled?(this.traceparent=new d,this.traceparent.parentId=s,this.traceparent.legacyRootId=o||s,this.setBackCompatFromThisTraceContext()):(this.parentId=s,this.requestId=l.generateRequestId(o||this.parentId),this.correlationContextHeader=null,this.operationId=l.getRootId(this.requestId)),t&&(this.requestId=t,this.operationId=l.getRootId(this.requestId))}},t.parseId=function(e){var t=e.split("|");return t.length>0?t[0]:""},t.keys=new o.ContextTagKeys,t}(u);e.exports=p},function(e,t,n){"use strict";var r=function(){function e(e){this.fieldmap=[],e&&(this.fieldmap=this.parseHeader(e))}return e.prototype.toString=function(){var e=this.fieldmap;return e&&0!=e.length?e.join(", "):null},e.validateKeyChars=function(e){var t=e.split("@");if(2==t.length){var n=t[0].trim(),r=t[1].trim(),i=Boolean(n.match(/^[\ ]?[a-z0-9\*\-\_\/]{1,241}$/)),s=Boolean(r.match(/^[\ ]?[a-z0-9\*\-\_\/]{1,14}$/));return i&&s}return 1==t.length&&Boolean(e.match(/^[\ ]?[a-z0-9\*\-\_\/]{1,256}$/))},e.prototype.parseHeader=function(t){var n=[],r={},i=t.split(",");if(i.length>32)return null;for(var s=0,o=i;s<o.length;s++){var a=o[s].trim();if(0!==a.length){var c=a.split("=");if(2!==c.length)return null;if(!e.validateKeyChars(c[0]))return null;if(r[c[0]])return null;r[c[0]]=!0,n.push(a)}}return n},e.strict=!0,e}();e.exports=r},function(e,t,n){"use strict";var r=n(6),i=n(107),s=n(505),o=n(506),a=n(106),c=n(108),u=function(){function e(e,t){this._isCollectingData=!1,this._lastSuccessTime=Date.now(),this._lastSendSucceeded=!0,this._metrics={},this._documents=[],this._collectors=[],this.config=new i(e),this.context=t||new c,this._sender=new o(this.config),this._isEnabled=!1}return e.prototype.addCollector=function(e){this._collectors.push(e)},e.prototype.trackMetric=function(e){this._addMetric(e)},e.prototype.addDocument=function(e){var t=s.telemetryEnvelopeToQuickPulseDocument(e);t&&this._documents.push(t)},e.prototype.enable=function(e){e&&!this._isEnabled?(this._isEnabled=!0,this._goQuickPulse()):!e&&this._isEnabled&&(this._isEnabled=!1,clearTimeout(this._handle),this._handle=void 0)},e.prototype.enableCollectors=function(e){this._collectors.forEach(function(t){t.enable(e)})},e.prototype._addMetric=function(e){var t=e.value,n=e.count||1,r=a.PerformanceToQuickPulseCounter[e.name];r&&(this._metrics[r]?(this._metrics[r].Value=(this._metrics[r].Value*this._metrics[r].Weight+t*n)/(this._metrics[r].Weight+n),this._metrics[r].Weight+=n):(this._metrics[r]=s.createQuickPulseMetric(e),this._metrics[r].Name=r,this._metrics[r].Weight=1))},e.prototype._resetQuickPulseBuffer=function(){delete this._metrics,this._metrics={},this._documents.length=0},e.prototype._goQuickPulse=function(){var t=this,n=Object.keys(this._metrics).map(function(e){return t._metrics[e]}),r=s.createQuickPulseEnvelope(n,this._documents.slice(),this.config,this.context);this._resetQuickPulseBuffer(),this._isCollectingData?this._post(r):this._ping(r);var i=this._isCollectingData?e.POST_INTERVAL:e.PING_INTERVAL;this._isCollectingData&&Date.now()-this._lastSuccessTime>=e.MAX_POST_WAIT_TIME&&!this._lastSendSucceeded?(this._isCollectingData=!1,i=e.FALLBACK_INTERVAL):!this._isCollectingData&&Date.now()-this._lastSuccessTime>=e.MAX_PING_WAIT_TIME&&!this._lastSendSucceeded&&(i=e.FALLBACK_INTERVAL),this._lastSendSucceeded=null,this._handle=setTimeout(this._goQuickPulse.bind(this),i),this._handle.unref()},e.prototype._ping=function(e){this._sender.ping(e,this._quickPulseDone.bind(this))},e.prototype._post=function(e){this._sender.post(e,this._quickPulseDone.bind(this))},e.prototype._quickPulseDone=function(e,t){null!=e?(this._isCollectingData!==e&&(r.info("Live Metrics sending data",e),this.enableCollectors(e)),this._isCollectingData=e,t&&t.statusCode<300&&t.statusCode>=200?(this._lastSuccessTime=Date.now(),this._lastSendSucceeded=!0):this._lastSendSucceeded=!1):this._lastSendSucceeded=!1},e.MAX_POST_WAIT_TIME=2e4,e.MAX_PING_WAIT_TIME=6e4,e.FALLBACK_INTERVAL=6e4,e.PING_INTERVAL=5e3,e.POST_INTERVAL=1e3,e}();e.exports=u},function(e,t,n){"use strict";var r=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},i=n(13),s=n(17),o=n(106),a=n(19),c=n(6),u=a.w3cTraceId(),l=function(){function e(){}return e.createQuickPulseEnvelope=function(e,t,n,r){var s=i&&"function"==typeof i.hostname&&i.hostname()||"Unknown",o=r.tags&&r.keys&&r.keys.cloudRoleInstance&&r.tags[r.keys.cloudRoleInstance]||s;return{Documents:t.length>0?t:null,InstrumentationKey:n.instrumentationKey||"",Metrics:e.length>0?e:null,InvariantVersion:1,Timestamp:"/Date("+Date.now()+")/",Version:r.tags[r.keys.internalSdkVersion],StreamId:u,MachineName:s,Instance:o}},e.createQuickPulseMetric=function(e){return{Name:e.name,Value:e.value,Weight:e.count||1}},e.telemetryEnvelopeToQuickPulseDocument=function(t){switch(t.data.baseType){case s.TelemetryTypeString.Event:return e.createQuickPulseEventDocument(t);case s.TelemetryTypeString.Exception:return e.createQuickPulseExceptionDocument(t);case s.TelemetryTypeString.Trace:return e.createQuickPulseTraceDocument(t);case s.TelemetryTypeString.Dependency:return e.createQuickPulseDependencyDocument(t);case s.TelemetryTypeString.Request:return e.createQuickPulseRequestDocument(t)}return null},e.createQuickPulseEventDocument=function(t){var n=e.createQuickPulseDocument(t),i=t.data.baseData.name;return r({},n,{Name:i})},e.createQuickPulseTraceDocument=function(t){var n=e.createQuickPulseDocument(t),i=t.data.baseData.severityLevel||0;return r({},n,{Message:t.data.baseData.message,SeverityLevel:s.SeverityLevel[i]})},e.createQuickPulseExceptionDocument=function(t){var n=e.createQuickPulseDocument(t),i=t.data.baseData.exceptions,s="",o="",a="";return i&&i.length>0&&(i[0].parsedStack&&i[0].parsedStack.length>0?i[0].parsedStack.forEach(function(e){s+=e.assembly+"\n"}):i[0].stack&&i[0].stack.length>0&&(s=i[0].stack),o=i[0].message,a=i[0].typeName),r({},n,{Exception:s,ExceptionMessage:o,ExceptionType:a})},e.createQuickPulseRequestDocument=function(t){var n=e.createQuickPulseDocument(t),i=t.data.baseData;return r({},n,{Name:i.name,Success:i.success,Duration:i.duration,ResponseCode:i.responseCode,OperationName:i.name})},e.createQuickPulseDependencyDocument=function(t){var n=e.createQuickPulseDocument(t),i=t.data.baseData;return r({},n,{Name:i.name,Target:i.target,Success:i.success,Duration:i.duration,ResultCode:i.resultCode,CommandName:i.data,OperationName:n.OperationId,DependencyTypeName:i.type})},e.createQuickPulseDocument=function(t){var n,r;return t.data.baseType?(r=o.TelemetryTypeStringToQuickPulseType[t.data.baseType],n=o.TelemetryTypeStringToQuickPulseDocumentType[t.data.baseType]):c.warn("Document type invalid; not sending live metric document",t.data.baseType),{DocumentType:n,__type:r,OperationId:t.tags[e.keys.operationId],Version:"1.0",Properties:e.aggregateProperties(t)}},e.aggregateProperties=function(e){var t=[],n=e.data.baseData.measurements||{};for(var r in n)if(n.hasOwnProperty(r)){var i={key:r,value:n[r]};t.push(i)}var s=e.data.baseData.properties||{};for(var r in s)if(s.hasOwnProperty(r)){i={key:r,value:s[r]};t.push(i)}return t},e.keys=new s.ContextTagKeys,e}();e.exports=l},function(e,t,n){"use strict";var r=n(62),i=n(61),s=n(6),o="POST",a="x-ms-qps-transmission-time",c="x-ms-qps-subscribed",u=function(){function e(e){this._config=e,this._consecutiveErrors=0}return e.prototype.ping=function(e,t){this._submitData(e,t,"ping")},e.prototype.post=function(e,t){this._submitData([e],t,"post")},e.prototype._submitData=function(t,n,u){var l,h,d=this,p=JSON.stringify(t),f=((l={})[i.disableCollectionRequestOption]=!0,l.host=this._config.quickPulseHost,l.method=o,l.path="/QuickPulseService.svc/"+u+"?ikey="+this._config.instrumentationKey,l.headers=((h={Expect:"100-continue"})[a]=1e4*Date.now(),h["Content-Type"]="application/json",h["Content-Length"]=Buffer.byteLength(p),h),l),_=r.request(f,function(e){var t="true"===e.headers[c];d._consecutiveErrors=0,n(t,e)});_.on("error",function(t){d._consecutiveErrors++;var r="Transient error connecting to the Live Metrics endpoint. This packet will not appear in your Live Metrics Stream. Error:";d._consecutiveErrors%e.MAX_QPS_FAILURES_BEFORE_WARN==0?(r="Live Metrics endpoint could not be reached "+d._consecutiveErrors+" consecutive times. Most recent error:",s.warn(e.TAG,r,t)):s.info(e.TAG,r,t),n()}),_.write(p),_.end()},e.TAG="QuickPulseSender",e.MAX_QPS_FAILURES_BEFORE_WARN=25,e}();e.exports=u},function(e,t,n){"use strict";var r=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e};Object.defineProperty(t,"__esModule",{value:!0});var i=n(107),s=n(108),o=n(6),a=function(){function e(t){this._disabledMetrics={},e.INSTANCE&&e.INSTANCE.dispose(),e.INSTANCE=this,this._client=t}return e.isNodeVersionCompatible=function(){var e=process.versions.node.split(".");return parseInt(e[0])>=6},e.prototype.enable=function(t,r,i){var s=this;if(void 0===r&&(r={}),void 0===i&&(i=6e4),e.isNodeVersionCompatible()){if(null==e._metricsAvailable&&t&&!this._isInitialized)try{var a=n(508);e._emitter=new a,e._metricsAvailable=!0,o.info("Native metrics module successfully loaded!")}catch(t){return void(e._metricsAvailable=!1)}this._isEnabled=t,this._disabledMetrics=r,this._isEnabled&&!this._isInitialized&&(this._isInitialized=!0),this._isEnabled&&e._emitter?(e._emitter.enable(!0,i),this._handle=setInterval(function(){return s._trackNativeMetrics()},i),this._handle.unref()):e._emitter&&(e._emitter.enable(!1),this._handle&&(clearInterval(this._handle),this._handle=void 0))}},e.prototype.dispose=function(){this.enable(!1)},e.parseEnabled=function(e){var t=process.env[i.ENV_nativeMetricsDisableAll],n=process.env[i.ENV_nativeMetricsDisablers];if(t)return{isEnabled:!1,disabledMetrics:{}};if(n){var s=n.split(","),o={};if(s.length>0)for(var a=0,c=s;a<c.length;a++){o[c[a]]=!0}return"object"==typeof e?{isEnabled:!0,disabledMetrics:r({},e,o)}:{isEnabled:e,disabledMetrics:o}}return"boolean"==typeof e?{isEnabled:e,disabledMetrics:{}}:{isEnabled:!0,disabledMetrics:e}},e.prototype._trackNativeMetrics=function(){var e=!0;"object"!=typeof this._isEnabled&&(e=this._isEnabled),e&&(this._trackGarbageCollection(),this._trackEventLoop(),this._trackHeapUsage())},e.prototype._trackGarbageCollection=function(){if(!this._disabledMetrics.gc){var t,n=e._emitter.getGCData();for(var r in n){var i=n[r].metrics,o=r+" Garbage Collection Duration",a=Math.sqrt(i.sumSquares/i.count-Math.pow(i.total/i.count,2))||0;this._client.trackMetric({name:o,value:i.total,count:i.count,max:i.max,min:i.min,stdDev:a,tagOverrides:(t={},t[this._client.context.keys.internalSdkVersion]="node-nativeperf:"+s.sdkVersion,t)})}}},e.prototype._trackEventLoop=function(){if(!this._disabledMetrics.loop){var t=e._emitter.getLoopData().loopUsage;if(0!=t.count){var n,r=Math.sqrt(t.sumSquares/t.count-Math.pow(t.total/t.count,2))||0;this._client.trackMetric({name:"Event Loop CPU Time",value:t.total,count:t.count,min:t.min,max:t.max,stdDev:r,tagOverrides:(n={},n[this._client.context.keys.internalSdkVersion]="node-nativeperf:"+s.sdkVersion,n)})}}},e.prototype._trackHeapUsage=function(){if(!this._disabledMetrics.heap){var e,t,n,r=process.memoryUsage(),i=r.heapUsed,o=r.heapTotal,a=r.rss;this._client.trackMetric({name:"Memory Usage (Heap)",value:i,count:1,tagOverrides:(e={},e[this._client.context.keys.internalSdkVersion]="node-nativeperf:"+s.sdkVersion,e)}),this._client.trackMetric({name:"Memory Total (Heap)",value:o,count:1,tagOverrides:(t={},t[this._client.context.keys.internalSdkVersion]="node-nativeperf:"+s.sdkVersion,t)}),this._client.trackMetric({name:"Memory Usage (Non-Heap)",value:a-o,count:1,tagOverrides:(n={},n[this._client.context.keys.internalSdkVersion]="node-nativeperf:"+s.sdkVersion,n)})}},e}();t.AutoCollectNativePerformance=a},function(e,t){if(typeof applicationinsights-native-metrics==="undefined"){var n=new Error("Cannot find module 'applicationinsights-native-metrics'");throw n.code="MODULE_NOT_FOUND",n}e.exports=applicationinsights-native-metrics},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),s=n(510),o=n(182),a=n(61),c=n(6),u=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.trackNodeHttpRequestSync=function(e){e&&e.request&&e.response&&e.duration?o.trackRequestSync(this,e):c.warn("trackNodeHttpRequestSync requires NodeHttpRequestTelemetry object with request, response and duration specified.")},t.prototype.trackNodeHttpRequest=function(e){(e.duration||e.error)&&c.warn("trackNodeHttpRequest will ignore supplied duration and error parameters. These values are collected from the request and response objects."),e&&e.request&&e.response?o.trackRequest(this,e):c.warn("trackNodeHttpRequest requires NodeHttpRequestTelemetry object with request and response specified.")},t.prototype.trackNodeHttpDependency=function(e){e&&e.request?a.trackRequest(this,e):c.warn("trackNodeHttpDependency requires NodeHttpDependencyTelemetry object with request specified.")},t}(s);e.exports=u},function(e,t,n){"use strict";var r=n(38),i=n(107),s=n(108),o=n(17),a=n(511),c=n(512),u=n(43),l=n(515),h=n(19),d=n(6),p=n(516),f=function(){function e(e){this._telemetryProcessors=[];var t=new i(e);this.config=t,this.context=new s,this.commonProperties={};var n=new l(this.config);this.channel=new a(function(){return t.disableAppInsights},function(){return t.maxBatchSize},function(){return t.maxBatchIntervalMs},n)}return e.prototype.trackTrace=function(e){this.track(e,o.TelemetryType.Trace)},e.prototype.trackMetric=function(e){this.track(e,o.TelemetryType.Metric)},e.prototype.trackException=function(e){e&&e.exception&&!h.isError(e.exception)&&(e.exception=new Error(e.exception.toString())),this.track(e,o.TelemetryType.Exception)},e.prototype.trackEvent=function(e){this.track(e,o.TelemetryType.Event)},e.prototype.trackRequest=function(e){this.track(e,o.TelemetryType.Request)},e.prototype.trackDependency=function(e){e&&!e.target&&e.data&&(e.target=r.parse(e.data).host),this.track(e,o.TelemetryType.Dependency)},e.prototype.flush=function(e){this.channel.triggerSend(!!e&&!!e.isAppCrashing,e?e.callback:void 0)},e.prototype.track=function(e,t){if(e&&o.telemetryTypeToBaseType(t)){var n=p.createEnvelope(e,t,this.commonProperties,this.context,this.config);e.time&&(n.time=e.time.toISOString());var r=this.runTelemetryProcessors(n,e.contextObjects);r=r&&c.samplingTelemetryProcessor(n,{correlationContext:u.CorrelationContextManager.getCurrentContext()}),c.quickPulseTelemetryProcessor(n,this.quickPulseClient),r&&this.channel.send(n)}else d.warn("track() requires telemetry object and telemetryType to be specified.")},e.prototype.addTelemetryProcessor=function(e){this._telemetryProcessors.push(e)},e.prototype.clearTelemetryProcessors=function(){this._telemetryProcessors=[]},e.prototype.runTelemetryProcessors=function(e,t){var n=!0,r=this._telemetryProcessors.length;if(0===r)return n;(t=t||{}).correlationContext=u.CorrelationContextManager.getCurrentContext();for(var i=0;i<r;++i)try{var s=this._telemetryProcessors[i];if(s&&!1===s.apply(null,[e,t])){n=!1;break}}catch(t){n=!0,d.warn("One of telemetry processors failed, telemetry item will be sent.",t,e)}return n},e}();e.exports=f},function(e,t,n){"use strict";var r=n(6),i=function(){function e(e,t,n,r){this._buffer=[],this._lastSend=0,this._isDisabled=e,this._getBatchSize=t,this._getBatchIntervalMs=n,this._sender=r}return e.prototype.setUseDiskRetryCaching=function(e,t,n){this._sender.setDiskRetryMode(e,t,n)},e.prototype.send=function(e){var t=this;if(!this._isDisabled())if(e){var n=this._stringify(e);"string"==typeof n&&(this._buffer.push(n),this._buffer.length>=this._getBatchSize()?this.triggerSend(!1):!this._timeoutHandle&&this._buffer.length>0&&(this._timeoutHandle=setTimeout(function(){t._timeoutHandle=null,t.triggerSend(!1)},this._getBatchIntervalMs())))}else r.warn("Cannot send null/undefined telemetry")},e.prototype.triggerSend=function(e,t){var n=this._buffer.length<1;if(!n){var r=this._buffer.join("\n");e?(this._sender.saveOnCrash(r),"function"==typeof t&&t("data saved on crash")):this._sender.send(Buffer.from?Buffer.from(r):new Buffer(r),t)}this._lastSend=+new Date,this._buffer.length=0,clearTimeout(this._timeoutHandle),this._timeoutHandle=null,n&&"function"==typeof t&&t("no data to send")},e.prototype._stringify=function(e){try{return JSON.stringify(e)}catch(t){r.warn("Failed to serialize payload",t,e)}},e}();e.exports=i},function(e,t,n){"use strict";function r(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),r(n(513)),r(n(514))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(17);function i(e){var t=5381;if(!e)return 0;for(;e.length<8;)e+=e;for(var n=0;n<e.length;n++)t=((t<<5)+t|0)+e.charCodeAt(n)|0;return(t=t<=-2147483648?2147483647:Math.abs(t))/2147483647*100}t.samplingTelemetryProcessor=function(e,t){var n=e.sampleRate;return null==n||n>=100||!(!e.data||r.TelemetryType.Metric!==r.baseTypeToTelemetryType(e.data.baseType))||(t.correlationContext&&t.correlationContext.operation?i(t.correlationContext.operation.id)<n:100*Math.random()<n)},t.getSamplingHashCode=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(105);t.quickPulseTelemetryProcessor=function(e,t){if(t)switch(t.addDocument(e),e.data.baseType){case"ExceptionData":r.countException();break;case"RequestData":break;case"RemoteDependencyData":var n=e.data.baseData;r.countDependency(n.duration,n.success)}return!0}},function(e,t,n){"use strict";var r=n(14),i=n(13),s=n(0),o=n(175),a=n(47),c=n(6),u=n(61),l=n(19),h=function(){function e(t,n,i){if(this._config=t,this._onSuccess=n,this._onError=i,this._enableDiskRetryMode=!1,this._resendInterval=e.WAIT_BETWEEN_RESEND,this._maxBytesOnDisk=e.MAX_BYTES_ON_DISK,this._numConsecutiveFailures=0,!e.OS_PROVIDES_FILE_PROTECTION)if(e.USE_ICACLS){try{e.OS_PROVIDES_FILE_PROTECTION=r.existsSync(e.ICACLS_PATH)}catch(e){}e.OS_PROVIDES_FILE_PROTECTION||c.warn(e.TAG,"Could not find ICACLS in expected location! This is necessary to use disk retry mode on Windows.")}else e.OS_PROVIDES_FILE_PROTECTION=!0}return e.prototype.setDiskRetryMode=function(t,n,r){this._enableDiskRetryMode=e.OS_PROVIDES_FILE_PROTECTION&&t,"number"==typeof n&&n>=0&&(this._resendInterval=Math.floor(n)),"number"==typeof r&&r>=0&&(this._maxBytesOnDisk=Math.floor(r)),t&&!e.OS_PROVIDES_FILE_PROTECTION&&(this._enableDiskRetryMode=!1,c.warn(e.TAG,"Ignoring request to enable disk retry mode. Sufficient file protection capabilities were not detected."))},e.prototype.send=function(t,n){var r=this,i=this._config.endpointUrl,s={method:"POST",withCredentials:!1,headers:{"Content-Type":"application/x-json-stream"}};o.gzip(t,function(o,a){var h=a;o?(c.warn(o),h=t,s.headers["Content-Length"]=t.length.toString()):(s.headers["Content-Encoding"]="gzip",s.headers["Content-Length"]=a.length),c.info(e.TAG,s),s[u.disableCollectionRequestOption]=!0;var d=l.makeRequest(r._config,i,s,function(i){i.setEncoding("utf-8");var s="";i.on("data",function(e){s+=e}),i.on("end",function(){r._numConsecutiveFailures=0,c.info(e.TAG,s),"function"==typeof r._onSuccess&&r._onSuccess(s),"function"==typeof n&&n(s),r._enableDiskRetryMode&&(200===i.statusCode?setTimeout(function(){return r._sendFirstFileOnDisk()},r._resendInterval).unref():408!==i.statusCode&&429!==i.statusCode&&439!==i.statusCode&&500!==i.statusCode&&503!==i.statusCode||r._storeToDisk(t))})});d.on("error",function(i){if(r._numConsecutiveFailures++,!r._enableDiskRetryMode||r._numConsecutiveFailures>0&&r._numConsecutiveFailures%e.MAX_CONNECTION_FAILURES_BEFORE_WARN==0){var s="Ingestion endpoint could not be reached. This batch of telemetry items has been lost. Use Disk Retry Caching to enable resending of failed telemetry. Error:";r._enableDiskRetryMode&&(s="Ingestion endpoint could not be reached "+r._numConsecutiveFailures+" consecutive times. There may be resulting telemetry loss. Most recent error:"),c.warn(e.TAG,s,i)}else{s="Transient failure to reach ingestion endpoint. This batch of telemetry items will be retried. Error:";c.info(e.TAG,s,i)}if(r._onErrorHelper(i),"function"==typeof n){var o="error sending telemetry";i&&"function"==typeof i.toString&&(o=i.toString()),n(o)}r._enableDiskRetryMode&&r._storeToDisk(t)}),d.write(h),d.end()})},e.prototype.saveOnCrash=function(e){this._enableDiskRetryMode&&this._storeToDiskSync(e)},e.prototype._runICACLS=function(t,n){var r=a.spawn(e.ICACLS_PATH,t,{windowsHide:!0});r.on("error",function(e){return n(e)}),r.on("close",function(e,t){return n(0===e?null:new Error("Setting ACL restrictions did not succeed (ICACLS returned code "+e+")"))})},e.prototype._runICACLSSync=function(t){if(!a.spawnSync)throw new Error("Could not synchronously call ICACLS under current version of Node.js");var n=a.spawnSync(e.ICACLS_PATH,t,{windowsHide:!0});if(n.error)throw n.error;if(0!==n.status)throw new Error("Setting ACL restrictions did not succeed (ICACLS returned code "+n.status+")")},e.prototype._getACLIdentity=function(t){if(e.ACL_IDENTITY)return t(null,e.ACL_IDENTITY);var n=a.spawn(e.POWERSHELL_PATH,["-Command","[System.Security.Principal.WindowsIdentity]::GetCurrent().Name"],{windowsHide:!0,stdio:["ignore","pipe","pipe"]}),r="";n.stdout.on("data",function(e){return r+=e}),n.on("error",function(e){return t(e,null)}),n.on("close",function(n,i){return e.ACL_IDENTITY=r&&r.trim(),t(0===n?null:new Error("Getting ACL identity did not succeed (PS returned code "+n+")"),e.ACL_IDENTITY)})},e.prototype._getACLIdentitySync=function(){if(e.ACL_IDENTITY)return e.ACL_IDENTITY;if(a.spawnSync){var t=a.spawnSync(e.POWERSHELL_PATH,["-Command","[System.Security.Principal.WindowsIdentity]::GetCurrent().Name"],{windowsHide:!0,stdio:["ignore","pipe","pipe"]});if(t.error)throw t.error;if(0!==t.status)throw new Error("Getting ACL identity did not succeed (PS returned code "+t.status+")");return e.ACL_IDENTITY=t.stdout&&t.stdout.toString().trim(),e.ACL_IDENTITY}throw new Error("Could not synchronously get ACL identity under current version of Node.js")},e.prototype._getACLArguments=function(e,t){return[e,"/grant","*S-1-5-32-544:(OI)(CI)F","/grant",t+":(OI)(CI)F","/inheritance:r"]},e.prototype._applyACLRules=function(t,n){var r=this;return e.USE_ICACLS?void 0!==e.ACLED_DIRECTORIES[t]?n(e.ACLED_DIRECTORIES[t]?null:new Error("Setting ACL restrictions did not succeed (cached result)")):(e.ACLED_DIRECTORIES[t]=!1,void this._getACLIdentity(function(i,s){if(i)return e.ACLED_DIRECTORIES[t]=!1,n(i);r._runICACLS(r._getACLArguments(t,s),function(r){return e.ACLED_DIRECTORIES[t]=!r,n(r)})})):n(null)},e.prototype._applyACLRulesSync=function(t){if(e.USE_ICACLS){if(void 0===e.ACLED_DIRECTORIES[t])return this._runICACLSSync(this._getACLArguments(t,this._getACLIdentitySync())),void(e.ACLED_DIRECTORIES[t]=!0);if(!e.ACLED_DIRECTORIES[t])throw new Error("Setting ACL restrictions did not succeed (cached result)")}},e.prototype._confirmDirExists=function(e,t){var n=this;r.lstat(e,function(i,s){i&&"ENOENT"===i.code?r.mkdir(e,function(r){r&&"EEXIST"!==r.code?t(r):n._applyACLRules(e,t)}):!i&&s.isDirectory()?n._applyACLRules(e,t):t(i||new Error("Path existed but was not a directory"))})},e.prototype._getShallowDirectorySize=function(e,t){r.readdir(e,function(n,i){if(n)return t(n,-1);var o=null,a=0,c=0;if(0!==i.length)for(var u=0;u<i.length;u++)r.stat(s.join(e,i[u]),function(e,n){c++,e?o=e:n.isFile()&&(a+=n.size),c===i.length&&t(o,o?-1:a)});else t(null,0)})},e.prototype._getShallowDirectorySizeSync=function(e){for(var t=r.readdirSync(e),n=0,i=0;i<t.length;i++)n+=r.statSync(s.join(e,t[i])).size;return n},e.prototype._storeToDisk=function(t){var n=this,o=s.join(i.tmpdir(),e.TEMPDIR_PREFIX+this._config.instrumentationKey);c.info(e.TAG,"Checking existance of data storage directory: "+o),this._confirmDirExists(o,function(i){if(i)return c.warn(e.TAG,"Error while checking/creating directory: "+(i&&i.message)),void n._onErrorHelper(i);n._getShallowDirectorySize(o,function(i,a){if(i||a<0)return c.warn(e.TAG,"Error while checking directory size: "+(i&&i.message)),void n._onErrorHelper(i);if(a>n._maxBytesOnDisk)c.warn(e.TAG,"Not saving data due to max size limit being met. Directory size in bytes is: "+a);else{var u=(new Date).getTime()+".ai.json",l=s.join(o,u);c.info(e.TAG,"saving data to disk at: "+l),r.writeFile(l,t,{mode:384},function(e){return n._onErrorHelper(e)})}})})},e.prototype._storeToDiskSync=function(t){var n=s.join(i.tmpdir(),e.TEMPDIR_PREFIX+this._config.instrumentationKey);try{c.info(e.TAG,"Checking existance of data storage directory: "+n),r.existsSync(n)||r.mkdirSync(n),this._applyACLRulesSync(n);var o=this._getShallowDirectorySizeSync(n);if(o>this._maxBytesOnDisk)return void c.info(e.TAG,"Not saving data due to max size limit being met. Directory size in bytes is: "+o);var a=(new Date).getTime()+".ai.json",u=s.join(n,a);c.info(e.TAG,"saving data before crash to disk at: "+u),r.writeFileSync(u,t,{mode:384})}catch(t){c.warn(e.TAG,"Error while saving data to disk: "+(t&&t.message)),this._onErrorHelper(t)}},e.prototype._sendFirstFileOnDisk=function(){var t=this,n=s.join(i.tmpdir(),e.TEMPDIR_PREFIX+this._config.instrumentationKey);r.exists(n,function(e){e&&r.readdir(n,function(e,i){if(e)t._onErrorHelper(e);else if((i=i.filter(function(e){return s.basename(e).indexOf(".ai.json")>-1})).length>0){var o=i[0],a=s.join(n,o);r.readFile(a,function(e,n){e?t._onErrorHelper(e):r.unlink(a,function(e){e?t._onErrorHelper(e):t.send(n)})})}})})},e.prototype._onErrorHelper=function(e){"function"==typeof this._onError&&this._onError(e)},e.TAG="Sender",e.ICACLS_PATH=process.env.systemdrive+"/windows/system32/icacls.exe",e.POWERSHELL_PATH=process.env.systemdrive+"/windows/system32/windowspowershell/v1.0/powershell.exe",e.ACLED_DIRECTORIES={},e.ACL_IDENTITY=null,e.WAIT_BETWEEN_RESEND=6e4,e.MAX_BYTES_ON_DISK=5e7,e.MAX_CONNECTION_FAILURES_BEFORE_WARN=5,e.TEMPDIR_PREFIX="appInsights-node",e.OS_PROVIDES_FILE_PROTECTION=!1,e.USE_ICACLS="Windows_NT"===i.type(),e}();e.exports=h},function(e,t,n){"use strict";var r=n(17),i=n(19),s=n(43),o=function(){function e(){}return e.createEnvelope=function(t,n,s,o,a){var c=null;switch(n){case r.TelemetryType.Trace:c=e.createTraceData(t);break;case r.TelemetryType.Dependency:c=e.createDependencyData(t);break;case r.TelemetryType.Event:c=e.createEventData(t);break;case r.TelemetryType.Exception:c=e.createExceptionData(t);break;case r.TelemetryType.Request:c=e.createRequestData(t);break;case r.TelemetryType.Metric:c=e.createMetricData(t)}if(s&&r.domainSupportsProperties(c.baseData)){if(c&&c.baseData)if(c.baseData.properties)for(var u in s)c.baseData.properties[u]||(c.baseData.properties[u]=s[u]);else c.baseData.properties=s;c.baseData.properties=i.validateStringMap(c.baseData.properties)}var l=a&&a.instrumentationKey||"",h=new r.Envelope;return h.data=c,h.iKey=l,h.name="Microsoft.ApplicationInsights."+l.replace(/-/g,"")+"."+c.baseType.substr(0,c.baseType.length-4),h.tags=this.getTags(o,t.tagOverrides),h.time=(new Date).toISOString(),h.ver=1,h.sampleRate=a?a.samplingPercentage:100,n===r.TelemetryType.Metric&&(h.sampleRate=100),h},e.createTraceData=function(e){var t=new r.MessageData;t.message=e.message,t.properties=e.properties,isNaN(e.severity)?t.severityLevel=r.SeverityLevel.Information:t.severityLevel=e.severity;var n=new r.Data;return n.baseType=r.telemetryTypeToBaseType(r.TelemetryType.Trace),n.baseData=t,n},e.createDependencyData=function(e){var t=new r.RemoteDependencyData;t.name=e.name,t.data=e.data,t.target=e.target,t.duration=i.msToTimeSpan(e.duration),t.success=e.success,t.type=e.dependencyTypeName,t.properties=e.properties,t.resultCode=e.resultCode?e.resultCode+"":"",e.id?t.id=e.id:t.id=i.w3cTraceId();var n=new r.Data;return n.baseType=r.telemetryTypeToBaseType(r.TelemetryType.Dependency),n.baseData=t,n},e.createEventData=function(e){var t=new r.EventData;t.name=e.name,t.properties=e.properties,t.measurements=e.measurements;var n=new r.Data;return n.baseType=r.telemetryTypeToBaseType(r.TelemetryType.Event),n.baseData=t,n},e.createExceptionData=function(e){var t=new r.ExceptionData;t.properties=e.properties,t.severityLevel=r.SeverityLevel.Error,t.measurements=e.measurements,t.exceptions=[];var n=e.exception.stack,s=new r.ExceptionDetails;s.message=e.exception.message,s.typeName=e.exception.name,s.parsedStack=this.parseStack(n),s.hasFullStack=i.isArray(s.parsedStack)&&s.parsedStack.length>0,t.exceptions.push(s);var o=new r.Data;return o.baseType=r.telemetryTypeToBaseType(r.TelemetryType.Exception),o.baseData=t,o},e.createRequestData=function(e){var t=new r.RequestData;e.id?t.id=e.id:t.id=i.w3cTraceId(),t.name=e.name,t.url=e.url,t.source=e.source,t.duration=i.msToTimeSpan(e.duration),t.responseCode=e.resultCode?e.resultCode+"":"",t.success=e.success,t.properties=e.properties;var n=new r.Data;return n.baseType=r.telemetryTypeToBaseType(r.TelemetryType.Request),n.baseData=t,n},e.createMetricData=function(e){var t=new r.MetricData;t.metrics=[];var n=new r.DataPoint;n.count=isNaN(e.count)?1:e.count,n.kind=r.DataPointType.Aggregation,n.max=isNaN(e.max)?e.value:e.max,n.min=isNaN(e.min)?e.value:e.min,n.name=e.name,n.stdDev=isNaN(e.stdDev)?0:e.stdDev,n.value=e.value,t.metrics.push(n),t.properties=e.properties;var i=new r.Data;return i.baseType=r.telemetryTypeToBaseType(r.TelemetryType.Metric),i.baseData=t,i},e.getTags=function(e,t){var n=s.CorrelationContextManager.getCurrentContext(),r={};if(e&&e.tags)for(var i in e.tags)r[i]=e.tags[i];if(t)for(var i in t)r[i]=t[i];return n&&(r[e.keys.operationId]=r[e.keys.operationId]||n.operation.id,r[e.keys.operationName]=r[e.keys.operationName]||n.operation.name,r[e.keys.operationParentId]=r[e.keys.operationParentId]||n.operation.parentId),r},e.parseStack=function(e){var t=void 0;if("string"==typeof e){var n=e.split("\n");t=[];for(var r=0,i=0,s=0;s<=n.length;s++){var o=n[s];if(a.regex.test(o)){var c=new a(n[s],r++);i+=c.sizeInBytes,t.push(c)}}if(i>32768)for(var u=0,l=t.length-1,h=0,d=u,p=l;u<l;){if((h+=t[u].sizeInBytes+t[l].sizeInBytes)>32768){var f=p-d+1;t.splice(d,f);break}d=u,p=l,u++,l--}}return t},e}(),a=function(){function e(t,n){this.sizeInBytes=0,this.level=n,this.method="<no_method>",this.assembly=i.trim(t);var r=t.match(e.regex);r&&r.length>=5&&(this.method=i.trim(r[2])||this.method,this.fileName=i.trim(r[4])||"<no_filename>",this.line=parseInt(r[5])||0),this.sizeInBytes+=this.method.length,this.sizeInBytes+=this.fileName.length,this.sizeInBytes+=this.assembly.length,this.sizeInBytes+=e.baseSize,this.sizeInBytes+=this.level.toString().length,this.sizeInBytes+=this.line.toString().length}return e.regex=/^([\s]+at)?(.*?)(\@|\s\(|\s)([^\(\@\n]+):([0-9]+):([0-9]+)(\)?)$/,e.baseSize=58,e}();e.exports=o}]);